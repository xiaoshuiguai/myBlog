Connected to Oracle Database 19c Enterprise Edition Release 19.0.0.0.0 
Connected as gkpt58@10.16.3.179/hiatmpdb

SQL> 
SQL> ---------------------------------------------
SQL> -- Export file for user HIATMP58           --
SQL> -- Created by Lenovo on 2018-5-4, 17:04:53 --
SQL> ---------------------------------------------
SQL> spool 1.HiATMP-DB-DDL.6.0.0.0.R1.log
Started spooling to C:\Users\linan3\Desktop\1.HiATMP-DB-DDL.6.0.0.0.R1.log
SQL> prompt

SQL> prompt Creating table ACD_DUTYSIMPLE
Creating table ACD_DUTYSIMPLE
SQL> prompt =============================
=============================
SQL> prompt

SQL> create table ACD_DUTYSIMPLE
  2  (
  3    jianyishiguid      VARCHAR2(32) not null,
  4    count              VARCHAR2(32),
  5    sgbh               VARCHAR2(32),
  6    xzqh               NVARCHAR2(2000),
  7    sgfssj             DATE,
  8    lh                 VARCHAR2(32),
  9    lm                 VARCHAR2(64),
 10    gls                NUMBER(4),
 11    ms                 NUMBER(3),
 12    sgdd               VARCHAR2(200),
 13    ssrs               NUMBER,
 14    zjccss             NUMBER,
 15    sgrdyy             VARCHAR2(32),
 16    tq                 VARCHAR2(4),
 17    dllx               VARCHAR2(2),
 18    glxzdj             VARCHAR2(1),
 19    xc                 VARCHAR2(1),
 20    sgxt               VARCHAR2(2),
 21    cljsg              VARCHAR2(1),
 22    dcsg               VARCHAR2(2),
 23    tjr                VARCHAR2(32),
 24    cclrsj             DATE,
 25    sszd               VARCHAR2(12),
 26    dah                VARCHAR2(50),
 27    glbm               VARCHAR2(12),
 28    dzzb               VARCHAR2(100),
 29    wsbh               VARCHAR2(30),
 30    sgss               VARCHAR2(2000),
 31    zrtjjg             VARCHAR2(2000),
 32    jar1               VARCHAR2(30),
 33    jar2               VARCHAR2(30),
 34    jbr                VARCHAR2(30),
 35    gxsj               DATE,
 36    jafs               VARCHAR2(1),
 37    tjfs               VARCHAR2(1),
 38    ryxx               VARCHAR2(2000),
 39    rylen              NUMBER,
 40    djbh               VARCHAR2(32),
 41    longtitude         VARCHAR2(32),
 42    latitude           VARCHAR2(32),
 43    ssxq               NVARCHAR2(32),
 44    czmj               NVARCHAR2(6),
 45    clzt               NVARCHAR2(6),
 46    chetouphotourl     NVARCHAR2(1000),
 47    cheweiphotourl     NVARCHAR2(1000),
 48    pengzhuangphotourl NVARCHAR2(1000),
 49    otherphotourl      NVARCHAR2(1000),
 50    rendingshuphotourl NVARCHAR2(1000),
 51    createtime         DATE default sysdate not null
 52  )
 53  ;
Table created
SQL> comment on table ACD_DUTYSIMPLE
  2    is '简易事故信息表';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.jianyishiguid
  2    is '简易事故id';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.count
  2    is '事故涉及车辆数';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.sgbh
  2    is '事故编号';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.xzqh
  2    is '行政区划';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.sgfssj
  2    is '事故发生时间';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.lh
  2    is '道路代码';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.lm
  2    is '路名';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.gls
  2    is '公里数';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.ms
  2    is '米数';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.sgdd
  2    is '事故地点';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.ssrs
  2    is '受伤人数';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.zjccss
  2    is '直接财产损失';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.sgrdyy
  2    is '事故认定原因';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.tq
  2    is '天气';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.dllx
  2    is '道路类型';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.glxzdj
  2    is '公路行政等级';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.xc
  2    is '现场';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.sgxt
  2    is '事故形态';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.cljsg
  2    is '车辆间事故';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.dcsg
  2    is '单车事故';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.tjr
  2    is '调解人';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.cclrsj
  2    is '初次录入时间';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.sszd
  2    is '所属中队';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.dah
  2    is '档案编号';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.glbm
  2    is '管理部门';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.dzzb
  2    is '电子坐标';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.wsbh
  2    is '文书编号';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.sgss
  2    is '事故事实';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.zrtjjg
  2    is '责任调节结果';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.jar1
  2    is '办案人1';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.jar2
  2    is '办案人2';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.jbr
  2    is '经办人';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.gxsj
  2    is '更新时间';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.jafs
  2    is '结案方式';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.tjfs
  2    is '调解方式';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.ryxx
  2    is '人员信息';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.rylen
  2    is '人员个数';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.djbh
  2    is '登记编号';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.longtitude
  2    is '经度（六合一无）';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.latitude
  2    is '纬度（六合一无）';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.ssxq
  2    is '所属辖区';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.czmj
  2    is '处置民警';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.clzt
  2    is '处理状态';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.chetouphotourl
  2    is '车头照片';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.cheweiphotourl
  2    is '车尾照片';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.pengzhuangphotourl
  2    is '碰撞部位照片';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.otherphotourl
  2    is '其他现场取证照片';
Comment added
SQL> comment on column ACD_DUTYSIMPLE.rendingshuphotourl
  2    is '责任认定书url';
Comment added
SQL> alter table ACD_DUTYSIMPLE
  2    add constraint ACD_DUTYSIMPLE_PRI primary key (JIANYISHIGUID);
Table altered
SQL> prompt

SQL> prompt Creating table ACD_DUTYSIMPLEHUMAN
Creating table ACD_DUTYSIMPLEHUMAN
SQL> prompt ==================================
==================================
SQL> prompt

SQL> create table ACD_DUTYSIMPLEHUMAN
  2  (
  3    sgbh    VARCHAR2(32),
  4    xzqh    VARCHAR2(50),
  5    rybh    VARCHAR2(32),
  6    xm      VARCHAR2(32),
  7    xb      VARCHAR2(2),
  8    sfzh    VARCHAR2(20),
  9    nl      NUMBER(2),
 10    zhuzhai VARCHAR2(2000),
 11    dh      VARCHAR2(16),
 12    rylx    VARCHAR2(32),
 13    shcd    VARCHAR2(32),
 14    wfxw1   VARCHAR2(32),
 15    wfxw2   VARCHAR2(32),
 16    wfxw3   VARCHAR2(32),
 17    wftk1   VARCHAR2(32),
 18    wftk2   VARCHAR2(32),
 19    wftk3   VARCHAR2(32),
 20    zyysdw  VARCHAR2(50),
 21    jtfs    VARCHAR2(32),
 22    glxzqh  VARCHAR2(32),
 23    jszdabh VARCHAR2(32),
 24    jszzl   VARCHAR2(4),
 25    zjcx    VARCHAR2(4),
 26    cclzrq  DATE,
 27    jsrgxd  VARCHAR2(2000),
 28    fzjg    VARCHAR2(32),
 29    sgzr    VARCHAR2(50),
 30    hphm    VARCHAR2(10),
 31    hpzl    VARCHAR2(4),
 32    clfzjg  VARCHAR2(32),
 33    fdjh    VARCHAR2(50),
 34    clsbdh  VARCHAR2(50),
 35    jdcxh   VARCHAR2(50),
 36    clpp    VARCHAR2(32),
 37    clxh    VARCHAR2(32),
 38    clys    VARCHAR2(4),
 39    cllx    VARCHAR2(32),
 40    jdczt   VARCHAR2(32),
 41    syq     VARCHAR2(32),
 42    jdcsyr  VARCHAR2(32),
 43    clsyxz  VARCHAR2(32),
 44    bx      VARCHAR2(4),
 45    bxgs    VARCHAR2(32),
 46    bxpz    VARCHAR2(32),
 47    clzzwp  VARCHAR2(2000),
 48    clglxd  VARCHAR2(32),
 49    cjcxbj  VARCHAR2(32),
 50    jxw     VARCHAR2(4),
 51    id      VARCHAR2(32) not null,
 52    jyflag  VARCHAR2(2),
 53    xszt    VARCHAR2(50),
 54    pzbw    VARCHAR2(200),
 55    zrrd    VARCHAR2(200),
 56    sx      NUMBER(2),
 57    hpys    VARCHAR2(10)
 58  )
 59  ;
Table created
SQL> comment on table ACD_DUTYSIMPLEHUMAN
  2    is '简易事故涉事人员表';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.sgbh
  2    is '事故编号';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.xzqh
  2    is '行政区划';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.rybh
  2    is '人员编号';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.xm
  2    is '姓名';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.xb
  2    is '性别';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.sfzh
  2    is '身份证号';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.nl
  2    is '年龄';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.zhuzhai
  2    is '住址';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.dh
  2    is '电话';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.rylx
  2    is '人员分类';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.shcd
  2    is '伤害程度';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.wfxw1
  2    is '违法行为1';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.wfxw2
  2    is '违法行为2';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.wfxw3
  2    is '违法行为3';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.wftk1
  2    is '违反条款内容1';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.wftk2
  2    is '违反条款内容2';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.wftk3
  2    is '违反条款内容3';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.zyysdw
  2    is '专业运输单位';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.jtfs
  2    is '运输方式';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.glxzqh
  2    is '管理行政区划';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.jszdabh
  2    is '驾驶证档案编号';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.jszzl
  2    is '驾驶证种类';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.zjcx
  2    is '准驾车型';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.cclzrq
  2    is '初次领证日期';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.jsrgxd
  2    is '驾驶人管辖地';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.fzjg
  2    is '发证机关';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.sgzr
  2    is '事故责任';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.hphm
  2    is '号牌号码';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.hpzl
  2    is '号牌种类';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.clfzjg
  2    is '车辆发证机关';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.fdjh
  2    is '发动机号';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.clsbdh
  2    is '车辆识别代码';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.jdcxh
  2    is '机动车序号';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.clpp
  2    is '车辆品牌';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.clxh
  2    is '车辆型号';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.clys
  2    is '车辆颜色';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.cllx
  2    is '车辆类型';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.jdczt
  2    is '机动车状态';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.syq
  2    is '所有权';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.jdcsyr
  2    is '机动车所有人';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.clsyxz
  2    is '车辆使用性质';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.bx
  2    is '是否保险';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.bxgs
  2    is '保险公司';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.bxpz
  2    is '保险凭证号';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.clzzwp
  2    is '车辆装载物品';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.clglxd
  2    is '车辆管辖地';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.cjcxbj
  2    is '车辆查询标记';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.jxw
  2    is '校验位';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.id
  2    is 'id';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.jyflag
  2    is '甲乙方标识';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.xszt
  2    is '车辆行驶状态';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.pzbw
  2    is '碰撞部位';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.zrrd
  2    is '责任认定';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.sx
  2    is '录入序号顺序';
Comment added
SQL> comment on column ACD_DUTYSIMPLEHUMAN.hpys
  2    is '号牌颜色';
Comment added
SQL> alter table ACD_DUTYSIMPLEHUMAN
  2    add constraint ACD_MANPRI primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table ACT_GE_PROPERTY
Creating table ACT_GE_PROPERTY
SQL> prompt ==============================
==============================
SQL> prompt

SQL> create table ACT_GE_PROPERTY
  2  (
  3    name_  NVARCHAR2(64) not null,
  4    value_ NVARCHAR2(300),
  5    rev_   INTEGER
  6  )
  7  ;
Table created
SQL> alter table ACT_GE_PROPERTY
  2    add primary key (NAME_);
Table altered
SQL> prompt

SQL> prompt Creating table ADVANCE_DIRECT_HISTORY
Creating table ADVANCE_DIRECT_HISTORY
SQL> prompt =====================================
=====================================
SQL> prompt

SQL> create table ADVANCE_DIRECT_HISTORY
  2  (
  3    advance_id       VARCHAR2(32),
  4    scene_id         VARCHAR2(32),
  5    phases           VARCHAR2(1),
  6    operator_name    VARCHAR2(100),
  7    message_type     VARCHAR2(1),
  8    message_content  VARCHAR2(500),
  9    message_sendtime VARCHAR2(14),
 10    nid              VARCHAR2(32),
 11    advance_name     VARCHAR2(500),
 12    policeids        VARCHAR2(1000)
 13  )
 14  ;
Table created
SQL> comment on table ADVANCE_DIRECT_HISTORY
  2    is '预案/方案指令记录表，参见《预案消息通信接口.pdf》';
Comment added
SQL> comment on column ADVANCE_DIRECT_HISTORY.advance_id
  2    is '预案/方案id';
Comment added
SQL> comment on column ADVANCE_DIRECT_HISTORY.scene_id
  2    is '场景id';
Comment added
SQL> comment on column ADVANCE_DIRECT_HISTORY.phases
  2    is '阶段：1 启动 2 执行(中) 0 结束';
Comment added
SQL> comment on column ADVANCE_DIRECT_HISTORY.operator_name
  2    is '操作员姓名';
Comment added
SQL> comment on column ADVANCE_DIRECT_HISTORY.message_type
  2    is '岗位类型：1 视频岗 2 诱导 3 信号 4 指挥';
Comment added
SQL> comment on column ADVANCE_DIRECT_HISTORY.message_content
  2    is '指令消息内容';
Comment added
SQL> comment on column ADVANCE_DIRECT_HISTORY.message_sendtime
  2    is '发送时间(yyyymmddhh24miss)';
Comment added
SQL> comment on column ADVANCE_DIRECT_HISTORY.nid
  2    is 'UUID';
Comment added
SQL> comment on column ADVANCE_DIRECT_HISTORY.advance_name
  2    is '预案/方案名称';
Comment added
SQL> comment on column ADVANCE_DIRECT_HISTORY.policeids
  2    is '指令推送警员集合';
Comment added
SQL> prompt

SQL> prompt Creating table ADVANCE_POLICE_GROUP
Creating table ADVANCE_POLICE_GROUP
SQL> prompt ===================================
===================================
SQL> prompt

SQL> create table ADVANCE_POLICE_GROUP
  2  (
  3    planid   VARCHAR2(32) not null,
  4    policeid VARCHAR2(8) not null,
  5    groupid  NUMBER
  6  )
  7  ;
Table created
SQL> comment on column ADVANCE_POLICE_GROUP.planid
  2    is '大型活动方案id';
Comment added
SQL> comment on column ADVANCE_POLICE_GROUP.policeid
  2    is '警员id';
Comment added
SQL> comment on column ADVANCE_POLICE_GROUP.groupid
  2    is '临时群组id';
Comment added
SQL> prompt

SQL> prompt Creating table ADVANCE_SCENE_INFO
Creating table ADVANCE_SCENE_INFO
SQL> prompt =================================
=================================
SQL> prompt

SQL> create table ADVANCE_SCENE_INFO
  2  (
  3    id               VARCHAR2(32) not null,
  4    foreignid        VARCHAR2(32),
  5    scenename        NVARCHAR2(40) not null,
  6    num              VARCHAR2(2) not null,
  7    videoconfig      CHAR(1) default 0 not null,
  8    vmsconfig        CHAR(1) default 0 not null,
  9    utcconfig        CHAR(1) default 0 not null,
 10    createtime       DATE,
 11    createuserid     VARCHAR2(6),
 12    createusername   NVARCHAR2(20),
 13    vmspubstatus     CHAR(1) default 0,
 14    starttime        DATE,
 15    accident         VARCHAR2(20),
 16    coordinate       VARCHAR2(4000),
 17    startconflag     CHAR(1),
 18    tigtype          CHAR(1),
 19    endtime          DATE,
 20    eventtype        VARCHAR2(20),
 21    eventlevel       CHAR(1),
 22    startflag        CHAR(1) default 0,
 23    videostatus      CHAR(1) default 0,
 24    fogstatus        CHAR(1) default 0,
 25    propagandastatus CHAR(1) default 0
 26  )
 27  ;
Table created
SQL> comment on table ADVANCE_SCENE_INFO
  2    is '场景信息表';
Comment added
SQL> comment on column ADVANCE_SCENE_INFO.id
  2    is '主键UUID';
Comment added
SQL> comment on column ADVANCE_SCENE_INFO.foreignid
  2    is '预案/方案id';
Comment added
SQL> comment on column ADVANCE_SCENE_INFO.scenename
  2    is '场景名称';
Comment added
SQL> comment on column ADVANCE_SCENE_INFO.num
  2    is '序号';
Comment added
SQL> comment on column ADVANCE_SCENE_INFO.videoconfig
  2    is '视频配置状态';
Comment added
SQL> comment on column ADVANCE_SCENE_INFO.vmsconfig
  2    is '诱导配置状态';
Comment added
SQL> comment on column ADVANCE_SCENE_INFO.utcconfig
  2    is '信号配置状态';
Comment added
SQL> comment on column ADVANCE_SCENE_INFO.createtime
  2    is '创建时间';
Comment added
SQL> comment on column ADVANCE_SCENE_INFO.createuserid
  2    is '创建人ID';
Comment added
SQL> comment on column ADVANCE_SCENE_INFO.createusername
  2    is '创建人姓名';
Comment added
SQL> comment on column ADVANCE_SCENE_INFO.vmspubstatus
  2    is '诱导发布状态0：未执行 1:正在执行2：执行异常3：执行失败4：执行成功';
Comment added
SQL> comment on column ADVANCE_SCENE_INFO.starttime
  2    is '启动时间,yyyy-mm-dd hh24:mi:ss';
Comment added
SQL> comment on column ADVANCE_SCENE_INFO.accident
  2    is '事故种类,enumtype1119';
Comment added
SQL> comment on column ADVANCE_SCENE_INFO.coordinate
  2    is '区域坐标';
Comment added
SQL> comment on column ADVANCE_SCENE_INFO.startconflag
  2    is '启动条件标志:0-无;1-时';
Comment added
SQL> comment on column ADVANCE_SCENE_INFO.tigtype
  2    is '触发条件:0人工执行1按时间2按事件';
Comment added
SQL> comment on column ADVANCE_SCENE_INFO.endtime
  2    is '场景结束时间';
Comment added
SQL> comment on column ADVANCE_SCENE_INFO.eventtype
  2    is '事件类型(与事件表类型对应)';
Comment added
SQL> comment on column ADVANCE_SCENE_INFO.eventlevel
  2    is '事件级别:气象1234级，缓慢2拥堵3';
Comment added
SQL> comment on column ADVANCE_SCENE_INFO.startflag
  2    is '启动提示:0否1是';
Comment added
SQL> comment on column ADVANCE_SCENE_INFO.videostatus
  2    is '视频执行状态0：未执行 1:正在执行2：执行异常3：执行失败4：执行成功';
Comment added
SQL> comment on column ADVANCE_SCENE_INFO.fogstatus
  2    is '雾区执行状态0：未执行 1:正在执行2：执行异常3：执行失败4：执行成功';
Comment added
SQL> comment on column ADVANCE_SCENE_INFO.propagandastatus
  2    is '喊话执行状态0：未执行 1:正在执行2：执行异常3：执行失败4：执行成功';
Comment added
SQL> alter table ADVANCE_SCENE_INFO
  2    add constraint ADVANCE_SCENE_INFO_PK_ID primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table ADVANCE_VIDEO_PLAN_INFO
Creating table ADVANCE_VIDEO_PLAN_INFO
SQL> prompt ======================================
======================================
SQL> prompt

SQL> create table ADVANCE_VIDEO_PLAN_INFO
  2  (
  3    id         VARCHAR2(32) not null,
  4    foreignid  VARCHAR2(32) not null,
  5    planname   NVARCHAR2(30),
  6    deviceid   VARCHAR2(18),
  7    devicename NVARCHAR2(64),
  8    no         VARCHAR2(3),
  9    position   VARCHAR2(50),
 10    userid     VARCHAR2(6),
 11    username   NVARCHAR2(20),
 12    createtime DATE
 13  )
 14  ;
Table created
SQL> comment on table ADVANCE_VIDEO_PLAN_INFO
  2    is '交通预案-视频方案表';
Comment added
SQL> comment on column ADVANCE_VIDEO_PLAN_INFO.id
  2    is '主键UUID';
Comment added
SQL> comment on column ADVANCE_VIDEO_PLAN_INFO.foreignid
  2    is '预案/方案ID';
Comment added
SQL> comment on column ADVANCE_VIDEO_PLAN_INFO.planname
  2    is '方案名称';
Comment added
SQL> comment on column ADVANCE_VIDEO_PLAN_INFO.deviceid
  2    is '视频ID';
Comment added
SQL> comment on column ADVANCE_VIDEO_PLAN_INFO.devicename
  2    is '视频名称';
Comment added
SQL> comment on column ADVANCE_VIDEO_PLAN_INFO.no
  2    is '序号';
Comment added
SQL> comment on column ADVANCE_VIDEO_PLAN_INFO.position
  2    is '预置位编号(存放多个预置位编号)';
Comment added
SQL> comment on column ADVANCE_VIDEO_PLAN_INFO.userid
  2    is '制作人ID';
Comment added
SQL> comment on column ADVANCE_VIDEO_PLAN_INFO.username
  2    is '制作人姓名';
Comment added
SQL> comment on column ADVANCE_VIDEO_PLAN_INFO.createtime
  2    is '创建时间';
Comment added
SQL> create index AVIDEO_PLAN_FOREIGNID_NAME on ADVANCE_VIDEO_PLAN_INFO (FOREIGNID, PLANNAME);
Index created
SQL> alter table ADVANCE_VIDEO_PLAN_INFO
  2    add constraint ADVANCE_VIDEO_PLAN_INFO_ID_PK primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table ALERTEVENT_CONFIG
Creating table ALERTEVENT_CONFIG
SQL> prompt ================================
================================
SQL> prompt

SQL> create table ALERTEVENT_CONFIG
  2  (
  3    nid          NVARCHAR2(32) not null,
  4    userid       NVARCHAR2(10),
  5    eventsource  NVARCHAR2(500),
  6    eventtype    NVARCHAR2(60),
  7    secondscreen NUMBER,
  8    soundeffect  NUMBER,
  9    lighteffect  NUMBER,
 10    eventarea    VARCHAR2(2000)
 11  )
 12  ;
Table created
SQL> comment on table ALERTEVENT_CONFIG
  2    is '自主警情配置';
Comment added
SQL> comment on column ALERTEVENT_CONFIG.nid
  2    is '主键';
Comment added
SQL> comment on column ALERTEVENT_CONFIG.userid
  2    is '用户id';
Comment added
SQL> comment on column ALERTEVENT_CONFIG.eventsource
  2    is '事件来源';
Comment added
SQL> comment on column ALERTEVENT_CONFIG.eventtype
  2    is '事件类型';
Comment added
SQL> comment on column ALERTEVENT_CONFIG.secondscreen
  2    is '双屏开关，0-关，1-开';
Comment added
SQL> comment on column ALERTEVENT_CONFIG.soundeffect
  2    is '声音开关，0-关，1-开';
Comment added
SQL> comment on column ALERTEVENT_CONFIG.lighteffect
  2    is '光效开关，0-关，1-开';
Comment added
SQL> comment on column ALERTEVENT_CONFIG.eventarea
  2    is '警情处理范围';
Comment added
SQL> alter table ALERTEVENT_CONFIG
  2    add constraint PK_ALERTEVENT_CONFIG_NID primary key (NID);
Table altered
SQL> prompt

SQL> prompt Creating table ALERTEVENT_DUTY
Creating table ALERTEVENT_DUTY
SQL> prompt ==============================
==============================
SQL> prompt

SQL> create table ALERTEVENT_DUTY
  2  (
  3    nid    NVARCHAR2(32) not null,
  4    userid NVARCHAR2(10),
  5    btime  DATE,
  6    etime  DATE
  7  )
  8  ;
Table created
SQL> comment on table ALERTEVENT_DUTY
  2    is '自主警情（上岗下岗）';
Comment added
SQL> comment on column ALERTEVENT_DUTY.nid
  2    is '主键';
Comment added
SQL> comment on column ALERTEVENT_DUTY.userid
  2    is '用户id';
Comment added
SQL> comment on column ALERTEVENT_DUTY.btime
  2    is '上岗时间';
Comment added
SQL> comment on column ALERTEVENT_DUTY.etime
  2    is '下岗时间';
Comment added
SQL> alter table ALERTEVENT_DUTY
  2    add constraint PK_ALERTEVENT_DUTY_NID primary key (NID);
Table altered
SQL> prompt

SQL> prompt Creating table ALERTEVENT_PARAM
Creating table ALERTEVENT_PARAM
SQL> prompt ===============================
===============================
SQL> prompt

SQL> create table ALERTEVENT_PARAM
  2  (
  3    id                      CHAR(2) not null,
  4    detail                  NVARCHAR2(20) not null,
  5    traveltime_sgm_value    NUMBER(4,2) not null,
  6    traffic_sgm_value       NUMBER(4,2) not null,
  7    limit_size              NUMBER(4,2) not null,
  8    tmp_traffic_sgm_value   NUMBER(4,2) not null,
  9    traffic_down_speed1     NUMBER(4,2) not null,
 10    traffic_down_speed2     NUMBER(4,2) not null,
 11    traffic_down_speed3     NUMBER(4,2) not null,
 12    traffic_down_commcount1 NUMBER(4,2) not null,
 13    traffic_down_commcount2 NUMBER(4,2) not null,
 14    traffic_up_occupancy1   NUMBER(4,2) not null,
 15    traffic_up_occupancy2   NUMBER(4,2) not null,
 16    traveltime_time         NUMBER(4,2) not null,
 17    upate_time              DATE,
 18    update_user             CHAR(6),
 19    selected                CHAR(1),
 20    traveltime_limit        NUMBER(6,2),
 21    traveltime_time1        NUMBER(4,2),
 22    traveltime_limit1       NUMBER(6,2),
 23    traveltime_time2        NUMBER(4,2),
 24    traveltime_limit2       NUMBER(6,2)
 25  )
 26  ;
Table created
SQL> comment on column ALERTEVENT_PARAM.id
  2    is '级别编号，1-高，2-中，3-底';
Comment added
SQL> comment on column ALERTEVENT_PARAM.detail
  2    is '界别描述';
Comment added
SQL> comment on column ALERTEVENT_PARAM.traveltime_sgm_value
  2    is '旅行时间sigema 倍数';
Comment added
SQL> comment on column ALERTEVENT_PARAM.traffic_sgm_value
  2    is '交通流sigema 倍数';
Comment added
SQL> comment on column ALERTEVENT_PARAM.limit_size
  2    is '历史数据最少数量';
Comment added
SQL> comment on column ALERTEVENT_PARAM.tmp_traffic_sgm_value
  2    is '历史数据过滤sigema';
Comment added
SQL> comment on column ALERTEVENT_PARAM.traffic_down_speed1
  2    is '速度二次报警参数一';
Comment added
SQL> comment on column ALERTEVENT_PARAM.traffic_down_speed2
  2    is '速度二次报警参数二';
Comment added
SQL> comment on column ALERTEVENT_PARAM.traffic_down_speed3
  2    is '速度一次报警参数';
Comment added
SQL> comment on column ALERTEVENT_PARAM.traffic_down_commcount1
  2    is '流量二次报警参数一';
Comment added
SQL> comment on column ALERTEVENT_PARAM.traffic_down_commcount2
  2    is '流量二次报警参数二';
Comment added
SQL> comment on column ALERTEVENT_PARAM.traffic_up_occupancy1
  2    is '占有率二次报警参数一';
Comment added
SQL> comment on column ALERTEVENT_PARAM.traffic_up_occupancy2
  2    is '占有率二次报警参数二';
Comment added
SQL> comment on column ALERTEVENT_PARAM.traveltime_time
  2    is '旅行时间报警参数1';
Comment added
SQL> comment on column ALERTEVENT_PARAM.upate_time
  2    is '更新时间';
Comment added
SQL> comment on column ALERTEVENT_PARAM.update_user
  2    is '更新用户';
Comment added
SQL> comment on column ALERTEVENT_PARAM.selected
  2    is '是否使用当前参数，0-不使用，1-使用';
Comment added
SQL> comment on column ALERTEVENT_PARAM.traveltime_limit
  2    is '旅行时间报警参数限制1';
Comment added
SQL> comment on column ALERTEVENT_PARAM.traveltime_time1
  2    is '旅行时间报警参数2';
Comment added
SQL> comment on column ALERTEVENT_PARAM.traveltime_limit1
  2    is '旅行时间报警参数限制2';
Comment added
SQL> comment on column ALERTEVENT_PARAM.traveltime_time2
  2    is '旅行时间报警参数3';
Comment added
SQL> comment on column ALERTEVENT_PARAM.traveltime_limit2
  2    is '旅行时间报警参数限制3';
Comment added
SQL> prompt

SQL> prompt Creating table AN_SECTION_STATUS_COMPUTE_AVG
Creating table AN_SECTION_STATUS_COMPUTE_AVG
SQL> prompt ============================================
============================================
SQL> prompt

SQL> create table AN_SECTION_STATUS_COMPUTE_AVG
  2  (
  3    sectionid  NVARCHAR2(8),
  4    traveltime NUMBER(5),
  5    stdtime    DATE,
  6    stdmi      CHAR(5),
  7    stdweek    CHAR(1)
  8  )
  9  ;
Table created
SQL> create index INDEX_AN_SSC_SEECID_WEEK on AN_SECTION_STATUS_COMPUTE_AVG (SECTIONID, STDWEEK);
Index created
SQL> prompt

SQL> prompt Creating table AN_SECTION_STATUS_DATA_AVG1
Creating table AN_SECTION_STATUS_DATA_AVG1
SQL> prompt ==========================================
==========================================
SQL> prompt

SQL> create table AN_SECTION_STATUS_DATA_AVG1
  2  (
  3    sectionid NVARCHAR2(8),
  4    occupancy NUMBER(5,4),
  5    speed     NUMBER(5,2),
  6    commcount NUMBER(8),
  7    stdtime   DATE,
  8    stdmi     CHAR(5),
  9    stdweek   CHAR(1)
 10  )
 11  ;
Table created
SQL> comment on column AN_SECTION_STATUS_DATA_AVG1.sectionid
  2    is '路段ID';
Comment added
SQL> comment on column AN_SECTION_STATUS_DATA_AVG1.occupancy
  2    is '占有率';
Comment added
SQL> comment on column AN_SECTION_STATUS_DATA_AVG1.speed
  2    is '速度';
Comment added
SQL> comment on column AN_SECTION_STATUS_DATA_AVG1.commcount
  2    is '流量';
Comment added
SQL> comment on column AN_SECTION_STATUS_DATA_AVG1.stdtime
  2    is '时间 年-月-日 时:分:秒';
Comment added
SQL> comment on column AN_SECTION_STATUS_DATA_AVG1.stdmi
  2    is '12:00';
Comment added
SQL> comment on column AN_SECTION_STATUS_DATA_AVG1.stdweek
  2    is '1-7 周天到周六';
Comment added
SQL> create index AN_SECTION_AVG_SECTIONID on AN_SECTION_STATUS_DATA_AVG1 (SECTIONID, STDWEEK);
Index created
SQL> prompt

SQL> prompt Creating table AREA_MAINTENANCE
Creating table AREA_MAINTENANCE
SQL> prompt ===============================
===============================
SQL> prompt

SQL> create table AREA_MAINTENANCE
  2  (
  3    id             VARCHAR2(32) not null,
  4    areaname       NVARCHAR2(100),
  5    areatype       VARCHAR2(2),
  6    description    NVARCHAR2(200),
  7    departmentcode VARCHAR2(12),
  8    maptype        NUMBER,
  9    maparea        VARCHAR2(4000),
 10    create_time    DATE
 11  )
 12  ;
Table created
SQL> comment on table AREA_MAINTENANCE
  2    is '图层维护';
Comment added
SQL> comment on column AREA_MAINTENANCE.id
  2    is '主键';
Comment added
SQL> comment on column AREA_MAINTENANCE.areaname
  2    is '图层名称';
Comment added
SQL> comment on column AREA_MAINTENANCE.areatype
  2    is '图层类型（枚举1232）';
Comment added
SQL> comment on column AREA_MAINTENANCE.description
  2    is '描述';
Comment added
SQL> comment on column AREA_MAINTENANCE.departmentcode
  2    is '部门代码';
Comment added
SQL> comment on column AREA_MAINTENANCE.maptype
  2    is '图层形态（1：点，2：线，3：圆，4：矩形，5：多边形）';
Comment added
SQL> comment on column AREA_MAINTENANCE.maparea
  2    is '图层坐标';
Comment added
SQL> comment on column AREA_MAINTENANCE.create_time
  2    is '创建时间';
Comment added
SQL> alter table AREA_MAINTENANCE
  2    add constraint ID_PK primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table BLACK_ALERT_CONFIG
Creating table BLACK_ALERT_CONFIG
SQL> prompt =================================
=================================
SQL> prompt

SQL> create table BLACK_ALERT_CONFIG
  2  (
  3    owner        VARCHAR2(6),
  4    receivetype  VARCHAR2(100),
  5    receivescope VARCHAR2(2),
  6    administer   VARCHAR2(12),
  7    alerttype1   VARCHAR2(10),
  8    sound1       VARCHAR2(20),
  9    alerttype2   VARCHAR2(10),
 10    sound2       VARCHAR2(20),
 11    alerttype3   VARCHAR2(10),
 12    sound3       VARCHAR2(20),
 13    alerttype4   VARCHAR2(10),
 14    sound4       VARCHAR2(20),
 15    sound1length VARCHAR2(3),
 16    sound2length VARCHAR2(3),
 17    sound3length VARCHAR2(3),
 18    sound4length VARCHAR2(3)
 19  )
 20  ;
Table created
SQL> comment on column BLACK_ALERT_CONFIG.owner
  2    is '主键，所有人';
Comment added
SQL> comment on column BLACK_ALERT_CONFIG.receivetype
  2    is '接收黑名单类型';
Comment added
SQL> comment on column BLACK_ALERT_CONFIG.receivescope
  2    is '接收范围';
Comment added
SQL> comment on column BLACK_ALERT_CONFIG.administer
  2    is '接收辖区';
Comment added
SQL> comment on column BLACK_ALERT_CONFIG.alerttype1
  2    is '提示方式1';
Comment added
SQL> comment on column BLACK_ALERT_CONFIG.sound1
  2    is '报警声音1';
Comment added
SQL> comment on column BLACK_ALERT_CONFIG.alerttype2
  2    is '提示方式2';
Comment added
SQL> comment on column BLACK_ALERT_CONFIG.sound2
  2    is '报警声音2';
Comment added
SQL> comment on column BLACK_ALERT_CONFIG.alerttype3
  2    is '提示方式3';
Comment added
SQL> comment on column BLACK_ALERT_CONFIG.sound3
  2    is '报警声音3';
Comment added
SQL> comment on column BLACK_ALERT_CONFIG.alerttype4
  2    is '提示方式4';
Comment added
SQL> comment on column BLACK_ALERT_CONFIG.sound4
  2    is '报警声音4';
Comment added
SQL> comment on column BLACK_ALERT_CONFIG.sound2length
  2    is '报警声音2时长（秒）';
Comment added
SQL> comment on column BLACK_ALERT_CONFIG.sound3length
  2    is '报警声音3时长（秒）';
Comment added
SQL> comment on column BLACK_ALERT_CONFIG.sound4length
  2    is '报警声音4时长（秒）';
Comment added
SQL> prompt

SQL> prompt Creating table BLACK_ALERT_CONFIG_TEMPLET
Creating table BLACK_ALERT_CONFIG_TEMPLET
SQL> prompt =========================================
=========================================
SQL> prompt

SQL> create table BLACK_ALERT_CONFIG_TEMPLET
  2  (
  3    id           VARCHAR2(32) not null,
  4    templetname  NVARCHAR2(16),
  5    owner        VARCHAR2(6),
  6    receivetype  VARCHAR2(100),
  7    receivescope VARCHAR2(2),
  8    administer   VARCHAR2(12),
  9    updatedate   DATE
 10  )
 11  ;
Table created
SQL> comment on column BLACK_ALERT_CONFIG_TEMPLET.templetname
  2    is '模板名称';
Comment added
SQL> comment on column BLACK_ALERT_CONFIG_TEMPLET.owner
  2    is '主键，所有人';
Comment added
SQL> comment on column BLACK_ALERT_CONFIG_TEMPLET.receivetype
  2    is '接收黑名单类型';
Comment added
SQL> comment on column BLACK_ALERT_CONFIG_TEMPLET.receivescope
  2    is '接收范围';
Comment added
SQL> comment on column BLACK_ALERT_CONFIG_TEMPLET.administer
  2    is '接收辖区';
Comment added
SQL> comment on column BLACK_ALERT_CONFIG_TEMPLET.updatedate
  2    is '最后一次更新时间';
Comment added
SQL> alter table BLACK_ALERT_CONFIG_TEMPLET
  2    add constraint BLACK_ALERT_CONFIG_TEMPLET_PK primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table BLACK_ALERT_COUNT
Creating table BLACK_ALERT_COUNT
SQL> prompt ================================
================================
SQL> prompt

SQL> create table BLACK_ALERT_COUNT
  2  (
  3    id           VARCHAR2(32) not null,
  4    hphm         NVARCHAR2(16),
  5    hpzl         VARCHAR2(2),
  6    alerttime    DATE,
  7    alertcount   NUMBER,
  8    controltype  VARCHAR2(2),
  9    departmentid NVARCHAR2(12),
 10    xsfx         VARCHAR2(4)
 11  )
 12  ;
Table created
SQL> comment on column BLACK_ALERT_COUNT.hphm
  2    is '车牌号码';
Comment added
SQL> comment on column BLACK_ALERT_COUNT.hpzl
  2    is '车牌类型';
Comment added
SQL> comment on column BLACK_ALERT_COUNT.alerttime
  2    is '报警日期';
Comment added
SQL> comment on column BLACK_ALERT_COUNT.alertcount
  2    is '报警总数';
Comment added
SQL> comment on column BLACK_ALERT_COUNT.controltype
  2    is '布控类型';
Comment added
SQL> comment on column BLACK_ALERT_COUNT.departmentid
  2    is '所属大队';
Comment added
SQL> alter table BLACK_ALERT_COUNT
  2    add constraint BLACK_ALERT_COUNT_PK primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table BLACK_ALERT_FEEDBACK
Creating table BLACK_ALERT_FEEDBACK
SQL> prompt ===================================
===================================
SQL> prompt

SQL> create table BLACK_ALERT_FEEDBACK
  2  (
  3    id            VARCHAR2(32) not null,
  4    alertid       VARCHAR2(32) not null,
  5    fkr           VARCHAR2(8),
  6    fksj          DATE,
  7    fkxx          NVARCHAR2(200),
  8    cdepartmentid VARCHAR2(12),
  9    hphm          VARCHAR2(16),
 10    cllx          VARCHAR2(4),
 11    parkno        VARCHAR2(15),
 12    parkname      NVARCHAR2(120),
 13    deptshortname NVARCHAR2(50),
 14    stopflag      VARCHAR2(1),
 15    fkrname       NVARCHAR2(10),
 16    stopplace     NVARCHAR2(100),
 17    uploadtime    DATE,
 18    uploaduser    VARCHAR2(8),
 19    datatype      VARCHAR2(1) default 0,
 20    operate       VARCHAR2(20),
 21    issuedtype    VARCHAR2(1),
 22    coercivecode  VARCHAR2(15)
 23  )
 24  ;
Table created
SQL> comment on column BLACK_ALERT_FEEDBACK.id
  2    is 'UUID';
Comment added
SQL> comment on column BLACK_ALERT_FEEDBACK.alertid
  2    is '稽查报警表主键';
Comment added
SQL> comment on column BLACK_ALERT_FEEDBACK.fkr
  2    is '查扣人';
Comment added
SQL> comment on column BLACK_ALERT_FEEDBACK.fksj
  2    is '查扣时间';
Comment added
SQL> comment on column BLACK_ALERT_FEEDBACK.fkxx
  2    is '反馈信息';
Comment added
SQL> comment on column BLACK_ALERT_FEEDBACK.cdepartmentid
  2    is '部门编号';
Comment added
SQL> comment on column BLACK_ALERT_FEEDBACK.hphm
  2    is '号牌号码';
Comment added
SQL> comment on column BLACK_ALERT_FEEDBACK.cllx
  2    is '车辆类型';
Comment added
SQL> comment on column BLACK_ALERT_FEEDBACK.parkno
  2    is '停车场编号';
Comment added
SQL> comment on column BLACK_ALERT_FEEDBACK.parkname
  2    is '停车场名称';
Comment added
SQL> comment on column BLACK_ALERT_FEEDBACK.deptshortname
  2    is '部门简称';
Comment added
SQL> comment on column BLACK_ALERT_FEEDBACK.stopflag
  2    is '查扣状态';
Comment added
SQL> comment on column BLACK_ALERT_FEEDBACK.fkrname
  2    is '查扣人姓名';
Comment added
SQL> comment on column BLACK_ALERT_FEEDBACK.stopplace
  2    is '查扣地点';
Comment added
SQL> comment on column BLACK_ALERT_FEEDBACK.uploadtime
  2    is '上传时间';
Comment added
SQL> comment on column BLACK_ALERT_FEEDBACK.uploaduser
  2    is '上传人';
Comment added
SQL> comment on column BLACK_ALERT_FEEDBACK.datatype
  2    is '0 稽查报警反馈，1 单警操作信息，2  前端操作反馈';
Comment added
SQL> comment on column BLACK_ALERT_FEEDBACK.operate
  2    is '操作';
Comment added
SQL> comment on column BLACK_ALERT_FEEDBACK.issuedtype
  2    is '稽查报警消息下发';
Comment added
SQL> comment on column BLACK_ALERT_FEEDBACK.coercivecode
  2    is '强制凭证编号';
Comment added
SQL> create index INDEX_BLACK_ALERT_FEEDBACK on BLACK_ALERT_FEEDBACK (HPHM, CLLX);
Index created
SQL> alter table BLACK_ALERT_FEEDBACK
  2    add constraint PRI_BLACK_ALERT_FEEDBACK primary key (ID);
Table altered
SQL> alter table BLACK_ALERT_FEEDBACK modify FKRNAME NVARCHAR2(20);
Table altered
SQL> prompt

SQL> prompt Creating table BLACK_ALERT_FRONT_CHANNEL
Creating table BLACK_ALERT_FRONT_CHANNEL
SQL> prompt ========================================
========================================
SQL> prompt

SQL> create table BLACK_ALERT_FRONT_CHANNEL
  2  (
  3    id            VARCHAR2(32) not null,
  4    config_id     VARCHAR2(32) not null,
  5    alert_channel VARCHAR2(4),
  6    ip            VARCHAR2(32),
  7    port          VARCHAR2(8),
  8    derection     VARCHAR2(8),
  9    isselected    CHAR(1)
 10  )
 11  ;
Table created
SQL> comment on column BLACK_ALERT_FRONT_CHANNEL.id
  2    is 'uuid';
Comment added
SQL> comment on column BLACK_ALERT_FRONT_CHANNEL.config_id
  2    is 'BLACK_ALERT_FRONT_CONFIG表的id';
Comment added
SQL> comment on column BLACK_ALERT_FRONT_CHANNEL.alert_channel
  2    is '报警车道';
Comment added
SQL> comment on column BLACK_ALERT_FRONT_CHANNEL.ip
  2    is '相机ip';
Comment added
SQL> comment on column BLACK_ALERT_FRONT_CHANNEL.port
  2    is '端口';
Comment added
SQL> comment on column BLACK_ALERT_FRONT_CHANNEL.derection
  2    is '方向1~进口 -1~出口';
Comment added
SQL> comment on column BLACK_ALERT_FRONT_CHANNEL.isselected
  2    is '0-未勾选 1、其他-已勾选，未勾选的地址相当于未启用，查询时请注意此字段';
Comment added
SQL> alter table BLACK_ALERT_FRONT_CHANNEL
  2    add constraint BLACK_ALERT_FRONT_CHANNEL primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table BLACK_ALERT_FRONT_CONFIG
Creating table BLACK_ALERT_FRONT_CONFIG
SQL> prompt =======================================
=======================================
SQL> prompt

SQL> create table BLACK_ALERT_FRONT_CONFIG
  2  (
  3    id           VARCHAR2(32) not null,
  4    adapter_name NVARCHAR2(100),
  5    chanel_count NUMBER,
  6    alert_chanel VARCHAR2(80),
  7    owner        VARCHAR2(6),
  8    point_id     NVARCHAR2(16),
  9    area_id      NVARCHAR2(12),
 10    receive_type VARCHAR2(100),
 11    update_user  VARCHAR2(6),
 12    update_time  DATE,
 13    direction    VARCHAR2(20),
 14    disp_type    VARCHAR2(2) default 'bb',
 15    adapter_id   VARCHAR2(32)
 16  )
 17  ;
Table created
SQL> comment on column BLACK_ALERT_FRONT_CONFIG.id
  2    is 'uuid';
Comment added
SQL> comment on column BLACK_ALERT_FRONT_CONFIG.direction
  2    is '出口方向';
Comment added
SQL> comment on column BLACK_ALERT_FRONT_CONFIG.disp_type
  2    is '显示类型bb-4*4 aa-4*2 99-自动';
Comment added
SQL> comment on column BLACK_ALERT_FRONT_CONFIG.adapter_id
  2    is '收费站id';
Comment added
SQL> alter table BLACK_ALERT_FRONT_CONFIG
  2    add constraint BLACK_ALERT_FRONT_CONFIG_PK primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table BLACK_ALERT_INFO
Creating table BLACK_ALERT_INFO
SQL> prompt ===============================
===============================
SQL> prompt

SQL> create table BLACK_ALERT_INFO
  2  (
  3    id           VARCHAR2(32) not null,
  4    hphm         NVARCHAR2(16) not null,
  5    hpzl         VARCHAR2(2) not null,
  6    bjdd         VARCHAR2(16),
  7    bjddmc       NVARCHAR2(64),
  8    bjsj         DATE not null,
  9    gcsj         DATE not null,
 10    hmdbh        VARCHAR2(32),
 11    mhbkbh       VARCHAR2(32),
 12    clzt         VARCHAR2(2),
 13    zjdz         NVARCHAR2(200),
 14    xsfx         VARCHAR2(2),
 15    clsd         NUMBER(3),
 16    fkr          NVARCHAR2(8),
 17    fksj         DATE,
 18    ljbz         VARCHAR2(2),
 19    fkxx         NVARCHAR2(200),
 20    tsyh         VARCHAR2(6),
 21    cjr          VARCHAR2(6),
 22    cjsj         DATE,
 23    cfqk         VARCHAR2(1),
 24    detectid     VARCHAR2(32),
 25    xywh         VARCHAR2(24),
 26    controllevel VARCHAR2(2),
 27    controltype  VARCHAR2(2),
 28    clanenumber  VARCHAR2(2),
 29    apptsyh      VARCHAR2(6),
 30    taskstate    VARCHAR2(20) default 0
 31  )
 32  partition by range (BJSJ) interval (NUMTODSINTERVAL(15,'DAY'))
 33  (
 34    partition BLACK_ALERT_P1 values less than (TO_DATE(' 2018-04-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 35      tablespace HIATMPTS_BLACK_20170601,
 36    partition SYS_P121 values less than (TO_DATE(' 2018-04-16 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 37      tablespace HIATMPTS_BLACK_20170602,
 38    partition SYS_P244 values less than (TO_DATE(' 2018-05-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 39      tablespace HIATMPTS_BLACK_20170601,
 40    partition SYS_P282 values less than (TO_DATE(' 2018-05-16 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 41      tablespace HIATMPTS_BLACK_20170602,
 42    partition SYS_P442 values less than (TO_DATE(' 2018-06-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 43      tablespace HIATMPTS_BLACK_20170601,
 44    partition SYS_P1149 values less than (TO_DATE(' 2018-06-16 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 45      tablespace HIATMPTS_BLACK_20170602,
 46    partition SYS_P1250 values less than (TO_DATE(' 2018-07-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 47      tablespace HIATMPTS_BLACK_20170601,
 48    partition SYS_P1348 values less than (TO_DATE(' 2018-07-16 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 49      tablespace HIATMPTS_BLACK_20170602
 50  );
Table created
SQL> comment on table BLACK_ALERT_INFO
  2    is '报警信息表';
Comment added
SQL> comment on column BLACK_ALERT_INFO.id
  2    is 'UUID';
Comment added
SQL> comment on column BLACK_ALERT_INFO.hphm
  2    is '号牌号码';
Comment added
SQL> comment on column BLACK_ALERT_INFO.hpzl
  2    is '号牌种类';
Comment added
SQL> comment on column BLACK_ALERT_INFO.bjdd
  2    is '报警地点编号';
Comment added
SQL> comment on column BLACK_ALERT_INFO.bjddmc
  2    is '报警地点名称';
Comment added
SQL> comment on column BLACK_ALERT_INFO.bjsj
  2    is '报警时间';
Comment added
SQL> comment on column BLACK_ALERT_INFO.gcsj
  2    is '过车时间';
Comment added
SQL> comment on column BLACK_ALERT_INFO.hmdbh
  2    is '黑名单编号';
Comment added
SQL> comment on column BLACK_ALERT_INFO.mhbkbh
  2    is '模糊布控编号';
Comment added
SQL> comment on column BLACK_ALERT_INFO.clzt
  2    is '报警处理状态';
Comment added
SQL> comment on column BLACK_ALERT_INFO.zjdz
  2    is 'FTP路径';
Comment added
SQL> comment on column BLACK_ALERT_INFO.xsfx
  2    is '行驶方向';
Comment added
SQL> comment on column BLACK_ALERT_INFO.clsd
  2    is '车辆速度';
Comment added
SQL> comment on column BLACK_ALERT_INFO.fkr
  2    is '反馈人';
Comment added
SQL> comment on column BLACK_ALERT_INFO.fksj
  2    is '反馈时间';
Comment added
SQL> comment on column BLACK_ALERT_INFO.ljbz
  2    is '处置结果';
Comment added
SQL> comment on column BLACK_ALERT_INFO.fkxx
  2    is '反馈信息';
Comment added
SQL> comment on column BLACK_ALERT_INFO.tsyh
  2    is '推送用户';
Comment added
SQL> comment on column BLACK_ALERT_INFO.cjr
  2    is '处警人';
Comment added
SQL> comment on column BLACK_ALERT_INFO.cjsj
  2    is '处警时间';
Comment added
SQL> comment on column BLACK_ALERT_INFO.cfqk
  2    is '处置情况';
Comment added
SQL> comment on column BLACK_ALERT_INFO.detectid
  2    is '关联的过车数据主键';
Comment added
SQL> comment on column BLACK_ALERT_INFO.xywh
  2    is '车牌图片信息';
Comment added
SQL> comment on column BLACK_ALERT_INFO.controllevel
  2    is '布控级别';
Comment added
SQL> comment on column BLACK_ALERT_INFO.controltype
  2    is '布控类型';
Comment added
SQL> comment on column BLACK_ALERT_INFO.clanenumber
  2    is '车道编号';
Comment added
SQL> comment on column BLACK_ALERT_INFO.apptsyh
  2    is 'APP推送用户';
Comment added
SQL> comment on column BLACK_ALERT_INFO.taskstate
  2    is '任务状态 0：拦截;1:忽略,2:前往拦截,3:拦截成功,4:拦截失败';
Comment added
SQL> create index BLACK_ALERT_BJSJ on BLACK_ALERT_INFO (BJSJ, LJBZ)
  2    local;
Index created
SQL> create index BLACK_ALERT_FKSJ on BLACK_ALERT_INFO (BJSJ, NVL2(FKSJ,1,0))
  2    local;
Index created
SQL> create index BLACK_ALERT_HMDBH on BLACK_ALERT_INFO (BJSJ, HMDBH)
  2    local;
Index created
SQL> create index BLACK_ALERT_HPHM on BLACK_ALERT_INFO (HPHM)
  2    local;
Index created
SQL> alter table BLACK_ALERT_INFO
  2    add constraint BLACK_ALERT_INFO_ID primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table BLACK_ALERT_MID_DATA
Creating table BLACK_ALERT_MID_DATA
SQL> prompt ===================================
===================================
SQL> prompt

SQL> create table BLACK_ALERT_MID_DATA
  2  (
  3    departmentid NUMBER not null,
  4    controltype  VARCHAR2(2) not null,
  5    producedate  DATE not null,
  6    alarmnum     NUMBER,
  7    treatmentnum NUMBER,
  8    interceptnum NUMBER,
  9    carnum       NUMBER
 10  )
 11  ;
Table created
SQL> alter table BLACK_ALERT_MID_DATA
  2    add constraint BLACK_ALERT_MID_DATA_PRIMARY primary key (DEPARTMENTID, CONTROLTYPE, PRODUCEDATE);
Table altered
SQL> prompt

SQL> prompt Creating table BLACK_ALERT_PARK
Creating table BLACK_ALERT_PARK
SQL> prompt ===============================
===============================
SQL> prompt

SQL> create table BLACK_ALERT_PARK
  2  (
  3    id          VARCHAR2(32) not null,
  4    park_no     VARCHAR2(15),
  5    park_name   NVARCHAR2(100),
  6    department  VARCHAR2(12),
  7    del_flag    VARCHAR2(2),
  8    create_time DATE,
  9    create_user VARCHAR2(6),
 10    mod_time    DATE,
 11    mod_user    VARCHAR2(6)
 12  )
 13  ;
Table created
SQL> comment on column BLACK_ALERT_PARK.id
  2    is '主键';
Comment added
SQL> comment on column BLACK_ALERT_PARK.park_no
  2    is '停车场编号';
Comment added
SQL> comment on column BLACK_ALERT_PARK.park_name
  2    is '停车场名称';
Comment added
SQL> comment on column BLACK_ALERT_PARK.department
  2    is '所属部门';
Comment added
SQL> comment on column BLACK_ALERT_PARK.del_flag
  2    is '删除标识 0-未删除 1-已删除';
Comment added
SQL> comment on column BLACK_ALERT_PARK.create_time
  2    is '创建时间';
Comment added
SQL> comment on column BLACK_ALERT_PARK.create_user
  2    is '创建人';
Comment added
SQL> comment on column BLACK_ALERT_PARK.mod_time
  2    is '修改时间';
Comment added
SQL> comment on column BLACK_ALERT_PARK.mod_user
  2    is '修改人';
Comment added
SQL> alter table BLACK_ALERT_PARK
  2    add constraint PRI_BLACK_ALERT_PARK primary key (ID);
Table altered
SQL> alter table BLACK_ALERT_PARK
  2    add constraint UNI_BALCK_ALERT_PARK_NAME unique (PARK_NAME);
Table altered
SQL> alter table BLACK_ALERT_PARK
  2    add constraint UNI_BALCK_ALERT_PARK_NO unique (PARK_NO);
Table altered
SQL> prompt

SQL> prompt Creating table BLACK_ALERT_POINT_COUNT
Creating table BLACK_ALERT_POINT_COUNT
SQL> prompt ======================================
======================================
SQL> prompt

SQL> create table BLACK_ALERT_POINT_COUNT
  2  (
  3    id          VARCHAR2(32) not null,
  4    hphm        NVARCHAR2(16),
  5    hpzl        VARCHAR2(2),
  6    alerttime   DATE,
  7    alertcount  NUMBER,
  8    controltype VARCHAR2(2),
  9    pointcode   NVARCHAR2(16),
 10    xsfx        VARCHAR2(4)
 11  )
 12  ;
Table created
SQL> alter table BLACK_ALERT_POINT_COUNT
  2    add constraint BLACK_ALERT_POINT_COUNT_PK primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table BLACK_ALERT_USER_INFO
Creating table BLACK_ALERT_USER_INFO
SQL> prompt ====================================
====================================
SQL> prompt

SQL> create table BLACK_ALERT_USER_INFO
  2  (
  3    id          VARCHAR2(32) not null,
  4    user_id     VARCHAR2(6) not null,
  5    bjjb        VARCHAR2(4) not null,
  6    monitortype VARCHAR2(4) not null,
  7    hphm        NVARCHAR2(16) not null,
  8    hpzl        VARCHAR2(2) not null,
  9    bjdd        VARCHAR2(16),
 10    bjddmc      NVARCHAR2(64),
 11    bjsj        DATE not null,
 12    gcsj        DATE not null,
 13    hmdbh       VARCHAR2(32),
 14    mhbkbh      VARCHAR2(32),
 15    clzt        VARCHAR2(2),
 16    zjdz        NVARCHAR2(200),
 17    xsfx        VARCHAR2(2),
 18    clsd        NUMBER(3),
 19    fkr         NVARCHAR2(8),
 20    fksj        DATE,
 21    ljbz        VARCHAR2(2),
 22    fkxx        NVARCHAR2(200),
 23    tsyh        VARCHAR2(6),
 24    cjr         VARCHAR2(6),
 25    cjsj        DATE,
 26    cfqk        VARCHAR2(1),
 27    detectid    VARCHAR2(32)
 28  )
 29  ;
Table created
SQL> comment on column BLACK_ALERT_USER_INFO.bjjb
  2    is '报警级别';
Comment added
SQL> comment on column BLACK_ALERT_USER_INFO.monitortype
  2    is '报警类型';
Comment added
SQL> comment on column BLACK_ALERT_USER_INFO.hphm
  2    is '号牌号码';
Comment added
SQL> comment on column BLACK_ALERT_USER_INFO.hpzl
  2    is '号牌种类';
Comment added
SQL> comment on column BLACK_ALERT_USER_INFO.bjdd
  2    is '报警地点编号';
Comment added
SQL> comment on column BLACK_ALERT_USER_INFO.bjddmc
  2    is '报警地点名称';
Comment added
SQL> comment on column BLACK_ALERT_USER_INFO.bjsj
  2    is '报警时间';
Comment added
SQL> comment on column BLACK_ALERT_USER_INFO.gcsj
  2    is '过车时间';
Comment added
SQL> comment on column BLACK_ALERT_USER_INFO.zjdz
  2    is 'FTP路径';
Comment added
SQL> comment on column BLACK_ALERT_USER_INFO.xsfx
  2    is '行驶方向';
Comment added
SQL> comment on column BLACK_ALERT_USER_INFO.clsd
  2    is '车辆速度';
Comment added
SQL> alter table BLACK_ALERT_USER_INFO
  2    add constraint BLACK_ALERT_USER_INFO_ID primary key (ID, USER_ID);
Table altered
SQL> prompt

SQL> prompt Creating table BLACK_ALERT_WIGHT_CAR
Creating table BLACK_ALERT_WIGHT_CAR
SQL> prompt ====================================
====================================
SQL> prompt

SQL> create table BLACK_ALERT_WIGHT_CAR
  2  (
  3    id         VARCHAR2(32) not null,
  4    car_number VARCHAR2(14) not null,
  5    car_type   VARCHAR2(4) not null,
  6    creat_user VARCHAR2(6),
  7    creat_time DATE,
  8    dsc        VARCHAR2(200)
  9  )
 10  ;
Table created
SQL> comment on column BLACK_ALERT_WIGHT_CAR.id
  2    is '唯一标识';
Comment added
SQL> comment on column BLACK_ALERT_WIGHT_CAR.car_number
  2    is '号牌号码';
Comment added
SQL> comment on column BLACK_ALERT_WIGHT_CAR.car_type
  2    is '车辆类型';
Comment added
SQL> comment on column BLACK_ALERT_WIGHT_CAR.creat_user
  2    is '创建人';
Comment added
SQL> comment on column BLACK_ALERT_WIGHT_CAR.creat_time
  2    is '创建时间';
Comment added
SQL> comment on column BLACK_ALERT_WIGHT_CAR.dsc
  2    is '描述';
Comment added
SQL> create index IND_BLACK_ALERT_WIGHT_CAR_NUM on BLACK_ALERT_WIGHT_CAR (CAR_NUMBER, CAR_TYPE);
Index created
SQL> alter table BLACK_ALERT_WIGHT_CAR
  2    add constraint BLACK_ALERT_WIGHT_CAR_ID primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table BLACK_CONFIG_LEVEL_TEMPLET
Creating table BLACK_CONFIG_LEVEL_TEMPLET
SQL> prompt =========================================
=========================================
SQL> prompt

SQL> create table BLACK_CONFIG_LEVEL_TEMPLET
  2  (
  3    id           VARCHAR2(32) not null,
  4    templetid    VARCHAR2(32),
  5    controllevel VARCHAR2(2),
  6    alerttype    VARCHAR2(10),
  7    sound        VARCHAR2(20),
  8    soundlength  VARCHAR2(3)
  9  )
 10  ;
Table created
SQL> alter table BLACK_CONFIG_LEVEL_TEMPLET
  2    add constraint BLACK_CONFIG_LEVEL_TEMPLET_PK primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table BLACK_CONFIG_POINT
Creating table BLACK_CONFIG_POINT
SQL> prompt =================================
=================================
SQL> prompt

SQL> create table BLACK_CONFIG_POINT
  2  (
  3    owner   VARCHAR2(6) not null,
  4    pointid CLOB
  5  )
  6  ;
Table created
SQL> comment on table BLACK_CONFIG_POINT
  2    is '报警设置区域子表';
Comment added
SQL> comment on column BLACK_CONFIG_POINT.owner
  2    is '主键，所有人';
Comment added
SQL> comment on column BLACK_CONFIG_POINT.pointid
  2    is '区域内的点';
Comment added
SQL> alter table BLACK_CONFIG_POINT
  2    add primary key (OWNER);
Table altered
SQL> prompt

SQL> prompt Creating table BLACK_CONFIG_POINT_DIRECTION
Creating table BLACK_CONFIG_POINT_DIRECTION
SQL> prompt ===========================================
===========================================
SQL> prompt

SQL> create table BLACK_CONFIG_POINT_DIRECTION
  2  (
  3    owner     VARCHAR2(6) not null,
  4    pointid   NVARCHAR2(16) not null,
  5    seldirect VARCHAR2(64)
  6  )
  7  ;
Table created
SQL> alter table BLACK_CONFIG_POINT_DIRECTION
  2    add constraint CONFIG_POINT_DIRECTION_PK primary key (OWNER, POINTID);
Table altered
SQL> prompt

SQL> prompt Creating table BLACK_CONFIG_POINT_TEMPLET
Creating table BLACK_CONFIG_POINT_TEMPLET
SQL> prompt =========================================
=========================================
SQL> prompt

SQL> create table BLACK_CONFIG_POINT_TEMPLET
  2  (
  3    templetid VARCHAR2(32) not null,
  4    pointid   CLOB
  5  )
  6  ;
Table created
SQL> comment on table BLACK_CONFIG_POINT_TEMPLET
  2    is '报警设置区域子表(模板)';
Comment added
SQL> comment on column BLACK_CONFIG_POINT_TEMPLET.templetid
  2    is '主键';
Comment added
SQL> comment on column BLACK_CONFIG_POINT_TEMPLET.pointid
  2    is '区域内的点';
Comment added
SQL> alter table BLACK_CONFIG_POINT_TEMPLET
  2    add constraint BLACK_CONFIG_POINT_TEMPLET_PK primary key (TEMPLETID);
Table altered
SQL> prompt

SQL> prompt Creating table BLACK_CONTROL_AUDIT
Creating table BLACK_CONTROL_AUDIT
SQL> prompt ==================================
==================================
SQL> prompt

SQL> create table BLACK_CONTROL_AUDIT
  2  (
  3    id               VARCHAR2(32) not null,
  4    controlid        VARCHAR2(32),
  5    hphm             NVARCHAR2(16),
  6    hpzl             VARCHAR2(4),
  7    controltype      VARCHAR2(2),
  8    controllevel     VARCHAR2(2),
  9    starttime        DATE,
 10    endtime          DATE,
 11    msg              NVARCHAR2(300),
 12    controlstarttime DATE,
 13    controlendtime   DATE,
 14    status           VARCHAR2(2),
 15    controlday       NUMBER,
 16    discovertime     DATE,
 17    audittime        DATE,
 18    audituser        VARCHAR2(10)
 19  )
 20  ;
Table created
SQL> comment on column BLACK_CONTROL_AUDIT.controlid
  2    is '关联ID';
Comment added
SQL> comment on column BLACK_CONTROL_AUDIT.hphm
  2    is '号牌号码';
Comment added
SQL> comment on column BLACK_CONTROL_AUDIT.hpzl
  2    is '号牌类型';
Comment added
SQL> comment on column BLACK_CONTROL_AUDIT.controltype
  2    is '布控类型';
Comment added
SQL> comment on column BLACK_CONTROL_AUDIT.controllevel
  2    is '布控等级';
Comment added
SQL> comment on column BLACK_CONTROL_AUDIT.starttime
  2    is '有效期起';
Comment added
SQL> comment on column BLACK_CONTROL_AUDIT.endtime
  2    is '有效期止';
Comment added
SQL> comment on column BLACK_CONTROL_AUDIT.msg
  2    is '布控原因';
Comment added
SQL> comment on column BLACK_CONTROL_AUDIT.controlstarttime
  2    is '证据时间起';
Comment added
SQL> comment on column BLACK_CONTROL_AUDIT.controlendtime
  2    is '证据时间止';
Comment added
SQL> comment on column BLACK_CONTROL_AUDIT.status
  2    is '状态 0 未布控，1 已布控';
Comment added
SQL> comment on column BLACK_CONTROL_AUDIT.controlday
  2    is '布控天数';
Comment added
SQL> comment on column BLACK_CONTROL_AUDIT.discovertime
  2    is '发现时间';
Comment added
SQL> comment on column BLACK_CONTROL_AUDIT.audittime
  2    is '审核时间';
Comment added
SQL> comment on column BLACK_CONTROL_AUDIT.audituser
  2    is '审核人员';
Comment added
SQL> alter table BLACK_CONTROL_AUDIT
  2    add constraint BLACK_CONTROL_AUDIT_PK primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table BLACK_HIDDENDANGER_DRIVER
Creating table BLACK_HIDDENDANGER_DRIVER
SQL> prompt ========================================
========================================
SQL> prompt

SQL> create table BLACK_HIDDENDANGER_DRIVER
  2  (
  3    id           VARCHAR2(32) not null,
  4    name         NVARCHAR2(16),
  5    personno     VARCHAR2(18),
  6    type         VARCHAR2(8),
  7    discovertime DATE,
  8    audittime    DATE,
  9    audituser    VARCHAR2(10),
 10    status       VARCHAR2(2),
 11    auditdept    VARCHAR2(12)
 12  )
 13  ;
Table created
SQL> comment on column BLACK_HIDDENDANGER_DRIVER.status
  2    is '状态 0 未布控，1 已布控';
Comment added
SQL> alter table BLACK_HIDDENDANGER_DRIVER
  2    add constraint BLACK_HIDDENDANGER_DRIVER_PK primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table BLACK_LIST_MANAGE
Creating table BLACK_LIST_MANAGE
SQL> prompt ================================
================================
SQL> prompt

SQL> create table BLACK_LIST_MANAGE
  2  (
  3    id                VARCHAR2(32) not null,
  4    carno             NVARCHAR2(16) not null,
  5    cartype           VARCHAR2(4) not null,
  6    carbrand          VARCHAR2(4),
  7    carcolor          VARCHAR2(3),
  8    source            VARCHAR2(2) not null,
  9    controllevel      VARCHAR2(2) default 03 not null,
 10    controltype       VARCHAR2(2) not null,
 11    controlprop       VARCHAR2(2) not null,
 12    controlscope      VARCHAR2(12) default 1 not null,
 13    btime             DATE not null,
 14    etime             DATE not null,
 15    infostatus        VARCHAR2(2) default 10,
 16    alarmstatus       VARCHAR2(2) default 10,
 17    contact           VARCHAR2(150),
 18    telphone          VARCHAR2(150),
 19    pushphone         VARCHAR2(60),
 20    puship            VARCHAR2(16),
 21    pushuser          VARCHAR2(6),
 22    pushdptmt         VARCHAR2(12) default 10,
 23    charcpic1         NVARCHAR2(200),
 24    charcpic2         NVARCHAR2(200),
 25    charcpic3         NVARCHAR2(200),
 26    charcdesc         NVARCHAR2(300),
 27    matterdetail      NVARCHAR2(300),
 28    createuserid      VARCHAR2(6) not null,
 29    createtime        DATE not null,
 30    revokeuserid      VARCHAR2(6),
 31    revoketime        DATE,
 32    revokereason      NVARCHAR2(200),
 33    interceptflag     VARCHAR2(1) default 0,
 34    illegaltime       DATE,
 35    illegaladdress    VARCHAR2(192),
 36    illegaltype       VARCHAR2(2),
 37    abandontime       DATE,
 38    updatetime        DATE,
 39    annualexaminetime DATE,
 40    coercivecode      VARCHAR2(15),
 41    penaltycode       VARCHAR2(20)
 42  )
 43  ;
Table created
SQL> comment on table BLACK_LIST_MANAGE
  2    is '黑名单表';
Comment added
SQL> comment on column BLACK_LIST_MANAGE.id
  2    is '主键（无意义）';
Comment added
SQL> comment on column BLACK_LIST_MANAGE.carno
  2    is '号牌号码 ';
Comment added
SQL> comment on column BLACK_LIST_MANAGE.cartype
  2    is '号牌类型     参见枚举170';
Comment added
SQL> comment on column BLACK_LIST_MANAGE.carbrand
  2    is '车辆品牌     参见枚举747';
Comment added
SQL> comment on column BLACK_LIST_MANAGE.carcolor
  2    is '车身颜色';
Comment added
SQL> comment on column BLACK_LIST_MANAGE.source
  2    is '信息来源  10:人工录入 20:下发库 30:盗抢库';
Comment added
SQL> comment on column BLACK_LIST_MANAGE.controllevel
  2    is '布控级别  01:一级 02：二级 03 ：三级04：四级  默认';
Comment added
SQL> comment on column BLACK_LIST_MANAGE.controltype
  2    is '布控类型 ';
Comment added
SQL> comment on column BLACK_LIST_MANAGE.controlprop
  2    is '布控性质   10:公开  20:保密';
Comment added
SQL> comment on column BLACK_LIST_MANAGE.controlscope
  2    is '布控范围   1:全市 其他使用部门编号';
Comment added
SQL> comment on column BLACK_LIST_MANAGE.btime
  2    is '开始时间';
Comment added
SQL> comment on column BLACK_LIST_MANAGE.etime
  2    is '结束时间';
Comment added
SQL> comment on column BLACK_LIST_MANAGE.infostatus
  2    is '黑名单状态   10:已布控 20:已撤控';
Comment added
SQL> comment on column BLACK_LIST_MANAGE.alarmstatus
  2    is '报警状态     10:未报警 20:已报警';
Comment added
SQL> comment on column BLACK_LIST_MANAGE.contact
  2    is '联系人';
Comment added
SQL> comment on column BLACK_LIST_MANAGE.telphone
  2    is '联系电话';
Comment added
SQL> comment on column BLACK_LIST_MANAGE.pushphone
  2    is '推送手机        (手机号码逗号隔开，最多5个手机号码)';
Comment added
SQL> comment on column BLACK_LIST_MANAGE.puship
  2    is '推送IP';
Comment added
SQL> comment on column BLACK_LIST_MANAGE.pushuser
  2    is '推送至用户    (备用列)';
Comment added
SQL> comment on column BLACK_LIST_MANAGE.pushdptmt
  2    is '推送至部门    (10表示全部，其他则12位编码)';
Comment added
SQL> comment on column BLACK_LIST_MANAGE.charcpic1
  2    is '特征图片1';
Comment added
SQL> comment on column BLACK_LIST_MANAGE.charcpic2
  2    is '特征图片2';
Comment added
SQL> comment on column BLACK_LIST_MANAGE.charcpic3
  2    is '特征图片3';
Comment added
SQL> comment on column BLACK_LIST_MANAGE.charcdesc
  2    is '特征描述';
Comment added
SQL> comment on column BLACK_LIST_MANAGE.matterdetail
  2    is '案情描述';
Comment added
SQL> comment on column BLACK_LIST_MANAGE.createuserid
  2    is '录入人ID';
Comment added
SQL> comment on column BLACK_LIST_MANAGE.createtime
  2    is '录入时间';
Comment added
SQL> comment on column BLACK_LIST_MANAGE.revokeuserid
  2    is '撤控人ID';
Comment added
SQL> comment on column BLACK_LIST_MANAGE.revoketime
  2    is '撤控时间';
Comment added
SQL> comment on column BLACK_LIST_MANAGE.revokereason
  2    is '撤控原因';
Comment added
SQL> comment on column BLACK_LIST_MANAGE.interceptflag
  2    is '0:未拦截 1:成功拦截';
Comment added
SQL> comment on column BLACK_LIST_MANAGE.illegaltime
  2    is '违法时间';
Comment added
SQL> comment on column BLACK_LIST_MANAGE.illegaladdress
  2    is '违法地点';
Comment added
SQL> comment on column BLACK_LIST_MANAGE.illegaltype
  2    is '违法类型';
Comment added
SQL> comment on column BLACK_LIST_MANAGE.abandontime
  2    is '报废车报废时间';
Comment added
SQL> comment on column BLACK_LIST_MANAGE.updatetime
  2    is '更新时间';
Comment added
SQL> comment on column BLACK_LIST_MANAGE.annualexaminetime
  2    is '年检时间';
Comment added
SQL> comment on column BLACK_LIST_MANAGE.coercivecode
  2    is '强制措施凭证编号';
Comment added
SQL> comment on column BLACK_LIST_MANAGE.penaltycode
  2    is '处罚决定书编号';
Comment added
SQL> create index BLACK_LIST_INDEX_CARNO on BLACK_LIST_MANAGE (CARNO, CONTROLTYPE);
Index created
SQL> create index CONTROLTYPE_CONTROLLEVEL on BLACK_LIST_MANAGE (CONTROLTYPE, CONTROLLEVEL);
Index created
SQL> create index CREATETIME on BLACK_LIST_MANAGE (CREATETIME);
Index created
SQL> create index INFO_ALARM on BLACK_LIST_MANAGE (INFOSTATUS, ALARMSTATUS);
Index created
SQL> alter table BLACK_LIST_MANAGE
  2    add constraint PK_BLACK_LIST_INFO primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table BLACK_LIST_MANAGE_RECORD
Creating table BLACK_LIST_MANAGE_RECORD
SQL> prompt =======================================
=======================================
SQL> prompt

SQL> create table BLACK_LIST_MANAGE_RECORD
  2  (
  3    uuid         NUMBER not null,
  4    changetype   VARCHAR2(1) not null,
  5    id           VARCHAR2(32),
  6    carno        NVARCHAR2(16),
  7    cartype      VARCHAR2(4),
  8    controltype  VARCHAR2(2),
  9    controllevel VARCHAR2(2),
 10    puship       VARCHAR2(16),
 11    pushdptmt    VARCHAR2(12),
 12    pushuser     VARCHAR2(6),
 13    pushphone    VARCHAR2(60),
 14    contact      VARCHAR2(150),
 15    matterdetail NVARCHAR2(300),
 16    charcpic1    NVARCHAR2(200),
 17    charcpic2    NVARCHAR2(200),
 18    charcpic3    NVARCHAR2(200),
 19    alarmstatus  VARCHAR2(2),
 20    infostatus   VARCHAR2(2),
 21    btime        DATE,
 22    etime        DATE,
 23    changetime   DATE,
 24    controlscope VARCHAR2(12)
 25  )
 26  ;
Table created
SQL> alter table BLACK_LIST_MANAGE_RECORD
  2    add constraint PK_BLACK_LIST_MANAGE_RECORD primary key (UUID);
Table altered
SQL> prompt

SQL> prompt Creating table BLACK_LIST_MAPPING
Creating table BLACK_LIST_MAPPING
SQL> prompt =================================
=================================
SQL> prompt

SQL> create table BLACK_LIST_MAPPING
  2  (
  3    id                VARCHAR2(32) not null,
  4    carno             NVARCHAR2(16) not null,
  5    cartype           VARCHAR2(2) not null,
  6    carbrand          VARCHAR2(4),
  7    carcolor          VARCHAR2(3),
  8    source            VARCHAR2(2) not null,
  9    controllevel      VARCHAR2(2) default 03 not null,
 10    controltype       VARCHAR2(2) not null,
 11    controlprop       VARCHAR2(2) not null,
 12    controlscope      VARCHAR2(12) default 1 not null,
 13    btime             DATE not null,
 14    etime             DATE not null,
 15    infostatus        VARCHAR2(2) default 10,
 16    alarmstatus       VARCHAR2(2) default 10,
 17    contact           VARCHAR2(50),
 18    telphone          VARCHAR2(50),
 19    pushphone         VARCHAR2(60),
 20    puship            VARCHAR2(16),
 21    pushuser          VARCHAR2(6),
 22    pushdptmt         VARCHAR2(12) default 1,
 23    charcpic1         NVARCHAR2(200),
 24    charcpic2         NVARCHAR2(200),
 25    charcpic3         NVARCHAR2(200),
 26    charcdesc         NVARCHAR2(300),
 27    matterdetail      NVARCHAR2(300),
 28    createuserid      VARCHAR2(6) not null,
 29    createtime        DATE not null,
 30    revokeuserid      VARCHAR2(6),
 31    revoketime        DATE,
 32    revokereason      NVARCHAR2(200),
 33    interceptflag     VARCHAR2(1) default 0,
 34    illegaltime       DATE,
 35    illegaladdress    VARCHAR2(100),
 36    illegaltype       VARCHAR2(2),
 37    abandontime       DATE,
 38    updatetime        DATE,
 39    annualexaminetime DATE
 40  )
 41  ;
Table created
SQL> comment on table BLACK_LIST_MAPPING
  2    is '黑名单表';
Comment added
SQL> comment on column BLACK_LIST_MAPPING.id
  2    is '主键';
Comment added
SQL> comment on column BLACK_LIST_MAPPING.carno
  2    is '号牌号码';
Comment added
SQL> comment on column BLACK_LIST_MAPPING.cartype
  2    is '号牌种类    参加枚举170';
Comment added
SQL> comment on column BLACK_LIST_MAPPING.carbrand
  2    is '车辆品牌    参加枚举747';
Comment added
SQL> comment on column BLACK_LIST_MAPPING.carcolor
  2    is '车身颜色';
Comment added
SQL> comment on column BLACK_LIST_MAPPING.source
  2    is '信息来源  10:人工录入 20:下发库 30:盗抢库';
Comment added
SQL> comment on column BLACK_LIST_MAPPING.controllevel
  2    is '布控级别  01:一级 02：二级 03 ：三级04：四级  默认';
Comment added
SQL> comment on column BLACK_LIST_MAPPING.controltype
  2    is '布控类型';
Comment added
SQL> comment on column BLACK_LIST_MAPPING.controlprop
  2    is '布控性质   10:公开  20:保密';
Comment added
SQL> comment on column BLACK_LIST_MAPPING.controlscope
  2    is '布控范围   1:全市 其他使用部门编号';
Comment added
SQL> comment on column BLACK_LIST_MAPPING.btime
  2    is '开始时间';
Comment added
SQL> comment on column BLACK_LIST_MAPPING.etime
  2    is '结束时间';
Comment added
SQL> comment on column BLACK_LIST_MAPPING.infostatus
  2    is '黑名单状态   10:已布控 20:已撤控';
Comment added
SQL> comment on column BLACK_LIST_MAPPING.alarmstatus
  2    is '报警状态     10:未报警 20:已报警';
Comment added
SQL> comment on column BLACK_LIST_MAPPING.contact
  2    is '联系人';
Comment added
SQL> comment on column BLACK_LIST_MAPPING.telphone
  2    is '联系电话';
Comment added
SQL> comment on column BLACK_LIST_MAPPING.pushphone
  2    is '推送手机      (手机号码逗号隔开，最多5个手机号码)';
Comment added
SQL> comment on column BLACK_LIST_MAPPING.puship
  2    is '推送IP';
Comment added
SQL> comment on column BLACK_LIST_MAPPING.pushuser
  2    is '推送至用户    (备用列)';
Comment added
SQL> comment on column BLACK_LIST_MAPPING.pushdptmt
  2    is '推送至部门    (1表示全部，其他则12位编码)';
Comment added
SQL> comment on column BLACK_LIST_MAPPING.charcpic1
  2    is '特征图片1';
Comment added
SQL> comment on column BLACK_LIST_MAPPING.charcpic2
  2    is '特征图片2';
Comment added
SQL> comment on column BLACK_LIST_MAPPING.charcpic3
  2    is '特征图片3';
Comment added
SQL> comment on column BLACK_LIST_MAPPING.charcdesc
  2    is '特征描述';
Comment added
SQL> comment on column BLACK_LIST_MAPPING.matterdetail
  2    is '案情描述';
Comment added
SQL> comment on column BLACK_LIST_MAPPING.createuserid
  2    is '录入人ID';
Comment added
SQL> comment on column BLACK_LIST_MAPPING.createtime
  2    is '录入时间';
Comment added
SQL> comment on column BLACK_LIST_MAPPING.revokeuserid
  2    is '撤控人ID';
Comment added
SQL> comment on column BLACK_LIST_MAPPING.revoketime
  2    is '撤控时间';
Comment added
SQL> comment on column BLACK_LIST_MAPPING.revokereason
  2    is '撤控原因';
Comment added
SQL> comment on column BLACK_LIST_MAPPING.interceptflag
  2    is '0:未拦截 1:成功拦截';
Comment added
SQL> comment on column BLACK_LIST_MAPPING.illegaltime
  2    is '违法时间';
Comment added
SQL> comment on column BLACK_LIST_MAPPING.illegaladdress
  2    is '违法地点';
Comment added
SQL> comment on column BLACK_LIST_MAPPING.illegaltype
  2    is '违法类型';
Comment added
SQL> comment on column BLACK_LIST_MAPPING.abandontime
  2    is '报废车报废时间';
Comment added
SQL> comment on column BLACK_LIST_MAPPING.updatetime
  2    is '更新时间';
Comment added
SQL> comment on column BLACK_LIST_MAPPING.annualexaminetime
  2    is '年检时间';
Comment added
SQL> create index BLACK_LIST_MAPPING_INDEX_CARNO on BLACK_LIST_MAPPING (CARNO, CONTROLTYPE);
Index created
SQL> alter table BLACK_LIST_MAPPING
  2    add constraint PK_BLACK_LIST_MAPPING primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table BLACK_LOW_ANALYSIS_DATA
Creating table BLACK_LOW_ANALYSIS_DATA
SQL> prompt ======================================
======================================
SQL> prompt

SQL> create table BLACK_LOW_ANALYSIS_DATA
  2  (
  3    id          VARCHAR2(32) not null,
  4    bjdd        VARCHAR2(16) not null,
  5    productdate DATE not null,
  6    hour        NUMBER not null,
  7    alarmtype01 NUMBER,
  8    alarmtype02 NUMBER,
  9    alarmtype03 NUMBER,
 10    alarmtype04 NUMBER,
 11    alarmtype05 NUMBER,
 12    alarmtype06 NUMBER,
 13    alarmtype07 NUMBER,
 14    alarmtype08 NUMBER,
 15    alarmtype09 NUMBER,
 16    alarmtype10 NUMBER,
 17    alarmtype11 NUMBER,
 18    alarmtype12 NUMBER,
 19    alarmtype13 NUMBER,
 20    alarmtype14 NUMBER,
 21    alarmtype15 NUMBER,
 22    alarmtype16 NUMBER,
 23    alarmtype17 NUMBER,
 24    alarmtype18 NUMBER,
 25    alarmtype19 NUMBER,
 26    alarmtype20 NUMBER,
 27    alarmtype21 NUMBER,
 28    alarmtype22 NUMBER,
 29    alarmtype23 NUMBER,
 30    alarmtype24 NUMBER,
 31    alarmtype25 NUMBER,
 32    alarmtype26 NUMBER,
 33    alarmtype27 NUMBER,
 34    alarmtype28 NUMBER,
 35    alarmtype29 NUMBER,
 36    alarmtype30 NUMBER,
 37    channel     VARCHAR2(2),
 38    xsfx        VARCHAR2(2)
 39  )
 40  ;
Table created
SQL> alter table BLACK_LOW_ANALYSIS_DATA
  2    add constraint BLACK_LOW_ANALYSIS_DATA_PK primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table BLACK_LOW_ANALYSIS_MID_DATA
Creating table BLACK_LOW_ANALYSIS_MID_DATA
SQL> prompt ==========================================
==========================================
SQL> prompt

SQL> create table BLACK_LOW_ANALYSIS_MID_DATA
  2  (
  3    bjdd        VARCHAR2(16) not null,
  4    productdate DATE not null,
  5    sgty        NUMBER,
  6    tpc         NUMBER,
  7    jpc         NUMBER,
  8    yqwnj       NUMBER,
  9    bfc         NUMBER,
 10    wfwcl       NUMBER,
 11    dcwfwcl     NUMBER,
 12    xsaj        NUMBER,
 13    zdzaaj      NUMBER,
 14    wffzxyjtgj  NUMBER,
 15    bdq         NUMBER,
 16    zactgk      NUMBER,
 17    hbbfc       NUMBER,
 18    whpcl       NUMBER,
 19    gswfwfj     NUMBER
 20  )
 21  ;
Table created
SQL> comment on column BLACK_LOW_ANALYSIS_MID_DATA.bjdd
  2    is '报警地点编号';
Comment added
SQL> comment on column BLACK_LOW_ANALYSIS_MID_DATA.productdate
  2    is '生产日期';
Comment added
SQL> comment on column BLACK_LOW_ANALYSIS_MID_DATA.sgty
  2    is '事故逃逸车辆报警数';
Comment added
SQL> comment on column BLACK_LOW_ANALYSIS_MID_DATA.tpc
  2    is '套牌车辆报警数';
Comment added
SQL> comment on column BLACK_LOW_ANALYSIS_MID_DATA.jpc
  2    is '假牌车辆报警数';
Comment added
SQL> comment on column BLACK_LOW_ANALYSIS_MID_DATA.yqwnj
  2    is '逾期未年检车辆报警数';
Comment added
SQL> comment on column BLACK_LOW_ANALYSIS_MID_DATA.bfc
  2    is '报废车辆报警数';
Comment added
SQL> comment on column BLACK_LOW_ANALYSIS_MID_DATA.wfwcl
  2    is '违法未处理车辆报警数';
Comment added
SQL> comment on column BLACK_LOW_ANALYSIS_MID_DATA.dcwfwcl
  2    is '多次违法未处理车辆报警数';
Comment added
SQL> comment on column BLACK_LOW_ANALYSIS_MID_DATA.xsaj
  2    is '刑事案件报警数';
Comment added
SQL> comment on column BLACK_LOW_ANALYSIS_MID_DATA.zdzaaj
  2    is '重大治安事件报警数';
Comment added
SQL> comment on column BLACK_LOW_ANALYSIS_MID_DATA.wffzxyjtgj
  2    is '违法犯罪嫌疑交通工具报警数';
Comment added
SQL> comment on column BLACK_LOW_ANALYSIS_MID_DATA.bdq
  2    is '被盗抢车辆报警数';
Comment added
SQL> comment on column BLACK_LOW_ANALYSIS_MID_DATA.zactgk
  2    is '治安常态管控报警数';
Comment added
SQL> comment on column BLACK_LOW_ANALYSIS_MID_DATA.hbbfc
  2    is '黄标报废车报警数';
Comment added
SQL> comment on column BLACK_LOW_ANALYSIS_MID_DATA.whpcl
  2    is '危化品车辆';
Comment added
SQL> comment on column BLACK_LOW_ANALYSIS_MID_DATA.gswfwfj
  2    is '高速违法未分拣';
Comment added
SQL> alter table BLACK_LOW_ANALYSIS_MID_DATA
  2    add constraint PK_LOW_ANALYSIS_MID_DATA_ primary key (BJDD, PRODUCTDATE);
Table altered
SQL> prompt

SQL> prompt Creating table BLACK_POINT_DIRECTION_TEMPLET
Creating table BLACK_POINT_DIRECTION_TEMPLET
SQL> prompt ============================================
============================================
SQL> prompt

SQL> create table BLACK_POINT_DIRECTION_TEMPLET
  2  (
  3    templetid VARCHAR2(32),
  4    pointid   NVARCHAR2(16),
  5    seldirect VARCHAR2(64),
  6    id        VARCHAR2(32) not null
  7  )
  8  ;
Table created
SQL> alter table BLACK_POINT_DIRECTION_TEMPLET
  2    add constraint POINT_DIRECTION_TEMPLET_PK primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table BLACK_SEARCHPIC_FEATURE
Creating table BLACK_SEARCHPIC_FEATURE
SQL> prompt ======================================
======================================
SQL> prompt

SQL> create table BLACK_SEARCHPIC_FEATURE
  2  (
  3    id          VARCHAR2(32) not null,
  4    taskid      VARCHAR2(32),
  5    picturepath VARCHAR2(400),
  6    orderno     LONG
  7  )
  8  ;
Table created
SQL> comment on column BLACK_SEARCHPIC_FEATURE.id
  2    is 'id';
Comment added
SQL> comment on column BLACK_SEARCHPIC_FEATURE.taskid
  2    is '任务ID';
Comment added
SQL> comment on column BLACK_SEARCHPIC_FEATURE.picturepath
  2    is '图片地址';
Comment added
SQL> comment on column BLACK_SEARCHPIC_FEATURE.orderno
  2    is '排序';
Comment added
SQL> alter table BLACK_SEARCHPIC_FEATURE
  2    add constraint BLACK_SEARCHPIC_FEATURE_PK primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table BLACK_SEARCHPIC_RESULT
Creating table BLACK_SEARCHPIC_RESULT
SQL> prompt =====================================
=====================================
SQL> prompt

SQL> create table BLACK_SEARCHPIC_RESULT
  2  (
  3    id              VARCHAR2(32) not null,
  4    carno           NVARCHAR2(16),
  5    cartype         VARCHAR2(4),
  6    pointcode       NVARCHAR2(16),
  7    dcollectiondate DATE,
  8    cpicpath        VARCHAR2(400),
  9    taskid          VARCHAR2(32),
 10    similarity      NUMBER(4,2),
 11    carcolor        VARCHAR2(4),
 12    carbrand        VARCHAR2(4),
 13    subbrand        VARCHAR2(4),
 14    yearmodel       VARCHAR2(4),
 15    vehicletype     VARCHAR2(4)
 16  )
 17  ;
Table created
SQL> comment on column BLACK_SEARCHPIC_RESULT.carno
  2    is '号牌号码';
Comment added
SQL> comment on column BLACK_SEARCHPIC_RESULT.cartype
  2    is '号牌类型';
Comment added
SQL> comment on column BLACK_SEARCHPIC_RESULT.pointcode
  2    is '点位编号';
Comment added
SQL> comment on column BLACK_SEARCHPIC_RESULT.dcollectiondate
  2    is '采集时间';
Comment added
SQL> comment on column BLACK_SEARCHPIC_RESULT.cpicpath
  2    is '图片路径';
Comment added
SQL> comment on column BLACK_SEARCHPIC_RESULT.taskid
  2    is '所属任务ID';
Comment added
SQL> comment on column BLACK_SEARCHPIC_RESULT.similarity
  2    is '相似度';
Comment added
SQL> comment on column BLACK_SEARCHPIC_RESULT.carcolor
  2    is '车身颜色';
Comment added
SQL> comment on column BLACK_SEARCHPIC_RESULT.carbrand
  2    is '品牌';
Comment added
SQL> comment on column BLACK_SEARCHPIC_RESULT.subbrand
  2    is '子品牌';
Comment added
SQL> comment on column BLACK_SEARCHPIC_RESULT.yearmodel
  2    is '年款';
Comment added
SQL> comment on column BLACK_SEARCHPIC_RESULT.vehicletype
  2    is '车辆类型';
Comment added
SQL> alter table BLACK_SEARCHPIC_RESULT
  2    add constraint BLACK_SEARCHPIC_RESULT_PK primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table BLACK_SEARCHPIC_TASK
Creating table BLACK_SEARCHPIC_TASK
SQL> prompt ===================================
===================================
SQL> prompt

SQL> create table BLACK_SEARCHPIC_TASK
  2  (
  3    id                 VARCHAR2(32) not null,
  4    taskname           NVARCHAR2(50),
  5    tasktype           VARCHAR2(20),
  6    relatedcases       NVARCHAR2(100),
  7    tasknote           NVARCHAR2(500),
  8    createdate         DATE,
  9    createuser         VARCHAR2(6),
 10    taskstatus         VARCHAR2(20),
 11    points             CLOB,
 12    starttime          DATE,
 13    endtime            DATE,
 14    carno              NVARCHAR2(16),
 15    cartype            VARCHAR2(4),
 16    carcolor           VARCHAR2(4),
 17    carbrand           VARCHAR2(4),
 18    subbrand           VARCHAR2(4),
 19    yearmodel          VARCHAR2(4),
 20    uploadpic          VARCHAR2(400),
 21    vehicletype        VARCHAR2(20),
 22    taskprogress       VARCHAR2(20),
 23    featurevector      VARCHAR2(400),
 24    featurevector1     VARCHAR2(400),
 25    fearturecoordinate VARCHAR2(100)
 26  )
 27  ;
Table created
SQL> comment on column BLACK_SEARCHPIC_TASK.id
  2    is 'ID';
Comment added
SQL> comment on column BLACK_SEARCHPIC_TASK.taskname
  2    is '任务名称';
Comment added
SQL> comment on column BLACK_SEARCHPIC_TASK.tasktype
  2    is '任务类型 枚举1170';
Comment added
SQL> comment on column BLACK_SEARCHPIC_TASK.relatedcases
  2    is '相关案件';
Comment added
SQL> comment on column BLACK_SEARCHPIC_TASK.tasknote
  2    is '备注';
Comment added
SQL> comment on column BLACK_SEARCHPIC_TASK.createdate
  2    is '创建时间';
Comment added
SQL> comment on column BLACK_SEARCHPIC_TASK.createuser
  2    is '创建任务';
Comment added
SQL> comment on column BLACK_SEARCHPIC_TASK.taskstatus
  2    is '任务状态 枚举1171';
Comment added
SQL> comment on column BLACK_SEARCHPIC_TASK.points
  2    is '监控点位';
Comment added
SQL> comment on column BLACK_SEARCHPIC_TASK.starttime
  2    is '开始时间';
Comment added
SQL> comment on column BLACK_SEARCHPIC_TASK.endtime
  2    is '结束时间';
Comment added
SQL> comment on column BLACK_SEARCHPIC_TASK.carno
  2    is '号牌号码';
Comment added
SQL> comment on column BLACK_SEARCHPIC_TASK.cartype
  2    is '号牌类型';
Comment added
SQL> comment on column BLACK_SEARCHPIC_TASK.carcolor
  2    is '车身颜色';
Comment added
SQL> comment on column BLACK_SEARCHPIC_TASK.carbrand
  2    is '车辆品牌';
Comment added
SQL> comment on column BLACK_SEARCHPIC_TASK.subbrand
  2    is '车辆子品牌';
Comment added
SQL> comment on column BLACK_SEARCHPIC_TASK.yearmodel
  2    is '年款';
Comment added
SQL> comment on column BLACK_SEARCHPIC_TASK.uploadpic
  2    is '检索图片';
Comment added
SQL> comment on column BLACK_SEARCHPIC_TASK.vehicletype
  2    is '车辆类型';
Comment added
SQL> comment on column BLACK_SEARCHPIC_TASK.taskprogress
  2    is '任务进度';
Comment added
SQL> comment on column BLACK_SEARCHPIC_TASK.featurevector
  2    is '特征向量';
Comment added
SQL> comment on column BLACK_SEARCHPIC_TASK.featurevector1
  2    is '特征向量(针对特征图片)';
Comment added
SQL> comment on column BLACK_SEARCHPIC_TASK.fearturecoordinate
  2    is '特征坐标(X:Y:H:W)';
Comment added
SQL> alter table BLACK_SEARCHPIC_TASK
  2    add constraint BLACK_SEARCHPIC_TASK_PK primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table BURST_EVENT
Creating table BURST_EVENT
SQL> prompt ==========================
==========================
SQL> prompt

SQL> -- Create table
SQL> create table BURST_EVENT
  2  (
  3    eventid           VARCHAR2(32),
  4    eventname         NVARCHAR2(200),
  5    detectorid        NVARCHAR2(18),
  6    location          NVARCHAR2(64),
  7    locationid        NVARCHAR2(16),
  8    eventtime         DATE,
  9    eventtypeid       NVARCHAR2(4),
 10    imageurl          NVARCHAR2(128),
 11    status            NUMBER default 0,
 12    processtime       DATE,
 13    processperson     NVARCHAR2(20),
 14    processnotes      NVARCHAR2(256),
 15    isevent           VARCHAR2(2) default 0,
 16    auditor           VARCHAR2(20),
 17    audittime         DATE,
 18    eventsource       VARCHAR2(4),
 19    datauploadtime    DATE,
 20    datasavetime      DATE default sysdate,
 21    eventlevel        NVARCHAR2(1) default '1',
 22    departmentid      NVARCHAR2(20),
 23    areaid            VARCHAR2(8),
 24    endtime           DATE,
 25    roadid            VARCHAR2(20),
 26    roadname          NVARCHAR2(256),
 27    factory           NVARCHAR2(4),
 28    concretetypeid    NVARCHAR2(4),
 29    videourl          NVARCHAR2(2000),
 30    longitude         VARCHAR2(20),
 31    latitude          VARCHAR2(20),
 32    cartype           VARCHAR2(2),
 33    carnumber         VARCHAR2(16),
 34    recordline        CLOB,
 35    ifrelieverelation NUMBER default 0,
 36    relatedeventid    VARCHAR2(32),
 37    ipaddress         NVARCHAR2(32),
 38    sourcesuper       VARCHAR2(2),
 39    reportuserid      VARCHAR2(20),
 40    reportusername    VARCHAR2(20),
 41    phonenum          VARCHAR2(20),
 42    reportertype      VARCHAR2(2),
 43    reportusersex     VARCHAR2(1),
 44    receiverid        VARCHAR2(20),
 45    receivername      VARCHAR2(20),
 46    receiverphone     VARCHAR2(20),
 47    receivertype      VARCHAR2(2),
 48    receivetime       DATE,
 49    casetype          VARCHAR2(2),
 50    addinfo           NVARCHAR2(256),
 51    direction         VARCHAR2(2),
 52    pilenum           VARCHAR2(10),
 53    roadcrossid       VARCHAR2(32),
 54    meter             VARCHAR2(10),
 55    address           NVARCHAR2(256),
 56    similareventid    VARCHAR2(32),
 57    caramount         VARCHAR2(3),
 58    vehicleinfo       NVARCHAR2(256),
 59    duringtime        VARCHAR2(20),
 60    injurynum         VARCHAR2(3),
 61    deathnum          VARCHAR2(3),
 62    disappeartime     DATE,
 63    jamover           VARCHAR2(2),
 64    msgpk             NVARCHAR2(200),
 65    videopreset       VARCHAR2(20),
 66    author            VARCHAR2(100),
 67    url               VARCHAR2(1000),
 68    description       CLOB,
 69    thirdsyscode      VARCHAR2(32),
 70    upgradereason     NVARCHAR2(2000)
 71  )
 72  tablespace HIATMPTS
 73    pctfree 10
 74    initrans 1
 75    maxtrans 255
 76    storage
 77    (
 78      initial 64
 79      next 1
 80      minextents 1
 81      maxextents unlimited
 82    );
Table created
SQL> -- Add comments to the table
SQL> comment on table BURST_EVENT
  2    is '事件报警';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column BURST_EVENT.eventid
  2    is '事件ID';
Comment added
SQL> comment on column BURST_EVENT.eventname
  2    is '事件名称';
Comment added
SQL> comment on column BURST_EVENT.detectorid
  2    is '检测点ID';
Comment added
SQL> comment on column BURST_EVENT.location
  2    is '事件地点';
Comment added
SQL> comment on column BURST_EVENT.locationid
  2    is '事件地点ID';
Comment added
SQL> comment on column BURST_EVENT.eventtime
  2    is '事件时间';
Comment added
SQL> comment on column BURST_EVENT.eventtypeid
  2    is '事件类型(枚举1110)';
Comment added
SQL> comment on column BURST_EVENT.imageurl
  2    is '抓拍图片URL';
Comment added
SQL> comment on column BURST_EVENT.status
  2    is '状态：1已确认，0待确认';
Comment added
SQL> comment on column BURST_EVENT.processtime
  2    is '处理时间';
Comment added
SQL> comment on column BURST_EVENT.processperson
  2    is '事件处理人';
Comment added
SQL> comment on column BURST_EVENT.processnotes
  2    is '处理说明';
Comment added
SQL> comment on column BURST_EVENT.description
  2    is '事件描述';
Comment added
SQL> comment on column BURST_EVENT.isevent
  2    is '是否有效事件（枚举:1001）';
Comment added
SQL> comment on column BURST_EVENT.auditor
  2    is '审核人';
Comment added
SQL> comment on column BURST_EVENT.audittime
  2    is '审核时间';
Comment added
SQL> comment on column BURST_EVENT.eventsource
  2    is '事件来源（枚举：1118）';
Comment added
SQL> comment on column BURST_EVENT.datasavetime
  2    is '入库时间';
Comment added
SQL> comment on column BURST_EVENT.areaid
  2    is '行政辖区';
Comment added
SQL> comment on column BURST_EVENT.endtime
  2    is '结束时间参照信息服务采集接口';
Comment added
SQL> comment on column BURST_EVENT.roadid
  2    is '路段编号';
Comment added
SQL> comment on column BURST_EVENT.roadname
  2    is '路段名称';
Comment added
SQL> comment on column BURST_EVENT.factory
  2    is '生产厂商';
Comment added
SQL> comment on column BURST_EVENT.longitude
  2    is '经度';
Comment added
SQL> comment on column BURST_EVENT.latitude
  2    is '纬度';
Comment added
SQL> comment on column BURST_EVENT.cartype
  2    is '号牌类型';
Comment added
SQL> comment on column BURST_EVENT.carnumber
  2    is '号牌号码';
Comment added
SQL> comment on column BURST_EVENT.recordline
  2    is '备案路线';
Comment added
SQL> comment on column BURST_EVENT.ifrelieverelation
  2    is '是否手动解除关联：0-未手动解除关联，1-已手动解除关联';
Comment added
SQL> comment on column BURST_EVENT.relatedeventid
  2    is '关联的事件id';
Comment added
SQL> comment on column BURST_EVENT.ipaddress
  2    is 'ip地址';
Comment added
SQL> comment on column BURST_EVENT.sourcesuper
  2    is '警情一级来源 0  人工确认，1  自主检测，2  信息服务';
Comment added
SQL> comment on column BURST_EVENT.reportuserid
  2    is '报警人id';
Comment added
SQL> comment on column BURST_EVENT.reportusername
  2    is '报警人姓名';
Comment added
SQL> comment on column BURST_EVENT.phonenum
  2    is '报警人联系电话';
Comment added
SQL> comment on column BURST_EVENT.reportertype
  2    is '报警人类型 0  执法民警，1  普通民警，3  群众';
Comment added
SQL> comment on column BURST_EVENT.reportusersex
  2    is '报警人性别（0：男；1：女；2：未知）';
Comment added
SQL> comment on column BURST_EVENT.receiverid
  2    is '接警人id';
Comment added
SQL> comment on column BURST_EVENT.receivername
  2    is '接警人姓名';
Comment added
SQL> comment on column BURST_EVENT.receiverphone
  2    is '接警人联系电话';
Comment added
SQL> comment on column BURST_EVENT.receivertype
  2    is '接警人类型 0  执法民警，1  普通民警，3  群众';
Comment added
SQL> comment on column BURST_EVENT.receivetime
  2    is '接警时间';
Comment added
SQL> comment on column BURST_EVENT.casetype
  2    is '报警类别（0：实时警情:1：信息调度）';
Comment added
SQL> comment on column BURST_EVENT.addinfo
  2    is '附加信息';
Comment added
SQL> comment on column BURST_EVENT.direction
  2    is '方向';
Comment added
SQL> comment on column BURST_EVENT.pilenum
  2    is '桩号';
Comment added
SQL> comment on column BURST_EVENT.roadcrossid
  2    is '事发路口编号';
Comment added
SQL> comment on column BURST_EVENT.meter
  2    is '米数';
Comment added
SQL> comment on column BURST_EVENT.address
  2    is '具体地址';
Comment added
SQL> comment on column BURST_EVENT.similareventid
  2    is '与之关联的相似警情id';
Comment added
SQL> comment on column BURST_EVENT.caramount
  2    is '涉案车辆的数量（该字段及以下字段为警情类型是03交通事故时填写）';
Comment added
SQL> comment on column BURST_EVENT.vehicleinfo
  2    is '涉案车辆的信息：号牌类型|号牌号码|碰撞部位，多辆车逗号隔开';
Comment added
SQL> comment on column BURST_EVENT.duringtime
  2    is '事发时长，已发生的时间（分钟）';
Comment added
SQL> comment on column BURST_EVENT.injurynum
  2    is '受伤人数';
Comment added
SQL> comment on column BURST_EVENT.deathnum
  2    is '死亡人数';
Comment added
SQL> comment on column BURST_EVENT.disappeartime
  2    is '信号自主检测拥堵警情消散时间';
Comment added
SQL> comment on column BURST_EVENT.jamover
  2    is '信号自主检测拥堵警情消散状态';
Comment added
SQL> comment on column BURST_EVENT.msgpk
  2    is '信号自主检测拥堵警情唯一标识';
Comment added
SQL> comment on column BURST_EVENT.thirdsyscode
  2    is '第三方编号';
Comment added
SQL> comment on column BURST_EVENT.upgradereason
  2    is '升级原因';
Comment added
SQL> create index TIMECX on BURST_EVENT (EVENTTIME);
Index created
SQL> alter table BURST_EVENT
  2    add constraint BURST_EVENT_PRIMARY primary key (EVENTID);
Table altered
SQL> prompt

SQL> prompt Creating table BURST_EVENT_PRE
Creating table BURST_EVENT_PRE
SQL> prompt ==============================
==============================
SQL> prompt

SQL> create table BURST_EVENT_PRE
  2  (
  3    eventid        VARCHAR2(32) not null,
  4    eventname      NVARCHAR2(30),
  5    detectorid     NVARCHAR2(18),
  6    location       NVARCHAR2(64),
  7    locationid     NVARCHAR2(16),
  8    eventtime      DATE,
  9    eventtypeid    NVARCHAR2(4),
 10    imageurl       NVARCHAR2(128),
 11    status         NUMBER default 0 not null,
 12    processtime    DATE,
 13    processperson  NVARCHAR2(20),
 14    processnotes   NVARCHAR2(256),
 15    description    NVARCHAR2(256),
 16    isevent        VARCHAR2(2) default 0,
 17    auditor        VARCHAR2(20),
 18    audittime      DATE,
 19    eventsource    VARCHAR2(4) not null,
 20    datauploadtime DATE,
 21    datasavetime   DATE default sysdate,
 22    eventlevel     NVARCHAR2(1) default '1',
 23    departmentid   NVARCHAR2(20),
 24    areaid         VARCHAR2(6),
 25    endtime        DATE,
 26    roadid         VARCHAR2(20),
 27    roadname       NVARCHAR2(256),
 28    factory        NVARCHAR2(4),
 29    concretetypeid NVARCHAR2(4),
 30    videourl       NVARCHAR2(130),
 31    longitude      VARCHAR2(20),
 32    latitude       VARCHAR2(20),
 33    cartype        VARCHAR2(2),
 34    carnumber      VARCHAR2(16),
 35    recordline     CLOB
 36  )
 37  ;
Table created
SQL> comment on table BURST_EVENT_PRE
  2    is '事件报警';
Comment added
SQL> comment on column BURST_EVENT_PRE.eventid
  2    is '事件ID';
Comment added
SQL> comment on column BURST_EVENT_PRE.eventname
  2    is '事件名称';
Comment added
SQL> comment on column BURST_EVENT_PRE.detectorid
  2    is '检测点ID';
Comment added
SQL> comment on column BURST_EVENT_PRE.location
  2    is '事件地点';
Comment added
SQL> comment on column BURST_EVENT_PRE.locationid
  2    is '事件地点ID';
Comment added
SQL> comment on column BURST_EVENT_PRE.eventtime
  2    is '事件时间';
Comment added
SQL> comment on column BURST_EVENT_PRE.eventtypeid
  2    is '事件类型ID:01-违章停车 02-行人违章 03-逆向行驶 04-交通拥堵 05-车辆遗洒 06-烟雾报警 07-火焰报警 08-超速行驶 09-低速行驶 10-违章变线 11-撞车';
Comment added
SQL> comment on column BURST_EVENT_PRE.imageurl
  2    is '抓拍图片URL';
Comment added
SQL> comment on column BURST_EVENT_PRE.status
  2    is '状态：1已确认，0待确认';
Comment added
SQL> comment on column BURST_EVENT_PRE.processtime
  2    is '处理时间';
Comment added
SQL> comment on column BURST_EVENT_PRE.processperson
  2    is '事件处理人';
Comment added
SQL> comment on column BURST_EVENT_PRE.processnotes
  2    is '处理说明';
Comment added
SQL> comment on column BURST_EVENT_PRE.description
  2    is '事件描述';
Comment added
SQL> comment on column BURST_EVENT_PRE.isevent
  2    is '是否有效事件 (0:无效 1:有效不派警 2:有效已派警)';
Comment added
SQL> comment on column BURST_EVENT_PRE.auditor
  2    is '审核人';
Comment added
SQL> comment on column BURST_EVENT_PRE.audittime
  2    is '审核时间';
Comment added
SQL> comment on column BURST_EVENT_PRE.eventsource
  2    is '事件来源';
Comment added
SQL> comment on column BURST_EVENT_PRE.areaid
  2    is '行政辖区';
Comment added
SQL> comment on column BURST_EVENT_PRE.endtime
  2    is '结束时间参照信息服务采集接口';
Comment added
SQL> comment on column BURST_EVENT_PRE.roadid
  2    is '路段编号';
Comment added
SQL> comment on column BURST_EVENT_PRE.roadname
  2    is '路段名称';
Comment added
SQL> comment on column BURST_EVENT_PRE.factory
  2    is '生产厂商';
Comment added
SQL> comment on column BURST_EVENT_PRE.longitude
  2    is '经度';
Comment added
SQL> comment on column BURST_EVENT_PRE.latitude
  2    is '纬度';
Comment added
SQL> comment on column BURST_EVENT_PRE.cartype
  2    is '号牌类型';
Comment added
SQL> comment on column BURST_EVENT_PRE.carnumber
  2    is '号牌号码';
Comment added
SQL> comment on column BURST_EVENT_PRE.recordline
  2    is '备案路线';
Comment added
SQL> create index IDX_BURST_EVENT_PRE_U1 on BURST_EVENT_PRE (EVENTTIME, EVENTTYPEID);
Index created
SQL> alter table BURST_EVENT_PRE
  2    add constraint BURST_EVENT_PRE_PRIMARY primary key (EVENTID);
Table altered
SQL> prompt

SQL> prompt Creating table CJDB_SJ
Creating table CJDB_SJ
SQL> prompt ======================
======================
SQL> prompt

SQL> create table CJDB_SJ
  2  (
  3    xzqh   VARCHAR2(6),
  4    jjdbh  VARCHAR2(20),
  5    cjdbh  VARCHAR2(30) not null,
  6    cjdwbm NUMBER(12),
  7    cjyxm  VARCHAR2(18),
  8    cjsj   DATE,
  9    cjlyh  VARCHAR2(14),
 10    cjyj   VARCHAR2(800),
 11    cjdwdm NUMBER(12),
 12    sjdwdm NUMBER(12),
 13    sjyxm  VARCHAR2(8),
 14    pdjssj DATE,
 15    scbz   NUMBER(1) default 0,
 16    hcbz   NUMBER(1) default 0,
 17    cjdzt  NUMBER(2),
 18    sjgxsj DATE,
 19    zdpjsj DATE,
 20    sth    VARCHAR2(50),
 21    jch    VARCHAR2(50),
 22    dcsj   DATE
 23  )
 24  ;
Table created
SQL> comment on table CJDB_SJ
  2    is '处警单表';
Comment added
SQL> comment on column CJDB_SJ.xzqh
  2    is '行政区划';
Comment added
SQL> comment on column CJDB_SJ.jjdbh
  2    is '接警单编号';
Comment added
SQL> comment on column CJDB_SJ.cjdbh
  2    is '处警单编号';
Comment added
SQL> comment on column CJDB_SJ.cjdwbm
  2    is '处警单位编码';
Comment added
SQL> comment on column CJDB_SJ.cjyxm
  2    is '处警员姓名';
Comment added
SQL> comment on column CJDB_SJ.cjsj
  2    is '处警时间';
Comment added
SQL> comment on column CJDB_SJ.cjlyh
  2    is '处警录音号';
Comment added
SQL> comment on column CJDB_SJ.cjyj
  2    is '处警意见';
Comment added
SQL> comment on column CJDB_SJ.cjdwdm
  2    is '出警单位代码';
Comment added
SQL> comment on column CJDB_SJ.sjdwdm
  2    is '受警单位代码';
Comment added
SQL> comment on column CJDB_SJ.sjyxm
  2    is '受警员姓名';
Comment added
SQL> comment on column CJDB_SJ.pdjssj
  2    is '派单接收时间';
Comment added
SQL> comment on column CJDB_SJ.scbz
  2    is '上传标志';
Comment added
SQL> comment on column CJDB_SJ.hcbz
  2    is '回传标志';
Comment added
SQL> comment on column CJDB_SJ.cjdzt
  2    is '处警单状态';
Comment added
SQL> comment on column CJDB_SJ.sjgxsj
  2    is '数据更新时间';
Comment added
SQL> comment on column CJDB_SJ.zdpjsj
  2    is '支队派警时间';
Comment added
SQL> comment on column CJDB_SJ.sth
  2    is '手台号';
Comment added
SQL> comment on column CJDB_SJ.jch
  2    is '警车号';
Comment added
SQL> comment on column CJDB_SJ.dcsj
  2    is '到场时间';
Comment added
SQL> create unique index IDX_CJDB_SJ1 on CJDB_SJ (JJDBH, CJDBH);
Index created
SQL> create index IDX_CJDB_SJ2 on CJDB_SJ (CJSJ, CJDWDM, CJDZT);
Index created
SQL> create index IDX_CJDB_SJ_HCBZ on CJDB_SJ (HCBZ);
Index created
SQL> alter table CJDB_SJ
  2    add constraint PK_CJDB_SJ primary key (CJDBH);
Table altered
SQL> prompt

SQL> prompt Creating table COMMON_POSITION_PRESET
Creating table COMMON_POSITION_PRESET
SQL> prompt =====================================
=====================================
SQL> prompt

SQL> create table COMMON_POSITION_PRESET
  2  (
  3    id           VARCHAR2(32) not null,
  4    line_id      VARCHAR2(32) not null,
  5    deviceid     VARCHAR2(32) not null,
  6    pre_id       NVARCHAR2(18) not null,
  7    pre_name     NVARCHAR2(64) not null,
  8    playing_time VARCHAR2(3) not null,
  9    sort_number  VARCHAR2(10) not null,
 10    create_user  VARCHAR2(20) not null,
 11    create_time  DATE default SYSDATE,
 12    delete_flag  CHAR(1) default '0'
 13  )
 14  ;
Table created
SQL> prompt

SQL> prompt Creating table COMM_DESCRIPTION
Creating table COMM_DESCRIPTION
SQL> prompt ===============================
===============================
SQL> prompt

SQL> create table COMM_DESCRIPTION
  2  (
  3    nid       NVARCHAR2(32) not null,
  4    enumvalue NUMBER,
  5    cdescribe NVARCHAR2(100)
  6  )
  7  ;
Table created
SQL> comment on table COMM_DESCRIPTION
  2    is '常用警情描述';
Comment added
SQL> alter table COMM_DESCRIPTION
  2    add constraint DESC_PK_1 primary key (NID);
Table altered
SQL> prompt

SQL> prompt Creating table CONSTRUCTION
Creating table CONSTRUCTION
SQL> prompt ===========================
===========================
SQL> prompt

SQL> create table CONSTRUCTION
  2  (
  3    projectname        NVARCHAR2(32) not null,
  4    location           NVARCHAR2(32),
  5    starttime          DATE,
  6    endtime            DATE,
  7    constructor        NVARCHAR2(32),
  8    contactperson      NVARCHAR2(16),
  9    contactmode        NVARCHAR2(32),
 10    description        NVARCHAR2(256),
 11    status             NUMBER default 0 not null,
 12    sectionid          NVARCHAR2(20),
 13    influencedsections VARCHAR2(4000),
 14    longitude          NVARCHAR2(10),
 15    latitude           NVARCHAR2(10),
 16    effectarea         NVARCHAR2(1000),
 17    type               NVARCHAR2(2),
 18    direction          NVARCHAR2(20),
 19    exit               NVARCHAR2(20),
 20    enter              NVARCHAR2(20),
 21    constructdept      NVARCHAR2(100),
 22    specificmeasures   NVARCHAR2(500),
 23    constructname      NVARCHAR2(100),
 24    id                 VARCHAR2(32) not null
 25  )
 26  tablespace HIATMPTS
 27    pctfree 10
 28    initrans 1
 29    maxtrans 255
 30    storage
 31    (
 32      initial 64K
 33      next 8K
 34      minextents 1
 35      maxextents unlimited
 36    );
Table created
SQL> comment on column CONSTRUCTION.projectname
  2    is '项目名称';
Comment added
SQL> comment on column CONSTRUCTION.location
  2    is '项目位置';
Comment added
SQL> comment on column CONSTRUCTION.starttime
  2    is '开始时间';
Comment added
SQL> comment on column CONSTRUCTION.endtime
  2    is '结束时间';
Comment added
SQL> comment on column CONSTRUCTION.constructor
  2    is '施工单位';
Comment added
SQL> comment on column CONSTRUCTION.contactperson
  2    is '联系人';
Comment added
SQL> comment on column CONSTRUCTION.contactmode
  2    is '联系方式';
Comment added
SQL> comment on column CONSTRUCTION.description
  2    is '项目简要说明';
Comment added
SQL> comment on column CONSTRUCTION.status
  2    is '状态:  0 - 未完成, 1 - 已完成';
Comment added
SQL> comment on column CONSTRUCTION.sectionid
  2    is '项目所在路段ID';
Comment added
SQL> comment on column CONSTRUCTION.influencedsections
  2    is '受影响路段ID, 路段ID之间以逗号分隔';
Comment added
SQL> comment on column CONSTRUCTION.longitude
  2    is '位置经度';
Comment added
SQL> comment on column CONSTRUCTION.latitude
  2    is '位置纬度';
Comment added
SQL> comment on column CONSTRUCTION.effectarea
  2    is '影响区域';
Comment added
SQL> comment on column CONSTRUCTION.type
  2    is '管制类型 (枚举值：16002)';
Comment added
SQL> comment on column CONSTRUCTION.direction
  2    is '方向  (枚举值：16004)  ';
Comment added
SQL> comment on column CONSTRUCTION.exit
  2    is '出口  (枚举值：16006)  ';
Comment added
SQL> comment on column CONSTRUCTION.enter
  2    is '进口  (枚举值：16005)';
Comment added
SQL> comment on column CONSTRUCTION.constructdept
  2    is '管制单位';
Comment added
SQL> comment on column CONSTRUCTION.specificmeasures
  2    is '具体措施';
Comment added
SQL> comment on column CONSTRUCTION.constructname
  2    is '管制名称';
Comment added
SQL> comment on column CONSTRUCTION.id
  2    is 'uuid';
Comment added
SQL> alter table CONSTRUCTION
  2    add constraint CONSTRUCTION_PRIMARY primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> prompt

SQL> prompt Creating table CONTROL_TYPE_PARAM
Creating table CONTROL_TYPE_PARAM
SQL> prompt =================================
=================================
SQL> prompt

SQL> create table CONTROL_TYPE_PARAM
  2  (
  3    controltypeno       VARCHAR2(20) not null,
  4    allowdelete         CHAR(1) default 0,
  5    operationid         VARCHAR2(32),
  6    parentcontroltypeno VARCHAR2(20),
  7    areaid              CHAR(6)
  8  )
  9  ;
Table created
SQL> comment on column CONTROL_TYPE_PARAM.controltypeno
  2    is '布控类型编号';
Comment added
SQL> comment on column CONTROL_TYPE_PARAM.allowdelete
  2    is '是否允许删除，0不允许，1允许';
Comment added
SQL> comment on column CONTROL_TYPE_PARAM.operationid
  2    is '操作ID';
Comment added
SQL> comment on column CONTROL_TYPE_PARAM.parentcontroltypeno
  2    is '布控类型父ID';
Comment added
SQL> comment on column CONTROL_TYPE_PARAM.areaid
  2    is '区域ID，部门前6位';
Comment added
SQL> alter table CONTROL_TYPE_PARAM
  2    add constraint CONTROL_TYPE_PARAM primary key (CONTROLTYPENO);
Table altered
SQL> prompt

SQL> prompt Creating table CUSTOMED_AREA_INFO
Creating table CUSTOMED_AREA_INFO
SQL> prompt =================================
=================================
SQL> prompt

SQL> create table CUSTOMED_AREA_INFO
  2  (
  3    id           VARCHAR2(32) not null,
  4    areatype     VARCHAR2(2) not null,
  5    areaname     NVARCHAR2(20) not null,
  6    description  NVARCHAR2(300),
  7    departmentid VARCHAR2(12) not null,
  8    createuser   VARCHAR2(6) not null,
  9    createtime   DATE not null,
 10    arealocation VARCHAR2(3000) not null,
 11    deleteflag   CHAR(1) default 1
 12  )
 13  ;
Table created
SQL> comment on column CUSTOMED_AREA_INFO.id
  2    is '主键
  3  ';
Comment added
SQL> comment on column CUSTOMED_AREA_INFO.areatype
  2    is '枚举，区域类型
  3  ';
Comment added
SQL> comment on column CUSTOMED_AREA_INFO.areaname
  2    is '自定义区域名称
  3  ';
Comment added
SQL> comment on column CUSTOMED_AREA_INFO.description
  2    is '该区域描述
  3  ';
Comment added
SQL> comment on column CUSTOMED_AREA_INFO.departmentid
  2    is '制作人所属部门id
  3  ';
Comment added
SQL> comment on column CUSTOMED_AREA_INFO.createuser
  2    is '创建人';
Comment added
SQL> comment on column CUSTOMED_AREA_INFO.createtime
  2    is '创建时间';
Comment added
SQL> comment on column CUSTOMED_AREA_INFO.arealocation
  2    is '区域地理位置
  3  ';
Comment added
SQL> comment on column CUSTOMED_AREA_INFO.deleteflag
  2    is '删除标志  1有效，0删除
  3  默认1';
Comment added
SQL> alter table CUSTOMED_AREA_INFO
  2    add constraint ID3 primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table CUSTOMED_CONFIG_INFO
Creating table CUSTOMED_CONFIG_INFO
SQL> prompt ===================================
===================================
SQL> prompt

SQL> create table CUSTOMED_CONFIG_INFO
  2  (
  3    id    VARCHAR2(32) not null,
  4    video VARCHAR2(3000),
  5    road  VARCHAR2(3000)
  6  )
  7  ;
Table created
SQL> comment on table CUSTOMED_CONFIG_INFO
  2    is '态势监控--专题区域--配置视频和路段信息';
Comment added
SQL> comment on column CUSTOMED_CONFIG_INFO.id
  2    is '专题区域外键';
Comment added
SQL> comment on column CUSTOMED_CONFIG_INFO.video
  2    is '配置的视频信息，逗号分隔';
Comment added
SQL> comment on column CUSTOMED_CONFIG_INFO.road
  2    is '配置的路段信息，逗号分隔';
Comment added
SQL> alter table CUSTOMED_CONFIG_INFO
  2    add constraint CUSTOMED_CONFIG_INFO_ID primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table DEPARTMENT
Creating table DEPARTMENT
SQL> prompt =========================
=========================
SQL> prompt

SQL> create table DEPARTMENT
  2  (
  3    cdepartmentid    NVARCHAR2(12) not null,
  4    cdepartmentcode  NCHAR(12) not null,
  5    parentdepartment NVARCHAR2(12) not null,
  6    cdepartmentname  NVARCHAR2(50) not null,
  7    nlevel           NCHAR(1) not null,
  8    awardedagencies  NVARCHAR2(10),
  9    cprincipal       NVARCHAR2(20),
 10    ctelephone       NVARCHAR2(40),
 11    cdescription     NVARCHAR2(255),
 12    departmentflag   NCHAR(1),
 13    deptshortname    NVARCHAR2(50),
 14    innerdeptflag    CHAR(1),
 15    dataauthority    CHAR(1),
 16    equipdeptflag    CHAR(1),
 17    haibodeptid      VARCHAR2(100),
 18    workaddress      NVARCHAR2(100)
 19  )
 20  ;
Table created
SQL> comment on table DEPARTMENT
  2    is '部门信息表';
Comment added
SQL> comment on column DEPARTMENT.cdepartmentid
  2    is '部门ID';
Comment added
SQL> comment on column DEPARTMENT.cdepartmentcode
  2    is '部门代码';
Comment added
SQL> comment on column DEPARTMENT.parentdepartment
  2    is '上级部门';
Comment added
SQL> comment on column DEPARTMENT.cdepartmentname
  2    is '部门名称';
Comment added
SQL> comment on column DEPARTMENT.nlevel
  2    is '级别(1-总队，2-支队，3-大队，4-中队)';
Comment added
SQL> comment on column DEPARTMENT.awardedagencies
  2    is '管辖区域';
Comment added
SQL> comment on column DEPARTMENT.cprincipal
  2    is '负责人';
Comment added
SQL> comment on column DEPARTMENT.ctelephone
  2    is '电话';
Comment added
SQL> comment on column DEPARTMENT.cdescription
  2    is '描述';
Comment added
SQL> comment on column DEPARTMENT.departmentflag
  2    is '部门类别（1-业务部门 0-行政单位）';
Comment added
SQL> comment on column DEPARTMENT.deptshortname
  2    is '部门简称';
Comment added
SQL> comment on column DEPARTMENT.innerdeptflag
  2    is '1,内部部门；0,非内部部门';
Comment added
SQL> comment on column DEPARTMENT.dataauthority
  2    is '0,本部门权限； 1,上级部门权限； 2,全局权限';
Comment added
SQL> comment on column DEPARTMENT.equipdeptflag
  2    is '0,是；1,否';
Comment added
SQL> comment on column DEPARTMENT.haibodeptid
  2    is '海博WebService部门ID';
Comment added
SQL> comment on column DEPARTMENT.workaddress
  2    is '办公地点';
Comment added
SQL> create index IDX_PARENTDEPTID on DEPARTMENT (PARENTDEPARTMENT);
Index created
SQL> alter table DEPARTMENT
  2    add constraint DEPARTMENT_PK primary key (CDEPARTMENTID);
Table altered
SQL> prompt

SQL> prompt Creating table DEPARTMENT_AREA_GEOMETRY
Creating table DEPARTMENT_AREA_GEOMETRY
SQL> prompt =======================================
=======================================
SQL> prompt

SQL> create table DEPARTMENT_AREA_GEOMETRY
  2  (
  3    cdepartmentid VARCHAR2(32),
  4    geometry      MDSYS.SDO_GEOMETRY,
  5    points        VARCHAR2(1000)
  6  )
  7  ;
Table created
SQL> prompt

SQL> prompt Creating table DETECT_SPEED_DATA
Creating table DETECT_SPEED_DATA
SQL> prompt ================================
================================
SQL> prompt

SQL> create table DETECT_SPEED_DATA
  2  (
  3    nid                 VARCHAR2(32) not null,
  4    clicensetype        VARCHAR2(2),
  5    ccarnumber          VARCHAR2(16),
  6    dcollectiondate     DATE not null,
  7    caddresscode        VARCHAR2(12),
  8    ccollectionaddress  VARCHAR2(200),
  9    ccollectionagencies VARCHAR2(12),
 10    cdatasource         VARCHAR2(2),
 11    csnaptype           CHAR(1),
 12    cdevicecode         VARCHAR2(18),
 13    clanenumber         VARCHAR2(2),
 14    nvehiclespeed       NUMBER(3) not null,
 15    cpic1path           VARCHAR2(400) not null,
 16    cpic2path           VARCHAR2(400),
 17    cpic3path           VARCHAR2(400),
 18    nderictrion         NUMBER(2),
 19    carcolor            NVARCHAR2(4),
 20    carbrand            NVARCHAR2(4),
 21    chiscarnumber       VARCHAR2(16),
 22    targettype          VARCHAR2(4),
 23    xywh                VARCHAR2(400),
 24    datauploadtime      DATE,
 25    datasavetime        DATE default sysdate,
 26    mqtime              DATE,
 27    platecolor          VARCHAR2(2),
 28    vehicletype         VARCHAR2(3),
 29    carno               VARCHAR2(16),
 30    subbrand            NVARCHAR2(3),
 31    yearmodel           NVARCHAR2(2),
 32    mainsunvisor        CHAR(1),
 33    vicesunvisor        CHAR(1),
 34    mainsafebelt        CHAR(1),
 35    vicesafebelt        CHAR(1),
 36    phonecall           CHAR(1),
 37    dangervehicle       CHAR(1),
 38    oricarno            VARCHAR2(16),
 39    oriplatecolor       VARCHAR2(2),
 40    oriclicensetype     VARCHAR2(2),
 41    oricarcolor         CHAR(1),
 42    orivehicletype      VARCHAR2(3),
 43    oricarbrand         NVARCHAR2(3),
 44    orisubbrand         NVARCHAR2(3),
 45    oriyearmodel        NVARCHAR2(2),
 46    orimainsunvisor     CHAR(1),
 47    orivicesunvisor     CHAR(1),
 48    orinalmainsafebelt  CHAR(1),
 49    orivicesafebelt     CHAR(1),
 50    oriphonecall        CHAR(1),
 51    oridangervehicle    CHAR(1),
 52    exceptionmsg        VARCHAR2(100),
 53    isrecognize         CHAR(1),
 54    reupload            CHAR(1)
 55  )
 56  partition by range (DCOLLECTIONDATE) interval (NUMTODSINTERVAL(1,'DAY'))
 57  (
 58    partition DSD_P1 values less than (TO_DATE(' 2016-06-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 59      tablespace DETECTTS_01,
 60    partition SYS_P81 values less than (TO_DATE(' 2016-06-05 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 61      tablespace HIATMPTS,
 62    partition SYS_P82 values less than (TO_DATE(' 2016-06-11 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 63      tablespace HIATMPTS,
 64    partition SYS_P83 values less than (TO_DATE(' 2016-06-23 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 65      tablespace HIATMPTS,
 66    partition SYS_P84 values less than (TO_DATE(' 2016-06-25 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 67      tablespace HIATMPTS,
 68    partition SYS_P85 values less than (TO_DATE(' 2016-06-27 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 69      tablespace HIATMPTS,
 70    partition SYS_P86 values less than (TO_DATE(' 2016-06-29 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 71      tablespace HIATMPTS,
 72    partition SYS_P668 values less than (TO_DATE(' 2017-03-31 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 73      tablespace HIATMPTS,
 74    partition SYS_P778 values less than (TO_DATE(' 2017-05-05 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 75      tablespace HIATMPTS,
 76    partition SYS_P779 values less than (TO_DATE(' 2017-05-07 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 77      tablespace HIATMPTS,
 78    partition SYS_P780 values less than (TO_DATE(' 2017-05-08 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 79      tablespace HIATMPTS,
 80    partition SYS_P1349 values less than (TO_DATE(' 2017-10-25 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 81      tablespace HIATMPTS,
 82    partition SYS_P1388 values less than (TO_DATE(' 2017-10-26 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 83      tablespace HIATMPTS,
 84    partition SYS_P1428 values less than (TO_DATE(' 2017-10-27 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 85      tablespace HIATMPTS,
 86    partition SYS_P1466 values less than (TO_DATE(' 2017-10-28 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 87      tablespace HIATMPTS,
 88    partition SYS_P1492 values less than (TO_DATE(' 2017-11-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 89      tablespace HIATMPTS,
 90    partition SYS_P1527 values less than (TO_DATE(' 2017-11-07 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 91      tablespace HIATMPTS,
 92    partition SYS_P1530 values less than (TO_DATE(' 2017-11-08 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 93      tablespace HIATMPTS,
 94    partition SYS_P1668 values less than (TO_DATE(' 2018-01-31 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 95      tablespace HIATMPTS,
 96    partition SYS_P1669 values less than (TO_DATE(' 2018-02-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 97      tablespace HIATMPTS,
 98    partition SYS_P1673 values less than (TO_DATE(' 2018-02-02 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 99      tablespace HIATMPTS,
100    partition SYS_P22 values less than (TO_DATE(' 2018-02-09 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
101      tablespace HIATMPTS,
102    partition SYS_P21 values less than (TO_DATE(' 2018-02-10 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
103      tablespace HIATMPTS
104  );
Table created
SQL> comment on table DETECT_SPEED_DATA
  2    is '过车数据表';
Comment added
SQL> comment on column DETECT_SPEED_DATA.nid
  2    is '数据库自动编号';
Comment added
SQL> comment on column DETECT_SPEED_DATA.clicensetype
  2    is '号牌种类';
Comment added
SQL> comment on column DETECT_SPEED_DATA.ccarnumber
  2    is '号牌号码';
Comment added
SQL> comment on column DETECT_SPEED_DATA.dcollectiondate
  2    is '采集时间';
Comment added
SQL> comment on column DETECT_SPEED_DATA.caddresscode
  2    is '采集地点编号';
Comment added
SQL> comment on column DETECT_SPEED_DATA.ccollectionaddress
  2    is '采集地点名称';
Comment added
SQL> comment on column DETECT_SPEED_DATA.ccollectionagencies
  2    is '采集机关编号';
Comment added
SQL> comment on column DETECT_SPEED_DATA.cdatasource
  2    is '数据来源';
Comment added
SQL> comment on column DETECT_SPEED_DATA.csnaptype
  2    is '抓拍类型';
Comment added
SQL> comment on column DETECT_SPEED_DATA.cdevicecode
  2    is '设备编号';
Comment added
SQL> comment on column DETECT_SPEED_DATA.clanenumber
  2    is '车道编号';
Comment added
SQL> comment on column DETECT_SPEED_DATA.nvehiclespeed
  2    is '车辆速度';
Comment added
SQL> comment on column DETECT_SPEED_DATA.cpic1path
  2    is '图片1路径';
Comment added
SQL> comment on column DETECT_SPEED_DATA.cpic2path
  2    is '图片2路径';
Comment added
SQL> comment on column DETECT_SPEED_DATA.cpic3path
  2    is '图片3路径';
Comment added
SQL> comment on column DETECT_SPEED_DATA.nderictrion
  2    is '方向编号';
Comment added
SQL> comment on column DETECT_SPEED_DATA.carcolor
  2    is '车身颜色';
Comment added
SQL> comment on column DETECT_SPEED_DATA.carbrand
  2    is '车标';
Comment added
SQL> comment on column DETECT_SPEED_DATA.targettype
  2    is '目标类型 01-机动车，02-非机动车，03-行人';
Comment added
SQL> comment on column DETECT_SPEED_DATA.xywh
  2    is '号牌特征图片信息';
Comment added
SQL> comment on column DETECT_SPEED_DATA.datauploadtime
  2    is '数据上传时间';
Comment added
SQL> comment on column DETECT_SPEED_DATA.mqtime
  2    is 'MQ时间';
Comment added
SQL> comment on column DETECT_SPEED_DATA.platecolor
  2    is '号牌颜色';
Comment added
SQL> comment on column DETECT_SPEED_DATA.vehicletype
  2    is '车辆类型';
Comment added
SQL> comment on column DETECT_SPEED_DATA.carno
  2    is '原始号牌号码';
Comment added
SQL> comment on column DETECT_SPEED_DATA.subbrand
  2    is '车辆子品牌';
Comment added
SQL> comment on column DETECT_SPEED_DATA.yearmodel
  2    is '车辆年款';
Comment added
SQL> comment on column DETECT_SPEED_DATA.mainsunvisor
  2    is '主驾遮阳板 0-未识别，1-打开，2-关闭';
Comment added
SQL> comment on column DETECT_SPEED_DATA.vicesunvisor
  2    is '副驾遮阳板
  3  0-未识别，1-打开，2-关闭';
Comment added
SQL> comment on column DETECT_SPEED_DATA.mainsafebelt
  2    is '主驾安全带 0-未识别，1-系，2-未系';
Comment added
SQL> comment on column DETECT_SPEED_DATA.vicesafebelt
  2    is '副驾安全带 0-未识别，1-系，2-未系';
Comment added
SQL> comment on column DETECT_SPEED_DATA.phonecall
  2    is '主驾打电话 0-未识别，1-打，2-未打';
Comment added
SQL> comment on column DETECT_SPEED_DATA.dangervehicle
  2    is '危险品车   0-否，1-是';
Comment added
SQL> comment on column DETECT_SPEED_DATA.oricarno
  2    is '一次识别-号牌号码';
Comment added
SQL> comment on column DETECT_SPEED_DATA.oriplatecolor
  2    is '一次识别-号牌颜色';
Comment added
SQL> comment on column DETECT_SPEED_DATA.oriclicensetype
  2    is '一次识别-号牌种类';
Comment added
SQL> comment on column DETECT_SPEED_DATA.oricarcolor
  2    is '一次识别-车身颜色';
Comment added
SQL> comment on column DETECT_SPEED_DATA.orivehicletype
  2    is '一次识别-车辆类型';
Comment added
SQL> comment on column DETECT_SPEED_DATA.oricarbrand
  2    is '一次识别-车辆品牌';
Comment added
SQL> comment on column DETECT_SPEED_DATA.orisubbrand
  2    is '一次识别-车辆子品牌';
Comment added
SQL> comment on column DETECT_SPEED_DATA.oriyearmodel
  2    is '一次识别-车辆年款';
Comment added
SQL> comment on column DETECT_SPEED_DATA.orimainsunvisor
  2    is '一次识别-主驾遮阳板(0-未识别，1-打开，2-关闭)';
Comment added
SQL> comment on column DETECT_SPEED_DATA.orivicesunvisor
  2    is '一次识别-副驾遮阳板(0-未识别，1-打开，2-关闭)';
Comment added
SQL> comment on column DETECT_SPEED_DATA.orinalmainsafebelt
  2    is '一次识别-主驾安全带(0-未识别，1-系，2-未系)';
Comment added
SQL> comment on column DETECT_SPEED_DATA.orivicesafebelt
  2    is '一次识别-副驾安全带(0-未识别，1-系，2-未系)';
Comment added
SQL> comment on column DETECT_SPEED_DATA.oriphonecall
  2    is '一次识别-主驾打电话(0-未识别，1-打，2-未打)';
Comment added
SQL> comment on column DETECT_SPEED_DATA.oridangervehicle
  2    is '一次识别-危险品车（0-否，1-是）';
Comment added
SQL> comment on column DETECT_SPEED_DATA.exceptionmsg
  2    is '异常信息';
Comment added
SQL> comment on column DETECT_SPEED_DATA.isrecognize
  2    is '二次识别标志位  0-未进行二次识别，1-已进行二次识别';
Comment added
SQL> comment on column DETECT_SPEED_DATA.reupload
  2    is '是否重传 0-非重传数据，1-重传数据';
Comment added
SQL> create index IDX_CARNUM_DATA_ADDRESS on DETECT_SPEED_DATA (CCARNUMBER, DCOLLECTIONDATE, CADDRESSCODE)
  2    local;
Index created
SQL> create index IDX_CARNUM_TYPE_DATA_ADDRESS on DETECT_SPEED_DATA (CCARNUMBER, CLICENSETYPE, DCOLLECTIONDATE, CADDRESSCODE)
  2    local;
Index created
SQL> create index IDX_DATE_ADDRESS on DETECT_SPEED_DATA (DCOLLECTIONDATE, CADDRESSCODE)
  2    local;
Index created
SQL> create unique index PK_DETECT_SPEED_DATA on DETECT_SPEED_DATA (NID, DCOLLECTIONDATE)
  2    local;
Index created
SQL> prompt

SQL> prompt Creating table DEVICE_CONCRETETYPE_INFO
Creating table DEVICE_CONCRETETYPE_INFO
SQL> prompt =======================================
=======================================
SQL> prompt

SQL> create table DEVICE_CONCRETETYPE_INFO
  2  (
  3    id           VARCHAR2(32) not null,
  4    deviceid     NVARCHAR2(18) not null,
  5    concretetype VARCHAR2(8)
  6  )
  7  ;
Table created
SQL> comment on column DEVICE_CONCRETETYPE_INFO.id
  2    is 'id';
Comment added
SQL> comment on column DEVICE_CONCRETETYPE_INFO.deviceid
  2    is '设备id';
Comment added
SQL> comment on column DEVICE_CONCRETETYPE_INFO.concretetype
  2    is '类型id';
Comment added
SQL> alter table DEVICE_CONCRETETYPE_INFO
  2    add constraint PRI_DCID primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table DEVICE_SECTION
Creating table DEVICE_SECTION
SQL> prompt =============================
=============================
SQL> prompt

SQL> create table DEVICE_SECTION
  2  (
  3    id        NVARCHAR2(18) not null,
  4    deviceid  NVARCHAR2(18),
  5    sectionid NVARCHAR2(8)
  6  )
  7  ;
Table created
SQL> comment on column DEVICE_SECTION.id
  2    is 'id';
Comment added
SQL> comment on column DEVICE_SECTION.deviceid
  2    is '设备编号';
Comment added
SQL> comment on column DEVICE_SECTION.sectionid
  2    is '路段编号';
Comment added
SQL> alter table DEVICE_SECTION
  2    add constraint DEVICE_SECTION_PK primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table DIGROAD
Creating table DIGROAD
SQL> prompt ======================
======================
SQL> prompt

SQL> create table DIGROAD
  2  (
  3    nid                  NVARCHAR2(32) not null,
  4    projectname          NVARCHAR2(100),
  5    begindate            DATE,
  6    enddate              DATE,
  7    digdept              NVARCHAR2(100),
  8    respman_phone        VARCHAR2(15),
  9    respman              NVARCHAR2(50),
 10    chairman             NVARCHAR2(50),
 11    principal            NVARCHAR2(50),
 12    telephone            VARCHAR2(15),
 13    isdiversion          CHAR(1),
 14    diversionplan        NVARCHAR2(512),
 15    digroaddesc          NVARCHAR2(512),
 16    requestdept          NVARCHAR2(100),
 17    requestpersonid      CHAR(32),
 18    requestdesc          NVARCHAR2(512),
 19    requestdate          DATE,
 20    digtype              CHAR(1),
 21    imagepath            NVARCHAR2(255),
 22    csubdepartmentid     NVARCHAR2(64),
 23    cdepartmentid        NVARCHAR2(64),
 24    digperiod            CHAR(1),
 25    sidewalk_length      NUMBER(10,2),
 26    sidewalk_width       NUMBER(10,2),
 27    sidewalk_area        NUMBER(16,2),
 28    carway_length        NUMBER(10,2),
 29    carway_width         NUMBER(10,2),
 30    carway_area          NUMBER(16,2),
 31    digperiod_starttime  VARCHAR2(10),
 32    digperiod_endtime    VARCHAR2(10),
 33    longitude            NUMBER(13,6),
 34    latitude             NUMBER(13,6),
 35    facility_desc        NVARCHAR2(512),
 36    position_files       VARCHAR2(255),
 37    diversion_files      VARCHAR2(255),
 38    digroad_info         NVARCHAR2(100),
 39    taskid               VARCHAR2(50),
 40    digtype_desc         NVARCHAR2(255),
 41    nodeid               VARCHAR2(32),
 42    nodename             VARCHAR2(100),
 43    task_status          VARCHAR2(2) default 0,
 44    isinner              VARCHAR2(2),
 45    areatype             CHAR(1) default 1,
 46    startpoint           VARCHAR2(50),
 47    endpoint             VARCHAR2(50),
 48    installdirection     CHAR(1) default 0,
 49    lanenum              VARCHAR2(100),
 50    coordinate_type      VARCHAR2(1) default 2,
 51    longitudeandlatitude VARCHAR2(512),
 52    isdelay              VARCHAR2(1),
 53    requestcode          VARCHAR2(11),
 54    sectionid            VARCHAR2(50),
 55    startaddress         VARCHAR2(100),
 56    endaddress           VARCHAR2(100)
 57  )
 58  tablespace HIATMPTS
 59    pctfree 10
 60    initrans 1
 61    maxtrans 255
 62    storage
 63    (
 64      initial 64K
 65      next 1M
 66      minextents 1
 67      maxextents unlimited
 68    );
Table created
SQL> comment on table DIGROAD
  2    is '占掘路';
Comment added
SQL> comment on column DIGROAD.nid
  2    is 'UUID';
Comment added
SQL> comment on column DIGROAD.projectname
  2    is '工程名称  (天津启用)';
Comment added
SQL> comment on column DIGROAD.begindate
  2    is '工程开始时间   (天津启用)';
Comment added
SQL> comment on column DIGROAD.enddate
  2    is '工程结束时间   (天津启用)';
Comment added
SQL> comment on column DIGROAD.digdept
  2    is '施工单位   (天津启用)';
Comment added
SQL> comment on column DIGROAD.respman_phone
  2    is '经办人联系方式   (天津启用)';
Comment added
SQL> comment on column DIGROAD.respman
  2    is '经办人   (天津启用)';
Comment added
SQL> comment on column DIGROAD.chairman
  2    is '法人代表';
Comment added
SQL> comment on column DIGROAD.principal
  2    is '责任人';
Comment added
SQL> comment on column DIGROAD.telephone
  2    is '责任人联系方式';
Comment added
SQL> comment on column DIGROAD.isdiversion
  2    is '是否调流   (天津启用,是否审核  枚举14001)';
Comment added
SQL> comment on column DIGROAD.diversionplan
  2    is '调流方案';
Comment added
SQL> comment on column DIGROAD.digroaddesc
  2    is '工程描述  (天津启用)';
Comment added
SQL> comment on column DIGROAD.requestdept
  2    is '申请单位';
Comment added
SQL> comment on column DIGROAD.requestpersonid
  2    is '申请人';
Comment added
SQL> comment on column DIGROAD.requestdesc
  2    is '申请理由';
Comment added
SQL> comment on column DIGROAD.requestdate
  2    is '申请日期     (天津启用,系统录入时间)';
Comment added
SQL> comment on column DIGROAD.digtype
  2    is '施工形式  0半封闭  1全封闭';
Comment added
SQL> comment on column DIGROAD.imagepath
  2    is '图片路径';
Comment added
SQL> comment on column DIGROAD.csubdepartmentid
  2    is '分管中队';
Comment added
SQL> comment on column DIGROAD.cdepartmentid
  2    is '分管大队  (天津启用)';
Comment added
SQL> comment on column DIGROAD.digperiod
  2    is '施工时段 1全天  2夜间  3白天';
Comment added
SQL> comment on column DIGROAD.sidewalk_length
  2    is '占用人行道长';
Comment added
SQL> comment on column DIGROAD.sidewalk_width
  2    is '占用人行道宽';
Comment added
SQL> comment on column DIGROAD.sidewalk_area
  2    is '占用人行道面积';
Comment added
SQL> comment on column DIGROAD.carway_length
  2    is '占用车行道长';
Comment added
SQL> comment on column DIGROAD.carway_width
  2    is '占用车行道宽';
Comment added
SQL> comment on column DIGROAD.carway_area
  2    is '占用车行道面积';
Comment added
SQL> comment on column DIGROAD.digperiod_starttime
  2    is '占用时间段开始时间';
Comment added
SQL> comment on column DIGROAD.digperiod_endtime
  2    is '占用时间段结束时间';
Comment added
SQL> comment on column DIGROAD.longitude
  2    is '经度';
Comment added
SQL> comment on column DIGROAD.latitude
  2    is '纬度 ';
Comment added
SQL> comment on column DIGROAD.facility_desc
  2    is '设施变动信息';
Comment added
SQL> comment on column DIGROAD.position_files
  2    is '位置图';
Comment added
SQL> comment on column DIGROAD.diversion_files
  2    is '调流图';
Comment added
SQL> comment on column DIGROAD.digroad_info
  2    is '占用 道路名   (天津启用)';
Comment added
SQL> comment on column DIGROAD.taskid
  2    is '工作流任务编号   (天津启用,局批号)';
Comment added
SQL> comment on column DIGROAD.digtype_desc
  2    is '施工形式描述(占用 道路信息)：占用道路东侧，距西侧3米';
Comment added
SQL> comment on column DIGROAD.nodeid
  2    is '待执行结点编号';
Comment added
SQL> comment on column DIGROAD.nodename
  2    is '待执行结点名称';
Comment added
SQL> comment on column DIGROAD.task_status
  2    is '任务状态   1已结束  0进行中   (天津启用, 枚举14002)';
Comment added
SQL> comment on column DIGROAD.isinner
  2    is '是否内网申请,1是';
Comment added
SQL> comment on column DIGROAD.areatype
  2    is '1：市区，2：高速';
Comment added
SQL> comment on column DIGROAD.startpoint
  2    is '开始桩号 ';
Comment added
SQL> comment on column DIGROAD.endpoint
  2    is '结束桩号';
Comment added
SQL> comment on column DIGROAD.installdirection
  2    is '方向（0：上行，1：下行）';
Comment added
SQL> comment on column DIGROAD.lanenum
  2    is '占用车道1-5';
Comment added
SQL> comment on column DIGROAD.longitudeandlatitude
  2    is '(天津启用,  地图坐标集合)';
Comment added
SQL> comment on column DIGROAD.isdelay
  2    is '是否超期  (天津启用  0否  1是)';
Comment added
SQL> comment on column DIGROAD.requestcode
  2    is '申请编号  打印时生成';
Comment added
SQL> comment on column DIGROAD.startaddress
  2    is ' (天津新增,  施工路段起点)';
Comment added
SQL> comment on column DIGROAD.endaddress
  2    is ' (天津新增,  施工路段终点)';
Comment added
SQL> alter table DIGROAD
  2    add constraint DIGROAD_PK primary key (NID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> prompt

SQL> prompt Creating table DISTRICT
Creating table DISTRICT
SQL> prompt =======================
=======================
SQL> prompt

SQL> create table DISTRICT
  2  (
  3    id            VARCHAR2(32) not null,
  4    dept_id       VARCHAR2(12),
  5    district_code VARCHAR2(20),
  6    district_name VARCHAR2(100),
  7    coordinate    CLOB,
  8    remark        NVARCHAR2(100),
  9    short_name    VARCHAR2(100),
 10    color         VARCHAR2(2)
 11  )
 12  ;
Table created
SQL> comment on table DISTRICT
  2    is '辖区表';
Comment added
SQL> comment on column DISTRICT.id
  2    is 'UUID';
Comment added
SQL> comment on column DISTRICT.dept_id
  2    is '部门表ID';
Comment added
SQL> comment on column DISTRICT.district_code
  2    is '辖区编号(来自市局PGIS服务)';
Comment added
SQL> comment on column DISTRICT.district_name
  2    is '辖区名称(来自市局PGIS服务)';
Comment added
SQL> comment on column DISTRICT.coordinate
  2    is '辖区坐标(来自市局PGIS服务)';
Comment added
SQL> comment on column DISTRICT.remark
  2    is '备注';
Comment added
SQL> comment on column DISTRICT.short_name
  2    is '辖区简称(平台自定义辖区名称)';
Comment added
SQL> comment on column DISTRICT.color
  2    is '地图显示辖区颜色(枚举值)';
Comment added
SQL> create index IDX_DISTRICT_DEPT_ID on DISTRICT (DEPT_ID);
Index created
SQL> alter table DISTRICT
  2    add constraint PRI_DISTRICT primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table DTPMS_EXPERTSYSTEM_UTCACTIONS
Creating table DTPMS_EXPERTSYSTEM_UTCACTIONS
SQL> prompt ============================================
============================================
SQL> prompt

SQL> create table DTPMS_EXPERTSYSTEM_UTCACTIONS
  2  (
  3    id        VARCHAR2(32) not null,
  4    location  VARCHAR2(8),
  5    direction VARCHAR2(8),
  6    color     VARCHAR2(8),
  7    actions   VARCHAR2(8),
  8    seconds   VARCHAR2(8),
  9    actionid  VARCHAR2(32) not null,
 10    periods   VARCHAR2(8)
 11  )
 12  ;
Table created
SQL> alter table DTPMS_EXPERTSYSTEM_UTCACTIONS
  2    add constraint UTCACTIONS_PRIMARY_ID primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table DVS_CARNUM_ONWAY
Creating table DVS_CARNUM_ONWAY
SQL> prompt ===============================
===============================
SQL> prompt

SQL> create table DVS_CARNUM_ONWAY
  2  (
  3    allcarnum     NUMBER(10),
  4    foreigncarnum NUMBER(10),
  5    servicecarnum NUMBER(10),
  6    computedate   DATE,
  7    insertdate    DATE default sysdate
  8  )
  9  ;
Table created
SQL> comment on column DVS_CARNUM_ONWAY.allcarnum
  2    is '在途车辆数';
Comment added
SQL> comment on column DVS_CARNUM_ONWAY.foreigncarnum
  2    is '外地车数';
Comment added
SQL> comment on column DVS_CARNUM_ONWAY.servicecarnum
  2    is '出租车数';
Comment added
SQL> comment on column DVS_CARNUM_ONWAY.computedate
  2    is '计算时间';
Comment added
SQL> comment on column DVS_CARNUM_ONWAY.insertdate
  2    is '入库时间';
Comment added
SQL> prompt

SQL> prompt Creating table DVS_GS_CARNUM_ONWAY
Creating table DVS_GS_CARNUM_ONWAY
SQL> prompt ==================================
==================================
SQL> prompt

SQL> create table DVS_GS_CARNUM_ONWAY
  2  (
  3    allcarnum     NUMBER(10),
  4    foreigncarnum NUMBER(10),
  5    bigcarnum     NUMBER(10),
  6    computedate   DATE,
  7    insertdate    DATE default sysdate
  8  )
  9  ;
Table created
SQL> comment on column DVS_GS_CARNUM_ONWAY.allcarnum
  2    is '在途车辆数';
Comment added
SQL> comment on column DVS_GS_CARNUM_ONWAY.foreigncarnum
  2    is '外地车数';
Comment added
SQL> comment on column DVS_GS_CARNUM_ONWAY.bigcarnum
  2    is '大型车数';
Comment added
SQL> comment on column DVS_GS_CARNUM_ONWAY.computedate
  2    is '计算时间';
Comment added
SQL> comment on column DVS_GS_CARNUM_ONWAY.insertdate
  2    is '入库时间';
Comment added
SQL> prompt

SQL> prompt Creating table DVS_INDEX_CONFIG
Creating table DVS_INDEX_CONFIG
SQL> prompt ===============================
===============================
SQL> prompt

SQL> create table DVS_INDEX_CONFIG
  2  (
  3    element_id     VARCHAR2(32) not null,
  4    element_name   VARCHAR2(100),
  5    element_type   VARCHAR2(1) not null,
  6    element_config VARCHAR2(4000) not null,
  7    update_time    DATE,
  8    carousel       VARCHAR2(2),
  9    element_model  VARCHAR2(20),
 10    element_owner  VARCHAR2(20)
 11  )
 12  ;
Table created
SQL> comment on column DVS_INDEX_CONFIG.element_id
  2    is '元素唯一编号';
Comment added
SQL> comment on column DVS_INDEX_CONFIG.element_name
  2    is '元素名称';
Comment added
SQL> comment on column DVS_INDEX_CONFIG.element_type
  2    is '元素类型 1-排版元素，3-地图控制版元素';
Comment added
SQL> comment on column DVS_INDEX_CONFIG.element_config
  2    is '元素页面配置json对象';
Comment added
SQL> comment on column DVS_INDEX_CONFIG.update_time
  2    is '最新更新时间';
Comment added
SQL> comment on column DVS_INDEX_CONFIG.carousel
  2    is '分屏序号，排版元素独有，从0开始';
Comment added
SQL> comment on column DVS_INDEX_CONFIG.element_model
  2    is '元素属于的模式 0-市区模式 1-高速模式';
Comment added
SQL> comment on column DVS_INDEX_CONFIG.element_owner
  2    is '元素拥有者ID';
Comment added
SQL> alter table DVS_INDEX_CONFIG
  2    add constraint DVS_INDEX_CONFIG_ID primary key (ELEMENT_ID);
Table altered
SQL> prompt

SQL> prompt Creating table DVS_INOUTCITY_FLOW
Creating table DVS_INOUTCITY_FLOW
SQL> prompt =================================
=================================
SQL> prompt

SQL> create table DVS_INOUTCITY_FLOW
  2  (
  3    inoutflag      CHAR(1) not null,
  4    allcarnum      NUMBER(10) not null,
  5    foreigncarnum  NUMBER(10) not null,
  6    forbigcarnum   NUMBER(10) not null,
  7    forothercarnum NUMBER(10) not null,
  8    bigcarnum      NUMBER(10) not null,
  9    bigloccarnum   NUMBER(10) not null,
 10    bigforcarnum   NUMBER(10) not null,
 11    computedate    DATE not null,
 12    insertdate     DATE default sysdate not null
 13  )
 14  ;
Table created
SQL> comment on table DVS_INOUTCITY_FLOW
  2    is '市区可视化看板进出城车流';
Comment added
SQL> comment on column DVS_INOUTCITY_FLOW.inoutflag
  2    is '进出城标志，0-进城，1-出城';
Comment added
SQL> comment on column DVS_INOUTCITY_FLOW.allcarnum
  2    is '车辆总数';
Comment added
SQL> comment on column DVS_INOUTCITY_FLOW.foreigncarnum
  2    is '外地车总数';
Comment added
SQL> comment on column DVS_INOUTCITY_FLOW.forbigcarnum
  2    is '外地车中的大型车总数';
Comment added
SQL> comment on column DVS_INOUTCITY_FLOW.forothercarnum
  2    is '外地车中的其他车型总数';
Comment added
SQL> comment on column DVS_INOUTCITY_FLOW.bigcarnum
  2    is '大型车总数';
Comment added
SQL> comment on column DVS_INOUTCITY_FLOW.bigloccarnum
  2    is '大型车中的本地车总数';
Comment added
SQL> comment on column DVS_INOUTCITY_FLOW.bigforcarnum
  2    is '大型车中的外地车总数';
Comment added
SQL> comment on column DVS_INOUTCITY_FLOW.computedate
  2    is '计算时间';
Comment added
SQL> comment on column DVS_INOUTCITY_FLOW.insertdate
  2    is '入库时间';
Comment added
SQL> prompt

SQL> prompt Creating table DVS_INOUTGS_FLOW
Creating table DVS_INOUTGS_FLOW
SQL> prompt ===============================
===============================
SQL> prompt

SQL> create table DVS_INOUTGS_FLOW
  2  (
  3    innum       NUMBER(10),
  4    outnum      NUMBER(10),
  5    computedate DATE,
  6    insertdate  DATE default sysdate
  7  )
  8  ;
Table created
SQL> comment on table DVS_INOUTGS_FLOW
  2    is '进出高速流量统计表';
Comment added
SQL> comment on column DVS_INOUTGS_FLOW.innum
  2    is '进高速流量';
Comment added
SQL> comment on column DVS_INOUTGS_FLOW.outnum
  2    is '出高速流量';
Comment added
SQL> comment on column DVS_INOUTGS_FLOW.computedate
  2    is '计算时间';
Comment added
SQL> comment on column DVS_INOUTGS_FLOW.insertdate
  2    is '入库时间';
Comment added
SQL> create index IDX_COMPUTEDATE on DVS_INOUTGS_FLOW (COMPUTEDATE);
Index created
SQL> prompt

SQL> prompt Creating table DVS_MAP
Creating table DVS_MAP
SQL> prompt ======================
======================
SQL> prompt

SQL> create table DVS_MAP
  2  (
  3    id   NVARCHAR2(50),
  4    name NVARCHAR2(50),
  5    flag VARCHAR2(1)
  6  )
  7  ;
Table created
SQL> comment on column DVS_MAP.id
  2    is '地图开关id';
Comment added
SQL> comment on column DVS_MAP.name
  2    is '地图开关名称';
Comment added
SQL> comment on column DVS_MAP.flag
  2    is '0--市区 1--高速';
Comment added
SQL> prompt

SQL> prompt Creating table DVS_THEME
Creating table DVS_THEME
SQL> prompt ========================
========================
SQL> prompt

SQL> create table DVS_THEME
  2  (
  3    themeid     NVARCHAR2(50) not null,
  4    title       NVARCHAR2(100) not null,
  5    height      NUMBER not null,
  6    flag        VARCHAR2(1) not null,
  7    implication NVARCHAR2(500),
  8    district    VARCHAR2(1)
  9  )
 10  ;
Table created
SQL> comment on column DVS_THEME.themeid
  2    is '主题ID';
Comment added
SQL> comment on column DVS_THEME.title
  2    is '主题名称';
Comment added
SQL> comment on column DVS_THEME.height
  2    is '主题页面高度';
Comment added
SQL> comment on column DVS_THEME.flag
  2    is '展示主题  0-半宽 1-全宽';
Comment added
SQL> comment on column DVS_THEME.implication
  2    is '主题含义';
Comment added
SQL> comment on column DVS_THEME.district
  2    is '区域标识 0-市区 1-高速 无-同时适用';
Comment added
SQL> alter table DVS_THEME
  2    add constraint THEMEID primary key (THEMEID);
Table altered
SQL> prompt

SQL> prompt Creating table ENUM_DEFINE
Creating table ENUM_DEFINE
SQL> prompt ==========================
==========================
SQL> prompt

SQL> -- Create table
SQL> create table ENUM_DEFINE
  2  (
  3    enumtypeid   INTEGER not null,
  4    enumname     NVARCHAR2(200),
  5    enumdescribe NVARCHAR2(500),
  6    doflag       CHAR(1)
  7  )
  8  tablespace HIATMPTS
  9    pctfree 10
 10    initrans 1
 11    maxtrans 255
 12    storage
 13    (
 14      initial 64
 15      next 8
 16      minextents 1
 17      maxextents unlimited
 18    );
Table created
SQL> -- Add comments to the columns
SQL> comment on column ENUM_DEFINE.enumtypeid
  2    is '枚举类型号，>1的整数';
Comment added
SQL> comment on column ENUM_DEFINE.enumname
  2    is '枚举名称';
Comment added
SQL> comment on column ENUM_DEFINE.enumdescribe
  2    is '枚举描述';
Comment added
SQL> comment on column ENUM_DEFINE.doflag
  2    is '标志位';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table ENUM_DEFINE
  2    add constraint ENUM_DEFINE_PK primary key (ENUMTYPEID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> prompt

SQL> prompt Creating table ENUM_TYPE
Creating table ENUM_TYPE
SQL> prompt ========================
========================
SQL> prompt

SQL> -- Create table
SQL> create table ENUM_TYPE
  2  (
  3    enumtypeid INTEGER not null,
  4    enumvalue  VARCHAR2(20) not null,
  5    enumname   NVARCHAR2(2000) not null,
  6    isdefault  INTEGER default 0,
  7    dispindex  INTEGER default 0,
  8    valid      INTEGER
  9  )
 10  tablespace HIATMPTS
 11    pctfree 10
 12    initrans 1
 13    maxtrans 255
 14    storage
 15    (
 16      initial 64
 17      next 8
 18      minextents 1
 19      maxextents unlimited
 20    );
Table created
SQL> -- Add comments to the columns
SQL> comment on column ENUM_TYPE.enumtypeid
  2    is '枚举类型号，>1的整数';
Comment added
SQL> comment on column ENUM_TYPE.enumvalue
  2    is '枚举成员常量，>=0的整数';
Comment added
SQL> comment on column ENUM_TYPE.enumname
  2    is '枚举成员名称';
Comment added
SQL> comment on column ENUM_TYPE.isdefault
  2    is '是否缺省值';
Comment added
SQL> comment on column ENUM_TYPE.dispindex
  2    is '显示顺序';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table ENUM_TYPE
  2    add constraint ENUM_TYPE_PK primary key (ENUMTYPEID, ENUMVALUE)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> prompt

SQL> prompt Creating table EQUIPMENT_INFO
Creating table EQUIPMENT_INFO
SQL> prompt =============================
=============================
SQL> prompt

SQL> -- Create table
SQL> create table EQUIPMENT_INFO
  2  (
  3    deviceid               NVARCHAR2(18) not null,
  4    devicecode             NVARCHAR2(8) not null,
  5    devicename             NVARCHAR2(64),
  6    devicetype             NVARCHAR2(2) not null,
  7    deviceip               NVARCHAR2(20),
  8    lanenum                NVARCHAR2(2),
  9    provider               NVARCHAR2(32),
 10    devicemodel            NVARCHAR2(32),
 11    providedate            DATE,
 12    departmentid           NVARCHAR2(12) not null,
 13    pointid                NVARCHAR2(16),
 14    matrixcode             NVARCHAR2(16),
 15    channelcode            NVARCHAR2(16),
 16    thirdsyscode           NVARCHAR2(22),
 17    remark                 NVARCHAR2(64),
 18    image                  BLOB,
 19    ctrlflag               NVARCHAR2(1),
 20    dvruser                NVARCHAR2(20),
 21    dvrpwd                 NVARCHAR2(50),
 22    dvrport                INTEGER,
 23    channelcount           INTEGER,
 24    illegaladdrid          NVARCHAR2(12),
 25    logicchannel           INTEGER,
 26    belongto               NVARCHAR2(18),
 27    spell                  NVARCHAR2(20),
 28    direction              NVARCHAR2(3),
 29    csnaptype              CHAR(1),
 30    playtype               CHAR(1),
 31    passfunc               NVARCHAR2(1),
 32    epfunc                 NVARCHAR2(1),
 33    osfunc                 NVARCHAR2(1),
 34    vediofunc              NVARCHAR2(1),
 35    gpsfunc                NVARCHAR2(1),
 36    inducefunc             NVARCHAR2(1),
 37    signalfunc             NVARCHAR2(1),
 38    flowfunc               NVARCHAR2(1),
 39    eventfunc              NVARCHAR2(1),
 40    gpscarno               VARCHAR2(20),
 41    gpsradiono             VARCHAR2(20),
 42    vmstype                CHAR(1),
 43    vmssize                VARCHAR2(20),
 44    gpstype                VARCHAR2(4),
 45    vmsstatus              CHAR(1),
 46    ifuse                  CHAR(1),
 47    belongtoproj           VARCHAR2(100),
 48    zoneid                 VARCHAR2(1),
 49    reclocation            VARCHAR2(1),
 50    camaraname             VARCHAR2(250),
 51    vrmurl                 VARCHAR2(30),
 52    rectype                VARCHAR2(5),
 53    patroltype             VARCHAR2(2),
 54    districttype           VARCHAR2(2),
 55    districtname           VARCHAR2(50),
 56    patroldistrict         VARCHAR2(255),
 57    desprition             NVARCHAR2(800),
 58    triggertype            VARCHAR2(2),
 59    imagelevel             VARCHAR2(2),
 60    electype               VARCHAR2(2),
 61    electposition          VARCHAR2(255),
 62    communicationtype      VARCHAR2(2),
 63    id                     VARCHAR2(32),
 64    passthreshold          INTEGER,
 65    illegalthreshold       INTEGER,
 66    developer              VARCHAR2(2),
 67    area                   VARCHAR2(8),
 68    hikvisionmatrixcode    VARCHAR2(8),
 69    devicestate            VARCHAR2(2),
 70    updateoperator         VARCHAR2(26),
 71    updatetime             DATE default sysdate,
 72    service_level          VARCHAR2(10),
 73    urgent_level           VARCHAR2(2),
 74    ismark                 VARCHAR2(2),
 75    checktype              VARCHAR2(2),
 76    relationvideoid        VARCHAR2(32),
 77    videotype              VARCHAR2(2),
 78    volumntype             VARCHAR2(2),
 79    nationalequipid        VARCHAR2(32),
 80    startlan               VARCHAR2(2),
 81    minlevel               NUMBER,
 82    image1path             VARCHAR2(100),
 83    image2path             VARCHAR2(100),
 84    sectionid              VARCHAR2(18),
 85    service_provider       VARCHAR2(16),
 86    ipcip                  VARCHAR2(50),
 87    filepath               VARCHAR2(200),
 88    build_status           VARCHAR2(2),
 89    imagevideo             VARCHAR2(100),
 90    devicefrom             VARCHAR2(2),
 91    coiltype               VARCHAR2(2),
 92    excepthreshold         NUMBER(8),
 93    belongarea             VARCHAR2(50),
 94    usedepart              VARCHAR2(50),
 95    maintaindepart         VARCHAR2(50),
 96    signaltype             VARCHAR2(50),
 97    pixel                  VARCHAR2(50),
 98    videocodetype          VARCHAR2(50),
 99    cloudmirrorcontrol     VARCHAR2(50),
100    defaultcode            VARCHAR2(100),
101    dvrviewuser            NVARCHAR2(20),
102    dvrviewpwd             NVARCHAR2(20),
103    relationgpsid          NVARCHAR2(50),
104    installaddress         NVARCHAR2(100),
105    upvmsroad              NVARCHAR2(50),
106    downvmsroad            NVARCHAR2(50),
107    upcount                INTEGER,
108    downcount              INTEGER,
109    hpixex                 VARCHAR2(12),
110    vpixex                 VARCHAR2(12),
111    meteorologytype        VARCHAR2(1),
112    mobilecameratype       VARCHAR2(1),
113    islimited              VARCHAR2(1),
114    childtype              VARCHAR2(2),
115    brand                  VARCHAR2(20),
116    istoll                 VARCHAR2(1),
117    pubmodel               VARCHAR2(1),
118    isspeed                VARCHAR2(1),
119    cfstatus               VARCHAR2(1) default 0,
120    build_provider         VARCHAR2(16),
121    befordate              DATE,
122    enddate                DATE,
123    passthresholddetail    VARCHAR2(250),
124    illegalthresholddetail VARCHAR2(250),
125    exceptthresholddetail  VARCHAR2(250),
126    joinstatus             VARCHAR2(2),
127    mileoil                NVARCHAR2(32),
128    departmentiddd         NVARCHAR2(12),
129    cmstype                VARCHAR2(20),
130    xxlb                   VARCHAR2(20)
131  )
132  tablespace HIATMPTS
133    pctfree 10
134    initrans 1
135    maxtrans 255
136    storage
137    (
138      initial 64
139      next 8
140      minextents 1
141      maxextents unlimited
142    );
Table created
SQL> -- Add comments to the columns
SQL> comment on column EQUIPMENT_INFO.deviceid
  2    is '设备编号（12位部门编号+2位设备类型+4设备号）';
Comment added
SQL> comment on column EQUIPMENT_INFO.devicecode
  2    is '设备号，4位数字字符';
Comment added
SQL> comment on column EQUIPMENT_INFO.devicename
  2    is '设备名称';
Comment added
SQL> comment on column EQUIPMENT_INFO.devicetype
  2    is '设备类型（对应枚举 111）';
Comment added
SQL> comment on column EQUIPMENT_INFO.deviceip
  2    is '设备ip';
Comment added
SQL> comment on column EQUIPMENT_INFO.lanenum
  2    is '车道数量 ';
Comment added
SQL> comment on column EQUIPMENT_INFO.provider
  2    is '设备提供商 （对应枚举 902）';
Comment added
SQL> comment on column EQUIPMENT_INFO.devicemodel
  2    is '设备型号';
Comment added
SQL> comment on column EQUIPMENT_INFO.providedate
  2    is '安装日期';
Comment added
SQL> comment on column EQUIPMENT_INFO.departmentid
  2    is '所属部门编号（对应部门表cdepartmentid）';
Comment added
SQL> comment on column EQUIPMENT_INFO.pointid
  2    is '安装点编号（对应安装点表的pointcode）';
Comment added
SQL> comment on column EQUIPMENT_INFO.matrixcode
  2    is '矩阵编号';
Comment added
SQL> comment on column EQUIPMENT_INFO.channelcode
  2    is '通道号';
Comment added
SQL> comment on column EQUIPMENT_INFO.thirdsyscode
  2    is '第三方编号';
Comment added
SQL> comment on column EQUIPMENT_INFO.remark
  2    is '备注信息';
Comment added
SQL> comment on column EQUIPMENT_INFO.image
  2    is '图片';
Comment added
SQL> comment on column EQUIPMENT_INFO.ctrlflag
  2    is '视频设备是否可控';
Comment added
SQL> comment on column EQUIPMENT_INFO.dvruser
  2    is 'DVR用户名';
Comment added
SQL> comment on column EQUIPMENT_INFO.dvrpwd
  2    is 'DVR密码';
Comment added
SQL> comment on column EQUIPMENT_INFO.dvrport
  2    is 'DVR端口号';
Comment added
SQL> comment on column EQUIPMENT_INFO.channelcount
  2    is '通道数量';
Comment added
SQL> comment on column EQUIPMENT_INFO.illegaladdrid
  2    is '违法地点编号';
Comment added
SQL> comment on column EQUIPMENT_INFO.logicchannel
  2    is '视频逻辑编号';
Comment added
SQL> comment on column EQUIPMENT_INFO.belongto
  2    is '所属设备编号';
Comment added
SQL> comment on column EQUIPMENT_INFO.spell
  2    is '拼音简写';
Comment added
SQL> comment on column EQUIPMENT_INFO.direction
  2    is '方向  枚举149';
Comment added
SQL> comment on column EQUIPMENT_INFO.csnaptype
  2    is '抓拍类型(0 无 1 图片 2 视频) 枚举148';
Comment added
SQL> comment on column EQUIPMENT_INFO.playtype
  2    is '播放方式 1:硬盘录像机播放 2:流媒体播放';
Comment added
SQL> comment on column EQUIPMENT_INFO.passfunc
  2    is '卡口过车功能项(1:有  0:无)';
Comment added
SQL> comment on column EQUIPMENT_INFO.epfunc
  2    is '违法抓拍功能项(1:有  0:无)';
Comment added
SQL> comment on column EQUIPMENT_INFO.osfunc
  2    is '超速抓拍功能项(1:有  0:无)';
Comment added
SQL> comment on column EQUIPMENT_INFO.vediofunc
  2    is '视频功能项(1:有  0:无)';
Comment added
SQL> comment on column EQUIPMENT_INFO.gpsfunc
  2    is 'GPS功能项(1:有  0:无)';
Comment added
SQL> comment on column EQUIPMENT_INFO.inducefunc
  2    is '诱导功能项(1:有  0:无)';
Comment added
SQL> comment on column EQUIPMENT_INFO.signalfunc
  2    is '信号功能项(1:有  0:无)';
Comment added
SQL> comment on column EQUIPMENT_INFO.flowfunc
  2    is '流量功能项(1:有  0:无)';
Comment added
SQL> comment on column EQUIPMENT_INFO.eventfunc
  2    is '事件功能项(1:有  0:无)';
Comment added
SQL> comment on column EQUIPMENT_INFO.gpscarno
  2    is 'GPS车牌号码';
Comment added
SQL> comment on column EQUIPMENT_INFO.gpsradiono
  2    is 'GPS呼号';
Comment added
SQL> comment on column EQUIPMENT_INFO.vmstype
  2    is '诱导屏类型 枚举186';
Comment added
SQL> comment on column EQUIPMENT_INFO.vmssize
  2    is '诱导屏尺寸';
Comment added
SQL> comment on column EQUIPMENT_INFO.gpstype
  2    is 'GPS类型 枚举734';
Comment added
SQL> comment on column EQUIPMENT_INFO.vmsstatus
  2    is '1-开启；2-关闭';
Comment added
SQL> comment on column EQUIPMENT_INFO.belongtoproj
  2    is '所属项目（对应项目表project_id）';
Comment added
SQL> comment on column EQUIPMENT_INFO.zoneid
  2    is '网域ID（海康视频历史查询/回放需要的参数  20130424）';
Comment added
SQL> comment on column EQUIPMENT_INFO.reclocation
  2    is '（海康视频历史查询/回放需要的参数  20130424）';
Comment added
SQL> comment on column EQUIPMENT_INFO.camaraname
  2    is '（海康视频历史查询/回放需要的参数  20130424）';
Comment added
SQL> comment on column EQUIPMENT_INFO.vrmurl
  2    is '（海康视频历史查询/回放需要的参数  20130424）';
Comment added
SQL> comment on column EQUIPMENT_INFO.rectype
  2    is '（海康视频历史查询/回放需要的参数  20130424）';
Comment added
SQL> comment on column EQUIPMENT_INFO.patroltype
  2    is '4.0新增列，无备注';
Comment added
SQL> comment on column EQUIPMENT_INFO.districttype
  2    is '4.0新增列，无备注';
Comment added
SQL> comment on column EQUIPMENT_INFO.districtname
  2    is '4.0新增列，无备注';
Comment added
SQL> comment on column EQUIPMENT_INFO.patroldistrict
  2    is '4.0新增列，无备注';
Comment added
SQL> comment on column EQUIPMENT_INFO.desprition
  2    is '4.0新增列 ，设备描述';
Comment added
SQL> comment on column EQUIPMENT_INFO.triggertype
  2    is '4.0新增列，设备触发方式 包括线圈、视频等';
Comment added
SQL> comment on column EQUIPMENT_INFO.imagelevel
  2    is '图像类型-- 高清、标清';
Comment added
SQL> comment on column EQUIPMENT_INFO.electype
  2    is '取电方式-市电、太阳能 枚举819';
Comment added
SQL> comment on column EQUIPMENT_INFO.electposition
  2    is '取电位置';
Comment added
SQL> comment on column EQUIPMENT_INFO.communicationtype
  2    is '通讯方式 无线、光纤';
Comment added
SQL> comment on column EQUIPMENT_INFO.id
  2    is 'id';
Comment added
SQL> comment on column EQUIPMENT_INFO.passthreshold
  2    is '过车阈值    大于此值为正常，小于此值为报警';
Comment added
SQL> comment on column EQUIPMENT_INFO.illegalthreshold
  2    is '违法阈值    大于此值为正常，小于此值为报警';
Comment added
SQL> comment on column EQUIPMENT_INFO.developer
  2    is '建设单位(对应枚举：1025)';
Comment added
SQL> comment on column EQUIPMENT_INFO.area
  2    is '所在市区（对应枚举：1026）';
Comment added
SQL> comment on column EQUIPMENT_INFO.hikvisionmatrixcode
  2    is '矩阵编号（海康）';
Comment added
SQL> comment on column EQUIPMENT_INFO.devicestate
  2    is '设备状态:(枚举100)1正常2停用3拆除4故障5部分故障6申请中7驳回';
Comment added
SQL> comment on column EQUIPMENT_INFO.updateoperator
  2    is '修改人';
Comment added
SQL> comment on column EQUIPMENT_INFO.updatetime
  2    is '更新时间(暂用做‘检测时间’，每次检测设备均更新此时间)';
Comment added
SQL> comment on column EQUIPMENT_INFO.service_level
  2    is '服务级别（对应服务级别表equip_service_level的级别名name）';
Comment added
SQL> comment on column EQUIPMENT_INFO.urgent_level
  2    is '紧急程度（1，紧急 0，一般）枚举82';
Comment added
SQL> comment on column EQUIPMENT_INFO.ismark
  2    is '是否标定 (1，标定  0，未标定)';
Comment added
SQL> comment on column EQUIPMENT_INFO.checktype
  2    is '检测类型  01:自动检测 02:手动上报 (枚举表：74)';
Comment added
SQL> comment on column EQUIPMENT_INFO.relationvideoid
  2    is '关联视频编号';
Comment added
SQL> comment on column EQUIPMENT_INFO.videotype
  2    is '视频子类型';
Comment added
SQL> comment on column EQUIPMENT_INFO.volumntype
  2    is '流量子类型';
Comment added
SQL> comment on column EQUIPMENT_INFO.nationalequipid
  2    is '全国六合一系统设备编号';
Comment added
SQL> comment on column EQUIPMENT_INFO.startlan
  2    is '起始车道号 枚举 151';
Comment added
SQL> comment on column EQUIPMENT_INFO.minlevel
  2    is '设备地图最小显示级别';
Comment added
SQL> comment on column EQUIPMENT_INFO.image1path
  2    is '图片1路径';
Comment added
SQL> comment on column EQUIPMENT_INFO.image2path
  2    is '图片2路径';
Comment added
SQL> comment on column EQUIPMENT_INFO.sectionid
  2    is '路段编号';
Comment added
SQL> comment on column EQUIPMENT_INFO.service_provider
  2    is '维护商(对应维护商表equip_service_provider的维护商编号service_provider_id)';
Comment added
SQL> comment on column EQUIPMENT_INFO.ipcip
  2    is '工控机IP';
Comment added
SQL> comment on column EQUIPMENT_INFO.filepath
  2    is '图片保存路径';
Comment added
SQL> comment on column EQUIPMENT_INFO.build_status
  2    is '建设状态 1:建设中2试运行3启用（枚举值：2019）';
Comment added
SQL> comment on column EQUIPMENT_INFO.imagevideo
  2    is '抓拍视频图片路径';
Comment added
SQL> comment on column EQUIPMENT_INFO.devicefrom
  2    is '设备来源（对应枚举 2016）';
Comment added
SQL> comment on column EQUIPMENT_INFO.excepthreshold
  2    is '异常阈值，流量异常检测用';
Comment added
SQL> comment on column EQUIPMENT_INFO.belongarea
  2    is '所属辖区';
Comment added
SQL> comment on column EQUIPMENT_INFO.usedepart
  2    is '使用单位';
Comment added
SQL> comment on column EQUIPMENT_INFO.maintaindepart
  2    is '维护单位';
Comment added
SQL> comment on column EQUIPMENT_INFO.dvrviewuser
  2    is 'DVR查看权限 用户名';
Comment added
SQL> comment on column EQUIPMENT_INFO.dvrviewpwd
  2    is 'DVR查看权限 用户密码';
Comment added
SQL> comment on column EQUIPMENT_INFO.upvmsroad
  2    is '上行诱导路段（雾区智能诱导）--------';
Comment added
SQL> comment on column EQUIPMENT_INFO.downvmsroad
  2    is '下行诱导路段（雾区智能诱导）--------';
Comment added
SQL> comment on column EQUIPMENT_INFO.upcount
  2    is '上行边缘标数量（雾区智能诱导）--------';
Comment added
SQL> comment on column EQUIPMENT_INFO.downcount
  2    is '下行边缘标数量（雾区智能诱导）--------';
Comment added
SQL> comment on column EQUIPMENT_INFO.hpixex
  2    is '模块解析度宽（水平解析度）-----';
Comment added
SQL> comment on column EQUIPMENT_INFO.vpixex
  2    is '模块解析度高（垂直解析度）-----';
Comment added
SQL> comment on column EQUIPMENT_INFO.meteorologytype
  2    is '气象设备类型';
Comment added
SQL> comment on column EQUIPMENT_INFO.mobilecameratype
  2    is '移动抓拍类型';
Comment added
SQL> comment on column EQUIPMENT_INFO.islimited
  2    is '是否发限速消息（1：发，0：不发）';
Comment added
SQL> comment on column EQUIPMENT_INFO.childtype
  2    is '子类型(以后新增设备所有子类型使用该字段  喊话子类型：4013) ';
Comment added
SQL> comment on column EQUIPMENT_INFO.brand
  2    is '品牌BRAND';
Comment added
SQL> comment on column EQUIPMENT_INFO.istoll
  2    is '1是0否';
Comment added
SQL> comment on column EQUIPMENT_INFO.pubmodel
  2    is '1手动2自动';
Comment added
SQL> comment on column EQUIPMENT_INFO.isspeed
  2    is '卡口是否具备测速功能,0:不具备，1具备';
Comment added
SQL> comment on column EQUIPMENT_INFO.cfstatus
  2    is '处罚状态';
Comment added
SQL> comment on column EQUIPMENT_INFO.build_provider
  2    is '承建商id(维护商表)';
Comment added
SQL> comment on column EQUIPMENT_INFO.befordate
  2    is '在保开始时间';
Comment added
SQL> comment on column EQUIPMENT_INFO.enddate
  2    is '在保结束时间';
Comment added
SQL> comment on column EQUIPMENT_INFO.passthresholddetail
  2    is '具体时间段过车阀值';
Comment added
SQL> comment on column EQUIPMENT_INFO.illegalthresholddetail
  2    is '具体时间段违法阀值';
Comment added
SQL> comment on column EQUIPMENT_INFO.exceptthresholddetail
  2    is '具体时间段异常阀值';
Comment added
SQL> comment on column EQUIPMENT_INFO.joinstatus
  2    is '接入状态（对应枚举2009）';
Comment added
SQL> comment on column EQUIPMENT_INFO.mileoil
  2    is '百公里油耗';
Comment added
SQL> comment on column EQUIPMENT_INFO.departmentiddd
  2    is '所属中队';
Comment added
SQL> comment on column EQUIPMENT_INFO.cmstype
  2    is '视频2.1接口添加平台类型，海康为14，晟磐（320平台）为8';
Comment added
SQL> comment on column EQUIPMENT_INFO.xxlb
  2    is '限行類別';
Comment added
SQL> -- Create/Recreate indexes
SQL> create index IDX_DEVICESTATE_EI on EQUIPMENT_INFO (DEVICESTATE)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> create index IDX_EQUIPMENT_NAME on EQUIPMENT_INFO (DEVICENAME)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> create index IDX_EQUIPMENT_POINTID on EQUIPMENT_INFO (POINTID)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> create index PK_EI_DEVICETYPE on EQUIPMENT_INFO (DEVICETYPE)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table EQUIPMENT_INFO
  2    add constraint PK_EQUIPMENT_INFO primary key (DEVICEID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> prompt

SQL> prompt Creating table EQUIP_CALIBRATION_INFO
Creating table EQUIP_CALIBRATION_INFO
SQL> prompt =====================================
=====================================
SQL> prompt

SQL> create table EQUIP_CALIBRATION_INFO
  2  (
  3    eci_id                     VARCHAR2(32) not null,
  4    deviceid                   VARCHAR2(32),
  5    calibration_warn_date      DATE,
  6    calibration_date           DATE,
  7    calibration_person         VARCHAR2(50),
  8    calibration_person_phone   VARCHAR2(64),
  9    calibration_info           VARCHAR2(500),
 10    calibration_image_path     VARCHAR2(200),
 11    next_calibration_date      DATE,
 12    next_calibration_warn_date DATE,
 13    next_calibration_warn_info VARCHAR2(500),
 14    operator                   VARCHAR2(18),
 15    operator_date              DATE,
 16    islast                     NUMBER(1),
 17    valid_dep                  NUMBER(2),
 18    enable_date                DATE,
 19    calibration_valid_no       VARCHAR2(100),
 20    valid_date                 DATE
 21  )
 22  ;
Table created
SQL> comment on column EQUIP_CALIBRATION_INFO.eci_id
  2    is '主键';
Comment added
SQL> comment on column EQUIP_CALIBRATION_INFO.deviceid
  2    is '设备编号';
Comment added
SQL> comment on column EQUIP_CALIBRATION_INFO.calibration_warn_date
  2    is '本次有效期止';
Comment added
SQL> comment on column EQUIP_CALIBRATION_INFO.calibration_date
  2    is '启用日期';
Comment added
SQL> comment on column EQUIP_CALIBRATION_INFO.calibration_person
  2    is '标定处理人';
Comment added
SQL> comment on column EQUIP_CALIBRATION_INFO.calibration_person_phone
  2    is '标定处理人联系方式';
Comment added
SQL> comment on column EQUIP_CALIBRATION_INFO.calibration_info
  2    is '标定描述';
Comment added
SQL> comment on column EQUIP_CALIBRATION_INFO.calibration_image_path
  2    is '标定图片路径';
Comment added
SQL> comment on column EQUIP_CALIBRATION_INFO.next_calibration_date
  2    is '有效期止';
Comment added
SQL> comment on column EQUIP_CALIBRATION_INFO.next_calibration_warn_date
  2    is '预标定提醒日期';
Comment added
SQL> comment on column EQUIP_CALIBRATION_INFO.next_calibration_warn_info
  2    is '提醒信息';
Comment added
SQL> comment on column EQUIP_CALIBRATION_INFO.operator
  2    is '操作人';
Comment added
SQL> comment on column EQUIP_CALIBRATION_INFO.operator_date
  2    is '操作时间';
Comment added
SQL> comment on column EQUIP_CALIBRATION_INFO.islast
  2    is '是否为最新标定(1,最近一次，0，历史记录)';
Comment added
SQL> comment on column EQUIP_CALIBRATION_INFO.valid_dep
  2    is '设备标定检验部门（枚举值：96）';
Comment added
SQL> comment on column EQUIP_CALIBRATION_INFO.enable_date
  2    is '启用日期';
Comment added
SQL> comment on column EQUIP_CALIBRATION_INFO.calibration_valid_no
  2    is '标定证书标号';
Comment added
SQL> comment on column EQUIP_CALIBRATION_INFO.valid_date
  2    is '验证日期';
Comment added
SQL> alter table EQUIP_CALIBRATION_INFO
  2    add constraint EQUIP_CALIBRATION_INFO_PK primary key (ECI_ID);
Table altered
SQL> prompt

SQL> prompt Creating table EQUIP_INSPECTION_CONFIG
Creating table EQUIP_INSPECTION_CONFIG
SQL> prompt ======================================
======================================
SQL> prompt

SQL> create table EQUIP_INSPECTION_CONFIG
  2  (
  3    id             NUMBER(18) not null,
  4    configid       VARCHAR2(32) not null,
  5    projectid      VARCHAR2(20),
  6    devicetype     NVARCHAR2(2),
  7    start_date     DATE,
  8    data_count_min NUMBER(3),
  9    cycle          NUMBER(3),
 10    state          VARCHAR2(2),
 11    next_date      DATE,
 12    remark         VARCHAR2(100)
 13  )
 14  ;
Table created
SQL> comment on table EQUIP_INSPECTION_CONFIG
  2    is '设备巡检规则配置表';
Comment added
SQL> comment on column EQUIP_INSPECTION_CONFIG.id
  2    is '主键';
Comment added
SQL> comment on column EQUIP_INSPECTION_CONFIG.configid
  2    is '规则编号';
Comment added
SQL> comment on column EQUIP_INSPECTION_CONFIG.projectid
  2    is '所属项目编号';
Comment added
SQL> comment on column EQUIP_INSPECTION_CONFIG.devicetype
  2    is '设备类型编号
  3  ';
Comment added
SQL> comment on column EQUIP_INSPECTION_CONFIG.start_date
  2    is '开始日期
  3  ';
Comment added
SQL> comment on column EQUIP_INSPECTION_CONFIG.data_count_min
  2    is '最小巡检数据量
  3  ';
Comment added
SQL> comment on column EQUIP_INSPECTION_CONFIG.cycle
  2    is '巡检周期（天）
  3  ';
Comment added
SQL> comment on column EQUIP_INSPECTION_CONFIG.state
  2    is '状态（0:未生成任务 1：已生成任务）
  3  ';
Comment added
SQL> comment on column EQUIP_INSPECTION_CONFIG.next_date
  2    is '下次生成任务日期
  3  ';
Comment added
SQL> comment on column EQUIP_INSPECTION_CONFIG.remark
  2    is '备注
  3  ';
Comment added
SQL> alter table EQUIP_INSPECTION_CONFIG
  2    add primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table EQUIP_MAINTAIN_KNOWLEDGE_LIB
Creating table EQUIP_MAINTAIN_KNOWLEDGE_LIB
SQL> prompt ===========================================
===========================================
SQL> prompt

SQL> create table EQUIP_MAINTAIN_KNOWLEDGE_LIB
  2  (
  3    id                 VARCHAR2(32) not null,
  4    devicetype         VARCHAR2(2),
  5    equip_service_flag VARCHAR2(2),
  6    knowledge_desc     NVARCHAR2(500),
  7    order_id           NUMBER(5),
  8    ktype              VARCHAR2(2),
  9    fault_id           VARCHAR2(4)
 10  )
 11  ;
Table created
SQL> comment on column EQUIP_MAINTAIN_KNOWLEDGE_LIB.devicetype
  2    is '设备或服务类型';
Comment added
SQL> comment on column EQUIP_MAINTAIN_KNOWLEDGE_LIB.equip_service_flag
  2    is '1:设备  2：服务';
Comment added
SQL> comment on column EQUIP_MAINTAIN_KNOWLEDGE_LIB.knowledge_desc
  2    is '故障描述';
Comment added
SQL> comment on column EQUIP_MAINTAIN_KNOWLEDGE_LIB.order_id
  2    is '排序';
Comment added
SQL> comment on column EQUIP_MAINTAIN_KNOWLEDGE_LIB.ktype
  2    is '1:故障描述 2:故障原因 3:解决办法 4:逾期原因';
Comment added
SQL> comment on column EQUIP_MAINTAIN_KNOWLEDGE_LIB.fault_id
  2    is '故障编号';
Comment added
SQL> alter table EQUIP_MAINTAIN_KNOWLEDGE_LIB
  2    add constraint EQUIP_MAINTAIN_KL_PK primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table EQUIP_MARK
Creating table EQUIP_MARK
SQL> prompt =========================
=========================
SQL> prompt

SQL> create table EQUIP_MARK
  2  (
  3    pkid            VARCHAR2(36) not null,
  4    devicecode      VARCHAR2(25) not null,
  5    approvestate    VARCHAR2(2) not null,
  6    approvedescribe VARCHAR2(1200),
  7    approvetime     DATE,
  8    auditor         VARCHAR2(20)
  9  )
 10  ;
Table created
SQL> comment on table EQUIP_MARK
  2    is '设备备案';
Comment added
SQL> comment on column EQUIP_MARK.pkid
  2    is '主键';
Comment added
SQL> comment on column EQUIP_MARK.devicecode
  2    is '设备编号';
Comment added
SQL> comment on column EQUIP_MARK.approvestate
  2    is '审批状态（1 通过 0驳回）';
Comment added
SQL> comment on column EQUIP_MARK.approvedescribe
  2    is '审批描述';
Comment added
SQL> comment on column EQUIP_MARK.approvetime
  2    is '审批时间';
Comment added
SQL> comment on column EQUIP_MARK.auditor
  2    is '审批人';
Comment added
SQL> alter table EQUIP_MARK
  2    add constraint EQUIP_MARK_PK primary key (PKID);
Table altered
SQL> prompt

SQL> prompt Creating table EQUIP_SERVICE_LEVEL
Creating table EQUIP_SERVICE_LEVEL
SQL> prompt ==================================
==================================
SQL> prompt

SQL> create table EQUIP_SERVICE_LEVEL
  2  (
  3    id             NUMBER not null,
  4    name           VARCHAR2(3),
  5    responsetime   VARCHAR2(6),
  6    getplacetime   VARCHAR2(6),
  7    finishtime     VARCHAR2(6),
  8    description    VARCHAR2(1024),
  9    sms_alert_flag VARCHAR2(2) default 0
 10  )
 11  ;
Table created
SQL> comment on column EQUIP_SERVICE_LEVEL.sms_alert_flag
  2    is '是否需要短信预警  1：是      0：否';
Comment added
SQL> alter table EQUIP_SERVICE_LEVEL
  2    add constraint PK_EQUIP_SERVICE_LEVEL_ID primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table EQUIP_SERVICE_PROVIDER
Creating table EQUIP_SERVICE_PROVIDER
SQL> prompt =====================================
=====================================
SQL> prompt

SQL> create table EQUIP_SERVICE_PROVIDER
  2  (
  3    service_provider_id   VARCHAR2(16) not null,
  4    service_provider_name VARCHAR2(60) not null,
  5    begin_time            DATE,
  6    end_time              DATE,
  7    service_main_area     VARCHAR2(200),
  8    leader_person         VARCHAR2(64),
  9    leader_person_phone   VARCHAR2(32),
 10    leader_person_address VARCHAR2(128)
 11  )
 12  ;
Table created
SQL> comment on table EQUIP_SERVICE_PROVIDER
  2    is '维护商管理表';
Comment added
SQL> comment on column EQUIP_SERVICE_PROVIDER.service_provider_id
  2    is '设备维护商id';
Comment added
SQL> comment on column EQUIP_SERVICE_PROVIDER.service_provider_name
  2    is '设备维护商名称';
Comment added
SQL> comment on column EQUIP_SERVICE_PROVIDER.begin_time
  2    is '维护开始时间';
Comment added
SQL> comment on column EQUIP_SERVICE_PROVIDER.end_time
  2    is '维护结束时间';
Comment added
SQL> comment on column EQUIP_SERVICE_PROVIDER.service_main_area
  2    is '主要维护区域';
Comment added
SQL> comment on column EQUIP_SERVICE_PROVIDER.leader_person
  2    is '负责人';
Comment added
SQL> comment on column EQUIP_SERVICE_PROVIDER.leader_person_phone
  2    is '负责人联系方式';
Comment added
SQL> comment on column EQUIP_SERVICE_PROVIDER.leader_person_address
  2    is '负责人联系地址';
Comment added
SQL> alter table EQUIP_SERVICE_PROVIDER
  2    add constraint SERVICE_PROVIDER_ID primary key (SERVICE_PROVIDER_ID);
Table altered
SQL> prompt

SQL> prompt Creating table EQUIP_SERVICE_PROVIDER_SMS
Creating table EQUIP_SERVICE_PROVIDER_SMS
SQL> prompt =========================================
=========================================
SQL> prompt

SQL> create table EQUIP_SERVICE_PROVIDER_SMS
  2  (
  3    id                  VARCHAR2(32) not null,
  4    service_provider_id VARCHAR2(16) not null,
  5    connection_name     VARCHAR2(60) not null,
  6    connection_phone    VARCHAR2(32),
  7    isacceptsms         VARCHAR2(1),
  8    operator_id         VARCHAR2(16),
  9    isacceptdispatch    VARCHAR2(1) default 1,
 10    is_useful           VARCHAR2(1) default 1
 11  )
 12  ;
Table created
SQL> comment on table EQUIP_SERVICE_PROVIDER_SMS
  2    is '维护厂商短信配置表';
Comment added
SQL> comment on column EQUIP_SERVICE_PROVIDER_SMS.id
  2    is 'id';
Comment added
SQL> comment on column EQUIP_SERVICE_PROVIDER_SMS.service_provider_id
  2    is '设备维护商id';
Comment added
SQL> comment on column EQUIP_SERVICE_PROVIDER_SMS.connection_name
  2    is '联系人姓名';
Comment added
SQL> comment on column EQUIP_SERVICE_PROVIDER_SMS.connection_phone
  2    is '联系人电话';
Comment added
SQL> comment on column EQUIP_SERVICE_PROVIDER_SMS.isacceptsms
  2    is '1接收短信0不接收短信';
Comment added
SQL> comment on column EQUIP_SERVICE_PROVIDER_SMS.operator_id
  2    is '用户表id';
Comment added
SQL> comment on column EQUIP_SERVICE_PROVIDER_SMS.isacceptdispatch
  2    is '1接收派工，0不接受派工';
Comment added
SQL> comment on column EQUIP_SERVICE_PROVIDER_SMS.is_useful
  2    is '1有用  0作废';
Comment added
SQL> alter table EQUIP_SERVICE_PROVIDER_SMS
  2    add constraint SPID primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table EQUIP_UTC_PLAN
Creating table EQUIP_UTC_PLAN
SQL> prompt =============================
=============================
SQL> prompt

SQL> create table EQUIP_UTC_PLAN
  2  (
  3    deviceid NVARCHAR2(18) not null,
  4    planid   NVARCHAR2(4) not null,
  5    planname NVARCHAR2(64),
  6    describe NVARCHAR2(500),
  7    isuse    VARCHAR2(2)
  8  )
  9  ;
Table created
SQL> comment on column EQUIP_UTC_PLAN.deviceid
  2    is '设备编号(信号机)';
Comment added
SQL> comment on column EQUIP_UTC_PLAN.planid
  2    is '方案编号';
Comment added
SQL> comment on column EQUIP_UTC_PLAN.planname
  2    is '方案名称';
Comment added
SQL> comment on column EQUIP_UTC_PLAN.describe
  2    is '方案描述';
Comment added
SQL> comment on column EQUIP_UTC_PLAN.isuse
  2    is '是否在用(0:未在用， 1:在用)';
Comment added
SQL> alter table EQUIP_UTC_PLAN
  2    add constraint EQUIP_UTC_PLAN_PK primary key (DEVICEID, PLANID);
Table altered
SQL> prompt

SQL> prompt Creating table EQUIP_UTC_VIDEO
Creating table EQUIP_UTC_VIDEO
SQL> prompt ==============================
==============================
SQL> prompt

SQL> create table EQUIP_UTC_VIDEO
  2  (
  3    id        VARCHAR2(32) not null,
  4    utcid     NVARCHAR2(18) not null,
  5    videoid   NVARCHAR2(18) not null,
  6    presetid  NVARCHAR2(18),
  7    direction VARCHAR2(2)
  8  )
  9  ;
Table created
SQL> comment on column EQUIP_UTC_VIDEO.utcid
  2    is '信号设备编号';
Comment added
SQL> comment on column EQUIP_UTC_VIDEO.videoid
  2    is '视频设备编号';
Comment added
SQL> comment on column EQUIP_UTC_VIDEO.presetid
  2    is '预置位编号';
Comment added
SQL> comment on column EQUIP_UTC_VIDEO.direction
  2    is '监控进口方向(144)';
Comment added
SQL> alter table EQUIP_UTC_VIDEO
  2    add constraint EQUIP_UTC_VIDEO_PK primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table EQUIP_VIDEO_PRESET
Creating table EQUIP_VIDEO_PRESET
SQL> prompt =================================
=================================
SQL> prompt

SQL> create table EQUIP_VIDEO_PRESET
  2  (
  3    deviceid     NVARCHAR2(18) not null,
  4    presetid     NVARCHAR2(18) not null,
  5    presetname   NVARCHAR2(64),
  6    describe     NVARCHAR2(500),
  7    presettype   NVARCHAR2(2),
  8    isselect     NVARCHAR2(1),
  9    presethighid VARCHAR2(18)
 10  )
 11  ;
Table created
SQL> comment on column EQUIP_VIDEO_PRESET.deviceid
  2    is '设备编号(视频)';
Comment added
SQL> comment on column EQUIP_VIDEO_PRESET.presetid
  2    is '预置位编号';
Comment added
SQL> comment on column EQUIP_VIDEO_PRESET.presetname
  2    is '预置位名称';
Comment added
SQL> comment on column EQUIP_VIDEO_PRESET.describe
  2    is '预置位描述';
Comment added
SQL> comment on column EQUIP_VIDEO_PRESET.presettype
  2    is '预置位类型（枚举163）';
Comment added
SQL> comment on column EQUIP_VIDEO_PRESET.isselect
  2    is '预案级别';
Comment added
SQL> comment on column EQUIP_VIDEO_PRESET.presethighid
  2    is '高速预制位关联id';
Comment added
SQL> prompt

SQL> prompt Creating table EXCEPTION_OFFER
Creating table EXCEPTION_OFFER
SQL> prompt ==============================
==============================
SQL> prompt

SQL> create table EXCEPTION_OFFER
  2  (
  3    offerid       VARCHAR2(32) not null,
  4    offername     VARCHAR2(400),
  5    exceptioncode NVARCHAR2(16),
  6    exceptionmsg  VARCHAR2(400) not null,
  7    reuploadflag  VARCHAR2(2) not null,
  8    exceptexcuse  VARCHAR2(400)
  9  )
 10  ;
Table created
SQL> comment on table EXCEPTION_OFFER
  2    is '数据异常建议表';
Comment added
SQL> comment on column EXCEPTION_OFFER.offerid
  2    is '建议id';
Comment added
SQL> comment on column EXCEPTION_OFFER.offername
  2    is '建议内容';
Comment added
SQL> comment on column EXCEPTION_OFFER.exceptioncode
  2    is '异常代码';
Comment added
SQL> comment on column EXCEPTION_OFFER.exceptionmsg
  2    is '异常信息';
Comment added
SQL> comment on column EXCEPTION_OFFER.reuploadflag
  2    is '重传标志';
Comment added
SQL> comment on column EXCEPTION_OFFER.exceptexcuse
  2    is '原因分析';
Comment added
SQL> prompt

SQL> prompt Creating table EXPERT_HISTORY
Creating table EXPERT_HISTORY
SQL> prompt =============================
=============================
SQL> prompt

SQL> create table EXPERT_HISTORY
  2  (
  3    uuid           VARCHAR2(32) not null,
  4    caseid         VARCHAR2(32) not null,
  5    history_record VARCHAR2(1024)
  6  )
  7  ;
Table created
SQL> comment on column EXPERT_HISTORY.uuid
  2    is '唯一id';
Comment added
SQL> comment on column EXPERT_HISTORY.caseid
  2    is '警情唯一标识';
Comment added
SQL> comment on column EXPERT_HISTORY.history_record
  2    is '专家处置记录';
Comment added
SQL> prompt

SQL> prompt Creating table FACI_GEOMETRY
Creating table FACI_GEOMETRY
SQL> prompt ============================
============================
SQL> prompt

SQL> create table FACI_GEOMETRY
  2  (
  3    faci_id   VARCHAR2(32) not null,
  4    coordtype VARCHAR2(2),
  5    geometry  MDSYS.SDO_GEOMETRY not null
  6  )
  7  ;
Table created
SQL> alter table FACI_GEOMETRY
  2    add primary key (FACI_ID);
Table altered
SQL> prompt

SQL> prompt Creating table FACI_INFO
Creating table FACI_INFO
SQL> prompt ========================
========================
SQL> prompt

SQL> create table FACI_INFO
  2  (
  3    id               VARCHAR2(32) not null,
  4    code             VARCHAR2(20),
  5    name             NVARCHAR2(50),
  6    typecode1        VARCHAR2(10),
  7    product          VARCHAR2(10),
  8    productdate      DATE,
  9    unit             NUMBER(10,2),
 10    productcode      VARCHAR2(20),
 11    barcode          VARCHAR2(50),
 12    spec             NVARCHAR2(50),
 13    state            VARCHAR2(10),
 14    delflag          VARCHAR2(1) default 0,
 15    createid         VARCHAR2(20),
 16    createtime       DATE,
 17    updateid         VARCHAR2(20),
 18    updatetime       DATE,
 19    remark           NVARCHAR2(512),
 20    typecode2        VARCHAR2(10),
 21    typecode3        VARCHAR2(10),
 22    stockincode      VARCHAR2(20),
 23    stockoutcode     VARCHAR2(20),
 24    yncross          VARCHAR2(4),
 25    roadid1          VARCHAR2(32),
 26    roadid2          VARCHAR2(32),
 27    coordinates      VARCHAR2(1000),
 28    coordtype        VARCHAR2(2),
 29    imageurl1        VARCHAR2(200),
 30    imageurl2        VARCHAR2(200),
 31    imageurl3        VARCHAR2(200),
 32    imageurl4        VARCHAR2(200),
 33    direction        VARCHAR2(12),
 34    inorout          VARCHAR2(2),
 35    hllength         VARCHAR2(12),
 36    areaid           VARCHAR2(12),
 37    dadept           VARCHAR2(16),
 38    zhongdept        VARCHAR2(16),
 39    auditor          VARCHAR2(64),
 40    audit_time       DATE,
 41    audit_suggestion NVARCHAR2(512),
 42    status           VARCHAR2(2),
 43    installaddress   VARCHAR2(50),
 44    installdirection CHAR(1),
 45    crosstype        VARCHAR2(2),
 46    lightnum         NVARCHAR2(150),
 47    sectionid        VARCHAR2(32)
 48  )
 49  ;
Table created
SQL> comment on table FACI_INFO
  2    is '设施信息表';
Comment added
SQL> comment on column FACI_INFO.id
  2    is '数据主键，在表中唯一即可';
Comment added
SQL> comment on column FACI_INFO.code
  2    is '--设施编号';
Comment added
SQL> comment on column FACI_INFO.name
  2    is '设施名称';
Comment added
SQL> comment on column FACI_INFO.typecode1
  2    is '一级分类（对应设施分类配置表的有效的一级分类code）';
Comment added
SQL> comment on column FACI_INFO.product
  2    is '--生产厂家';
Comment added
SQL> comment on column FACI_INFO.productdate
  2    is '--生产日期';
Comment added
SQL> comment on column FACI_INFO.unit
  2    is '--单价（元）';
Comment added
SQL> comment on column FACI_INFO.productcode
  2    is '--生产批次（定单号）';
Comment added
SQL> comment on column FACI_INFO.barcode
  2    is '--条形码';
Comment added
SQL> comment on column FACI_INFO.spec
  2    is '--规格';
Comment added
SQL> comment on column FACI_INFO.state
  2    is '--0：在库 1：出库';
Comment added
SQL> comment on column FACI_INFO.delflag
  2    is '--删除标志位0代表未删除；1代表已删除';
Comment added
SQL> comment on column FACI_INFO.createid
  2    is '--创建者';
Comment added
SQL> comment on column FACI_INFO.createtime
  2    is '--创建时间';
Comment added
SQL> comment on column FACI_INFO.updateid
  2    is '更新者';
Comment added
SQL> comment on column FACI_INFO.updatetime
  2    is '更新时间';
Comment added
SQL> comment on column FACI_INFO.remark
  2    is '备注信息';
Comment added
SQL> comment on column FACI_INFO.typecode2
  2    is '二级分类（对应设施分类配置表的有效的二级分类code）';
Comment added
SQL> comment on column FACI_INFO.typecode3
  2    is '三级分类（对应设施分类配置表的有效的三级分类code）';
Comment added
SQL> comment on column FACI_INFO.stockincode
  2    is '入库单编号';
Comment added
SQL> comment on column FACI_INFO.stockoutcode
  2    is '出库单编号';
Comment added
SQL> comment on column FACI_INFO.yncross
  2    is '是否路口（1：是；0：否）';
Comment added
SQL> comment on column FACI_INFO.roadid1
  2    is '道路名称（对应道路表nid）';
Comment added
SQL> comment on column FACI_INFO.roadid2
  2    is '叉路名称（对应道路表nid）';
Comment added
SQL> comment on column FACI_INFO.coordinates
  2    is '坐标值（通常由平台地图选取设置）';
Comment added
SQL> comment on column FACI_INFO.coordtype
  2    is '坐标类型（通过平台选取坐标值时确定）';
Comment added
SQL> comment on column FACI_INFO.imageurl1
  2    is '图片路径1（有效的图片FTP路径）';
Comment added
SQL> comment on column FACI_INFO.imageurl2
  2    is '图片路径2（有效的图片FTP路径）';
Comment added
SQL> comment on column FACI_INFO.imageurl3
  2    is '图片路径3（有效的图片FTP路径）';
Comment added
SQL> comment on column FACI_INFO.imageurl4
  2    is '图片路径4（有效的图片FTP路径）';
Comment added
SQL> comment on column FACI_INFO.dadept
  2    is '所属大队（对应部门表的cdepartmentid）';
Comment added
SQL> comment on column FACI_INFO.zhongdept
  2    is '所属中队（对应部门表的cdepartmentid）';
Comment added
SQL> comment on column FACI_INFO.auditor
  2    is '审核人';
Comment added
SQL> comment on column FACI_INFO.audit_time
  2    is '审核时间';
Comment added
SQL> comment on column FACI_INFO.audit_suggestion
  2    is '审核意见';
Comment added
SQL> comment on column FACI_INFO.status
  2    is '状态(对应枚举 3100：1 正常 2 申请中 9 驳回)';
Comment added
SQL> comment on column FACI_INFO.crosstype
  2    is '7006';
Comment added
SQL> comment on column FACI_INFO.sectionid
  2    is '关联路段id';
Comment added
SQL> create index IDX_FACI_TYPECODE2 on FACI_INFO (TYPECODE2);
Index created
SQL> create index IDX_FACI_TYPECODE3 on FACI_INFO (TYPECODE3);
Index created
SQL> alter table FACI_INFO
  2    add constraint PK_FACI_INFO_ID primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table FACI_ONEWAYTRAFFIC
Creating table FACI_ONEWAYTRAFFIC
SQL> prompt =================================
=================================
SQL> prompt

SQL> -- Create table
SQL> create table FACI_ONEWAYTRAFFIC
  2  (
  3    id            VARCHAR2(32) not null,
  4    serial        NVARCHAR2(20),
  5    name          NVARCHAR2(50),
  6    direction     VARCHAR2(10),
  7    sectionid     NVARCHAR2(8),
  8    dept          VARCHAR2(12),
  9    limitecontent VARCHAR2(100),
 10    length        NUMBER,
 11    delflag       VARCHAR2(1),
 12    createid      VARCHAR2(20),
 13    createtime    DATE,
 14    updateid      VARCHAR2(20),
 15    updatetime    DATE,
 16    coordinates   VARCHAR2(1000),
 17    remark        NVARCHAR2(512),
 18    constructfac  NVARCHAR2(50),
 19    constructdate DATE,
 20    imgpath1      VARCHAR2(100),
 21    imgpath2      VARCHAR2(100),
 22    imgpath3      VARCHAR2(100),
 23    limittype     VARCHAR2(4)
 24  )
 25  tablespace HIATMPTS
 26    pctfree 10
 27    initrans 1
 28    maxtrans 255
 29    storage
 30    (
 31      initial 16K
 32      next 8K
 33      minextents 1
 34      maxextents unlimited
 35    );
Table created
SQL> -- Add comments to the table
SQL> comment on table FACI_ONEWAYTRAFFIC
  2    is '设施管理_单行线';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column FACI_ONEWAYTRAFFIC.id
  2    is '主键UUID';
Comment added
SQL> comment on column FACI_ONEWAYTRAFFIC.serial
  2    is '编号';
Comment added
SQL> comment on column FACI_ONEWAYTRAFFIC.name
  2    is '名称';
Comment added
SQL> comment on column FACI_ONEWAYTRAFFIC.direction
  2    is '方向';
Comment added
SQL> comment on column FACI_ONEWAYTRAFFIC.sectionid
  2    is '路段ID';
Comment added
SQL> comment on column FACI_ONEWAYTRAFFIC.dept
  2    is '所属辖区';
Comment added
SQL> comment on column FACI_ONEWAYTRAFFIC.limitecontent
  2    is '限制内容';
Comment added
SQL> comment on column FACI_ONEWAYTRAFFIC.length
  2    is '长度';
Comment added
SQL> comment on column FACI_ONEWAYTRAFFIC.delflag
  2    is '删除标志';
Comment added
SQL> comment on column FACI_ONEWAYTRAFFIC.createid
  2    is '创建人ID';
Comment added
SQL> comment on column FACI_ONEWAYTRAFFIC.createtime
  2    is '创建时间';
Comment added
SQL> comment on column FACI_ONEWAYTRAFFIC.updateid
  2    is '更新人ID';
Comment added
SQL> comment on column FACI_ONEWAYTRAFFIC.updatetime
  2    is '更新时间';
Comment added
SQL> comment on column FACI_ONEWAYTRAFFIC.coordinates
  2    is '经纬度';
Comment added
SQL> comment on column FACI_ONEWAYTRAFFIC.remark
  2    is '备注';
Comment added
SQL> comment on column FACI_ONEWAYTRAFFIC.constructfac
  2    is '施工厂家';
Comment added
SQL> comment on column FACI_ONEWAYTRAFFIC.constructdate
  2    is '施工日期';
Comment added
SQL> comment on column FACI_ONEWAYTRAFFIC.imgpath1
  2    is '图片FTP存储路径1';
Comment added
SQL> comment on column FACI_ONEWAYTRAFFIC.imgpath2
  2    is '图片FTP存储路径2';
Comment added
SQL> comment on column FACI_ONEWAYTRAFFIC.imgpath3
  2    is '图片FTP存储路径3';
Comment added
SQL> comment on column FACI_ONEWAYTRAFFIC.limittype
  2    is '限制类型';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table FACI_ONEWAYTRAFFIC
  2    add constraint FACI_ONEWAYTRAFFIC_ID primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> prompt

SQL> prompt Creating table FACI_PROJECT
Creating table FACI_PROJECT
SQL> prompt ===========================
===========================
SQL> prompt

SQL> create table FACI_PROJECT
  2  (
  3    project_id            VARCHAR2(20) not null,
  4    project_name          VARCHAR2(200),
  5    start_time            DATE,
  6    end_time              DATE,
  7    department_id         VARCHAR2(20),
  8    description           NVARCHAR2(100),
  9    build_unit            VARCHAR2(100),
 10    undertake_unit        VARCHAR2(100),
 11    check_accept_time     DATE,
 12    police_point_num      NUMBER,
 13    police_num            NUMBER,
 14    pass_point_num        NUMBER,
 15    pass_num              NUMBER,
 16    overspeed_point_num   NUMBER,
 17    overspeed_num         NUMBER,
 18    microwave_point_num   NUMBER,
 19    microwave_num         NUMBER,
 20    coil_point_num        NUMBER,
 21    coil_num              NUMBER,
 22    meteorology_point_num NUMBER,
 23    meteorology_num       NUMBER,
 24    auditor               VARCHAR2(64),
 25    audit_time            DATE,
 26    audit_suggestion      NVARCHAR2(512),
 27    status                VARCHAR2(2),
 28    servicetime           VARCHAR2(100),
 29    workdays              VARCHAR2(100)
 30  )
 31  ;
Table created
SQL> comment on table FACI_PROJECT
  2    is '项目基础信息表';
Comment added
SQL> comment on column FACI_PROJECT.project_id
  2    is '项目编号';
Comment added
SQL> comment on column FACI_PROJECT.project_name
  2    is '项目名称';
Comment added
SQL> comment on column FACI_PROJECT.start_time
  2    is '开始时间';
Comment added
SQL> comment on column FACI_PROJECT.end_time
  2    is '结束时间';
Comment added
SQL> comment on column FACI_PROJECT.department_id
  2    is '部门编号';
Comment added
SQL> comment on column FACI_PROJECT.description
  2    is '项目描述/备注';
Comment added
SQL> comment on column FACI_PROJECT.build_unit
  2    is '建设单位';
Comment added
SQL> comment on column FACI_PROJECT.undertake_unit
  2    is '承建单位';
Comment added
SQL> comment on column FACI_PROJECT.check_accept_time
  2    is '验收时间';
Comment added
SQL> comment on column FACI_PROJECT.police_point_num
  2    is '拟建电警点位数';
Comment added
SQL> comment on column FACI_PROJECT.police_num
  2    is '拟建电警设备数';
Comment added
SQL> comment on column FACI_PROJECT.pass_point_num
  2    is '拟建卡口点位数';
Comment added
SQL> comment on column FACI_PROJECT.pass_num
  2    is '拟建卡口设备数';
Comment added
SQL> comment on column FACI_PROJECT.overspeed_point_num
  2    is '拟建超速检测点位数';
Comment added
SQL> comment on column FACI_PROJECT.overspeed_num
  2    is '拟建超速检测设备数';
Comment added
SQL> comment on column FACI_PROJECT.microwave_point_num
  2    is '拟建微波点位数';
Comment added
SQL> comment on column FACI_PROJECT.microwave_num
  2    is '拟建微波设备数';
Comment added
SQL> comment on column FACI_PROJECT.coil_point_num
  2    is '拟建线圈点位数';
Comment added
SQL> comment on column FACI_PROJECT.coil_num
  2    is '拟建线圈设备数';
Comment added
SQL> comment on column FACI_PROJECT.meteorology_point_num
  2    is '拟建气象检测点位数';
Comment added
SQL> comment on column FACI_PROJECT.meteorology_num
  2    is '拟建气象设备数';
Comment added
SQL> comment on column FACI_PROJECT.auditor
  2    is '审核人';
Comment added
SQL> comment on column FACI_PROJECT.audit_time
  2    is '审核时间';
Comment added
SQL> comment on column FACI_PROJECT.audit_suggestion
  2    is '审核意见';
Comment added
SQL> comment on column FACI_PROJECT.status
  2    is '状态(3100,1正常2申请中9驳回)';
Comment added
SQL> comment on column FACI_PROJECT.servicetime
  2    is '服务时限';
Comment added
SQL> comment on column FACI_PROJECT.workdays
  2    is '工作周期';
Comment added
SQL> alter table FACI_PROJECT
  2    add constraint PRI_FACI_PROJECT primary key (PROJECT_ID);
Table altered
SQL> prompt

SQL> prompt Creating table FACI_SORT
Creating table FACI_SORT
SQL> prompt ========================
========================
SQL> prompt

SQL> create table FACI_SORT
  2  (
  3    code    VARCHAR2(20),
  4    name    VARCHAR2(100),
  5    pcode   VARCHAR2(10),
  6    grade   VARCHAR2(10),
  7    id      VARCHAR2(32) not null,
  8    delflag CHAR(1) default 0,
  9    picurl  NVARCHAR2(200),
 10    geotype CHAR(1),
 11    unit    VARCHAR2(10)
 12  )
 13  ;
Table created
SQL> comment on table FACI_SORT
  2    is '设施分类表';
Comment added
SQL> comment on column FACI_SORT.code
  2    is '类型编号';
Comment added
SQL> comment on column FACI_SORT.name
  2    is '类型名称';
Comment added
SQL> comment on column FACI_SORT.pcode
  2    is '上级类型编号';
Comment added
SQL> comment on column FACI_SORT.grade
  2    is '类型级别';
Comment added
SQL> comment on column FACI_SORT.id
  2    is '主键id';
Comment added
SQL> comment on column FACI_SORT.delflag
  2    is '删除标志 0：未删除 1：已删除';
Comment added
SQL> comment on column FACI_SORT.picurl
  2    is '图片路径';
Comment added
SQL> comment on column FACI_SORT.geotype
  2    is '地理形态(枚举1029)：1-点 2-线 3-面  注：只有二级分类填写地理形态';
Comment added
SQL> comment on column FACI_SORT.unit
  2    is '单位 对应枚举：1031';
Comment added
SQL> alter table FACI_SORT
  2    add constraint PK_FACI_SORT_ID primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table FACI_SPEC
Creating table FACI_SPEC
SQL> prompt ========================
========================
SQL> prompt

SQL> create table FACI_SPEC
  2  (
  3    id        VARCHAR2(32) not null,
  4    sortcode  VARCHAR2(20),
  5    specvalue VARCHAR2(150),
  6    speccode  VARCHAR2(20)
  7  )
  8  ;
Table created
SQL> comment on table FACI_SPEC
  2    is '设施规格';
Comment added
SQL> comment on column FACI_SPEC.id
  2    is '主键';
Comment added
SQL> comment on column FACI_SPEC.sortcode
  2    is '类型编号';
Comment added
SQL> comment on column FACI_SPEC.specvalue
  2    is '规格值';
Comment added
SQL> comment on column FACI_SPEC.speccode
  2    is '规格编号';
Comment added
SQL> alter table FACI_SPEC
  2    add constraint PK_FACI_SPEC_ID primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table FACI_VEHICLEPARK
Creating table FACI_VEHICLEPARK
SQL> prompt ===============================
===============================
SQL> prompt

SQL> -- Create table
SQL> create table FACI_VEHICLEPARK
  2  (
  3    uuid            VARCHAR2(32) not null,
  4    registerid      VARCHAR2(9),
  5    name            VARCHAR2(150),
  6    type            VARCHAR2(2),
  7    parkmode        VARCHAR2(2),
  8    dept            NVARCHAR2(12),
  9    sectionid       VARCHAR2(16),
 10    area            NUMBER,
 11    berthcount      NUMBER,
 12    managedept      VARCHAR2(300),
 13    relativeman     VARCHAR2(60),
 14    phoneno         VARCHAR2(50),
 15    coordinates     VARCHAR2(50),
 16    delflag         VARCHAR2(1) not null,
 17    createid        VARCHAR2(20) not null,
 18    createtime      DATE not null,
 19    updateid        VARCHAR2(20) not null,
 20    updatetime      DATE not null,
 21    serial          NVARCHAR2(20),
 22    yncross         VARCHAR2(4),
 23    roadid1         VARCHAR2(64),
 24    roadid2         VARCHAR2(64),
 25    imgpath1        VARCHAR2(100),
 26    imgpath2        VARCHAR2(100),
 27    imgpath3        VARCHAR2(100),
 28    realaddress     VARCHAR2(150),
 29    relativeman1    VARCHAR2(60),
 30    phoneno1        VARCHAR2(50),
 31    relationvideoid VARCHAR2(32),
 32    defaultcode     VARCHAR2(100)
 33  )
 34  tablespace HIATMPTS
 35    pctfree 10
 36    initrans 1
 37    maxtrans 255;
Table created
SQL> -- Add comments to the table
SQL> comment on table FACI_VEHICLEPARK
  2    is '设施管理_机动车停车场';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column FACI_VEHICLEPARK.uuid
  2    is '主键（uuid）';
Comment added
SQL> comment on column FACI_VEHICLEPARK.registerid
  2    is '登记证编号';
Comment added
SQL> comment on column FACI_VEHICLEPARK.name
  2    is '停车场名称';
Comment added
SQL> comment on column FACI_VEHICLEPARK.type
  2    is '停车场类型';
Comment added
SQL> comment on column FACI_VEHICLEPARK.parkmode
  2    is '停放形式';
Comment added
SQL> comment on column FACI_VEHICLEPARK.dept
  2    is '所属辖区';
Comment added
SQL> comment on column FACI_VEHICLEPARK.sectionid
  2    is '路段ID';
Comment added
SQL> comment on column FACI_VEHICLEPARK.area
  2    is '面积';
Comment added
SQL> comment on column FACI_VEHICLEPARK.berthcount
  2    is '泊位数';
Comment added
SQL> comment on column FACI_VEHICLEPARK.managedept
  2    is '经营单位';
Comment added
SQL> comment on column FACI_VEHICLEPARK.relativeman
  2    is '联系人';
Comment added
SQL> comment on column FACI_VEHICLEPARK.phoneno
  2    is '联系方式';
Comment added
SQL> comment on column FACI_VEHICLEPARK.coordinates
  2    is '经纬度';
Comment added
SQL> comment on column FACI_VEHICLEPARK.delflag
  2    is '删除标志';
Comment added
SQL> comment on column FACI_VEHICLEPARK.createid
  2    is '创建id';
Comment added
SQL> comment on column FACI_VEHICLEPARK.createtime
  2    is '创建时间';
Comment added
SQL> comment on column FACI_VEHICLEPARK.updateid
  2    is '更新用户id';
Comment added
SQL> comment on column FACI_VEHICLEPARK.updatetime
  2    is '更新时间';
Comment added
SQL> comment on column FACI_VEHICLEPARK.serial
  2    is '停车场编号';
Comment added
SQL> comment on column FACI_VEHICLEPARK.yncross
  2    is '是否路口';
Comment added
SQL> comment on column FACI_VEHICLEPARK.roadid1
  2    is '道路ID1';
Comment added
SQL> comment on column FACI_VEHICLEPARK.roadid2
  2    is '道路ID2';
Comment added
SQL> comment on column FACI_VEHICLEPARK.imgpath1
  2    is '图片FTP存储路径1';
Comment added
SQL> comment on column FACI_VEHICLEPARK.imgpath2
  2    is '图片FTP存储路径2';
Comment added
SQL> comment on column FACI_VEHICLEPARK.imgpath3
  2    is '图片FTP存储路径3';
Comment added
SQL> comment on column FACI_VEHICLEPARK.realaddress
  2    is '具体地址';
Comment added
SQL> comment on column FACI_VEHICLEPARK.relativeman1
  2    is '联系人2';
Comment added
SQL> comment on column FACI_VEHICLEPARK.phoneno1
  2    is '电话2';
Comment added
SQL> comment on column FACI_VEHICLEPARK.relationvideoid
  2    is '视频设备id';
Comment added
SQL> comment on column FACI_VEHICLEPARK.defaultcode
  2    is '预置位';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table FACI_VEHICLEPARK
  2    add constraint FACI_VEHICLEPARK_ID primary key (UUID)
  3    disable;
Table altered
SQL> prompt

SQL> prompt Creating table FAKENOCARS_INFO
Creating table FAKENOCARS_INFO
SQL> prompt ==============================
==============================
SQL> prompt

SQL> create table FAKENOCARS_INFO
  2  (
  3    id          VARCHAR2(32) not null,
  4    carno       VARCHAR2(16) not null,
  5    notype      VARCHAR2(6) not null,
  6    finddate    DATE,
  7    findaddress VARCHAR2(128),
  8    faketype    VARCHAR2(4),
  9    fakestatus  VARCHAR2(4),
 10    shr         CHAR(6),
 11    shrmc       NVARCHAR2(20),
 12    shyj        NVARCHAR2(255),
 13    shrbm       VARCHAR2(12),
 14    shrbmmc     VARCHAR2(50),
 15    jar         CHAR(6),
 16    jarmc       VARCHAR2(20),
 17    jaryj       NVARCHAR2(255),
 18    jarbm       VARCHAR2(11),
 19    jarbmmc     VARCHAR2(50),
 20    remark      VARCHAR2(256),
 21    checkpeople CHAR(6),
 22    shdate      DATE,
 23    carbrand    VARCHAR2(4),
 24    carmodel    VARCHAR2(4),
 25    color       VARCHAR2(4),
 26    carlevel    VARCHAR2(4),
 27    learnmess   VARCHAR2(100)
 28  )
 29  ;
Table created
SQL> prompt

SQL> prompt Creating table FAKENOCARS_PROOF
Creating table FAKENOCARS_PROOF
SQL> prompt ===============================
===============================
SQL> prompt

SQL> create table FAKENOCARS_PROOF
  2  (
  3    id          VARCHAR2(32) not null,
  4    carno       VARCHAR2(16) not null,
  5    notype      VARCHAR2(2) not null,
  6    finddate    DATE,
  7    findaddress VARCHAR2(128),
  8    zjtp        VARCHAR2(200),
  9    fakeid      VARCHAR2(32),
 10    zjtp2       VARCHAR2(200),
 11    mainbrand   VARCHAR2(3),
 12    subbrand    VARCHAR2(3),
 13    proofdesc   NVARCHAR2(200),
 14    inserttime  DATE,
 15    ori_flag    VARCHAR2(2)
 16  )
 17  ;
Table created
SQL> create index FAKENOCARS_PROOF_FAKEID on FAKENOCARS_PROOF (FAKEID);
Index created
SQL> prompt

SQL> prompt Creating table FKDB_SJ
Creating table FKDB_SJ
SQL> prompt ======================
======================
SQL> prompt

SQL> create table FKDB_SJ
  2  (
  3    xzqh      VARCHAR2(6),
  4    jjdbh     VARCHAR2(20),
  5    cjdbh     VARCHAR2(30),
  6    fkdbh     VARCHAR2(30) not null,
  7    fksj      DATE,
  8    fklyh     VARCHAR2(14),
  9    txfkdwdm  NUMBER(12),
 10    fkrxm     VARCHAR2(18),
 11    zhzxjsrxm VARCHAR2(8),
 12    fkdwdm    NUMBER(12),
 13    cjrxm     VARCHAR2(24),
 14    sjcjsj    DATE,
 15    ddxcsj    DATE,
 16    ajlbbh    NUMBER(2),
 17    ajlxbh    NUMBER(6),
 18    ajxlbh    NUMBER(6),
 19    cjqk      VARCHAR2(800),
 20    cdcls     NUMBER(2),
 21    cdrs      NUMBER(3),
 22    fkzj      NUMBER(1),
 23    gbbz      NUMBER(1),
 24    gbjjdbh   VARCHAR2(20),
 25    scbz      NUMBER(1) default 0,
 26    hcbz      NUMBER(1) default 0,
 27    fkdzt     NUMBER(2),
 28    sjgxsj    DATE,
 29    ddczsj    DATE
 30  )
 31  ;
Table created
SQL> comment on table FKDB_SJ
  2    is '反馈单表';
Comment added
SQL> comment on column FKDB_SJ.xzqh
  2    is '行政区划';
Comment added
SQL> comment on column FKDB_SJ.jjdbh
  2    is '接警单编号';
Comment added
SQL> comment on column FKDB_SJ.cjdbh
  2    is '处警单编号';
Comment added
SQL> comment on column FKDB_SJ.fkdbh
  2    is '反馈单编号';
Comment added
SQL> comment on column FKDB_SJ.fksj
  2    is '反馈时间';
Comment added
SQL> comment on column FKDB_SJ.fklyh
  2    is '反馈录音号';
Comment added
SQL> comment on column FKDB_SJ.txfkdwdm
  2    is '填写反馈单位代码';
Comment added
SQL> comment on column FKDB_SJ.fkrxm
  2    is '反馈人姓名';
Comment added
SQL> comment on column FKDB_SJ.zhzxjsrxm
  2    is '指挥中心接收人姓名';
Comment added
SQL> comment on column FKDB_SJ.fkdwdm
  2    is '反馈单位代码';
Comment added
SQL> comment on column FKDB_SJ.cjrxm
  2    is '出警人姓名';
Comment added
SQL> comment on column FKDB_SJ.sjcjsj
  2    is '实际出警时间';
Comment added
SQL> comment on column FKDB_SJ.ddxcsj
  2    is '到达现场时间';
Comment added
SQL> comment on column FKDB_SJ.ajlbbh
  2    is '案件类别编号';
Comment added
SQL> comment on column FKDB_SJ.ajlxbh
  2    is '案件类型编号';
Comment added
SQL> comment on column FKDB_SJ.ajxlbh
  2    is '案件细类编号';
Comment added
SQL> comment on column FKDB_SJ.cjqk
  2    is '出警情况';
Comment added
SQL> comment on column FKDB_SJ.cdcls
  2    is '出动车辆数';
Comment added
SQL> comment on column FKDB_SJ.cdrs
  2    is '出动人数';
Comment added
SQL> comment on column FKDB_SJ.fkzj
  2    is '反馈终结';
Comment added
SQL> comment on column FKDB_SJ.gbbz
  2    is '归并标志';
Comment added
SQL> comment on column FKDB_SJ.gbjjdbh
  2    is '归并接警单编号';
Comment added
SQL> comment on column FKDB_SJ.scbz
  2    is '上传标志';
Comment added
SQL> comment on column FKDB_SJ.hcbz
  2    is '回传标志';
Comment added
SQL> comment on column FKDB_SJ.fkdzt
  2    is '反馈单状态';
Comment added
SQL> comment on column FKDB_SJ.sjgxsj
  2    is '数据更新时间';
Comment added
SQL> comment on column FKDB_SJ.ddczsj
  2    is '大队处置时间';
Comment added
SQL> create index IDX_FKDB_SJ1 on FKDB_SJ (JJDBH, CJDBH);
Index created
SQL> create index IDX_FKDB_SJ2 on FKDB_SJ (FKSJ, FKDWDM);
Index created
SQL> create index IDX_FKDB_SJ3 on FKDB_SJ (CJDBH, FKDBH, JJDBH);
Index created
SQL> create index IDX_FKDB_SJ6 on FKDB_SJ (JJDBH, CJDBH, FKDZT);
Index created
SQL> create index IDX_FKDB_SJ_HCBZ on FKDB_SJ (HCBZ);
Index created
SQL> alter table FKDB_SJ
  2    add constraint PK_FKDB_SJ primary key (FKDBH);
Table altered
SQL> prompt

SQL> prompt Creating table GPS_CURRENT_DATA
Creating table GPS_CURRENT_DATA
SQL> prompt ===============================
===============================
SQL> prompt

SQL> create table GPS_CURRENT_DATA
  2  (
  3    deviceid   NVARCHAR2(32),
  4    devicename NVARCHAR2(60),
  5    gpsid      NVARCHAR2(32),
  6    deptid     NVARCHAR2(32),
  7    longitude  NVARCHAR2(32),
  8    latitude   NVARCHAR2(32),
  9    ndirection VARCHAR2(2),
 10    datatime   DATE,
 11    geometry   MDSYS.SDO_GEOMETRY
 12  )
 13  ;
Table created
SQL> comment on table GPS_CURRENT_DATA
  2    is 'GPS设备当前位置表';
Comment added
SQL> comment on column GPS_CURRENT_DATA.deviceid
  2    is '设备编号';
Comment added
SQL> comment on column GPS_CURRENT_DATA.devicename
  2    is '设备名称';
Comment added
SQL> comment on column GPS_CURRENT_DATA.gpsid
  2    is '警员/警车编号';
Comment added
SQL> comment on column GPS_CURRENT_DATA.deptid
  2    is '部门编号';
Comment added
SQL> comment on column GPS_CURRENT_DATA.longitude
  2    is '经度';
Comment added
SQL> comment on column GPS_CURRENT_DATA.latitude
  2    is '纬度';
Comment added
SQL> comment on column GPS_CURRENT_DATA.ndirection
  2    is '方向';
Comment added
SQL> comment on column GPS_CURRENT_DATA.datatime
  2    is '更新时间';
Comment added
SQL> comment on column GPS_CURRENT_DATA.geometry
  2    is '地理位置';
Comment added
SQL> prompt

SQL> prompt Creating table GPS_DATA
Creating table GPS_DATA
SQL> prompt =======================
=======================
SQL> prompt

SQL> create table GPS_DATA
  2  (
  3    cvehid         VARCHAR2(20) not null,
  4    nvehalarm      INTEGER not null,
  5    dtrecordtime   DATE not null,
  6    decarlong      NUMBER(16,10) not null,
  7    decarlat       NUMBER(16,10) not null,
  8    ncarstatus     INTEGER,
  9    nvehspeed      NUMBER(5,2),
 10    ndirection     INTEGER,
 11    datauploadtime DATE,
 12    datasavetime   DATE default sysdate,
 13    policeid       VARCHAR2(50),
 14    mdsid          VARCHAR2(20),
 15    reportstatus   CHAR(1),
 16    source         VARCHAR2(2)
 17  )
 18  partition by range (DTRECORDTIME)
 19  (
 20    partition GPS_P1 values less than (TO_DATE(' 2022-07-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 21      tablespace GPSTS
 22  );
Table created
SQL> comment on column GPS_DATA.cvehid
  2    is '设备编号';
Comment added
SQL> comment on column GPS_DATA.nvehalarm
  2    is '报警信息编号';
Comment added
SQL> comment on column GPS_DATA.dtrecordtime
  2    is '采集时间';
Comment added
SQL> comment on column GPS_DATA.decarlong
  2    is '经度';
Comment added
SQL> comment on column GPS_DATA.decarlat
  2    is '纬度';
Comment added
SQL> comment on column GPS_DATA.ncarstatus
  2    is '状态, 来源为单警时，1为报备0为未报备';
Comment added
SQL> comment on column GPS_DATA.nvehspeed
  2    is '速度';
Comment added
SQL> comment on column GPS_DATA.ndirection
  2    is '方向';
Comment added
SQL> comment on column GPS_DATA.datauploadtime
  2    is '数据上传时间';
Comment added
SQL> comment on column GPS_DATA.datasavetime
  2    is '入库时间';
Comment added
SQL> comment on column GPS_DATA.policeid
  2    is '警员id';
Comment added
SQL> comment on column GPS_DATA.mdsid
  2    is '捷思锐平台账号,单警专用';
Comment added
SQL> comment on column GPS_DATA.reportstatus
  2    is '报备状态 0闲 1忙';
Comment added
SQL> comment on column GPS_DATA.source
  2    is '来源,1为单警';
Comment added
SQL> create index INDEX_GPS_DATA on GPS_DATA (DTRECORDTIME);
Index created
SQL> create index INDEX_GPS_ID on GPS_DATA (CVEHID, DTRECORDTIME);
Index created
SQL> prompt

SQL> prompt Creating table GUARD_DUTY
Creating table GUARD_DUTY
SQL> prompt =========================
=========================
SQL> prompt

SQL> create table GUARD_DUTY
  2  (
  3    id             VARCHAR2(32) not null,
  4    duty_level     VARCHAR2(2),
  5    duty_name      NVARCHAR2(100),
  6    duty_target    NVARCHAR2(2000),
  7    createtime     DATE not null,
  8    createuserid   VARCHAR2(6),
  9    createusername NVARCHAR2(20),
 10    edituserid     NVARCHAR2(6),
 11    editusername   NVARCHAR2(20),
 12    edittime       DATE,
 13    video_flag     CHAR(1) default '0',
 14    single_flag    CHAR(1) default '0',
 15    vms_flag       CHAR(1) default '0',
 16    position_flag  CHAR(1) default '0',
 17    issued         VARCHAR2(2000),
 18    delete_flag    CHAR(1) default '0',
 19    executetime    DATE,
 20    issue_flag     CHAR(1),
 21    begintime      DATE,
 22    endtime        DATE,
 23    executestatus  CHAR(1) default '0'
 24  )
 25  ;
Table created
SQL> comment on column GUARD_DUTY.duty_level
  2    is '任务等级：一级A、一级B、二级A、二级B、三级、优先放行';
Comment added
SQL> comment on column GUARD_DUTY.duty_name
  2    is '任务名称';
Comment added
SQL> comment on column GUARD_DUTY.duty_target
  2    is '任务要求';
Comment added
SQL> comment on column GUARD_DUTY.createtime
  2    is '创建时间';
Comment added
SQL> comment on column GUARD_DUTY.createuserid
  2    is '创建人id';
Comment added
SQL> comment on column GUARD_DUTY.createusername
  2    is '创建人名';
Comment added
SQL> comment on column GUARD_DUTY.edituserid
  2    is '修改人id';
Comment added
SQL> comment on column GUARD_DUTY.editusername
  2    is '修改人名';
Comment added
SQL> comment on column GUARD_DUTY.edittime
  2    is '修改时间';
Comment added
SQL> comment on column GUARD_DUTY.video_flag
  2    is '视频配置标志：0未配置1已配置';
Comment added
SQL> comment on column GUARD_DUTY.single_flag
  2    is '信号配置标志：0未配置1已配置';
Comment added
SQL> comment on column GUARD_DUTY.vms_flag
  2    is '诱导配置标志：0未配置1已配置';
Comment added
SQL> comment on column GUARD_DUTY.position_flag
  2    is '岗位配置标志：0未配置1已配置';
Comment added
SQL> comment on column GUARD_DUTY.issued
  2    is '下发大队：大队编号用,分割：37000121,37000132';
Comment added
SQL> comment on column GUARD_DUTY.delete_flag
  2    is '删除标志：0正常1删除';
Comment added
SQL> comment on column GUARD_DUTY.executetime
  2    is '执行时间，空为未执行';
Comment added
SQL> comment on column GUARD_DUTY.issue_flag
  2    is '是否已经下发到各大队';
Comment added
SQL> comment on column GUARD_DUTY.begintime
  2    is '任务开始时间';
Comment added
SQL> comment on column GUARD_DUTY.endtime
  2    is '任务结束时间';
Comment added
SQL> comment on column GUARD_DUTY.executestatus
  2    is '执行状态  0未执行 1执行中 2执行完毕';
Comment added
SQL> create index INDEX_GUARD_DUTY_TIME on GUARD_DUTY (CREATETIME);
Index created
SQL> alter table GUARD_DUTY
  2    add primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table GUARD_DUTY_LINE
Creating table GUARD_DUTY_LINE
SQL> prompt ==============================
==============================
SQL> prompt

SQL> create table GUARD_DUTY_LINE
  2  (
  3    id                   VARCHAR2(32) not null,
  4    duty_id              VARCHAR2(32) not null,
  5    line_name            NVARCHAR2(100),
  6    line_desc            NVARCHAR2(2000),
  7    line_coordinate      VARCHAR2(2000),
  8    createtime           DATE,
  9    createuserid         VARCHAR2(6),
 10    createusername       NVARCHAR2(20),
 11    edituserid           NVARCHAR2(6),
 12    editusername         NVARCHAR2(20),
 13    edittime             DATE,
 14    video_flag           CHAR(1) default '0',
 15    single_flag          CHAR(1) default '0',
 16    vms_flag             CHAR(1) default '0',
 17    position_flag        CHAR(1) default '0',
 18    delete_flag          CHAR(1) default '0',
 19    line_length          VARCHAR2(10),
 20    line_coordinate_clob CLOB,
 21    starttime            DATE,
 22    endtime              DATE,
 23    lineno               NUMBER,
 24    isbak                CHAR(1),
 25    main_line_id         VARCHAR2(32),
 26    lineexecutetime      DATE
 27  )
 28  ;
Table created
SQL> comment on column GUARD_DUTY_LINE.duty_id
  2    is '任务id';
Comment added
SQL> comment on column GUARD_DUTY_LINE.line_name
  2    is '线路名称';
Comment added
SQL> comment on column GUARD_DUTY_LINE.line_desc
  2    is '线路描述';
Comment added
SQL> comment on column GUARD_DUTY_LINE.line_coordinate
  2    is '线路坐标';
Comment added
SQL> comment on column GUARD_DUTY_LINE.createtime
  2    is '创建时间';
Comment added
SQL> comment on column GUARD_DUTY_LINE.createuserid
  2    is '创建人id';
Comment added
SQL> comment on column GUARD_DUTY_LINE.createusername
  2    is '创建人';
Comment added
SQL> comment on column GUARD_DUTY_LINE.edituserid
  2    is '修改人id';
Comment added
SQL> comment on column GUARD_DUTY_LINE.editusername
  2    is '修改人';
Comment added
SQL> comment on column GUARD_DUTY_LINE.edittime
  2    is '修改时间';
Comment added
SQL> comment on column GUARD_DUTY_LINE.video_flag
  2    is '视频配置标志：0未配置1已配置';
Comment added
SQL> comment on column GUARD_DUTY_LINE.single_flag
  2    is '信号配置标志：0未配置1已配置';
Comment added
SQL> comment on column GUARD_DUTY_LINE.vms_flag
  2    is '诱导配置标志：0未配置1已配置';
Comment added
SQL> comment on column GUARD_DUTY_LINE.position_flag
  2    is '岗位配置标志：0未配置1已配置';
Comment added
SQL> comment on column GUARD_DUTY_LINE.delete_flag
  2    is '删除标志';
Comment added
SQL> comment on column GUARD_DUTY_LINE.line_length
  2    is '线路长度';
Comment added
SQL> comment on column GUARD_DUTY_LINE.line_coordinate_clob
  2    is '线路坐标clob';
Comment added
SQL> comment on column GUARD_DUTY_LINE.starttime
  2    is '线路执行开始时间';
Comment added
SQL> comment on column GUARD_DUTY_LINE.endtime
  2    is '线路执行结束时间';
Comment added
SQL> comment on column GUARD_DUTY_LINE.lineno
  2    is '线路编号';
Comment added
SQL> comment on column GUARD_DUTY_LINE.isbak
  2    is '是否备用线路';
Comment added
SQL> comment on column GUARD_DUTY_LINE.main_line_id
  2    is '主线路ID';
Comment added
SQL> comment on column GUARD_DUTY_LINE.lineexecutetime
  2    is '线路启动时的时间';
Comment added
SQL> alter table GUARD_DUTY_LINE
  2    add primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table GUARD_DUTY_LINE_POSITION
Creating table GUARD_DUTY_LINE_POSITION
SQL> prompt =======================================
=======================================
SQL> prompt

SQL> create table GUARD_DUTY_LINE_POSITION
  2  (
  3    id             VARCHAR2(32) not null,
  4    line_id        VARCHAR2(32) not null,
  5    position_id    VARCHAR2(32) not null,
  6    position_no    NUMBER(3),
  7    short_num      VARCHAR2(4),
  8    createtime     DATE default sysdate,
  9    createuserid   VARCHAR2(8),
 10    createusername NVARCHAR2(20)
 11  )
 12  ;
Table created
SQL> comment on column GUARD_DUTY_LINE_POSITION.id
  2    is '主键UUID';
Comment added
SQL> comment on column GUARD_DUTY_LINE_POSITION.line_id
  2    is '线路ID';
Comment added
SQL> comment on column GUARD_DUTY_LINE_POSITION.position_id
  2    is '岗位id';
Comment added
SQL> comment on column GUARD_DUTY_LINE_POSITION.position_no
  2    is '岗位顺序';
Comment added
SQL> comment on column GUARD_DUTY_LINE_POSITION.short_num
  2    is '缺口数';
Comment added
SQL> comment on column GUARD_DUTY_LINE_POSITION.createtime
  2    is '创建时间';
Comment added
SQL> comment on column GUARD_DUTY_LINE_POSITION.createuserid
  2    is '创建人ID';
Comment added
SQL> comment on column GUARD_DUTY_LINE_POSITION.createusername
  2    is '创建人姓名';
Comment added
SQL> alter table GUARD_DUTY_LINE_POSITION
  2    add constraint PK_GUARD_POSITION_ID primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table GUARD_DUTY_LINE_UTC
Creating table GUARD_DUTY_LINE_UTC
SQL> prompt ==================================
==================================
SQL> prompt

SQL> create table GUARD_DUTY_LINE_UTC
  2  (
  3    id             VARCHAR2(32) not null,
  4    line_id        VARCHAR2(32) not null,
  5    deviceid       VARCHAR2(18),
  6    devicename     NVARCHAR2(50),
  7    resident       VARCHAR2(5),
  8    num            VARCHAR2(3),
  9    utc_phaseno    VARCHAR2(4),
 10    createtime     DATE,
 11    createuserid   VARCHAR2(6),
 12    createusername NVARCHAR2(20),
 13    utc_phasename  VARCHAR2(200)
 14  )
 15  ;
Table created
SQL> comment on column GUARD_DUTY_LINE_UTC.line_id
  2    is '线路id';
Comment added
SQL> comment on column GUARD_DUTY_LINE_UTC.deviceid
  2    is '设备id';
Comment added
SQL> comment on column GUARD_DUTY_LINE_UTC.devicename
  2    is '设备名称';
Comment added
SQL> comment on column GUARD_DUTY_LINE_UTC.resident
  2    is '驻留时间';
Comment added
SQL> comment on column GUARD_DUTY_LINE_UTC.num
  2    is '序号';
Comment added
SQL> comment on column GUARD_DUTY_LINE_UTC.utc_phaseno
  2    is '相位编号';
Comment added
SQL> comment on column GUARD_DUTY_LINE_UTC.createtime
  2    is '创建时间';
Comment added
SQL> comment on column GUARD_DUTY_LINE_UTC.createuserid
  2    is '创建人id';
Comment added
SQL> comment on column GUARD_DUTY_LINE_UTC.createusername
  2    is '创建人';
Comment added
SQL> comment on column GUARD_DUTY_LINE_UTC.utc_phasename
  2    is '相位名称';
Comment added
SQL> alter table GUARD_DUTY_LINE_UTC
  2    add primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table GUARD_DUTY_LINE_VIDEO
Creating table GUARD_DUTY_LINE_VIDEO
SQL> prompt ====================================
====================================
SQL> prompt

SQL> create table GUARD_DUTY_LINE_VIDEO
  2  (
  3    id         VARCHAR2(32) not null,
  4    line_id    VARCHAR2(32) not null,
  5    deviceid   VARCHAR2(18),
  6    devicename NVARCHAR2(50),
  7    devicetype VARCHAR2(2),
  8    num        VARCHAR2(3),
  9    position   VARCHAR2(18),
 10    createtime DATE,
 11    userid     VARCHAR2(6),
 12    username   NVARCHAR2(20)
 13  )
 14  ;
Table created
SQL> comment on column GUARD_DUTY_LINE_VIDEO.line_id
  2    is '线路id';
Comment added
SQL> comment on column GUARD_DUTY_LINE_VIDEO.deviceid
  2    is '设备id';
Comment added
SQL> comment on column GUARD_DUTY_LINE_VIDEO.devicename
  2    is '设备名称';
Comment added
SQL> comment on column GUARD_DUTY_LINE_VIDEO.devicetype
  2    is '设备类型';
Comment added
SQL> comment on column GUARD_DUTY_LINE_VIDEO.num
  2    is '序号';
Comment added
SQL> comment on column GUARD_DUTY_LINE_VIDEO.position
  2    is '预制位编号';
Comment added
SQL> comment on column GUARD_DUTY_LINE_VIDEO.createtime
  2    is '创建时间';
Comment added
SQL> comment on column GUARD_DUTY_LINE_VIDEO.userid
  2    is '创建人id';
Comment added
SQL> comment on column GUARD_DUTY_LINE_VIDEO.username
  2    is '创建人';
Comment added
SQL> alter table GUARD_DUTY_LINE_VIDEO
  2    add primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table HIMAP_TOKEN
Creating table HIMAP_TOKEN
SQL> prompt ==========================
==========================
SQL> prompt

SQL> create table HIMAP_TOKEN
  2  (
  3    token   NVARCHAR2(32) not null,
  4    appname NVARCHAR2(32) not null,
  5    address NVARCHAR2(200) not null,
  6    appdesc NVARCHAR2(32),
  7    apptype NVARCHAR2(2)
  8  )
  9  ;
Table created
SQL> comment on table HIMAP_TOKEN
  2    is '地图服务token表';
Comment added
SQL> comment on column HIMAP_TOKEN.token
  2    is 'token';
Comment added
SQL> comment on column HIMAP_TOKEN.appname
  2    is '应用名称';
Comment added
SQL> comment on column HIMAP_TOKEN.address
  2    is '应用地址';
Comment added
SQL> comment on column HIMAP_TOKEN.appdesc
  2    is '应用描述';
Comment added
SQL> comment on column HIMAP_TOKEN.apptype
  2    is '应用类型　0:管控子系统 1:其他';
Comment added
SQL> alter table HIMAP_TOKEN
  2    add primary key (TOKEN);
Table altered
SQL> prompt

SQL> prompt Creating table ILLEGAL_DATA
Creating table ILLEGAL_DATA
SQL> prompt ===========================
===========================
SQL> prompt

SQL> create table ILLEGAL_DATA
  2  (
  3    nid                     VARCHAR2(32) not null,
  4    clicensetype            VARCHAR2(2),
  5    ccarnumber              NVARCHAR2(16),
  6    dillegaldate            DATE not null,
  7    coffense                VARCHAR2(6) not null,
  8    caddresscode            VARCHAR2(12) not null,
  9    cillegaladdress         VARCHAR2(200),
 10    ccollectionagencies     VARCHAR2(12) not null,
 11    cdatasource             VARCHAR2(2) not null,
 12    csnaptype               CHAR(1) not null,
 13    cdevicecode             VARCHAR2(18) not null,
 14    cdirectioncode          VARCHAR2(8),
 15    dredlighttime           DATE,
 16    nredlightduration       NUMBER(3),
 17    clanenumber             VARCHAR2(2),
 18    nvehiclespeed           NUMBER(3) default 0 not null,
 19    nbigcarspeedlimit       NUMBER(3) default 0 not null,
 20    ntruckspeedlimit        NUMBER(3),
 21    ncarspeedlimit          NUMBER(3),
 22    nbigcarlawenforcsplimit NUMBER(3) default 0 not null,
 23    ntrucklawenforcsplimit  NUMBER(3),
 24    ncarlawenforcsplimit    NUMBER(3) default 0 not null,
 25    nminispeedlimit         NUMBER(3),
 26    nevidencevideo          VARCHAR2(400),
 27    npicvidpathid           NUMBER(4),
 28    cvehicletype            VARCHAR2(32) default 1,
 29    cpic1path               VARCHAR2(400),
 30    cpic2path               VARCHAR2(400),
 31    cpic3path               VARCHAR2(400),
 32    cselectstatus           CHAR(1),
 33    dselecttime             DATE,
 34    noperator               VARCHAR2(20),
 35    cpic4path               VARCHAR2(400),
 36    zpz                     NVARCHAR2(20),
 37    shry                    NVARCHAR2(20),
 38    fsry                    NVARCHAR2(20),
 39    scry                    NVARCHAR2(20),
 40    dcry                    NVARCHAR2(20),
 41    xywh                    VARCHAR2(400),
 42    videoevidence           VARCHAR2(200),
 43    dillegalenddate         DATE,
 44    shryid                  VARCHAR2(12),
 45    fsryid                  NVARCHAR2(6),
 46    scryid                  NVARCHAR2(6),
 47    dcryid                  NVARCHAR2(6),
 48    remarks                 VARCHAR2(100),
 49    datauploadtime          DATE,
 50    mqrecivetime            DATE,
 51    create_time             DATE,
 52    export_time             DATE,
 53    uploadflag              CHAR(1),
 54    uploadrecord            VARCHAR2(1300),
 55    reviewerrormark         VARCHAR2(1),
 56    dillegalbegindate       DATE,
 57    caddressendcode         VARCHAR2(12),
 58    jdsbh                   VARCHAR2(15),
 59    returnval               CHAR(5),
 60    returnmes               NVARCHAR2(2000),
 61    datasavetime            DATE default sysdate,
 62    illegalvehtype          VARCHAR2(2) default 0,
 63    hisccarnumber           NVARCHAR2(16),
 64    cllx                    CHAR(3),
 65    syxz                    CHAR(1),
 66    syr                     VARCHAR2(128),
 67    fzjg                    VARCHAR2(500),
 68    glbm                    VARCHAR2(12),
 69    zsxzqh                  VARCHAR2(10),
 70    zsxxdz                  VARCHAR2(128),
 71    clyt                    CHAR(16),
 72    dwbh                    VARCHAR2(14),
 73    zzjglx                  VARCHAR2(2),
 74    regionname              VARCHAR2(200),
 75    regiondistance          NUMBER(6),
 76    monitorcode             VARCHAR2(12),
 77    monitoraddress          VARCHAR2(200),
 78    msg                     VARCHAR2(650),
 79    msgno                   VARCHAR2(2),
 80    policeid                CHAR(6),
 81    longtitude              NUMBER(13,6),
 82    latitude                NUMBER(13,6),
 83    allocoperatorid         VARCHAR2(16),
 84    alloctime               VARCHAR2(16),
 85    allocstate              VARCHAR2(16) default 0,
 86    selectedtime            VARCHAR2(16),
 87    aistatus                VARCHAR2(16),
 88    aidropreason            VARCHAR2(16),
 89    positive                VARCHAR2(16),
 90    scrap                   VARCHAR2(16),
 91    rollbackthrough         VARCHAR2(16),
 92    rollbacktoscrap         VARCHAR2(16),
 93    tempftpflag             VARCHAR2(16),
 94    tempmarkflag            VARCHAR2(16)
 95  )
 96  partition by range (DILLEGALDATE) interval (NUMTOYMINTERVAL(3,'MONTH'))
 97  (
 98    partition ILLDT_201706 values less than (TO_DATE(' 2018-07-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 99      tablespace TS_ILLEGAL_201706
100      pctfree 10
101  );
Table created
SQL> -- Add comments to the table
SQL> comment on table ILLEGAL_DATA
  2    is '违法数据表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column ILLEGAL_DATA.nid
  2    is '数据库自动编号';
Comment added
SQL> comment on column ILLEGAL_DATA.clicensetype
  2    is '号牌种类';
Comment added
SQL> comment on column ILLEGAL_DATA.ccarnumber
  2    is '号牌号码';
Comment added
SQL> comment on column ILLEGAL_DATA.dillegaldate
  2    is '违法时间';
Comment added
SQL> comment on column ILLEGAL_DATA.coffense
  2    is '违法行为';
Comment added
SQL> comment on column ILLEGAL_DATA.caddresscode
  2    is '违法地点代码';
Comment added
SQL> comment on column ILLEGAL_DATA.cillegaladdress
  2    is '违法地址';
Comment added
SQL> comment on column ILLEGAL_DATA.ccollectionagencies
  2    is '采集机关';
Comment added
SQL> comment on column ILLEGAL_DATA.cdatasource
  2    is '数据来源';
Comment added
SQL> comment on column ILLEGAL_DATA.csnaptype
  2    is '抓拍类型';
Comment added
SQL> comment on column ILLEGAL_DATA.cdevicecode
  2    is '设备编号';
Comment added
SQL> comment on column ILLEGAL_DATA.cdirectioncode
  2    is '方向编号';
Comment added
SQL> comment on column ILLEGAL_DATA.dredlighttime
  2    is '红灯亮起时间';
Comment added
SQL> comment on column ILLEGAL_DATA.nredlightduration
  2    is '红灯持续时间';
Comment added
SQL> comment on column ILLEGAL_DATA.clanenumber
  2    is '车道编号';
Comment added
SQL> comment on column ILLEGAL_DATA.nvehiclespeed
  2    is '车辆速度';
Comment added
SQL> comment on column ILLEGAL_DATA.nbigcarspeedlimit
  2    is '大车限速';
Comment added
SQL> comment on column ILLEGAL_DATA.ntruckspeedlimit
  2    is '卡车限速';
Comment added
SQL> comment on column ILLEGAL_DATA.ncarspeedlimit
  2    is '小车限速';
Comment added
SQL> comment on column ILLEGAL_DATA.nbigcarlawenforcsplimit
  2    is '大车执法限速';
Comment added
SQL> comment on column ILLEGAL_DATA.ntrucklawenforcsplimit
  2    is '卡车执法限速';
Comment added
SQL> comment on column ILLEGAL_DATA.ncarlawenforcsplimit
  2    is '小车执法限速';
Comment added
SQL> comment on column ILLEGAL_DATA.nminispeedlimit
  2    is '最低限速';
Comment added
SQL> comment on column ILLEGAL_DATA.nevidencevideo
  2    is '证据－视频';
Comment added
SQL> comment on column ILLEGAL_DATA.npicvidpathid
  2    is '图片或视频路径ID';
Comment added
SQL> comment on column ILLEGAL_DATA.cvehicletype
  2    is '违法车辆类型';
Comment added
SQL> comment on column ILLEGAL_DATA.cpic1path
  2    is '证据－图片1路径';
Comment added
SQL> comment on column ILLEGAL_DATA.cpic2path
  2    is '证据－图片2路径';
Comment added
SQL> comment on column ILLEGAL_DATA.cpic3path
  2    is '证据－图片3路径';
Comment added
SQL> comment on column ILLEGAL_DATA.cselectstatus
  2    is '分拣状态(枚举值:146)';
Comment added
SQL> comment on column ILLEGAL_DATA.dselecttime
  2    is '分拣时间';
Comment added
SQL> comment on column ILLEGAL_DATA.noperator
  2    is '操作人员';
Comment added
SQL> comment on column ILLEGAL_DATA.cpic4path
  2    is '证据－图片4路径';
Comment added
SQL> comment on column ILLEGAL_DATA.shry
  2    is '审核人员';
Comment added
SQL> comment on column ILLEGAL_DATA.fsry
  2    is '复审人员';
Comment added
SQL> comment on column ILLEGAL_DATA.scry
  2    is '删除人员';
Comment added
SQL> comment on column ILLEGAL_DATA.dcry
  2    is '导出人员';
Comment added
SQL> comment on column ILLEGAL_DATA.xywh
  2    is '特征图片';
Comment added
SQL> comment on column ILLEGAL_DATA.dillegalenddate
  2    is '区间测速终点违法时间';
Comment added
SQL> comment on column ILLEGAL_DATA.jdsbh
  2    is '违法数据手工录入-违停告知单号';
Comment added
SQL> comment on column ILLEGAL_DATA.hisccarnumber
  2    is '历史号牌号码  号牌识别错误使用';
Comment added
SQL> comment on column ILLEGAL_DATA.cllx
  2    is '车辆类型';
Comment added
SQL> comment on column ILLEGAL_DATA.syxz
  2    is '使用性质';
Comment added
SQL> comment on column ILLEGAL_DATA.syr
  2    is '机动车所有人';
Comment added
SQL> comment on column ILLEGAL_DATA.fzjg
  2    is '发证机关';
Comment added
SQL> comment on column ILLEGAL_DATA.glbm
  2    is '管理部门';
Comment added
SQL> comment on column ILLEGAL_DATA.zsxzqh
  2    is '住所行政区划';
Comment added
SQL> comment on column ILLEGAL_DATA.zsxxdz
  2    is '住所详细地址';
Comment added
SQL> comment on column ILLEGAL_DATA.clyt
  2    is '车辆用途';
Comment added
SQL> comment on column ILLEGAL_DATA.dwbh
  2    is '单位编号';
Comment added
SQL> comment on column ILLEGAL_DATA.zzjglx
  2    is '组织机构类型';
Comment added
SQL> comment on column ILLEGAL_DATA.regionname
  2    is '区间名称';
Comment added
SQL> comment on column ILLEGAL_DATA.regiondistance
  2    is '区间距离';
Comment added
SQL> comment on column ILLEGAL_DATA.monitorcode
  2    is '移动点位编号';
Comment added
SQL> comment on column ILLEGAL_DATA.monitoraddress
  2    is '移动点位地址';
Comment added
SQL> comment on column ILLEGAL_DATA.msg
  2    is '作废原因';
Comment added
SQL> comment on column ILLEGAL_DATA.msgno
  2    is '作废原因编号，枚举值3838';
Comment added
SQL> comment on column ILLEGAL_DATA.policeid
  2    is '警员号';
Comment added
SQL> comment on column ILLEGAL_DATA.longtitude
  2    is '经度';
Comment added
SQL> comment on column ILLEGAL_DATA.latitude
  2    is '纬度';
Comment added
SQL> comment on column ILLEGAL_DATA.allocoperatorid
  2    is '待办用户ID';
Comment added
SQL> comment on column ILLEGAL_DATA.alloctime
  2    is '分配时间';
Comment added
SQL> comment on column ILLEGAL_DATA.allocstate
  2    is '分配状态：0待办 1已办';
Comment added
SQL> comment on column ILLEGAL_DATA.selectedtime
  2    is '提取时间';
Comment added
SQL> comment on column ILLEGAL_DATA.aistatus
  2    is 'AI审核状态';
Comment added
SQL> comment on column ILLEGAL_DATA.aidropreason
  2    is 'AI废片原因';
Comment added
SQL> comment on column ILLEGAL_DATA.positive
  2    is '正片';
Comment added
SQL> comment on column ILLEGAL_DATA.scrap
  2    is '废片';
Comment added
SQL> comment on column ILLEGAL_DATA.rollbackthrough
  2    is '回滚正片';
Comment added
SQL> comment on column ILLEGAL_DATA.rollbacktoscrap
  2    is '回滚废片';
Comment added
SQL> comment on column ILLEGAL_DATA.tempmarkflag
  2    is '水印临时用字段';
Comment added
SQL> -- Create/Recreate indexes
SQL> create index IDX_ILL_ADDR_ORDER on ILLEGAL_DATA (DILLEGALDATE, CADDRESSCODE, CCARNUMBER)
  2    local;
Index created
SQL> create index IDX_ILL_ADDR_STATUS on ILLEGAL_DATA (DILLEGALDATE, CADDRESSCODE, CSELECTSTATUS)
  2    local;
Index created
SQL> create index IDX_ILL_CARNUM on ILLEGAL_DATA (CCARNUMBER, DILLEGALDATE, CSELECTSTATUS)
  2    local;
Index created
SQL> create index IDX_ILL_OFFENSE_STATUS on ILLEGAL_DATA (DILLEGALDATE, COFFENSE, CSELECTSTATUS)
  2    local;
Index created
SQL> create index IDX_ILL_SCRY on ILLEGAL_DATA (DSELECTTIME, SCRY, DILLEGALDATE)
  2    local;
Index created
SQL> create index IDX_ILL_VEHTYPE on ILLEGAL_DATA (DILLEGALDATE, ILLEGALVEHTYPE)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> create unique index PK_ILLDATE_ID on ILLEGAL_DATA (DILLEGALDATE, NID)
  2    local;
Index created
SQL> alter table ILLEGAL_DATA
  2    add constraint PK_ILLEGAL_DATA primary key (NID)
  3    disable;
Table altered
SQL> prompt

SQL> prompt Creating table ILLEGAL_DATA_EXEMPTION
Creating table ILLEGAL_DATA_EXEMPTION
SQL> prompt =====================================
=====================================
SQL> prompt

SQL> create table ILLEGAL_DATA_EXEMPTION
  2  (
  3    nid                     VARCHAR2(32) not null,
  4    exemption_type          VARCHAR2(2),
  5    clicensetype            VARCHAR2(2),
  6    ccarnumber              NVARCHAR2(16),
  7    dillegaldate            DATE not null,
  8    coffense                VARCHAR2(6) not null,
  9    caddresscode            VARCHAR2(12) not null,
 10    cillegaladdress         VARCHAR2(200),
 11    ccollectionagencies     VARCHAR2(12) not null,
 12    cdatasource             VARCHAR2(2) not null,
 13    csnaptype               CHAR(1) not null,
 14    cdevicecode             VARCHAR2(18) not null,
 15    cdirectioncode          VARCHAR2(8),
 16    dredlighttime           DATE,
 17    nredlightduration       NUMBER(3),
 18    clanenumber             VARCHAR2(2),
 19    nvehiclespeed           NUMBER(3) default 0 not null,
 20    nbigcarspeedlimit       NUMBER(3) default 0 not null,
 21    ntruckspeedlimit        NUMBER(3),
 22    ncarspeedlimit          NUMBER(3),
 23    nbigcarlawenforcsplimit NUMBER(3) default 0 not null,
 24    ntrucklawenforcsplimit  NUMBER(3),
 25    ncarlawenforcsplimit    NUMBER(3) default 0 not null,
 26    nminispeedlimit         NUMBER(4),
 27    nevidencevideo          VARCHAR2(400),
 28    npicvidpathid           NUMBER(4),
 29    cvehicletype            VARCHAR2(32) default 1,
 30    cpic1path               VARCHAR2(400),
 31    cpic2path               VARCHAR2(400),
 32    cpic3path               VARCHAR2(400),
 33    cselectstatus           CHAR(1),
 34    dselecttime             DATE,
 35    noperator               VARCHAR2(20),
 36    cpic4path               VARCHAR2(400),
 37    zpz                     NVARCHAR2(20),
 38    shry                    NVARCHAR2(20),
 39    fsry                    NVARCHAR2(20),
 40    scry                    NVARCHAR2(20),
 41    dcry                    NVARCHAR2(20),
 42    xywh                    VARCHAR2(400),
 43    videoevidence           VARCHAR2(200),
 44    dillegalenddate         DATE,
 45    shryid                  VARCHAR2(12),
 46    fsryid                  NVARCHAR2(6),
 47    scryid                  NVARCHAR2(6),
 48    dcryid                  NVARCHAR2(6),
 49    remarks                 VARCHAR2(100),
 50    datauploadtime          DATE,
 51    mqrecivetime            DATE,
 52    create_time             DATE,
 53    export_time             DATE,
 54    uploadflag              CHAR(1),
 55    uploadrecord            VARCHAR2(1300),
 56    reviewerrormark         VARCHAR2(1),
 57    dillegalbegindate       DATE,
 58    caddressendcode         VARCHAR2(12),
 59    jdsbh                   VARCHAR2(15),
 60    returnval               CHAR(5),
 61    returnmes               NVARCHAR2(2000),
 62    datasavetime            DATE default sysdate,
 63    illegalvehtype          VARCHAR2(2) default 0,
 64    hisccarnumber           NVARCHAR2(16),
 65    cllx                    CHAR(3),
 66    syxz                    CHAR(1),
 67    syr                     VARCHAR2(128),
 68    fzjg                    VARCHAR2(51),
 69    glbm                    VARCHAR2(12),
 70    zsxzqh                  VARCHAR2(10),
 71    zsxxdz                  VARCHAR2(128),
 72    clyt                    CHAR(2),
 73    dwbh                    VARCHAR2(14),
 74    zzjglx                  VARCHAR2(2),
 75    regionname              VARCHAR2(200),
 76    regiondistance          NUMBER(6),
 77    monitorcode             VARCHAR2(12),
 78    monitoraddress          VARCHAR2(200),
 79    msg                     VARCHAR2(650),
 80    msgno                   VARCHAR2(2)
 81  )
 82  ;
Table created
SQL> prompt

SQL> prompt Creating table ILLEGAL_DATA_MILITARY
Creating table ILLEGAL_DATA_MILITARY
SQL> prompt ====================================
====================================
SQL> prompt

SQL> create table ILLEGAL_DATA_MILITARY
  2  (
  3    nid                     VARCHAR2(32) not null,
  4    clicensetype            VARCHAR2(2),
  5    ccarnumber              NVARCHAR2(16),
  6    dillegaldate            DATE not null,
  7    coffense                VARCHAR2(6) not null,
  8    caddresscode            VARCHAR2(12) not null,
  9    cillegaladdress         VARCHAR2(200),
 10    ccollectionagencies     VARCHAR2(12) not null,
 11    cdatasource             VARCHAR2(2) not null,
 12    csnaptype               CHAR(1) not null,
 13    cdevicecode             VARCHAR2(18) not null,
 14    cdirectioncode          VARCHAR2(8),
 15    dredlighttime           DATE,
 16    nredlightduration       NUMBER(3),
 17    clanenumber             VARCHAR2(2),
 18    nvehiclespeed           NUMBER(3) default 0 not null,
 19    nbigcarspeedlimit       NUMBER(3) default 0 not null,
 20    ntruckspeedlimit        NUMBER(3),
 21    ncarspeedlimit          NUMBER(3),
 22    nbigcarlawenforcsplimit NUMBER(3) default 0 not null,
 23    ntrucklawenforcsplimit  NUMBER(3),
 24    ncarlawenforcsplimit    NUMBER(3) default 0 not null,
 25    nminispeedlimit         NUMBER(4),
 26    nevidencevideo          VARCHAR2(400),
 27    npicvidpathid           NUMBER(4),
 28    cvehicletype            VARCHAR2(32) default 1,
 29    cpic1path               VARCHAR2(400),
 30    cpic2path               VARCHAR2(400),
 31    cpic3path               VARCHAR2(400),
 32    cselectstatus           CHAR(1),
 33    dselecttime             DATE,
 34    noperator               VARCHAR2(20),
 35    cpic4path               VARCHAR2(400),
 36    zpz                     NVARCHAR2(20),
 37    shry                    NVARCHAR2(20),
 38    fsry                    NVARCHAR2(20),
 39    scry                    NVARCHAR2(20),
 40    dcry                    NVARCHAR2(20),
 41    xywh                    VARCHAR2(400),
 42    videoevidence           VARCHAR2(200),
 43    dillegalenddate         DATE,
 44    shryid                  VARCHAR2(12),
 45    fsryid                  NVARCHAR2(6),
 46    scryid                  NVARCHAR2(6),
 47    dcryid                  NVARCHAR2(6),
 48    remarks                 VARCHAR2(100),
 49    datauploadtime          DATE,
 50    mqrecivetime            DATE,
 51    create_time             DATE,
 52    export_time             DATE,
 53    uploadflag              CHAR(1),
 54    uploadrecord            VARCHAR2(1300),
 55    reviewerrormark         VARCHAR2(1),
 56    dillegalbegindate       DATE,
 57    caddressendcode         VARCHAR2(12),
 58    jdsbh                   VARCHAR2(15),
 59    returnval               CHAR(5),
 60    returnmes               NVARCHAR2(2000),
 61    datasavetime            DATE default sysdate,
 62    illegalvehtype          VARCHAR2(2) default 0,
 63    hisccarnumber           NVARCHAR2(16),
 64    cllx                    CHAR(3),
 65    syxz                    CHAR(1),
 66    syr                     VARCHAR2(128),
 67    fzjg                    VARCHAR2(51),
 68    glbm                    VARCHAR2(12),
 69    zsxzqh                  VARCHAR2(10),
 70    zsxxdz                  VARCHAR2(128),
 71    clyt                    CHAR(16),
 72    dwbh                    VARCHAR2(14),
 73    zzjglx                  VARCHAR2(2),
 74    regionname              VARCHAR2(200),
 75    regiondistance          NUMBER(6),
 76    monitorcode             VARCHAR2(12),
 77    monitoraddress          VARCHAR2(200)
 78  )
 79  ;
Table created
SQL> comment on table ILLEGAL_DATA_MILITARY
  2    is '军车违法数据表';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.nid
  2    is '数据库自动编号';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.clicensetype
  2    is '号牌种类';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.ccarnumber
  2    is '号牌号码';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.dillegaldate
  2    is '违法时间';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.coffense
  2    is '违法行为';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.caddresscode
  2    is '违法地点代码';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.cillegaladdress
  2    is '违法地址';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.ccollectionagencies
  2    is '采集机关';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.cdatasource
  2    is '数据来源';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.csnaptype
  2    is '抓拍类型';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.cdevicecode
  2    is '设备编号';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.cdirectioncode
  2    is '方向编号';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.dredlighttime
  2    is '红灯亮起时间';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.nredlightduration
  2    is '红灯持续时间';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.clanenumber
  2    is '车道编号';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.nvehiclespeed
  2    is '车辆速度';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.nbigcarspeedlimit
  2    is '大车限速';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.ntruckspeedlimit
  2    is '卡车限速';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.ncarspeedlimit
  2    is '小车限速';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.nbigcarlawenforcsplimit
  2    is '大车执法限速';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.ntrucklawenforcsplimit
  2    is '卡车执法限速';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.ncarlawenforcsplimit
  2    is '小车执法限速';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.nminispeedlimit
  2    is '最低限速';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.nevidencevideo
  2    is '证据－视频';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.npicvidpathid
  2    is '图片或视频路径ID';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.cvehicletype
  2    is '违法车辆类型';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.cpic1path
  2    is '证据－图片1路径';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.cpic2path
  2    is '证据－图片2路径';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.cpic3path
  2    is '证据－图片3路径';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.cselectstatus
  2    is '分拣状态(枚举值:146)';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.dselecttime
  2    is '分拣时间';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.noperator
  2    is '操作人员';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.cpic4path
  2    is '证据－图片4路径';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.shry
  2    is '审核人员';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.fsry
  2    is '复审人员';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.scry
  2    is '删除人员';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.dcry
  2    is '导出人员';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.xywh
  2    is '特征图片';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.dillegalenddate
  2    is '区间测速终点违法时间';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.dillegalbegindate
  2    is '区间测速起点违法时间';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.jdsbh
  2    is '违法数据手工录入-违停告知单号';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.datasavetime
  2    is '数据入库时间';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.illegalvehtype
  2    is '违法复审用的车辆种类';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.hisccarnumber
  2    is '历史号牌号码  号牌识别错误使用';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.cllx
  2    is '车辆类型';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.syxz
  2    is '使用性质';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.syr
  2    is '机动车所有人';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.fzjg
  2    is '发证机关';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.glbm
  2    is '管理部门';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.zsxzqh
  2    is '住所行政区划';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.zsxxdz
  2    is '住所详细地址';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.clyt
  2    is '车辆用途';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.dwbh
  2    is '单位编号';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.zzjglx
  2    is '组织机构类型';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.regiondistance
  2    is '区间距离';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.monitorcode
  2    is '移动点位编号';
Comment added
SQL> comment on column ILLEGAL_DATA_MILITARY.monitoraddress
  2    is '移动点位地址';
Comment added
SQL> create index IDX_ILL_CAR on ILLEGAL_DATA_MILITARY (CCARNUMBER);
Index created
SQL> create unique index PK_ILL_ID on ILLEGAL_DATA_MILITARY (DILLEGALDATE, NID);
Index created
SQL> prompt

SQL> prompt Creating table ILLEGAL_EXCEPTION_DATA
Creating table ILLEGAL_EXCEPTION_DATA
SQL> prompt =====================================
=====================================
SQL> prompt

SQL> create table ILLEGAL_EXCEPTION_DATA
  2  (
  3    nid                     VARCHAR2(32) not null,
  4    clicensetype            VARCHAR2(10),
  5    ccarnumber              NVARCHAR2(16),
  6    dillegaldate            DATE,
  7    coffense                VARCHAR2(10),
  8    caddresscode            VARCHAR2(20),
  9    cillegaladdress         VARCHAR2(200),
 10    ccollectionagencies     VARCHAR2(20),
 11    cdatasource             VARCHAR2(10),
 12    csnaptype               VARCHAR2(10),
 13    cdevicecode             VARCHAR2(25),
 14    cdirectioncode          VARCHAR2(10),
 15    dredlighttime           DATE,
 16    nredlightduration       NUMBER(3),
 17    clanenumber             VARCHAR2(2),
 18    nvehiclespeed           NUMBER(3) default 0 not null,
 19    nbigcarspeedlimit       NUMBER(3) default 0 not null,
 20    ntruckspeedlimit        NUMBER(3),
 21    ncarspeedlimit          NUMBER(3),
 22    nbigcarlawenforcsplimit NUMBER(3) default 0 not null,
 23    ntrucklawenforcsplimit  NUMBER(3),
 24    ncarlawenforcsplimit    NUMBER(3) default 0 not null,
 25    nminispeedlimit         NUMBER(3),
 26    nevidencevideo          VARCHAR2(400),
 27    npicvidpathid           NUMBER(4),
 28    cvehicletype            VARCHAR2(32) default 1,
 29    cpic1path               VARCHAR2(400),
 30    cpic2path               VARCHAR2(400),
 31    cpic3path               VARCHAR2(400),
 32    cselectstatus           CHAR(1),
 33    cpic4path               VARCHAR2(400),
 34    xywh                    VARCHAR2(400),
 35    videoevidence           VARCHAR2(200),
 36    dillegalenddate         DATE,
 37    datauploadtime          DATE,
 38    mqrecivetime            DATE,
 39    export_time             DATE,
 40    dillegalbegindate       DATE,
 41    caddressendcode         VARCHAR2(20),
 42    datasavetime            DATE default sysdate,
 43    regionname              VARCHAR2(200),
 44    regiondistance          NUMBER(6),
 45    monitorcode             VARCHAR2(20),
 46    monitoraddress          VARCHAR2(200),
 47    errordesc               VARCHAR2(2000),
 48    propose                 NVARCHAR2(50),
 49    accessflag              VARCHAR2(2) default 0,
 50    offercode               VARCHAR2(32),
 51    offername               VARCHAR2(400),
 52    reuploadflag            VARCHAR2(2) default 0,
 53    orignalmsg              VARCHAR2(1000)
 54  )
 55  ;
Table created
SQL> comment on table ILLEGAL_EXCEPTION_DATA
  2    is '违法接口校验无效数据表';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.nid
  2    is '数据库自动编号';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.clicensetype
  2    is '号牌种类';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.ccarnumber
  2    is '号牌号码';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.dillegaldate
  2    is '违法时间';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.coffense
  2    is '违法行为';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.caddresscode
  2    is '违法地点代码';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.cillegaladdress
  2    is '违法地址';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.ccollectionagencies
  2    is '采集机关';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.cdatasource
  2    is '数据来源';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.csnaptype
  2    is '抓拍类型';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.cdevicecode
  2    is '设备编号';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.cdirectioncode
  2    is '方向编号';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.dredlighttime
  2    is '红灯亮起时间';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.nredlightduration
  2    is '红灯持续时间';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.clanenumber
  2    is '车道编号';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.nvehiclespeed
  2    is '车辆速度';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.nbigcarspeedlimit
  2    is '大车限速';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.ntruckspeedlimit
  2    is '卡车限速';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.ncarspeedlimit
  2    is '小车限速';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.nbigcarlawenforcsplimit
  2    is '大车执法限速';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.ntrucklawenforcsplimit
  2    is '卡车执法限速';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.ncarlawenforcsplimit
  2    is '小车执法限速';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.nminispeedlimit
  2    is '最低限速';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.nevidencevideo
  2    is '证据－视频';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.npicvidpathid
  2    is '图片或视频路径ID';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.cvehicletype
  2    is '违法车辆类型';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.cpic1path
  2    is '证据－图片1路径';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.cpic2path
  2    is '证据－图片2路径';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.cpic3path
  2    is '证据－图片3路径';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.cselectstatus
  2    is '分拣状态(枚举值:146)';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.cpic4path
  2    is '证据－图片4路径';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.xywh
  2    is '特征图片';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.videoevidence
  2    is '证据视频';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.dillegalenddate
  2    is '区间测速终点违法时间';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.datauploadtime
  2    is '数据上传时间';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.mqrecivetime
  2    is 'MQ接收时间';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.export_time
  2    is '导出时间';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.dillegalbegindate
  2    is '违法终止时间';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.caddressendcode
  2    is '终止点编码';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.datasavetime
  2    is '入库时间';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.regionname
  2    is '区间名称';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.regiondistance
  2    is '区间距离';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.monitorcode
  2    is '移动点位编号';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.monitoraddress
  2    is '移动点位地址';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.errordesc
  2    is '错误描述';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.propose
  2    is '处置建议';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.accessflag
  2    is '0-接入校验失败，1-六合一上传失败';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.offercode
  2    is '处理意见代码';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.offername
  2    is '处理意见';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.reuploadflag
  2    is '0-不允许重传，1-允许重传';
Comment added
SQL> comment on column ILLEGAL_EXCEPTION_DATA.orignalmsg
  2    is '设备上传违法报文';
Comment added
SQL> alter table ILLEGAL_EXCEPTION_DATA
  2    add constraint ILLEGAL_EXCEPTION_DATA_ID primary key (NID);
Table altered
SQL> prompt

SQL> prompt Creating table ILLEGAL_EXEMPTION_ADDRESS
Creating table ILLEGAL_EXEMPTION_ADDRESS
SQL> prompt ========================================
========================================
SQL> prompt

SQL> create table ILLEGAL_EXEMPTION_ADDRESS
  2  (
  3    id             VARCHAR2(32) not null,
  4    address_code   VARCHAR2(12) not null,
  5    direction_code VARCHAR2(8) default '0',
  6    device_code    VARCHAR2(20),
  7    lane_code      VARCHAR2(2) default '0',
  8    exemption_id   VARCHAR2(32)
  9  )
 10  tablespace HIATMPTS
 11    pctfree 10
 12    initrans 1
 13    maxtrans 255
 14    storage
 15    (
 16      initial 64K
 17      next 1M
 18      minextents 1
 19      maxextents unlimited
 20    );
Table created
SQL> comment on table ILLEGAL_EXEMPTION_ADDRESS
  2    is '违法免责的点位';
Comment added
SQL> comment on column ILLEGAL_EXEMPTION_ADDRESS.id
  2    is 'uuid';
Comment added
SQL> comment on column ILLEGAL_EXEMPTION_ADDRESS.device_code
  2    is 'equipment_info.deviceid';
Comment added
SQL> comment on column ILLEGAL_EXEMPTION_ADDRESS.exemption_id
  2    is 'illegal_exemption_baseinfo.id';
Comment added
SQL> prompt

SQL> prompt Creating table ILLEGAL_EXEMPTION_BASEINFO
Creating table ILLEGAL_EXEMPTION_BASEINFO
SQL> prompt =========================================
=========================================
SQL> prompt

SQL> -- Create table
SQL> create table ILLEGAL_EXEMPTION_BASEINFO
  2  (
  3    id             VARCHAR2(32) not null,
  4    name           VARCHAR2(64),
  5    type           CHAR(1) default '1',
  6    begin_date     DATE,
  7    end_date       DATE,
  8    expired_flag   CHAR(1),
  9    license_type   VARCHAR2(2),
 10    license_no     VARCHAR2(16),
 11    audit_status   VARCHAR2(2) default '1',
 12    audit_date     DATE,
 13    exemption_desc VARCHAR2(1024),
 14    create_time    DATE default sysdate,
 15    creater        VARCHAR2(8),
 16    revise_time    DATE default sysdate,
 17    revisor        VARCHAR2(8),
 18    forb_id        VARCHAR2(32),
 19    auditor        VARCHAR2(8),
 20    audit_desc     VARCHAR2(128),
 21    illegal_code   VARCHAR2(6),
 22    subtype        VARCHAR2(2) default 1,
 23    cqtp_url       VARCHAR2(400),
 24    chtp_url       VARCHAR2(400),
 25    xsztp_url      VARCHAR2(400),
 26    sqbtp_url      VARCHAR2(400),
 27    department_id  VARCHAR2(100),
 28    timerstr       VARCHAR2(1000)
 29  )
 30  tablespace HIATMPTS
 31    pctfree 10
 32    initrans 1
 33    maxtrans 255
 34    storage
 35    (
 36      initial 64K
 37      next 1M
 38      minextents 1
 39      maxextents unlimited
 40    );
Table created
SQL> -- Add comments to the table
SQL> comment on table ILLEGAL_EXEMPTION_BASEINFO
  2    is '违法免责信息表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column ILLEGAL_EXEMPTION_BASEINFO.id
  2    is 'uuid';
Comment added
SQL> comment on column ILLEGAL_EXEMPTION_BASEINFO.begin_date
  2    is '免责开始时间';
Comment added
SQL> comment on column ILLEGAL_EXEMPTION_BASEINFO.end_date
  2    is '免责结束时间';
Comment added
SQL> comment on column ILLEGAL_EXEMPTION_BASEINFO.expired_flag
  2    is '免责是否过期,1-不过期';
Comment added
SQL> comment on column ILLEGAL_EXEMPTION_BASEINFO.license_type
  2    is '号牌种类';
Comment added
SQL> comment on column ILLEGAL_EXEMPTION_BASEINFO.license_no
  2    is '号牌号码';
Comment added
SQL> comment on column ILLEGAL_EXEMPTION_BASEINFO.audit_status
  2    is '审核状态enumtypeid=311';
Comment added
SQL> comment on column ILLEGAL_EXEMPTION_BASEINFO.audit_date
  2    is '审核日期';
Comment added
SQL> comment on column ILLEGAL_EXEMPTION_BASEINFO.exemption_desc
  2    is '免责描述';
Comment added
SQL> comment on column ILLEGAL_EXEMPTION_BASEINFO.forb_id
  2    is 'illegal_forbid_baseinfo.id';
Comment added
SQL> comment on column ILLEGAL_EXEMPTION_BASEINFO.auditor
  2    is '审核人';
Comment added
SQL> comment on column ILLEGAL_EXEMPTION_BASEINFO.audit_desc
  2    is '审核意见';
Comment added
SQL> comment on column ILLEGAL_EXEMPTION_BASEINFO.illegal_code
  2    is '违法行为';
Comment added
SQL> comment on column ILLEGAL_EXEMPTION_BASEINFO.subtype
  2    is '限行业务子类型,用于大货限行,1-报备车,2-公交车';
Comment added
SQL> comment on column ILLEGAL_EXEMPTION_BASEINFO.cqtp_url
  2    is '车前图片存放地址';
Comment added
SQL> comment on column ILLEGAL_EXEMPTION_BASEINFO.chtp_url
  2    is '车后图片存放地址';
Comment added
SQL> comment on column ILLEGAL_EXEMPTION_BASEINFO.xsztp_url
  2    is '行驶证图片存放地址';
Comment added
SQL> comment on column ILLEGAL_EXEMPTION_BASEINFO.sqbtp_url
  2    is '申请表图片存放地址';
Comment added
SQL> comment on column ILLEGAL_EXEMPTION_BASEINFO.department_id
  2    is '申请部门ID';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table ILLEGAL_EXEMPTION_BASEINFO
  2    add constraint PK_ILLEGAL_EXEMPTION_BASEINFO primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> prompt

SQL> prompt Creating table ILLEGAL_EXEMPTION_CARINFO
Creating table ILLEGAL_EXEMPTION_CARINFO
SQL> prompt ========================================
========================================
SQL> prompt

SQL> create table ILLEGAL_EXEMPTION_CARINFO
  2  (
  3    nid          VARCHAR2(32) not null,
  4    ccarnumber   NVARCHAR2(16) not null,
  5    clicensetype VARCHAR2(2) not null,
  6    startime     DATE not null,
  7    endtime      DATE not null,
  8    creator      CHAR(6),
  9    create_time  DATE default sysdate
 10  )
 11  tablespace HIATMPTS
 12    pctfree 10
 13    initrans 1
 14    maxtrans 255
 15    storage
 16    (
 17      initial 64K
 18      next 1M
 19      minextents 1
 20      maxextents unlimited
 21    );
Table created
SQL> comment on table ILLEGAL_EXEMPTION_CARINFO
  2    is '警卫任务车辆免责表';
Comment added
SQL> comment on column ILLEGAL_EXEMPTION_CARINFO.nid
  2    is 'uuid';
Comment added
SQL> comment on column ILLEGAL_EXEMPTION_CARINFO.ccarnumber
  2    is '号牌号码';
Comment added
SQL> comment on column ILLEGAL_EXEMPTION_CARINFO.clicensetype
  2    is '号牌类型';
Comment added
SQL> comment on column ILLEGAL_EXEMPTION_CARINFO.startime
  2    is '开始时间';
Comment added
SQL> comment on column ILLEGAL_EXEMPTION_CARINFO.endtime
  2    is '结束时间';
Comment added
SQL> comment on column ILLEGAL_EXEMPTION_CARINFO.creator
  2    is '记录创建人;operator.nuserid';
Comment added
SQL> comment on column ILLEGAL_EXEMPTION_CARINFO.create_time
  2    is '记录创建时间';
Comment added
SQL> create index ILLEGAL_EXEMPTION_INDEX on ILLEGAL_EXEMPTION_CARINFO (CCARNUMBER, CLICENSETYPE)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> alter table ILLEGAL_EXEMPTION_CARINFO
  2    add constraint ILLEGAL_EXEMPTION_KEY primary key (NID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> prompt

SQL> prompt Creating table ILLEGAL_EXEMPTION_DATA
Creating table ILLEGAL_EXEMPTION_DATA
SQL> prompt =====================================
=====================================
SQL> prompt

SQL> create table ILLEGAL_EXEMPTION_DATA
  2  (
  3    nid                 VARCHAR2(32) not null,
  4    clicensetype        VARCHAR2(2),
  5    ccarnumber          NVARCHAR2(16),
  6    dillegaldate        DATE not null,
  7    coffense            VARCHAR2(6) not null,
  8    caddresscode        VARCHAR2(12) not null,
  9    cillegaladdress     VARCHAR2(200),
 10    ccollectionagencies VARCHAR2(12) not null,
 11    cdatasource         VARCHAR2(2) not null,
 12    csnaptype           CHAR(1) not null,
 13    cdevicecode         VARCHAR2(18) not null,
 14    cdirectioncode      VARCHAR2(8),
 15    dredlighttime       DATE,
 16    nredlightduration   NUMBER(3),
 17    clanenumber         VARCHAR2(2),
 18    nevidencevideo      VARCHAR2(400),
 19    cvehicletype        VARCHAR2(32) default 1,
 20    cpic1path           VARCHAR2(400),
 21    cpic2path           VARCHAR2(400),
 22    cpic3path           VARCHAR2(400),
 23    cselectstatus       CHAR(1),
 24    noperator           VARCHAR2(20),
 25    xywh                VARCHAR2(100),
 26    videoevidence       VARCHAR2(200),
 27    datauploadtime      DATE,
 28    datasavetime        DATE default sysdate
 29  )
 30  ;
Table created
SQL> prompt

SQL> prompt Creating table ILLEGAL_RELIEF_DATA
Creating table ILLEGAL_RELIEF_DATA
SQL> prompt ==================================
==================================
SQL> prompt

SQL> create table ILLEGAL_RELIEF_DATA
  2  (
  3    nid                     VARCHAR2(32) not null,
  4    clicensetype            VARCHAR2(2),
  5    ccarnumber              NVARCHAR2(16),
  6    dillegaldate            DATE not null,
  7    coffense                VARCHAR2(6) not null,
  8    caddresscode            VARCHAR2(12) not null,
  9    cillegaladdress         VARCHAR2(200),
 10    ccollectionagencies     VARCHAR2(12) not null,
 11    cdatasource             VARCHAR2(2) not null,
 12    csnaptype               CHAR(1) not null,
 13    cdevicecode             VARCHAR2(18) not null,
 14    cdirectioncode          VARCHAR2(8),
 15    dredlighttime           DATE,
 16    nredlightduration       NUMBER(3),
 17    clanenumber             VARCHAR2(2),
 18    nvehiclespeed           NUMBER(3) default 0 not null,
 19    nbigcarspeedlimit       NUMBER(3) default 0 not null,
 20    ntruckspeedlimit        NUMBER(3),
 21    ncarspeedlimit          NUMBER(3),
 22    nbigcarlawenforcsplimit NUMBER(3) default 0 not null,
 23    ntrucklawenforcsplimit  NUMBER(3),
 24    ncarlawenforcsplimit    NUMBER(3) default 0 not null,
 25    nminispeedlimit         NUMBER(4),
 26    nevidencevideo          VARCHAR2(400),
 27    cvehicletype            VARCHAR2(32) default 1,
 28    cpic1path               VARCHAR2(400),
 29    cpic2path               VARCHAR2(400),
 30    cpic3path               VARCHAR2(400),
 31    cselectstatus           CHAR(1),
 32    noperator               VARCHAR2(20),
 33    xywh                    VARCHAR2(400),
 34    videoevidence           VARCHAR2(200),
 35    dillegalenddate         DATE,
 36    datauploadtime          DATE,
 37    mqrecivetime            DATE,
 38    dillegalbegindate       DATE,
 39    datasavetime            DATE default sysdate,
 40    illegalvehtype          VARCHAR2(2) default 0,
 41    regionname              VARCHAR2(200),
 42    regiondistance          NUMBER(4),
 43    monitorcode             VARCHAR2(12),
 44    monitoraddress          VARCHAR2(200),
 45    caddressendcode         VARCHAR2(12)
 46  )
 47  ;
Table created
SQL> create index IDX_ILL_CARNO on ILLEGAL_RELIEF_DATA (CCARNUMBER);
Index created
SQL> create unique index PK_DATE_ID on ILLEGAL_RELIEF_DATA (DILLEGALDATE, NID);
Index created
SQL> prompt

SQL> prompt Creating table ILLEGAL_VEHINFO
Creating table ILLEGAL_VEHINFO
SQL> prompt ==============================
==============================
SQL> prompt

SQL> create table ILLEGAL_VEHINFO
  2  (
  3    illegalid VARCHAR2(32) not null,
  4    clfl      VARCHAR2(1) not null,
  5    jdcsyr    VARCHAR2(128),
  6    syxz      VARCHAR2(1),
  7    fdjh      VARCHAR2(30),
  8    clsbdh    VARCHAR2(30),
  9    csys      VARCHAR2(10),
 10    clpp      VARCHAR2(32),
 11    cllx      VARCHAR2(3) not null,
 12    fzjg      VARCHAR2(10),
 13    zsxzqh    VARCHAR2(10),
 14    zsxxdz    VARCHAR2(128),
 15    dh        VARCHAR2(50),
 16    lxfs      VARCHAR2(128),
 17    resv1     VARCHAR2(18),
 18    resv2     VARCHAR2(30),
 19    resv3     VARCHAR2(30),
 20    hdzk      VARCHAR2(3),
 21    yxqz      VARCHAR2(30),
 22    zt        VARCHAR2(6),
 23    clyt      VARCHAR2(2)
 24  )
 25  ;
Table created
SQL> comment on table ILLEGAL_VEHINFO
  2    is '?????????';
Comment added
SQL> comment on column ILLEGAL_VEHINFO.illegalid
  2    is 'illegal_data表的id';
Comment added
SQL> comment on column ILLEGAL_VEHINFO.clfl
  2    is '车辆分类';
Comment added
SQL> comment on column ILLEGAL_VEHINFO.jdcsyr
  2    is '机动车所有人';
Comment added
SQL> comment on column ILLEGAL_VEHINFO.syxz
  2    is '使用性质';
Comment added
SQL> comment on column ILLEGAL_VEHINFO.fdjh
  2    is '发动机号';
Comment added
SQL> comment on column ILLEGAL_VEHINFO.clsbdh
  2    is '车辆识别代号';
Comment added
SQL> comment on column ILLEGAL_VEHINFO.csys
  2    is '车身颜色';
Comment added
SQL> comment on column ILLEGAL_VEHINFO.clpp
  2    is '车辆品牌';
Comment added
SQL> comment on column ILLEGAL_VEHINFO.cllx
  2    is '车辆类型  交通方式';
Comment added
SQL> comment on column ILLEGAL_VEHINFO.fzjg
  2    is '发证机关';
Comment added
SQL> comment on column ILLEGAL_VEHINFO.zsxzqh
  2    is '住所行政区划';
Comment added
SQL> comment on column ILLEGAL_VEHINFO.zsxxdz
  2    is '住所详细地址';
Comment added
SQL> comment on column ILLEGAL_VEHINFO.dh
  2    is '电话';
Comment added
SQL> comment on column ILLEGAL_VEHINFO.lxfs
  2    is '联系方式';
Comment added
SQL> comment on column ILLEGAL_VEHINFO.resv1
  2    is '身份证';
Comment added
SQL> comment on column ILLEGAL_VEHINFO.resv2
  2    is '预留字段2';
Comment added
SQL> comment on column ILLEGAL_VEHINFO.resv3
  2    is '预留字段3';
Comment added
SQL> comment on column ILLEGAL_VEHINFO.hdzk
  2    is '核定载客';
Comment added
SQL> comment on column ILLEGAL_VEHINFO.yxqz
  2    is '有效期至';
Comment added
SQL> comment on column ILLEGAL_VEHINFO.zt
  2    is '状态';
Comment added
SQL> comment on column ILLEGAL_VEHINFO.clyt
  2    is '车辆用途';
Comment added
SQL> create index INDEX01 on ILLEGAL_VEHINFO (RESV2, RESV3);
Index created
SQL> alter table ILLEGAL_VEHINFO
  2    add constraint ILLEGALVEHINFOID primary key (ILLEGALID);
Table altered
SQL> prompt

SQL> prompt Creating table INFO_ACCIDENTNM
Creating table INFO_ACCIDENTNM
SQL> prompt ==============================
==============================
SQL> prompt

SQL> create table INFO_ACCIDENTNM
  2  (
  3    id                VARCHAR2(32) not null,
  4    info_publishnm_id VARCHAR2(32),
  5    time              DATE,
  6    description       VARCHAR2(255),
  7    note              VARCHAR2(255),
  8    address           VARCHAR2(255),
  9    parentdepartment  NVARCHAR2(12),
 10    yq_time           DATE,
 11    hzstatus          NCHAR(1),
 12    status            NCHAR(1),
 13    deptshortname     NVARCHAR2(50)
 14  )
 15  ;
Table created
SQL> comment on column INFO_ACCIDENTNM.info_publishnm_id
  2    is '关联信息发布Id';
Comment added
SQL> comment on column INFO_ACCIDENTNM.time
  2    is '特殊事故时间';
Comment added
SQL> comment on column INFO_ACCIDENTNM.description
  2    is '事故描述';
Comment added
SQL> comment on column INFO_ACCIDENTNM.note
  2    is '备注';
Comment added
SQL> comment on column INFO_ACCIDENTNM.address
  2    is '地址';
Comment added
SQL> comment on column INFO_ACCIDENTNM.parentdepartment
  2    is '上级组织机构';
Comment added
SQL> comment on column INFO_ACCIDENTNM.yq_time
  2    is '要情事件';
Comment added
SQL> comment on column INFO_ACCIDENTNM.hzstatus
  2    is '支队汇总状态';
Comment added
SQL> comment on column INFO_ACCIDENTNM.status
  2    is '总队汇总状态';
Comment added
SQL> alter table INFO_ACCIDENTNM
  2    add constraint ACN_PK primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table IP_WHITE_LIST
Creating table IP_WHITE_LIST
SQL> prompt ============================
============================
SQL> prompt

SQL> create table IP_WHITE_LIST
  2  (
  3    pkid           NUMBER not null,
  4    segment_name   VARCHAR2(100),
  5    start_address  VARCHAR2(15) not null,
  6    end_address    VARCHAR2(15) not null,
  7    user_id        VARCHAR2(20),
  8    operating_time DATE,
  9    remark         VARCHAR2(500)
 10  )
 11  ;
Table created
SQL> comment on table IP_WHITE_LIST
  2    is 'ip白名单';
Comment added
SQL> comment on column IP_WHITE_LIST.pkid
  2    is '主键';
Comment added
SQL> comment on column IP_WHITE_LIST.segment_name
  2    is '网段名称';
Comment added
SQL> comment on column IP_WHITE_LIST.start_address
  2    is '起始地址';
Comment added
SQL> comment on column IP_WHITE_LIST.end_address
  2    is '结束地址';
Comment added
SQL> comment on column IP_WHITE_LIST.user_id
  2    is '操作人';
Comment added
SQL> comment on column IP_WHITE_LIST.operating_time
  2    is '操作时间';
Comment added
SQL> comment on column IP_WHITE_LIST.remark
  2    is '备注';
Comment added
SQL> alter table IP_WHITE_LIST
  2    add constraint IP_WHITE_LIST_PK primary key (PKID);
Table altered
SQL> prompt

SQL> prompt Creating table IST_DRVPERSON
Creating table IST_DRVPERSON
SQL> prompt ============================
============================
SQL> prompt

SQL> create table IST_DRVPERSON
  2  (
  3    nid      VARCHAR2(32) not null,
  4    xm       VARCHAR2(32),
  5    xb       NVARCHAR2(1),
  6    gj       VARCHAR2(32),
  7    csrq     VARCHAR2(20),
  8    djzsxxdz VARCHAR2(200),
  9    cclzrq   VARCHAR2(20),
 10    fzjg     VARCHAR2(200),
 11    zjcx     VARCHAR2(200),
 12    ljjf     VARCHAR2(6),
 13    zt       VARCHAR2(10),
 14    dabh     VARCHAR2(20),
 15    sfzmhm   VARCHAR2(20),
 16    csrqtt   DATE,
 17    cclzrqtt DATE
 18  )
 19  ;
Table created
SQL> comment on table IST_DRVPERSON
  2    is '驾驶员';
Comment added
SQL> comment on column IST_DRVPERSON.nid
  2    is '主键';
Comment added
SQL> comment on column IST_DRVPERSON.xm
  2    is '姓名';
Comment added
SQL> comment on column IST_DRVPERSON.xb
  2    is '性别';
Comment added
SQL> comment on column IST_DRVPERSON.gj
  2    is '国籍';
Comment added
SQL> comment on column IST_DRVPERSON.csrq
  2    is '出生日期';
Comment added
SQL> comment on column IST_DRVPERSON.djzsxxdz
  2    is '住址';
Comment added
SQL> comment on column IST_DRVPERSON.cclzrq
  2    is '初次领证日期';
Comment added
SQL> comment on column IST_DRVPERSON.fzjg
  2    is '发证机关';
Comment added
SQL> comment on column IST_DRVPERSON.zjcx
  2    is '准驾车型';
Comment added
SQL> comment on column IST_DRVPERSON.ljjf
  2    is '累积记分';
Comment added
SQL> comment on column IST_DRVPERSON.zt
  2    is '状态';
Comment added
SQL> comment on column IST_DRVPERSON.dabh
  2    is '档案编号';
Comment added
SQL> comment on column IST_DRVPERSON.sfzmhm
  2    is '身份证明号码';
Comment added
SQL> alter table IST_DRVPERSON
  2    add constraint PRI_ISTDRVPERSON primary key (NID);
Table altered
SQL> prompt

SQL> prompt Creating table IST_FUGITIVE
Creating table IST_FUGITIVE
SQL> prompt ===========================
===========================
SQL> prompt

SQL> create table IST_FUGITIVE
  2  (
  3    id                    VARCHAR2(100) not null,
  4    type                  VARCHAR2(10) not null,
  5    cardnumber            VARCHAR2(30) not null,
  6    caseid                VARCHAR2(50) not null,
  7    casetype              VARCHAR2(50) not null,
  8    jianyaoanqing         VARCHAR2(200) not null,
  9    lianshengshixianqu    VARCHAR2(30) not null,
 10    liandanwei            VARCHAR2(100) not null,
 11    xianzhushengshixianqu VARCHAR2(30) not null,
 12    chexiaoshijian        VARCHAR2(30) not null,
 13    sheanjibie            VARCHAR2(30) not null,
 14    zaitaoleixing         VARCHAR2(30) not null,
 15    taopaoriqi            VARCHAR2(30) not null,
 16    jibujibie             VARCHAR2(30) not null,
 17    lianxirenxingming     VARCHAR2(30) not null,
 18    telephone             VARCHAR2(30) not null,
 19    zhuahuoshijian        VARCHAR2(30) not null,
 20    zhuahuodidian         VARCHAR2(30) not null
 21  )
 22  ;
Table created
SQL> alter table IST_FUGITIVE
  2    add primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table IST_MDS_DISPATCHERUSER
Creating table IST_MDS_DISPATCHERUSER
SQL> prompt =====================================
=====================================
SQL> prompt

SQL> create table IST_MDS_DISPATCHERUSER
  2  (
  3    id       VARCHAR2(100) not null,
  4    password VARCHAR2(100) not null,
  5    ip       VARCHAR2(100) not null,
  6    status   VARCHAR2(10) not null
  7  )
  8  ;
Table created
SQL> alter table IST_MDS_DISPATCHERUSER
  2    add primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table IST_PEOPLEBASE
Creating table IST_PEOPLEBASE
SQL> prompt =============================
=============================
SQL> prompt

SQL> create table IST_PEOPLEBASE
  2  (
  3    id                  VARCHAR2(100) not null,
  4    type                VARCHAR2(10) not null,
  5    name                VARCHAR2(15) not null,
  6    sex                 VARCHAR2(30) not null,
  7    minzu               VARCHAR2(30) not null,
  8    birthday            VARCHAR2(30) not null,
  9    address             VARCHAR2(200) not null,
 10    idcardnum           VARCHAR2(30) not null,
 11    qianfajiguan        VARCHAR2(100) not null,
 12    youxiaoqixian       VARCHAR2(30) not null,
 13    jiazhaoleijifenshu  VARCHAR2(10) not null,
 14    jiashiyuanzhuangtai VARCHAR2(30) not null,
 15    shifouzaitao        VARCHAR2(20) not null
 16  )
 17  ;
Table created
SQL> alter table IST_PEOPLEBASE
  2    add primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table IST_PUSH_RECEIPT
Creating table IST_PUSH_RECEIPT
SQL> prompt ===============================
===============================
SQL> prompt

SQL> create table IST_PUSH_RECEIPT
  2  (
  3    policeid    VARCHAR2(100) not null,
  4    messageid   VARCHAR2(100) not null,
  5    servicename VARCHAR2(100) not null,
  6    subaction   VARCHAR2(100) not null,
  7    sendtime    VARCHAR2(100) default '',
  8    receivetime VARCHAR2(100) default '',
  9    readtime    VARCHAR2(100) default '',
 10    returncode  VARCHAR2(100) default '',
 11    mescontent  VARCHAR2(1000) default ''
 12  )
 13  ;
Table created
SQL> alter table IST_PUSH_RECEIPT
  2    add constraint PK_IST primary key (POLICEID, MESSAGEID);
Table altered
SQL> prompt

SQL> prompt Creating table IST_SIT_ENFORCEMENT_INFO
Creating table IST_SIT_ENFORCEMENT_INFO
SQL> prompt =======================================
=======================================
SQL> prompt

SQL> create table IST_SIT_ENFORCEMENT_INFO
  2  (
  3    id                 NVARCHAR2(15) not null,
  4    police_id          NVARCHAR2(6) not null,
  5    zflx               VARCHAR2(4) not null,
  6    ryfl               VARCHAR2(4),
  7    jszh               NVARCHAR2(20),
  8    dabh               VARCHAR2(12),
  9    fzjg               NVARCHAR2(20),
 10    zjcx               VARCHAR2(10),
 11    dsr                NVARCHAR2(30),
 12    ljjf               NUMBER(2),
 13    clfl               VARCHAR2(4),
 14    hpzl               VARCHAR2(2),
 15    hphm               VARCHAR2(15),
 16    jdcsyr             NVARCHAR2(128),
 17    syxz               VARCHAR2(1),
 18    jtfs               VARCHAR2(3),
 19    dh                 VARCHAR2(13),
 20    fdjh               VARCHAR2(32),
 21    jcyxqz             DATE,
 22    wfsj               DATE,
 23    xzqh               VARCHAR2(6),
 24    wfdz               NVARCHAR2(128),
 25    wfdd               NVARCHAR2(128),
 26    lddm               VARCHAR2(4),
 27    ddms               VARCHAR2(3),
 28    wfxw               VARCHAR2(10),
 29    cffs               VARCHAR2(10),
 30    fkje               VARCHAR2(6),
 31    zqmj               VARCHAR2(10),
 32    jkfs               VARCHAR2(1),
 33    jkbz               VARCHAR2(1),
 34    fxjg               VARCHAR2(12),
 35    jsjqbj             VARCHAR2(2),
 36    sgdj               VARCHAR2(1),
 37    longtitude         VARCHAR2(10),
 38    latitude           VARCHAR2(10),
 39    wslb               VARCHAR2(1),
 40    qzcslx             VARCHAR2(10),
 41    klwpcfd            NVARCHAR2(128),
 42    sjxm               VARCHAR2(4),
 43    sjwpmc             NVARCHAR2(128),
 44    sjwpcfd            NVARCHAR2(128),
 45    kljdc              VARCHAR2(1),
 46    klfjdc             VARCHAR2(1),
 47    kljsz              VARCHAR2(1),
 48    klxsz              VARCHAR2(1),
 49    sjffwp             VARCHAR2(1),
 50    tyjdc              VARCHAR2(1),
 51    ffwp               NVARCHAR2(2000),
 52    photourls          NVARCHAR2(2000),
 53    fzjg_car           VARCHAR2(100),
 54    jianyinum          VARCHAR2(1000),
 55    qiangzhinum        VARCHAR2(1000),
 56    zhifaid            VARCHAR2(32),
 57    weifatongzhishuadd VARCHAR2(4),
 58    ssqx               VARCHAR2(2000),
 59    clzt               VARCHAR2(200),
 60    csys               VARCHAR2(2),
 61    clstuate           VARCHAR2(255),
 62    jdsbh              VARCHAR2(25),
 63    hpys               VARCHAR2(25),
 64    cfdd               VARCHAR2(225),
 65    jsclbm             VARCHAR2(225),
 66    bmlxdh             VARCHAR2(25),
 67    jsclsj             VARCHAR2(32),
 68    fyjg               VARCHAR2(255),
 69    ssjg               VARCHAR2(255),
 70    falvyiju           VARCHAR2(4000),
 71    koufen             VARCHAR2(4),
 72    clsj               DATE default sysdate not null
 73  )
 74  ;
Table created
SQL> comment on table IST_SIT_ENFORCEMENT_INFO
  2    is '单警现场执法信息表';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.id
  2    is '强制措施/简易程序编号';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.police_id
  2    is '用户id,处置警员信息';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.zflx
  2    is '执法类型';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.ryfl
  2    is '人员分类  必须符合六合一代码表中xtlb=04和dmlb=0080的代码';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.jszh
  2    is '驾驶证号';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.dabh
  2    is '档案编号';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.fzjg
  2    is '发证机关';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.zjcx
  2    is '准驾车型';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.dsr
  2    is '当事人';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.ljjf
  2    is '累计积分';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.clfl
  2    is '车辆分类';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.hpzl
  2    is '号牌种类';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.hphm
  2    is '号牌号码';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.jdcsyr
  2    is '机动车所有人';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.syxz
  2    is '使用性质';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.jtfs
  2    is '交通方式';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.dh
  2    is '电话';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.fdjh
  2    is '发动机号';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.jcyxqz
  2    is '检查有效期止';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.wfsj
  2    is '违法时间';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.xzqh
  2    is '行政区划';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.wfdz
  2    is '违法地址';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.wfdd
  2    is '违法地点';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.lddm
  2    is '路段代码';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.ddms
  2    is '地点米数';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.wfxw
  2    is '违法行为';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.cffs
  2    is '处罚方式';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.fkje
  2    is '罚款金额';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.zqmj
  2    is '执勤民警';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.jkfs
  2    is '交款方式';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.jkbz
  2    is '交款标志';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.fxjg
  2    is '发现机关';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.jsjqbj
  2    is '拒收拒签标记';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.sgdj
  2    is '事故等级';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.longtitude
  2    is '经度';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.latitude
  2    is '纬度';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.wslb
  2    is '文书类别，3-强制措施凭证；6-违法处理通知书';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.qzcslx
  2    is '强制措施类型，文书类别为“3”时，必须符合代码表中xtlb=04和dmlb=0080的代码；为“6”时必须为空。';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.klwpcfd
  2    is '扣留物品存放地';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.sjxm
  2    is '收缴项目';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.sjwpmc
  2    is '收缴物品名称';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.sjwpcfd
  2    is '收缴物品存放地';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.kljdc
  2    is '扣留机动车';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.klfjdc
  2    is '扣留非机动车';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.kljsz
  2    is '扣留驾驶证';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.klxsz
  2    is '扣留行驶证';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.sjffwp
  2    is '收缴非法物品';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.tyjdc
  2    is '拖移机动车';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.ffwp
  2    is '非法物品明细';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.photourls
  2    is '违法取证照片';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.fzjg_car
  2    is '车辆发证机关';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.jianyinum
  2    is '简易程序处罚决定书打印数';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.qiangzhinum
  2    is '强制措施凭证打印数';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.zhifaid
  2    is '执法id';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.weifatongzhishuadd
  2    is '违法通知书打印数';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.ssqx
  2    is '所属辖区';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.clzt
  2    is '处理状态';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.csys
  2    is '车身颜色';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.clstuate
  2    is '车辆状态';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.jdsbh
  2    is '决定书编号';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.hpys
  2    is '号牌颜色';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.cfdd
  2    is '处罚地点';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.jsclbm
  2    is '接受处理部门';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.bmlxdh
  2    is '部门联系电话';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.jsclsj
  2    is '接受处理时间';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.fyjg
  2    is '复议机关';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.ssjg
  2    is '诉讼机关';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.falvyiju
  2    is '法律依据';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.koufen
  2    is '扣分';
Comment added
SQL> comment on column IST_SIT_ENFORCEMENT_INFO.clsj
  2    is '处理时间';
Comment added
SQL> alter table IST_SIT_ENFORCEMENT_INFO
  2    add constraint IST_SIT_PRIKEY primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table IST_STOLENCAR
Creating table IST_STOLENCAR
SQL> prompt ============================
============================
SQL> prompt

SQL> create table IST_STOLENCAR
  2  (
  3    id            VARCHAR2(100) not null,
  4    type          VARCHAR2(10) not null,
  5    carnumber     VARCHAR2(15) not null,
  6    anjianbianhao VARCHAR2(30) not null,
  7    anjianxingzhi VARCHAR2(30) not null,
  8    liandanwei    VARCHAR2(30) not null,
  9    liandianhua   VARCHAR2(30) not null,
 10    lianshiian    VARCHAR2(30) not null,
 11    zhuangtai     VARCHAR2(30) not null
 12  )
 13  ;
Table created
SQL> alter table IST_STOLENCAR
  2    add primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table IST_ZFDEPT
Creating table IST_ZFDEPT
SQL> prompt =========================
=========================
SQL> prompt

SQL> create table IST_ZFDEPT
  2  (
  3    deptid    VARCHAR2(15),
  4    jsclbm    VARCHAR2(150),
  5    cfdd      VARCHAR2(255),
  6    bmlxdh    VARCHAR2(18),
  7    jsclsj_am VARCHAR2(50),
  8    jsclsj_pm VARCHAR2(10),
  9    fyjg      VARCHAR2(255),
 10    ssjg      VARCHAR2(255)
 11  )
 12  ;
Table created
SQL> comment on column IST_ZFDEPT.deptid
  2    is '部门编号';
Comment added
SQL> comment on column IST_ZFDEPT.jsclbm
  2    is '处罚部门';
Comment added
SQL> comment on column IST_ZFDEPT.cfdd
  2    is '处罚地址';
Comment added
SQL> comment on column IST_ZFDEPT.bmlxdh
  2    is '部门联系电话';
Comment added
SQL> comment on column IST_ZFDEPT.jsclsj_am
  2    is '接受处理时间（上午时间）';
Comment added
SQL> comment on column IST_ZFDEPT.jsclsj_pm
  2    is '接受处理时间（下午时间）';
Comment added
SQL> comment on column IST_ZFDEPT.fyjg
  2    is '复议机关';
Comment added
SQL> comment on column IST_ZFDEPT.ssjg
  2    is '诉讼机关';
Comment added
SQL> prompt

SQL> prompt Creating table JJDB_SJ
Creating table JJDB_SJ
SQL> prompt ======================
======================
SQL> prompt

SQL> create table JJDB_SJ
  2  (
  3    xzqh      VARCHAR2(6) not null,
  4    jjdbh     VARCHAR2(20) not null,
  5    gljjdbh   VARCHAR2(20),
  6    bjfsdm    NUMBER(1) not null,
  7    jjdcllxdm NUMBER(2) not null,
  8    jjdwdm    NUMBER(12) not null,
  9    jjyxm     VARCHAR2(18) not null,
 10    hrsj      DATE not null,
 11    bjsj      DATE not null,
 12    bjdh      VARCHAR2(15),
 13    jjlyh     VARCHAR2(14),
 14    bjrxm     VARCHAR2(30),
 15    bjrxb     NUMBER(1),
 16    afdd      VARCHAR2(80),
 17    bjnr      VARCHAR2(800),
 18    gxdwdm    NUMBER(12),
 19    bjlbdm    NUMBER(2),
 20    bjlxdm    NUMBER(6),
 21    bjxldm    NUMBER(6),
 22    hpzldm    NUMBER(2),
 23    bjcph     VARCHAR2(10),
 24    jqjb      NUMBER(1),
 25    scbz      NUMBER(1) default 0,
 26    hcbz      NUMBER(1),
 27    jjdzt     NUMBER(2),
 28    jqms      VARCHAR2(4000),
 29    xpos      VARCHAR2(200),
 30    ypos      VARCHAR2(200),
 31    sjgxsj    DATE,
 32    sjpjsj    DATE
 33  )
 34  ;
Table created
SQL> comment on table JJDB_SJ
  2    is '接警单表';
Comment added
SQL> comment on column JJDB_SJ.xzqh
  2    is '行政区划';
Comment added
SQL> comment on column JJDB_SJ.jjdbh
  2    is '接警单编号';
Comment added
SQL> comment on column JJDB_SJ.gljjdbh
  2    is '关联接警单编号';
Comment added
SQL> comment on column JJDB_SJ.bjfsdm
  2    is '报警方式代码';
Comment added
SQL> comment on column JJDB_SJ.jjdcllxdm
  2    is '接警单处理类型代码';
Comment added
SQL> comment on column JJDB_SJ.jjdwdm
  2    is '接警单位代码';
Comment added
SQL> comment on column JJDB_SJ.jjyxm
  2    is '接警员姓名';
Comment added
SQL> comment on column JJDB_SJ.hrsj
  2    is '呼入时间';
Comment added
SQL> comment on column JJDB_SJ.bjsj
  2    is '报警时间';
Comment added
SQL> comment on column JJDB_SJ.bjdh
  2    is '报警电话';
Comment added
SQL> comment on column JJDB_SJ.jjlyh
  2    is '接警录音号';
Comment added
SQL> comment on column JJDB_SJ.bjrxm
  2    is '报警人姓名';
Comment added
SQL> comment on column JJDB_SJ.bjrxb
  2    is '报警人性别';
Comment added
SQL> comment on column JJDB_SJ.afdd
  2    is '案发地址';
Comment added
SQL> comment on column JJDB_SJ.bjnr
  2    is '报警内容';
Comment added
SQL> comment on column JJDB_SJ.gxdwdm
  2    is '管辖单位代码';
Comment added
SQL> comment on column JJDB_SJ.bjlbdm
  2    is '报警类别代码';
Comment added
SQL> comment on column JJDB_SJ.bjlxdm
  2    is '报警类型代码';
Comment added
SQL> comment on column JJDB_SJ.bjxldm
  2    is '报警细类代码';
Comment added
SQL> comment on column JJDB_SJ.hpzldm
  2    is '号牌种类代码';
Comment added
SQL> comment on column JJDB_SJ.bjcph
  2    is '报警车牌号';
Comment added
SQL> comment on column JJDB_SJ.jqjb
  2    is '警情级别';
Comment added
SQL> comment on column JJDB_SJ.scbz
  2    is '上传标志';
Comment added
SQL> comment on column JJDB_SJ.hcbz
  2    is '回传标志';
Comment added
SQL> comment on column JJDB_SJ.jjdzt
  2    is '接警单状态';
Comment added
SQL> comment on column JJDB_SJ.jqms
  2    is '警情描述';
Comment added
SQL> comment on column JJDB_SJ.xpos
  2    is 'X坐标';
Comment added
SQL> comment on column JJDB_SJ.ypos
  2    is 'Y坐标';
Comment added
SQL> comment on column JJDB_SJ.sjgxsj
  2    is '数据更新时间';
Comment added
SQL> comment on column JJDB_SJ.sjpjsj
  2    is '市局派警时间';
Comment added
SQL> create index IDX_JJDB_SJ1 on JJDB_SJ (HRSJ, JJDCLLXDM, BJFSDM);
Index created
SQL> create index IDX_JJDB_SJ2 on JJDB_SJ (BJSJ, BJXLDM);
Index created
SQL> create index IDX_JJDB_SJ_GLJJDBH on JJDB_SJ (GLJJDBH);
Index created
SQL> alter table JJDB_SJ
  2    add constraint PK_JJDB_SJ primary key (JJDBH);
Table altered
SQL> prompt

SQL> prompt Creating table LAYER_TYPE
Creating table LAYER_TYPE
SQL> prompt =========================
=========================
SQL> prompt

SQL> create table LAYER_TYPE
  2  (
  3    lid          INTEGER not null,
  4    lname        NVARCHAR2(40) not null,
  5    llevel       VARCHAR2(2) not null,
  6    lorder       INTEGER default 0,
  7    lparent      INTEGER default 0,
  8    licon        NVARCHAR2(200) not null,
  9    thirdsyscode NVARCHAR2(40),
 10    ishidden     INTEGER default 0,
 11    modulename   NVARCHAR2(200),
 12    cfunc        NVARCHAR2(200),
 13    ucfunc       NVARCHAR2(200)
 14  )
 15  ;
Table created
SQL> comment on table LAYER_TYPE
  2    is '图层类型表';
Comment added
SQL> comment on column LAYER_TYPE.lid
  2    is '图层编号';
Comment added
SQL> comment on column LAYER_TYPE.lname
  2    is '图层名称';
Comment added
SQL> comment on column LAYER_TYPE.llevel
  2    is '图层级别';
Comment added
SQL> comment on column LAYER_TYPE.lorder
  2    is '排列顺序';
Comment added
SQL> comment on column LAYER_TYPE.lparent
  2    is '父级图层';
Comment added
SQL> comment on column LAYER_TYPE.licon
  2    is '显示图标';
Comment added
SQL> comment on column LAYER_TYPE.thirdsyscode
  2    is '第三方编号，用于与枚举值或其他表对应';
Comment added
SQL> comment on column LAYER_TYPE.ishidden
  2    is '是否隐藏，0 不隐藏 1隐藏';
Comment added
SQL> comment on column LAYER_TYPE.modulename
  2    is 'js模块名';
Comment added
SQL> comment on column LAYER_TYPE.cfunc
  2    is '勾选事件 为空时触发checklayer';
Comment added
SQL> comment on column LAYER_TYPE.ucfunc
  2    is '取消勾选事件 为空时触发unchecklayer';
Comment added
SQL> alter table LAYER_TYPE
  2    add primary key (LID);
Table altered
SQL> prompt

SQL> prompt Creating table LOCK_USERS
Creating table LOCK_USERS
SQL> prompt =========================
=========================
SQL> prompt

SQL> create table LOCK_USERS
  2  (
  3    id           VARCHAR2(32) not null,
  4    userid       VARCHAR2(12),
  5    locktime     DATE,
  6    unlocktime   DATE,
  7    locktype     VARCHAR2(2),
  8    status       VARCHAR2(2),
  9    lockreason   VARCHAR2(1000),
 10    unlockreason VARCHAR2(1000)
 11  )
 12  ;
Table created
SQL> comment on column LOCK_USERS.id
  2    is 'id';
Comment added
SQL> comment on column LOCK_USERS.userid
  2    is '用户id';
Comment added
SQL> comment on column LOCK_USERS.locktime
  2    is '锁定时间';
Comment added
SQL> comment on column LOCK_USERS.unlocktime
  2    is '解锁时间';
Comment added
SQL> comment on column LOCK_USERS.locktype
  2    is '锁定的模块（1：视频巡检模块，2：其他模块）';
Comment added
SQL> comment on column LOCK_USERS.status
  2    is '状态（1：锁定，0：未锁）';
Comment added
SQL> comment on column LOCK_USERS.lockreason
  2    is '锁定原因';
Comment added
SQL> comment on column LOCK_USERS.unlockreason
  2    is '解锁原因';
Comment added
SQL> alter table LOCK_USERS
  2    add constraint PRI_LOCK_USERS primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table LOGIN_RESTRICT
Creating table LOGIN_RESTRICT
SQL> prompt =============================
=============================
SQL> prompt

SQL> create table LOGIN_RESTRICT
  2  (
  3    lrpkid         VARCHAR2(32) not null,
  4    segment_name   VARCHAR2(100),
  5    start_address  VARCHAR2(15) not null,
  6    end_address    VARCHAR2(15) not null,
  7    user_id        VARCHAR2(20),
  8    recorder       VARCHAR2(20),
  9    operating_time DATE,
 10    remark         VARCHAR2(500)
 11  )
 12  ;
Table created
SQL> comment on table LOGIN_RESTRICT
  2    is '限制登陆ip及用户白名单';
Comment added
SQL> comment on column LOGIN_RESTRICT.lrpkid
  2    is '主键';
Comment added
SQL> comment on column LOGIN_RESTRICT.segment_name
  2    is '网段名称';
Comment added
SQL> comment on column LOGIN_RESTRICT.start_address
  2    is '起始地址';
Comment added
SQL> comment on column LOGIN_RESTRICT.end_address
  2    is '结束地址';
Comment added
SQL> comment on column LOGIN_RESTRICT.user_id
  2    is '操作人';
Comment added
SQL> comment on column LOGIN_RESTRICT.recorder
  2    is '登记人';
Comment added
SQL> comment on column LOGIN_RESTRICT.operating_time
  2    is '操作时间';
Comment added
SQL> comment on column LOGIN_RESTRICT.remark
  2    is '备注';
Comment added
SQL> alter table LOGIN_RESTRICT
  2    add constraint LOGIN_RESTRICT_PK primary key (LRPKID);
Table altered
SQL> prompt

SQL> prompt Creating table LOG_CONTENT
Creating table LOG_CONTENT
SQL> prompt ==========================
==========================
SQL> prompt

SQL> create table LOG_CONTENT
  2  (
  3    nid      VARCHAR2(7) not null,
  4    funcname VARCHAR2(120) not null,
  5    content  VARCHAR2(225) not null
  6  )
  7  ;
Table created
SQL> comment on table LOG_CONTENT
  2    is '日志内容表';
Comment added
SQL> comment on column LOG_CONTENT.nid
  2    is '日志ID';
Comment added
SQL> comment on column LOG_CONTENT.funcname
  2    is '功能名称';
Comment added
SQL> comment on column LOG_CONTENT.content
  2    is '日志内容';
Comment added
SQL> alter table LOG_CONTENT
  2    add constraint PRI_NLOGID primary key (NID);
Table altered
SQL> prompt

SQL> prompt Creating table LOG_DATA
Creating table LOG_DATA
SQL> prompt =======================
=======================
SQL> prompt

SQL> create table LOG_DATA
  2  (
  3    nid            VARCHAR2(32) not null,
  4    logtype        VARCHAR2(2) not null,
  5    userid         VARCHAR2(20) not null,
  6    cardid         VARCHAR2(18),
  7    username       NVARCHAR2(30) not null,
  8    departmentname NVARCHAR2(50) not null,
  9    departmentid   VARCHAR2(12) not null,
 10    logtime        DATE not null,
 11    clientip       VARCHAR2(15) not null,
 12    clientid       VARCHAR2(50),
 13    operatetype    VARCHAR2(2) not null,
 14    failcode       VARCHAR2(10),
 15    operatetarget  NVARCHAR2(50) not null,
 16    operatecontent NVARCHAR2(1024) not null,
 17    systemid       VARCHAR2(10) not null,
 18    firstmenuid    VARCHAR2(20),
 19    secondmenuid   VARCHAR2(30),
 20    functionid     VARCHAR2(40),
 21    functionname   NVARCHAR2(50) not null
 22  )
 23  partition by range (LOGTIME) interval (NUMTOYMINTERVAL(1,'MONTH'))
 24  (
 25    partition SYS_P945 values less than (TO_DATE(' 2017-08-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 26      tablespace HIATMP_LOGTS,
 27    partition SYS_P1049 values less than (TO_DATE(' 2017-09-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 28      tablespace HIATMP_LOGTS,
 29    partition SYS_P1110 values less than (TO_DATE(' 2017-10-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 30      tablespace HIATMP_LOGTS,
 31    partition SYS_P1246 values less than (TO_DATE(' 2017-11-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 32      tablespace HIATMP_LOGTS,
 33    partition SYS_P1507 values less than (TO_DATE(' 2017-12-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 34      tablespace HIATMP_LOGTS,
 35    partition SYS_P1627 values less than (TO_DATE(' 2018-01-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 36      tablespace HIATMP_LOGTS,
 37    partition SYS_P1649 values less than (TO_DATE(' 2018-02-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 38      tablespace HIATMP_LOGTS,
 39    partition SYS_P1674 values less than (TO_DATE(' 2018-03-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 40      tablespace HIATMP_LOGTS,
 41    partition SYS_P1709 values less than (TO_DATE(' 2018-04-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 42      tablespace HIATMP_LOGTS,
 43    partition SYS_P21 values less than (TO_DATE(' 2018-05-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 44      tablespace HIATMPTS,
 45    partition SYS_P41 values less than (TO_DATE(' 2018-06-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 46      tablespace HIATMPTS
 47  );
Table created
SQL> comment on column LOG_DATA.nid
  2    is '唯一编号';
Comment added
SQL> comment on column LOG_DATA.logtype
  2    is '日志类型';
Comment added
SQL> comment on column LOG_DATA.userid
  2    is '警员号/系统标识';
Comment added
SQL> comment on column LOG_DATA.cardid
  2    is '身份证号码';
Comment added
SQL> comment on column LOG_DATA.username
  2    is '用户/系统名称';
Comment added
SQL> comment on column LOG_DATA.departmentname
  2    is '单位名称';
Comment added
SQL> comment on column LOG_DATA.departmentid
  2    is '单位机构代码';
Comment added
SQL> comment on column LOG_DATA.logtime
  2    is '操作时间';
Comment added
SQL> comment on column LOG_DATA.clientip
  2    is '终端ip';
Comment added
SQL> comment on column LOG_DATA.clientid
  2    is '终端标识';
Comment added
SQL> comment on column LOG_DATA.operatetype
  2    is '操作类型';
Comment added
SQL> comment on column LOG_DATA.failcode
  2    is '失败原因代码';
Comment added
SQL> comment on column LOG_DATA.operatetarget
  2    is '操作对象';
Comment added
SQL> comment on column LOG_DATA.operatecontent
  2    is '操作内容';
Comment added
SQL> comment on column LOG_DATA.systemid
  2    is '系统标识';
Comment added
SQL> comment on column LOG_DATA.firstmenuid
  2    is '一级菜单标识';
Comment added
SQL> comment on column LOG_DATA.secondmenuid
  2    is '二级菜单标识';
Comment added
SQL> comment on column LOG_DATA.functionid
  2    is '按钮/超链接功能标识';
Comment added
SQL> comment on column LOG_DATA.functionname
  2    is '功能名称';
Comment added
SQL> create unique index IDX_LOGDATA_LOGTIME_NID on LOG_DATA (LOGTIME, NID)
  2    local;
Index created
SQL> create index IDX_LOGDATA_TIME_DEPART_USERID on LOG_DATA (LOGTIME, DEPARTMENTID, USERID);
Index created
SQL> alter table LOG_DATA
  2    add constraint PK_LOGDATA_NID primary key (NID);
Table altered
SQL> prompt

SQL> prompt Creating table LOW_ANALYSIS_MAP_GEOMETRY
Creating table LOW_ANALYSIS_MAP_GEOMETRY
SQL> prompt ========================================
========================================
SQL> prompt

SQL> create table LOW_ANALYSIS_MAP_GEOMETRY
  2  (
  3    pointcode  NVARCHAR2(16),
  4    geometry   MDSYS.SDO_GEOMETRY,
  5    ncounts    NUMBER,
  6    uuid       VARCHAR2(32),
  7    createtime DATE
  8  )
  9  ;
Table created
SQL> prompt

SQL> prompt Creating table LOW_ANALYSIS_RELATION
Creating table LOW_ANALYSIS_RELATION
SQL> prompt ====================================
====================================
SQL> prompt

SQL> create table LOW_ANALYSIS_RELATION
  2  (
  3    columnname VARCHAR2(30) not null,
  4    enumvalue  VARCHAR2(20)
  5  )
  6  ;
Table created
SQL> alter table LOW_ANALYSIS_RELATION
  2    add constraint LOW_ANALYSIS_RELATION primary key (COLUMNNAME);
Table altered
SQL> prompt

SQL> prompt Creating table MAJORCAR_INFO
Creating table MAJORCAR_INFO
SQL> prompt ============================
============================
SQL> prompt

SQL> create table MAJORCAR_INFO
  2  (
  3    id                         VARCHAR2(32) not null,
  4    majorcar_type              VARCHAR2(4),
  5    car_no                     NVARCHAR2(20),
  6    car_type                   VARCHAR2(4),
  7    car_owner                  VARCHAR2(32),
  8    grant_dept                 NVARCHAR2(100),
  9    engine_model               VARCHAR2(50),
 10    engine_no                  VARCHAR2(50),
 11    have_recorder              CHAR(1),
 12    have_gps                   CHAR(1),
 13    registe_date               DATE,
 14    licence_date               DATE,
 15    total_mass                 VARCHAR2(20),
 16    load_capacity              VARCHAR2(20),
 17    load_no                    VARCHAR2(20),
 18    effective_date             DATE,
 19    insurance_company          NVARCHAR2(100),
 20    car_id                     NVARCHAR2(50),
 21    check_date                 DATE,
 22    gatherer                   NVARCHAR2(50),
 23    gather_time                DATE,
 24    gather_company             NVARCHAR2(100),
 25    areaid                     VARCHAR2(6),
 26    is_addition                CHAR(1),
 27    status                     CHAR(1),
 28    opinion                    NVARCHAR2(200),
 29    create_time                DATE,
 30    create_user                VARCHAR2(32),
 31    update_time                DATE,
 32    update_user                VARCHAR2(32),
 33    car_brand                  NVARCHAR2(50),
 34    car_color                  NVARCHAR2(20),
 35    car_status                 NVARCHAR2(20),
 36    car_prop                   NVARCHAR2(20),
 37    insurance_termination_date DATE,
 38    tank_date                  DATE,
 39    start_point                NVARCHAR2(50),
 40    end_point                  NVARCHAR2(50),
 41    remark                     NVARCHAR2(200),
 42    gather_no                  VARCHAR2(50),
 43    gather_ip                  VARCHAR2(32),
 44    delflag                    CHAR(1) default 1,
 45    gps_code                   VARCHAR2(20)
 46  )
 47  ;
Table created
SQL> comment on column MAJORCAR_INFO.id
  2    is 'UUID';
Comment added
SQL> comment on column MAJORCAR_INFO.majorcar_type
  2    is '重点车辆类型 字典关联';
Comment added
SQL> comment on column MAJORCAR_INFO.car_no
  2    is '车牌号码';
Comment added
SQL> comment on column MAJORCAR_INFO.car_type
  2    is '号牌种类';
Comment added
SQL> comment on column MAJORCAR_INFO.car_owner
  2    is '所有人';
Comment added
SQL> comment on column MAJORCAR_INFO.grant_dept
  2    is '发证机关';
Comment added
SQL> comment on column MAJORCAR_INFO.engine_model
  2    is '发动机型号';
Comment added
SQL> comment on column MAJORCAR_INFO.engine_no
  2    is '发动机号';
Comment added
SQL> comment on column MAJORCAR_INFO.have_recorder
  2    is '是否安装记录仪';
Comment added
SQL> comment on column MAJORCAR_INFO.have_gps
  2    is '是否安装GPS';
Comment added
SQL> comment on column MAJORCAR_INFO.registe_date
  2    is '初次登记日期';
Comment added
SQL> comment on column MAJORCAR_INFO.licence_date
  2    is '发证日期';
Comment added
SQL> comment on column MAJORCAR_INFO.total_mass
  2    is '总质量';
Comment added
SQL> comment on column MAJORCAR_INFO.load_capacity
  2    is '核定载重量';
Comment added
SQL> comment on column MAJORCAR_INFO.load_no
  2    is '核定载客';
Comment added
SQL> comment on column MAJORCAR_INFO.effective_date
  2    is '检验有效日期止';
Comment added
SQL> comment on column MAJORCAR_INFO.insurance_company
  2    is '保险公司';
Comment added
SQL> comment on column MAJORCAR_INFO.car_id
  2    is '车辆识别代码';
Comment added
SQL> comment on column MAJORCAR_INFO.check_date
  2    is '定检日期';
Comment added
SQL> comment on column MAJORCAR_INFO.gatherer
  2    is '采集人';
Comment added
SQL> comment on column MAJORCAR_INFO.gather_time
  2    is '采集时间';
Comment added
SQL> comment on column MAJORCAR_INFO.gather_company
  2    is '采集单位';
Comment added
SQL> comment on column MAJORCAR_INFO.areaid
  2    is '行政区域';
Comment added
SQL> comment on column MAJORCAR_INFO.is_addition
  2    is '1 是 0 否';
Comment added
SQL> comment on column MAJORCAR_INFO.status
  2    is '1 审核中 2 通过 0 驳回';
Comment added
SQL> comment on column MAJORCAR_INFO.opinion
  2    is '意见';
Comment added
SQL> comment on column MAJORCAR_INFO.create_time
  2    is '创建时间';
Comment added
SQL> comment on column MAJORCAR_INFO.create_user
  2    is '创建人';
Comment added
SQL> comment on column MAJORCAR_INFO.update_time
  2    is '更新时间';
Comment added
SQL> comment on column MAJORCAR_INFO.update_user
  2    is '更新者';
Comment added
SQL> comment on column MAJORCAR_INFO.car_brand
  2    is '车辆品牌';
Comment added
SQL> comment on column MAJORCAR_INFO.car_color
  2    is '车身颜色';
Comment added
SQL> comment on column MAJORCAR_INFO.car_status
  2    is '车辆状态';
Comment added
SQL> comment on column MAJORCAR_INFO.car_prop
  2    is '使用性质';
Comment added
SQL> comment on column MAJORCAR_INFO.insurance_termination_date
  2    is '保险终止日期';
Comment added
SQL> comment on column MAJORCAR_INFO.tank_date
  2    is '罐体合格日期';
Comment added
SQL> comment on column MAJORCAR_INFO.start_point
  2    is '营运起点';
Comment added
SQL> comment on column MAJORCAR_INFO.end_point
  2    is '营运终点';
Comment added
SQL> comment on column MAJORCAR_INFO.remark
  2    is '备注';
Comment added
SQL> comment on column MAJORCAR_INFO.gather_no
  2    is '采集卡点编号';
Comment added
SQL> comment on column MAJORCAR_INFO.gather_ip
  2    is '采集卡点ip';
Comment added
SQL> comment on column MAJORCAR_INFO.delflag
  2    is '删除标志 0删除';
Comment added
SQL> comment on column MAJORCAR_INFO.gps_code
  2    is 'GPS编号';
Comment added
SQL> create index INDEX_MAJORCAR_INFO_CARNO on MAJORCAR_INFO (CAR_NO, CAR_TYPE);
Index created
SQL> alter table MAJORCAR_INFO
  2    add constraint PK_MAJORCAR_INFO_ID primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table MENU
Creating table MENU
SQL> prompt ===================
===================
SQL> prompt

SQL> create table MENU
  2  (
  3    id               VARCHAR2(20) not null,
  4    name             VARCHAR2(100) not null,
  5    title            VARCHAR2(100) not null,
  6    align            VARCHAR2(15),
  7    alt_image        VARCHAR2(100),
  8    description      VARCHAR2(255),
  9    width            NUMBER(6),
 10    height           NUMBER(6),
 11    image            VARCHAR2(100),
 12    on_click         VARCHAR2(500),
 13    on_dbclick       VARCHAR2(200),
 14    on_mouseover     VARCHAR2(200),
 15    on_mouseout      VARCHAR2(200),
 16    page             VARCHAR2(100),
 17    location         VARCHAR2(100),
 18    target           VARCHAR2(15),
 19    roles            VARCHAR2(100),
 20    tooltip          VARCHAR2(255),
 21    url              VARCHAR2(255),
 22    parent_id        VARCHAR2(20),
 23    order_id         NUMBER(10),
 24    fast_id          NUMBER(10),
 25    del_flag         NUMBER(1),
 26    created_by       VARCHAR2(20),
 27    created_at       NUMBER(15),
 28    last_modified_by VARCHAR2(20),
 29    last_modified_at NUMBER(15),
 30    version          NUMBER(15) default 0
 31  )
 32  ;
Table created
SQL> comment on column MENU.id
  2    is '菜单编号，主键';
Comment added
SQL> comment on column MENU.name
  2    is '菜单名称，程序内部使用';
Comment added
SQL> comment on column MENU.title
  2    is '菜单标题，用于外部展示';
Comment added
SQL> comment on column MENU.align
  2    is '对齐方式，left,center,right,top,middle,bottom';
Comment added
SQL> comment on column MENU.alt_image
  2    is 'alt提示image';
Comment added
SQL> comment on column MENU.description
  2    is '描述';
Comment added
SQL> comment on column MENU.width
  2    is '宽度';
Comment added
SQL> comment on column MENU.height
  2    is '高度';
Comment added
SQL> comment on column MENU.image
  2    is '菜单图片';
Comment added
SQL> comment on column MENU.on_click
  2    is '单击脚本';
Comment added
SQL> comment on column MENU.on_dbclick
  2    is '双击脚本';
Comment added
SQL> comment on column MENU.on_mouseover
  2    is '滑过脚本';
Comment added
SQL> comment on column MENU.on_mouseout
  2    is '移出脚本';
Comment added
SQL> comment on column MENU.page
  2    is '跳转相对路径';
Comment added
SQL> comment on column MENU.location
  2    is '跳转绝对路径';
Comment added
SQL> comment on column MENU.target
  2    is '打开链接目标位置';
Comment added
SQL> comment on column MENU.roles
  2    is '允许的角色';
Comment added
SQL> comment on column MENU.tooltip
  2    is '气泡提示文字';
Comment added
SQL> comment on column MENU.url
  2    is '可被渲染成url';
Comment added
SQL> comment on column MENU.parent_id
  2    is '父菜单编号，通过此构成树级关系，顶级菜单可设置为空';
Comment added
SQL> comment on column MENU.order_id
  2    is '顺序号，备用';
Comment added
SQL> comment on column MENU.fast_id
  2    is '快速查询号，备用';
Comment added
SQL> comment on column MENU.del_flag
  2    is '逻辑删除标志，备用 0为不可用  1或空为可用';
Comment added
SQL> comment on column MENU.created_by
  2    is '创建人，备用';
Comment added
SQL> comment on column MENU.created_at
  2    is '创建时间，备用';
Comment added
SQL> comment on column MENU.last_modified_by
  2    is '最后修改人，备用';
Comment added
SQL> comment on column MENU.last_modified_at
  2    is '最后修改时间，备用';
Comment added
SQL> comment on column MENU.version
  2    is '记录版本号，0以及小于0的值在生产环境中将不显示';
Comment added
SQL> alter table MENU
  2    add constraint PK_MENU_ID primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table METEOROLOGY
Creating table METEOROLOGY
SQL> prompt ==========================
==========================
SQL> prompt

SQL> create table METEOROLOGY
  2  (
  3    nid               VARCHAR2(32) not null,
  4    datasource        VARCHAR2(2) not null,
  5    airtemperature    NUMBER(3,1),
  6    dewtemperature    NUMBER(3,1),
  7    humidity          NUMBER(4,1),
  8    speed             NUMBER(3,1),
  9    direction         NUMBER(4,1),
 10    wind              VARCHAR2(2),
 11    pressure          NUMBER(4),
 12    condition         VARCHAR2(3),
 13    rainfalltype      VARCHAR2(3),
 14    surftemperature   NUMBER(3,1),
 15    waterthickness    NUMBER(3,1),
 16    icethickness      NUMBER(3,1),
 17    snowthickness     NUMBER(3,1),
 18    saltvalue         NUMBER(2),
 19    visibility        NUMBER(5) not null,
 20    hindertype        VARCHAR2(3),
 21    pointid           VARCHAR2(12) not null,
 22    pointname         VARCHAR2(150) not null,
 23    deviceid          VARCHAR2(18) not null,
 24    departmentid      VARCHAR2(12) not null,
 25    detecttime        DATE not null,
 26    interval          VARCHAR2(2) not null,
 27    uploadtime        DATE not null,
 28    rainfall          NUMBER(6,2),
 29    rainfallintensity NUMBER(6,2)
 30  )
 31  partition by range (DETECTTIME)
 32  (
 33    partition METEOR_P1 values less than (TO_DATE(' 2016-06-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 34      tablespace HIATMPTS
 35  );
Table created
SQL> comment on table METEOROLOGY
  2    is '气象表';
Comment added
SQL> comment on column METEOROLOGY.nid
  2    is '唯一标识';
Comment added
SQL> comment on column METEOROLOGY.datasource
  2    is '数据来源)';
Comment added
SQL> comment on column METEOROLOGY.airtemperature
  2    is '空气温度';
Comment added
SQL> comment on column METEOROLOGY.dewtemperature
  2    is '露点温度';
Comment added
SQL> comment on column METEOROLOGY.humidity
  2    is '湿度';
Comment added
SQL> comment on column METEOROLOGY.speed
  2    is '风速';
Comment added
SQL> comment on column METEOROLOGY.direction
  2    is '风向';
Comment added
SQL> comment on column METEOROLOGY.wind
  2    is '风力';
Comment added
SQL> comment on column METEOROLOGY.pressure
  2    is '气压';
Comment added
SQL> comment on column METEOROLOGY.condition
  2    is '路面状况';
Comment added
SQL> comment on column METEOROLOGY.rainfalltype
  2    is '降水类型';
Comment added
SQL> comment on column METEOROLOGY.surftemperature
  2    is '路表温度';
Comment added
SQL> comment on column METEOROLOGY.waterthickness
  2    is '路表水厚度';
Comment added
SQL> comment on column METEOROLOGY.icethickness
  2    is '路表冰厚度';
Comment added
SQL> comment on column METEOROLOGY.snowthickness
  2    is '路表雪厚度';
Comment added
SQL> comment on column METEOROLOGY.saltvalue
  2    is '盐度值';
Comment added
SQL> comment on column METEOROLOGY.visibility
  2    is '能见度';
Comment added
SQL> comment on column METEOROLOGY.hindertype
  2    is '视程障碍类型';
Comment added
SQL> comment on column METEOROLOGY.pointid
  2    is '点位编号';
Comment added
SQL> comment on column METEOROLOGY.pointname
  2    is '点位名称';
Comment added
SQL> comment on column METEOROLOGY.deviceid
  2    is '设备编号';
Comment added
SQL> comment on column METEOROLOGY.departmentid
  2    is '所属部门';
Comment added
SQL> comment on column METEOROLOGY.detecttime
  2    is '检测时间';
Comment added
SQL> comment on column METEOROLOGY.interval
  2    is '间隔时长';
Comment added
SQL> comment on column METEOROLOGY.uploadtime
  2    is '上传时间';
Comment added
SQL> create unique index PK_METEOROLOGY_ID on METEOROLOGY (DETECTTIME, NID)
  2    local;
Index created
SQL> prompt

SQL> prompt Creating table MONITORPOINT_MARK
Creating table MONITORPOINT_MARK
SQL> prompt ================================
================================
SQL> prompt

SQL> create table MONITORPOINT_MARK
  2  (
  3    pkid            VARCHAR2(36) not null,
  4    pointcode       VARCHAR2(25) not null,
  5    approvestate    VARCHAR2(2) not null,
  6    approvetime     DATE,
  7    auditor         VARCHAR2(20),
  8    approvedescribe VARCHAR2(800)
  9  )
 10  ;
Table created
SQL> comment on table MONITORPOINT_MARK
  2    is '安装点备案';
Comment added
SQL> comment on column MONITORPOINT_MARK.pkid
  2    is '主键';
Comment added
SQL> comment on column MONITORPOINT_MARK.pointcode
  2    is '安装点编号';
Comment added
SQL> comment on column MONITORPOINT_MARK.approvestate
  2    is '审批状态';
Comment added
SQL> comment on column MONITORPOINT_MARK.approvetime
  2    is '审批时间';
Comment added
SQL> comment on column MONITORPOINT_MARK.auditor
  2    is '审批人';
Comment added
SQL> comment on column MONITORPOINT_MARK.approvedescribe
  2    is '审批描述';
Comment added
SQL> alter table MONITORPOINT_MARK
  2    add constraint MONITORPOINT_MARK primary key (PKID);
Table altered
SQL> prompt

SQL> prompt Creating table MONITOR_POINT
Creating table MONITOR_POINT
SQL> prompt ============================
============================
SQL> prompt

SQL> -- Create table
SQL> create table MONITOR_POINT
  2  (
  3    pointcode           NVARCHAR2(16) not null,
  4    pointname           NVARCHAR2(100) not null,
  5    provider            NVARCHAR2(32),
  6    illegaladdrid       NVARCHAR2(12),
  7    providedate         DATE not null,
  8    passfunc            NVARCHAR2(1),
  9    epfunc              NVARCHAR2(1),
 10    osfunc              NVARCHAR2(1),
 11    vediofunc           NVARCHAR2(1),
 12    remark              NVARCHAR2(64),
 13    longitude           NUMBER(13,6),
 14    latitude            NUMBER(13,6),
 15    pointtype           NVARCHAR2(2),
 16    adminiarea          NVARCHAR2(10),
 17    gpsfunc             NVARCHAR2(1),
 18    inducefunc          NVARCHAR2(1),
 19    signalfunc          NVARCHAR2(1),
 20    flowfunc            NVARCHAR2(1),
 21    eventfunc           NVARCHAR2(1),
 22    departmentid        NVARCHAR2(12),
 23    huanxian            NVARCHAR2(2),
 24    intervelvelocity    NVARCHAR2(1),
 25    status              VARCHAR2(2),
 26    entryperson         VARCHAR2(20),
 27    checkperson         VARCHAR2(20),
 28    checktime           DATE,
 29    entrytime           DATE,
 30    dldm                VARCHAR2(5),
 31    lkdm                VARCHAR2(4),
 32    ddms                VARCHAR2(3),
 33    features            VARCHAR2(12),
 34    dltz                NVARCHAR2(2),
 35    coilfunc            NVARCHAR2(1),
 36    meteorologyfunc     NVARCHAR2(1),
 37    checkpointfunc      NVARCHAR2(1),
 38    checkpointid        VARCHAR2(20),
 39    checkpointname      VARCHAR2(128),
 40    checkpointshortname VARCHAR2(128),
 41    funcitems           VARCHAR2(200),
 42    thirdcode           VARCHAR2(30),
 43    ifsppoint           NUMBER default 0
 44  )
 45  tablespace HIATMPTS
 46    pctfree 10
 47    initrans 1
 48    maxtrans 255
 49    storage
 50    (
 51      initial 64
 52      next 1
 53      minextents 1
 54      maxextents unlimited
 55    );
Table created
SQL> -- Add comments to the table
SQL> comment on table MONITOR_POINT
  2    is '安装点表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column MONITOR_POINT.pointcode
  2    is '点位编号';
Comment added
SQL> comment on column MONITOR_POINT.pointname
  2    is '点位名称';
Comment added
SQL> comment on column MONITOR_POINT.provider
  2    is '提供商';
Comment added
SQL> comment on column MONITOR_POINT.illegaladdrid
  2    is '违法地点编号，同点位编号';
Comment added
SQL> comment on column MONITOR_POINT.providedate
  2    is '安装时间';
Comment added
SQL> comment on column MONITOR_POINT.passfunc
  2    is '过车功能项(1:表示有;0表示无)';
Comment added
SQL> comment on column MONITOR_POINT.epfunc
  2    is '电警功能项(1:表示有;0表示无)';
Comment added
SQL> comment on column MONITOR_POINT.osfunc
  2    is '超速功能项(1:表示有;0表示无)';
Comment added
SQL> comment on column MONITOR_POINT.vediofunc
  2    is '视频功能项(1:表示有;0表示无)';
Comment added
SQL> comment on column MONITOR_POINT.remark
  2    is '备注';
Comment added
SQL> comment on column MONITOR_POINT.longitude
  2    is '经度';
Comment added
SQL> comment on column MONITOR_POINT.latitude
  2    is '纬度';
Comment added
SQL> comment on column MONITOR_POINT.pointtype
  2    is '安装点类型';
Comment added
SQL> comment on column MONITOR_POINT.adminiarea
  2    is '行政辖区（对应枚举 180）';
Comment added
SQL> comment on column MONITOR_POINT.gpsfunc
  2    is 'GPS功能项(1:表示有;0表示无)';
Comment added
SQL> comment on column MONITOR_POINT.inducefunc
  2    is '诱导功能项(1:表示有;0表示无)';
Comment added
SQL> comment on column MONITOR_POINT.signalfunc
  2    is '信号功能项(1:表示有;0表示无)';
Comment added
SQL> comment on column MONITOR_POINT.flowfunc
  2    is '流量功能项(1:表示有;0表示无)';
Comment added
SQL> comment on column MONITOR_POINT.eventfunc
  2    is '事件功能项(1:表示有;0表示无)';
Comment added
SQL> comment on column MONITOR_POINT.departmentid
  2    is '所属部门（对应部门表部门cdepartmentid）';
Comment added
SQL> comment on column MONITOR_POINT.huanxian
  2    is '0为不在环内,1为一环,2为二环,等';
Comment added
SQL> comment on column MONITOR_POINT.intervelvelocity
  2    is '1表示要加测试，0不要测试';
Comment added
SQL> comment on column MONITOR_POINT.status
  2    is '空代或1表正常使用，0申请状态,2驳回';
Comment added
SQL> comment on column MONITOR_POINT.dldm
  2    is '5位道路代码（所属道路道路代码）';
Comment added
SQL> comment on column MONITOR_POINT.lkdm
  2    is '4位路口代码（所属路口路口代码）';
Comment added
SQL> comment on column MONITOR_POINT.ddms
  2    is '3位地点米数';
Comment added
SQL> comment on column MONITOR_POINT.features
  2    is '点位特征';
Comment added
SQL> comment on column MONITOR_POINT.dltz
  2    is '道路特征';
Comment added
SQL> comment on column MONITOR_POINT.coilfunc
  2    is '微波功能项';
Comment added
SQL> comment on column MONITOR_POINT.meteorologyfunc
  2    is '气象设备 1有0无';
Comment added
SQL> comment on column MONITOR_POINT.funcitems
  2    is '功能项，如电警功能项为01，卡口功能项为02（多个功能项之间用英文逗号分隔，如: 01,02）';
Comment added
SQL> comment on column MONITOR_POINT.ifsppoint
  2    is '点位是否重点分析';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table MONITOR_POINT
  2    add constraint MONITOR_POINTID primary key (POINTCODE)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> prompt

SQL> prompt Creating table MONITOR_POINT_GEOMETRY
Creating table MONITOR_POINT_GEOMETRY
SQL> prompt =====================================
=====================================
SQL> prompt

SQL> create table MONITOR_POINT_GEOMETRY
  2  (
  3    pointcode VARCHAR2(16),
  4    geometry  MDSYS.SDO_GEOMETRY
  5  )
  6  ;
Table created
SQL> comment on table MONITOR_POINT_GEOMETRY
  2    is '安装点地理信息表';
Comment added
SQL> prompt

SQL> prompt Creating table MONITOR_POINT_INOUT_GS
Creating table MONITOR_POINT_INOUT_GS
SQL> prompt =====================================
=====================================
SQL> prompt

SQL> create table MONITOR_POINT_INOUT_GS
  2  (
  3    pointcode     NVARCHAR2(16) not null,
  4    pointname     NVARCHAR2(64),
  5    nindirection  NUMBER(2) not null,
  6    noutdirection NUMBER(2) not null,
  7    type          VARCHAR2(2) not null
  8  )
  9  ;
Table created
SQL> comment on table MONITOR_POINT_INOUT_GS
  2    is '进出高速检测点位表';
Comment added
SQL> comment on column MONITOR_POINT_INOUT_GS.pointcode
  2    is '检测点编号';
Comment added
SQL> comment on column MONITOR_POINT_INOUT_GS.pointname
  2    is '检测点名称';
Comment added
SQL> comment on column MONITOR_POINT_INOUT_GS.nindirection
  2    is '进高速方向，没有填0';
Comment added
SQL> comment on column MONITOR_POINT_INOUT_GS.noutdirection
  2    is '出高速方向，没有填0';
Comment added
SQL> comment on column MONITOR_POINT_INOUT_GS.type
  2    is '监测点类型，0-过车点位；1-流量检测器';
Comment added
SQL> alter table MONITOR_POINT_INOUT_GS
  2    add constraint PK_MONITOR_POINT_INOUT_GS primary key (POINTCODE);
Table altered
SQL> prompt

SQL> prompt Creating table MONITOR_POINT_TRAVTIMESET
Creating table MONITOR_POINT_TRAVTIMESET
SQL> prompt ========================================
========================================
SQL> prompt

SQL> create table MONITOR_POINT_TRAVTIMESET
  2  (
  3    id             VARCHAR2(32) not null,
  4    startpoint     VARCHAR2(12) not null,
  5    endpoint       VARCHAR2(12) not null,
  6    startpointname VARCHAR2(120) not null,
  7    endpointname   VARCHAR2(120) not null,
  8    travtime       VARCHAR2(10) not null
  9  )
 10  ;
Table created
SQL> comment on table MONITOR_POINT_TRAVTIMESET
  2    is '安装点管理->旅行时间设定';
Comment added
SQL> create index TRAVTIME_SEARCH_INDEX on MONITOR_POINT_TRAVTIMESET (STARTPOINT, ENDPOINT);
Index created
SQL> alter table MONITOR_POINT_TRAVTIMESET
  2    add constraint MONITOR_POINT_TRAVTIME_PRI primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table MONITOR_SECTION
Creating table MONITOR_SECTION
SQL> prompt ==============================
==============================
SQL> prompt

SQL> -- Create table
SQL> create table MONITOR_SECTION
  2  (
  3    sectionid       NVARCHAR2(8) not null,
  4    sectionname     NVARCHAR2(100) not null,
  5    downpointid     NVARCHAR2(50),
  6    uppointid       NVARCHAR2(50),
  7    roadid          NVARCHAR2(5) not null,
  8    approachdirt    NVARCHAR2(2) not null,
  9    width           NUMBER(5,2),
 10    lanes           INTEGER,
 11    crossflag       INTEGER default 1 not null,
 12    leftpktlanes    INTEGER,
 13    rightpktlanes   INTEGER,
 14    fulllanelen     INTEGER,
 15    leftpktlanelen  NUMBER(6,2),
 16    rightpktlanelen NUMBER(6,2),
 17    stdflux         INTEGER,
 18    expflux         INTEGER,
 19    jamflux         INTEGER,
 20    stdspeed        INTEGER,
 21    expspeed        INTEGER,
 22    jamspeed        INTEGER,
 23    stdtime         INTEGER,
 24    exptime         INTEGER,
 25    jamtime         INTEGER,
 26    remark          VARCHAR2(4000),
 27    effect          NVARCHAR2(1) default 1,
 28    addroadid       VARCHAR2(4),
 29    huanxian        NVARCHAR2(2),
 30    maxflux         INTEGER,
 31    avgflux         INTEGER,
 32    maxspeed        INTEGER,
 33    avgspeed        INTEGER,
 34    mintime         INTEGER,
 35    avgtime         INTEGER,
 36    uproadid        VARCHAR2(5),
 37    downroadid      VARCHAR2(5),
 38    rxdkd           NUMBER(5,2),
 39    bxshyz          NVARCHAR2(64),
 40    dltcbwgs        NUMBER(6),
 41    isdxcd          NVARCHAR2(1),
 42    dxstarttime     NVARCHAR2(8),
 43    dxendtime       NVARCHAR2(8),
 44    isgjcd          NVARCHAR2(1),
 45    sourcetype      INTEGER,
 46    area_id         VARCHAR2(6),
 47    length          NUMBER(8,2),
 48    sectionlevel    CHAR(1),
 49    UPCROSSID       VARCHAR2(32),
 50    DOWNCROSSID     VARCHAR2(32),
 51    DEPARTMENT      VARCHAR2(100),
 52    FLAG            CHAR(1)
 53  )
 54  tablespace HIATMPTS
 55    pctfree 10
 56    initrans 1
 57    maxtrans 255
 58    storage
 59    (
 60      initial 64
 61      next 1
 62      minextents 1
 63      maxextents unlimited
 64    );
Table created
SQL> -- Add comments to the table
SQL> comment on table MONITOR_SECTION
  2    is '路段表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column MONITOR_SECTION.sectionid
  2    is '路段编号，8位数值型字符（必须填写）';
Comment added
SQL> comment on column MONITOR_SECTION.sectionname
  2    is '路段名称，必须填写';
Comment added
SQL> comment on column MONITOR_SECTION.downpointid
  2    is '--下游道路道路（对应道路表nid）';
Comment added
SQL> comment on column MONITOR_SECTION.uppointid
  2    is '--上游道路道路（对应道路表nid）';
Comment added
SQL> comment on column MONITOR_SECTION.roadid
  2    is '属性不详，默认“00000”即可';
Comment added
SQL> comment on column MONITOR_SECTION.approachdirt
  2    is '进口道方向（对应枚举类型 149：1	东->西
  3  2	西->东
  4  3	南->北
  5  4	北->南
  6  5	东北->西南
  7  6	西南->东北
  8  7	东南->西北
  9  8	西北->东南
 10  11	进城
 11  0	无
 12  23	下行出口
 13  10	出城
 14  13	下行
 15  21	上行出口
 16  12	上行
 17  14	进(收费站)
 18  20	上行进口
 19  22	下行进口
 20  15	出(收费站)
 21  ）';
Comment added
SQL> comment on column MONITOR_SECTION.width
  2    is '--路段宽度';
Comment added
SQL> comment on column MONITOR_SECTION.lanes
  2    is '--车道数';
Comment added
SQL> comment on column MONITOR_SECTION.crossflag
  2    is '行人通行标志 0-不允许 1-允许';
Comment added
SQL> comment on column MONITOR_SECTION.leftpktlanes
  2    is '--左转不完整车道数';
Comment added
SQL> comment on column MONITOR_SECTION.rightpktlanes
  2    is '--右转不完整车道数';
Comment added
SQL> comment on column MONITOR_SECTION.fulllanelen
  2    is '--完整车道长度';
Comment added
SQL> comment on column MONITOR_SECTION.leftpktlanelen
  2    is '--左转不完整车道长度';
Comment added
SQL> comment on column MONITOR_SECTION.rightpktlanelen
  2    is '--右转不完整车道长度';
Comment added
SQL> comment on column MONITOR_SECTION.stdflux
  2    is '--标准流量';
Comment added
SQL> comment on column MONITOR_SECTION.expflux
  2    is '--畅通流量';
Comment added
SQL> comment on column MONITOR_SECTION.jamflux
  2    is '--拥堵流量';
Comment added
SQL> comment on column MONITOR_SECTION.stdspeed
  2    is '--标准速度';
Comment added
SQL> comment on column MONITOR_SECTION.expspeed
  2    is '--畅通速度';
Comment added
SQL> comment on column MONITOR_SECTION.jamspeed
  2    is '--拥堵速度';
Comment added
SQL> comment on column MONITOR_SECTION.stdtime
  2    is '--标准通过时间';
Comment added
SQL> comment on column MONITOR_SECTION.exptime
  2    is '--畅通通过时间';
Comment added
SQL> comment on column MONITOR_SECTION.jamtime
  2    is '--拥堵通过时间';
Comment added
SQL> comment on column MONITOR_SECTION.remark
  2    is '备注（暂时用来存储路段经纬度）';
Comment added
SQL> comment on column MONITOR_SECTION.effect
  2    is '--属性不详';
Comment added
SQL> comment on column MONITOR_SECTION.addroadid
  2    is '--属性不详';
Comment added
SQL> comment on column MONITOR_SECTION.huanxian
  2    is '--属性不详';
Comment added
SQL> comment on column MONITOR_SECTION.maxflux
  2    is '--属性不详';
Comment added
SQL> comment on column MONITOR_SECTION.avgflux
  2    is '--属性不详';
Comment added
SQL> comment on column MONITOR_SECTION.maxspeed
  2    is '--属性不详';
Comment added
SQL> comment on column MONITOR_SECTION.avgspeed
  2    is '--属性不详';
Comment added
SQL> comment on column MONITOR_SECTION.mintime
  2    is '--属性不详';
Comment added
SQL> comment on column MONITOR_SECTION.avgtime
  2    is '--属性不详';
Comment added
SQL> comment on column MONITOR_SECTION.uproadid
  2    is '--属性不详';
Comment added
SQL> comment on column MONITOR_SECTION.downroadid
  2    is '--属性不详';
Comment added
SQL> comment on column MONITOR_SECTION.rxdkd
  2    is '--人行道宽度';
Comment added
SQL> comment on column MONITOR_SECTION.bxshyz
  2    is '--标线施划样子';
Comment added
SQL> comment on column MONITOR_SECTION.dltcbwgs
  2    is '--道路停车泊位个数';
Comment added
SQL> comment on column MONITOR_SECTION.isdxcd
  2    is '是否单行车道（0：非单行车道； 1：是单行车道）';
Comment added
SQL> comment on column MONITOR_SECTION.dxstarttime
  2    is '--单行起始时间';
Comment added
SQL> comment on column MONITOR_SECTION.dxendtime
  2    is '--单行结束时间';
Comment added
SQL> comment on column MONITOR_SECTION.isgjcd
  2    is '--有无公交车道（0：无公交车道； 1：有公交车道）';
Comment added
SQL> comment on column MONITOR_SECTION.sourcetype
  2    is '--1：信号控制系统所定义的路段；其他值为非信号控制系统所定义的路段。';
Comment added
SQL> comment on column MONITOR_SECTION.area_id
  2    is '所属辖区（对应枚举 180）';
Comment added
SQL> comment on column MONITOR_SECTION.length
  2    is '路段长度（米）';
Comment added
SQL> comment on column MONITOR_SECTION.sectionlevel
  2    is '道路等级（对应枚举 3115：0	国家高速公路
  3  1	国道
  4  2	省级高速公路、省道
  5  3	县道
  6  4	乡村道
  7  5	城市快速路
  8  6	城市主干道
  9  7	城市次干道
 10  8	城市支路
 11  9	其他道路
 12  A	单位小区自建路
 13  B	公共停车场
 14  C	公共广场
 15  ）';
Comment added
SQL> comment on column MONITOR_SECTION.upcrossid
  2    is '--上游路口编码（对应路口表nid）';
Comment added
SQL> comment on column MONITOR_SECTION.downcrossid
  2    is '--下游路口编码（对应路口表nid）';
Comment added
SQL> comment on column MONITOR_SECTION.department
  2    is '管养部门';
Comment added
SQL> comment on column MONITOR_SECTION.flag
  2    is '是否有流量监测设备（0：没有；1：有）';
Comment added
SQL> -- Create/Recreate indexes
SQL> create index PK_MONITOR_INDEX on MONITOR_SECTION (SECTIONID, SECTIONNAME)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table MONITOR_SECTION
  2    add constraint MONITOR_SECTION_PRIMARKEY primary key (SECTIONID);
Table altered
SQL> prompt

SQL> prompt Creating table MONITOR_SECTION_POINT
Creating table MONITOR_SECTION_POINT
SQL> prompt ====================================
====================================
SQL> prompt

SQL> create table MONITOR_SECTION_POINT
  2  (
  3    id          NUMBER not null,
  4    pointcode   NVARCHAR2(13) not null,
  5    sectionid   NVARCHAR2(8),
  6    approachdir NVARCHAR2(1),
  7    flag        NVARCHAR2(1),
  8    offset      INTEGER
  9  )
 10  ;
Table created
SQL> comment on table MONITOR_SECTION_POINT
  2    is '安装点路段关联表';
Comment added
SQL> comment on column MONITOR_SECTION_POINT.id
  2    is '主键ID';
Comment added
SQL> comment on column MONITOR_SECTION_POINT.pointcode
  2    is '安装点编号';
Comment added
SQL> comment on column MONITOR_SECTION_POINT.sectionid
  2    is '路段编号';
Comment added
SQL> comment on column MONITOR_SECTION_POINT.approachdir
  2    is '方向 枚举149';
Comment added
SQL> comment on column MONITOR_SECTION_POINT.flag
  2    is '标志 0-无用 1- 在使用 2- 过期';
Comment added
SQL> comment on column MONITOR_SECTION_POINT.offset
  2    is '偏移';
Comment added
SQL> prompt

SQL> prompt Creating table MONITOR_SECTION_POSITIONS
Creating table MONITOR_SECTION_POSITIONS
SQL> prompt ========================================
========================================
SQL> prompt

SQL> create table MONITOR_SECTION_POSITIONS
  2  (
  3    sectionid NVARCHAR2(8) not null,
  4    zoomlevel NVARCHAR2(2) not null,
  5    positions VARCHAR2(4000),
  6    geometry  MDSYS.SDO_GEOMETRY
  7  )
  8  ;
Table created
SQL> comment on column MONITOR_SECTION_POSITIONS.sectionid
  2    is '路段编号';
Comment added
SQL> comment on column MONITOR_SECTION_POSITIONS.zoomlevel
  2    is '缩放级别';
Comment added
SQL> comment on column MONITOR_SECTION_POSITIONS.positions
  2    is '路线坐标';
Comment added
SQL> create index MSP_SECTIONID on MONITOR_SECTION_POSITIONS (SECTIONID);
Index created
SQL> alter table MONITOR_SECTION_POSITIONS
  2    add primary key (SECTIONID, ZOOMLEVEL);
Table altered
SQL> prompt

SQL> prompt Creating table NLV_VIOACTION_LOCAL
Creating table NLV_VIOACTION_LOCAL
SQL> prompt ==================================
==================================
SQL> prompt

SQL> create table NLV_VIOACTION_LOCAL
  2  (
  3    wfxw     NVARCHAR2(6) not null,
  4    wfms     NVARCHAR2(160),
  5    wfnr     NVARCHAR2(255),
  6    wfgd     NVARCHAR2(255),
  7    fltw     NVARCHAR2(255),
  8    wfjfs    NUMBER(2),
  9    fkje_min NUMBER(6),
 10    fkje_max NUMBER(6),
 11    qzcs_min VARCHAR2(4),
 12    qzcs_max VARCHAR2(4),
 13    jlsj_min VARCHAR2(4),
 14    jlsj_max VARCHAR2(4),
 15    gb       VARCHAR2(1),
 16    zkbj     VARCHAR2(1),
 17    jlbj     VARCHAR2(1),
 18    dxbj     VARCHAR2(1),
 19    cxbj     VARCHAR2(1),
 20    sfyx     VARCHAR2(1) default 1
 21  )
 22  ;
Table created
SQL> comment on table NLV_VIOACTION_LOCAL
  2    is '';
Comment added
SQL> comment on column NLV_VIOACTION_LOCAL.wfxw
  2    is '违法行为编号';
Comment added
SQL> comment on column NLV_VIOACTION_LOCAL.wfms
  2    is '违法描述';
Comment added
SQL> comment on column NLV_VIOACTION_LOCAL.wfnr
  2    is '违法内容';
Comment added
SQL> comment on column NLV_VIOACTION_LOCAL.wfgd
  2    is '相关法规';
Comment added
SQL> comment on column NLV_VIOACTION_LOCAL.fltw
  2    is '法律条文';
Comment added
SQL> comment on column NLV_VIOACTION_LOCAL.wfjfs
  2    is '违法处分';
Comment added
SQL> comment on column NLV_VIOACTION_LOCAL.fkje_min
  2    is '罚款金额最小数';
Comment added
SQL> comment on column NLV_VIOACTION_LOCAL.fkje_max
  2    is '罚款金额最大数';
Comment added
SQL> comment on column NLV_VIOACTION_LOCAL.qzcs_min
  2    is '暂扣金额最小数';
Comment added
SQL> comment on column NLV_VIOACTION_LOCAL.qzcs_max
  2    is '暂扣金额最大数';
Comment added
SQL> comment on column NLV_VIOACTION_LOCAL.jlsj_min
  2    is '拘留天数最小数';
Comment added
SQL> comment on column NLV_VIOACTION_LOCAL.jlsj_max
  2    is '拘留天数最大数';
Comment added
SQL> comment on column NLV_VIOACTION_LOCAL.gb
  2    is '国际';
Comment added
SQL> comment on column NLV_VIOACTION_LOCAL.zkbj
  2    is '暂扣标记';
Comment added
SQL> comment on column NLV_VIOACTION_LOCAL.jlbj
  2    is '拘留标记';
Comment added
SQL> comment on column NLV_VIOACTION_LOCAL.dxbj
  2    is '吊销标记';
Comment added
SQL> comment on column NLV_VIOACTION_LOCAL.cxbj
  2    is '撤销标记';
Comment added
SQL> comment on column NLV_VIOACTION_LOCAL.sfyx
  2    is '是否有效标记';
Comment added
SQL> alter table NLV_VIOACTION_LOCAL
  2    add constraint PK_VIOACT_LOCAL primary key (WFXW);
Table altered
SQL> alter table nlv_vioaction_local add dmfl VARCHAR2(2);
Table altered
SQL> comment on column nlv_vioaction_local.dmfl
  2  is '违法小类';
Comment added
SQL> commit;
Commit complete
SQL> prompt

SQL> prompt Creating table ONEKEYREADY_PREDAY
Creating table ONEKEYREADY_PREDAY
SQL> prompt =================================
=================================
SQL> prompt

SQL> create table ONEKEYREADY_PREDAY
  2  (
  3    id          VARCHAR2(32) not null,
  4    carcode     VARCHAR2(10),
  5    reportstate VARCHAR2(2),
  6    reporttime  DATE
  7  )
  8  ;
Table created
SQL> comment on table ONEKEYREADY_PREDAY
  2    is '一键报备数据表';
Comment added
SQL> comment on column ONEKEYREADY_PREDAY.id
  2    is 'ID(自增长)';
Comment added
SQL> comment on column ONEKEYREADY_PREDAY.carcode
  2    is '台号';
Comment added
SQL> comment on column ONEKEYREADY_PREDAY.reportstate
  2    is '报备状态';
Comment added
SQL> comment on column ONEKEYREADY_PREDAY.reporttime
  2    is '报备时间';
Comment added
SQL> create index IDX_OKRP_CRR on ONEKEYREADY_PREDAY (CARCODE, REPORTSTATE, REPORTTIME);
Index created
SQL> alter table ONEKEYREADY_PREDAY
  2    add constraint PRI_ONEKEYREADY_PREDAY primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table OPERATE_COMPONENT
Creating table OPERATE_COMPONENT
SQL> prompt ================================
================================
SQL> prompt

SQL> create table OPERATE_COMPONENT
  2  (
  3    id       VARCHAR2(100) not null,
  4    menu_id  VARCHAR2(100) not null,
  5    name     VARCHAR2(100) not null,
  6    title    VARCHAR2(150) not null,
  7    order_id NUMBER(10)
  8  )
  9  ;
Table created
SQL> comment on column OPERATE_COMPONENT.id
  2    is '编号';
Comment added
SQL> comment on column OPERATE_COMPONENT.menu_id
  2    is '菜单编号';
Comment added
SQL> comment on column OPERATE_COMPONENT.name
  2    is '操作名称';
Comment added
SQL> comment on column OPERATE_COMPONENT.title
  2    is '操作标题';
Comment added
SQL> comment on column OPERATE_COMPONENT.order_id
  2    is '顺序';
Comment added
SQL> alter table OPERATE_COMPONENT
  2    add constraint PK_OPERATE_COMPONENT_ID primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table OPERATOR
Creating table OPERATOR
SQL> prompt =======================
=======================
SQL> prompt

SQL> create table OPERATOR
  2  (
  3    nuserid          CHAR(6) not null,
  4    cusername        NVARCHAR2(20) not null,
  5    cuserpwd         VARCHAR2(32),
  6    nusergrade       INTEGER not null,
  7    cdepartmentid    NVARCHAR2(12) not null,
  8    nisclosed        INTEGER default 0 not null,
  9    dtexpireddate    DATE,
 10    cemail           NVARCHAR2(100),
 11    cdescription     NVARCHAR2(20),
 12    checkip          NVARCHAR2(16),
 13    daycount         VARCHAR2(10),
 14    monthcount       VARCHAR2(10),
 15    dayreviewcount   VARCHAR2(10),
 16    monthreviewcount VARCHAR2(10),
 17    phone            VARCHAR2(15),
 18    usertype         VARCHAR2(3),
 19    logintype        VARCHAR2(10),
 20    available        NUMBER(1),
 21    firstflag        NUMBER(1),
 22    msg_prompt       NUMBER(1),
 23    telephone        NVARCHAR2(18)
 24  )
 25  ;
Table created
SQL> comment on table OPERATOR
  2    is '用户表';
Comment added
SQL> comment on column OPERATOR.nuserid
  2    is '用户ID';
Comment added
SQL> comment on column OPERATOR.cusername
  2    is '用户名';
Comment added
SQL> comment on column OPERATOR.cuserpwd
  2    is '密码';
Comment added
SQL> comment on column OPERATOR.nusergrade
  2    is '用户级别';
Comment added
SQL> comment on column OPERATOR.cdepartmentid
  2    is '所属部门';
Comment added
SQL> comment on column OPERATOR.nisclosed
  2    is '是否停用';
Comment added
SQL> comment on column OPERATOR.dtexpireddate
  2    is '密码失效日期';
Comment added
SQL> comment on column OPERATOR.cemail
  2    is 'Email地址';
Comment added
SQL> comment on column OPERATOR.cdescription
  2    is '身份证';
Comment added
SQL> comment on column OPERATOR.checkip
  2    is '与登录机器ip匹配验证的ip地址';
Comment added
SQL> comment on column OPERATOR.daycount
  2    is '每天分拣工作量';
Comment added
SQL> comment on column OPERATOR.monthcount
  2    is '每月分拣工作量';
Comment added
SQL> comment on column OPERATOR.dayreviewcount
  2    is '每天复审工作量';
Comment added
SQL> comment on column OPERATOR.monthreviewcount
  2    is '每月复审工作量';
Comment added
SQL> comment on column OPERATOR.phone
  2    is '手机号';
Comment added
SQL> comment on column OPERATOR.msg_prompt
  2    is '是否登录短信提示 0 不提示 1 提示';
Comment added
SQL> comment on column OPERATOR.telephone
  2    is '电话';
Comment added
SQL> create index PK_USERNAME on OPERATOR (CUSERNAME);
Index created
SQL> alter table OPERATOR
  2    add primary key (NUSERID);
Table altered
SQL> prompt

SQL> prompt Creating table OPERATOR_LOG
Creating table OPERATOR_LOG
SQL> prompt ===========================
===========================
SQL> prompt

SQL> create table OPERATOR_LOG
  2  (
  3    nid            VARCHAR2(32) not null,
  4    logtype        INTEGER not null,
  5    logtime        DATE not null,
  6    logcontentid   VARCHAR2(7) not null,
  7    isfaile        NUMBER not null,
  8    userid         NVARCHAR2(6) not null,
  9    username       NVARCHAR2(20) not null,
 10    userip         NVARCHAR2(50) not null,
 11    departmentid   NVARCHAR2(12) not null,
 12    departmentname NVARCHAR2(50) not null,
 13    logdescription VARCHAR2(1024)
 14  )
 15  ;
Table created
SQL> comment on table OPERATOR_LOG
  2    is 'bak';
Comment added
SQL> comment on column OPERATOR_LOG.nid
  2    is '日志ID';
Comment added
SQL> comment on column OPERATOR_LOG.logtype
  2    is '1:普通操作 2:安全日志;3:错误日志';
Comment added
SQL> comment on column OPERATOR_LOG.logtime
  2    is '操作时间';
Comment added
SQL> comment on column OPERATOR_LOG.logcontentid
  2    is '内容ID';
Comment added
SQL> comment on column OPERATOR_LOG.isfaile
  2    is '0成功日志 1失败日志';
Comment added
SQL> comment on column OPERATOR_LOG.userid
  2    is '用户ID';
Comment added
SQL> comment on column OPERATOR_LOG.username
  2    is '用户名称';
Comment added
SQL> alter table OPERATOR_LOG
  2    add primary key (NID);
Table altered
SQL> prompt

SQL> prompt Creating table OPERATOR_ROLE
Creating table OPERATOR_ROLE
SQL> prompt ============================
============================
SQL> prompt

SQL> create table OPERATOR_ROLE
  2  (
  3    noperatorroleid INTEGER not null,
  4    nroleid         INTEGER not null,
  5    noperatorid     INTEGER not null,
  6    cdepartmentid   NVARCHAR2(11) not null
  7  )
  8  ;
Table created
SQL> comment on table OPERATOR_ROLE
  2    is '人员角色关联表';
Comment added
SQL> comment on column OPERATOR_ROLE.noperatorroleid
  2    is '用户角色ID';
Comment added
SQL> comment on column OPERATOR_ROLE.nroleid
  2    is '对应角色ID';
Comment added
SQL> comment on column OPERATOR_ROLE.noperatorid
  2    is '对应用户ID';
Comment added
SQL> comment on column OPERATOR_ROLE.cdepartmentid
  2    is '所属部门ID';
Comment added
SQL> alter table OPERATOR_ROLE
  2    add constraint PK_OPERATOR_ROLE primary key (NOPERATORROLEID);
Table altered
SQL> prompt

SQL> prompt Creating table OTHERPLACE_VEH
Creating table OTHERPLACE_VEH
SQL> prompt =============================
=============================
SQL> prompt

SQL> create table OTHERPLACE_VEH
  2  (
  3    no     NVARCHAR2(32) not null,
  4    hphm   NVARCHAR2(16),
  5    cclzsj DATE,
  6    fdjh   NVARCHAR2(30),
  7    clsbm  NVARCHAR2(25),
  8    lb     NVARCHAR2(7),
  9    bz     NVARCHAR2(30),
 10    ccdjrq DATE,
 11    syr    VARCHAR2(128)
 12  )
 13  ;
Table created
SQL> comment on column OTHERPLACE_VEH.no
  2    is '编号';
Comment added
SQL> comment on column OTHERPLACE_VEH.hphm
  2    is '号牌';
Comment added
SQL> comment on column OTHERPLACE_VEH.cclzsj
  2    is '初次领证时间';
Comment added
SQL> comment on column OTHERPLACE_VEH.fdjh
  2    is '发动机号';
Comment added
SQL> comment on column OTHERPLACE_VEH.clsbm
  2    is '车辆识别码';
Comment added
SQL> comment on column OTHERPLACE_VEH.lb
  2    is '类别';
Comment added
SQL> comment on column OTHERPLACE_VEH.bz
  2    is '备注';
Comment added
SQL> comment on column OTHERPLACE_VEH.ccdjrq
  2    is '初次登记时间';
Comment added
SQL> comment on column OTHERPLACE_VEH.syr
  2    is '所有人';
Comment added
SQL> create index PK_OTHER_VEH_HPHM on OTHERPLACE_VEH (HPHM);
Index created
SQL> alter table OTHERPLACE_VEH
  2    add constraint PK_OTHERPLACE_VEH primary key (NO);
Table altered
SQL> prompt

SQL> prompt Creating table PARKBERTH_MAN
Creating table PARKBERTH_MAN
SQL> prompt ============================
============================
SQL> prompt

SQL> create table PARKBERTH_MAN
  2  (
  3    id             VARCHAR2(32) not null,
  4    parkid         NVARCHAR2(20) not null,
  5    berthusedcount NUMBER,
  6    islast         CHAR(1),
  7    manendtime     DATE,
  8    createid       VARCHAR2(20),
  9    createtime     DATE,
 10    updateid       VARCHAR2(20),
 11    updatetime     DATE,
 12    colorcode      CHAR(1)
 13  )
 14  ;
Table created
SQL> comment on table PARKBERTH_MAN
  2    is '手工修改停车泊位表';
Comment added
SQL> comment on column PARKBERTH_MAN.id
  2    is '主键';
Comment added
SQL> comment on column PARKBERTH_MAN.parkid
  2    is '停车场ID';
Comment added
SQL> comment on column PARKBERTH_MAN.berthusedcount
  2    is '停车场可用车位数（泊位数）';
Comment added
SQL> comment on column PARKBERTH_MAN.islast
  2    is '是否最新的值(0:否，1:是) 新增2:停车三级专用，因要求定时手工修改停车三级屏同时改正行车二级屏，修改二级屏不允许改正三级屏';
Comment added
SQL> comment on column PARKBERTH_MAN.manendtime
  2    is '手控结束时间';
Comment added
SQL> comment on column PARKBERTH_MAN.createid
  2    is '创建id';
Comment added
SQL> comment on column PARKBERTH_MAN.createtime
  2    is '创建时间';
Comment added
SQL> comment on column PARKBERTH_MAN.updateid
  2    is '更新id';
Comment added
SQL> comment on column PARKBERTH_MAN.updatetime
  2    is '更新时间';
Comment added
SQL> comment on column PARKBERTH_MAN.colorcode
  2    is '颜色编号：1-红色；2-黄色；3-绿色；4-未知';
Comment added
SQL> alter table PARKBERTH_MAN
  2    add constraint PRI_MANPARKBERTHID primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table PARKINGSPACE
Creating table PARKINGSPACE
SQL> prompt ===========================
===========================
SQL> prompt

SQL> create table PARKINGSPACE
  2  (
  3    id            VARCHAR2(32) not null,
  4    serial        VARCHAR2(32) not null,
  5    berthcount    NUMBER,
  6    sparecount    NUMBER,
  7    occupiedcount NUMBER,
  8    normal        VARCHAR2(1),
  9    savetime      DATE default sysdate
 10  )
 11  ;
Table created
SQL> comment on table PARKINGSPACE
  2    is '停车场泊位信息表';
Comment added
SQL> comment on column PARKINGSPACE.serial
  2    is '停车场编号，关联faci_vehiclepark表的serial';
Comment added
SQL> comment on column PARKINGSPACE.berthcount
  2    is '泊位总数';
Comment added
SQL> comment on column PARKINGSPACE.sparecount
  2    is '空闲数';
Comment added
SQL> comment on column PARKINGSPACE.occupiedcount
  2    is '占用数';
Comment added
SQL> comment on column PARKINGSPACE.normal
  2    is '状态：1-有效，2-无效';
Comment added
SQL> comment on column PARKINGSPACE.savetime
  2    is '上传时间';
Comment added
SQL> create index PK_PARK_SEARCH on PARKINGSPACE (SERIAL, NORMAL);
Index created
SQL> alter table PARKINGSPACE
  2    add constraint PK_PARKINGSPACE primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table PASSINOUT
Creating table PASSINOUT
SQL> prompt ========================
========================
SQL> prompt

SQL> create table PASSINOUT
  2  (
  3    id         VARCHAR2(32) not null,
  4    pointcode  NVARCHAR2(16),
  5    ndirection NUMBER(1),
  6    inoutflg   VARCHAR2(100)
  7  )
  8  ;
Table created
SQL> comment on column PASSINOUT.id
  2    is 'uuid';
Comment added
SQL> comment on column PASSINOUT.pointcode
  2    is '点编号';
Comment added
SQL> comment on column PASSINOUT.ndirection
  2    is '方向编号';
Comment added
SQL> comment on column PASSINOUT.inoutflg
  2    is '方向描述的';
Comment added
SQL> alter table PASSINOUT
  2    add constraint ID primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table PASS_MGR_INFO
Creating table PASS_MGR_INFO
SQL> prompt ============================
============================
SQL> prompt

SQL> create table PASS_MGR_INFO
  2  (
  3    id                      VARCHAR2(32) not null,
  4    business_id             VARCHAR2(32),
  5    state                   VARCHAR2(1) not null,
  6    state_time              DATE,
  7    car_num                 VARCHAR2(16) not null,
  8    car_num_type            VARCHAR2(2) not null,
  9    car_type                VARCHAR2(3),
 10    highway_limit           VARCHAR2(3),
 11    freeway_limit           VARCHAR2(3),
 12    safety_measure          VARCHAR2(200),
 13    goods_name              VARCHAR2(200),
 14    exceed_limit            VARCHAR2(3),
 15    issuing_dept            VARCHAR2(12),
 16    car_length              VARCHAR2(10),
 17    car_width               VARCHAR2(10),
 18    car_height              VARCHAR2(10),
 19    car_capacity            VARCHAR2(10),
 20    car_label               VARCHAR2(50),
 21    car_model               VARCHAR2(50),
 22    car_company             VARCHAR2(50),
 23    car_address             VARCHAR2(100),
 24    car_state               VARCHAR2(50),
 25    check_result            VARCHAR2(200),
 26    pass_type               CHAR(1) not null,
 27    pass_time_type          CHAR(1),
 28    begin_date              DATE not null,
 29    end_date                DATE not null,
 30    area_no                 VARCHAR2(12),
 31    type                    VARCHAR2(2),
 32    pass_road_info          VARCHAR2(1000),
 33    create_staff_id         VARCHAR2(6),
 34    create_staff_department VARCHAR2(100),
 35    create_time             DATE default sysdate not null,
 36    audit_staff_id          VARCHAR2(6) not null,
 37    audit_time              DATE,
 38    print_time              DATE,
 39    handle_time             DATE,
 40    handle_code             VARCHAR2(10),
 41    pt_id                   VARCHAR2(32),
 42    business_name           VARCHAR2(400),
 43    no                      VARCHAR2(10),
 44    audit_staff_name        VARCHAR2(20),
 45    create_staff_name       VARCHAR2(20),
 46    source_type             NUMBER(1) default 0 not null,
 47    isfake                  VARCHAR2(1),
 48    applybusiness           VARCHAR2(200),
 49    projectname             VARCHAR2(200),
 50    replacement             VARCHAR2(1),
 51    timestate               VARCHAR2(1),
 52    usefulness              VARCHAR2(200)
 53  )
 54  ;
Table created
SQL> comment on table PASS_MGR_INFO
  2    is '通行证管理信息表';
Comment added
SQL> comment on column PASS_MGR_INFO.id
  2    is '系统自动生成编号';
Comment added
SQL> comment on column PASS_MGR_INFO.business_id
  2    is '关联的企业或个人信息';
Comment added
SQL> comment on column PASS_MGR_INFO.state
  2    is '状态（''S：保存未提交；''0''：审批中；''1''：审批通过；''2''：审批驳回；‘3’：已作废；‘4’：已配证；‘5’：已打印；‘E’：提前终结（过户使用）；‘X’：已丢失）；';
Comment added
SQL> comment on column PASS_MGR_INFO.state_time
  2    is '状态时间';
Comment added
SQL> comment on column PASS_MGR_INFO.car_num
  2    is '号牌号码';
Comment added
SQL> comment on column PASS_MGR_INFO.car_num_type
  2    is '号牌类型(''01''：大货车，''02''：小货车)';
Comment added
SQL> comment on column PASS_MGR_INFO.car_type
  2    is '车辆类型(普通重型货车；)';
Comment added
SQL> comment on column PASS_MGR_INFO.highway_limit
  2    is '普通公路最高限速';
Comment added
SQL> comment on column PASS_MGR_INFO.freeway_limit
  2    is '高速公路最高限速';
Comment added
SQL> comment on column PASS_MGR_INFO.safety_measure
  2    is '安全措施';
Comment added
SQL> comment on column PASS_MGR_INFO.goods_name
  2    is '载运物品名称';
Comment added
SQL> comment on column PASS_MGR_INFO.exceed_limit
  2    is '超限类别';
Comment added
SQL> comment on column PASS_MGR_INFO.issuing_dept
  2    is '发证机关（发放通行证的部门编号）';
Comment added
SQL> comment on column PASS_MGR_INFO.car_length
  2    is '车辆长度';
Comment added
SQL> comment on column PASS_MGR_INFO.car_width
  2    is '车辆宽度';
Comment added
SQL> comment on column PASS_MGR_INFO.car_height
  2    is '车辆高度';
Comment added
SQL> comment on column PASS_MGR_INFO.car_capacity
  2    is '核载人数';
Comment added
SQL> comment on column PASS_MGR_INFO.car_label
  2    is '厂牌';
Comment added
SQL> comment on column PASS_MGR_INFO.car_model
  2    is '车型';
Comment added
SQL> comment on column PASS_MGR_INFO.car_company
  2    is '单位所属';
Comment added
SQL> comment on column PASS_MGR_INFO.car_address
  2    is '车辆登记地址';
Comment added
SQL> comment on column PASS_MGR_INFO.car_state
  2    is '车辆状态';
Comment added
SQL> comment on column PASS_MGR_INFO.check_result
  2    is '针对大货车临检结果';
Comment added
SQL> comment on column PASS_MGR_INFO.pass_type
  2    is '通行证类型（‘1’：普通；‘2’：超限）';
Comment added
SQL> comment on column PASS_MGR_INFO.pass_time_type
  2    is '通行证时效类型（‘0’：临时；‘1’：长时）';
Comment added
SQL> comment on column PASS_MGR_INFO.begin_date
  2    is '通行证开始时间';
Comment added
SQL> comment on column PASS_MGR_INFO.end_date
  2    is '通行证结束时间';
Comment added
SQL> comment on column PASS_MGR_INFO.type
  2    is '类型';
Comment added
SQL> comment on column PASS_MGR_INFO.pass_road_info
  2    is '通行路线信息';
Comment added
SQL> comment on column PASS_MGR_INFO.create_staff_id
  2    is '创建人编号（录入信息的警员编号，窗口内，外网导入为空）';
Comment added
SQL> comment on column PASS_MGR_INFO.create_staff_department
  2    is '创建人部门（受理部门）';
Comment added
SQL> comment on column PASS_MGR_INFO.create_time
  2    is '创建时间';
Comment added
SQL> comment on column PASS_MGR_INFO.audit_staff_id
  2    is '审批人编号';
Comment added
SQL> comment on column PASS_MGR_INFO.audit_time
  2    is '审批通过时间';
Comment added
SQL> comment on column PASS_MGR_INFO.print_time
  2    is '打印时间';
Comment added
SQL> comment on column PASS_MGR_INFO.handle_time
  2    is '配证时间';
Comment added
SQL> comment on column PASS_MGR_INFO.handle_code
  2    is '配证唯一编码';
Comment added
SQL> comment on column PASS_MGR_INFO.pt_id
  2    is '通行证模板编号';
Comment added
SQL> comment on column PASS_MGR_INFO.business_name
  2    is '承运单位（冗余）';
Comment added
SQL> comment on column PASS_MGR_INFO.no
  2    is 'NO.流水号';
Comment added
SQL> comment on column PASS_MGR_INFO.audit_staff_name
  2    is '审批人姓名（冗余）';
Comment added
SQL> comment on column PASS_MGR_INFO.create_staff_name
  2    is '创建人姓名（冗余）';
Comment added
SQL> comment on column PASS_MGR_INFO.source_type
  2    is '0：窗口；1：网站；';
Comment added
SQL> comment on column PASS_MGR_INFO.isfake
  2    is '是否贴有防伪标识 1;是 0：否';
Comment added
SQL> comment on column PASS_MGR_INFO.applybusiness
  2    is '申请单位';
Comment added
SQL> comment on column PASS_MGR_INFO.projectname
  2    is '项目名称';
Comment added
SQL> comment on column PASS_MGR_INFO.replacement
  2    is '是否换证标志 1：新证、其他表示办证的次数';
Comment added
SQL> comment on column PASS_MGR_INFO.timestate
  2    is '是否过期 0有效 1过期';
Comment added
SQL> comment on column PASS_MGR_INFO.usefulness
  2    is '用途';
Comment added
SQL> create index PASS_ASD_STATE on PASS_MGR_INFO (AUDIT_STAFF_ID, STATE);
Index created
SQL> create index PASS_STATE_TIEM on PASS_MGR_INFO (STATE_TIME);
Index created
SQL> alter table PASS_MGR_INFO
  2    add constraint PK_PASSMGR_INFOID primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table POLICE
Creating table POLICE
SQL> prompt =====================
=====================
SQL> prompt

SQL> create table POLICE
  2  (
  3    uuid              CHAR(32) not null,
  4    policeid          CHAR(6),
  5    policename        NVARCHAR2(7),
  6    depid             VARCHAR2(12),
  7    isxiejing         VARCHAR2(4) default 1,
  8    isclosed          INTEGER default 1,
  9    phone             VARCHAR2(15),
 10    email             VARCHAR2(100),
 11    idcard            VARCHAR2(20),
 12    hasgps            VARCHAR2(4),
 13    deviceid          VARCHAR2(18),
 14    is_effective      VARCHAR2(2) default 0,
 15    auditstate        VARCHAR2(1),
 16    auditid           CHAR(6),
 17    suggestion        NVARCHAR2(500),
 18    auditname         NVARCHAR2(20),
 19    createid          CHAR(6),
 20    createname        NVARCHAR2(20),
 21    createtime        DATE,
 22    modifytime        DATE,
 23    isleader          VARCHAR2(1),
 24    sex               VARCHAR2(1) default 0,
 25    nation            NVARCHAR2(20),
 26    birthday          DATE,
 27    nativeplace       NVARCHAR2(100),
 28    birthplace        NVARCHAR2(100),
 29    politicalface     VARCHAR2(2),
 30    politicalfacetime DATE,
 31    worktime          DATE,
 32    worktimepolice    DATE,
 33    workplace         NVARCHAR2(100),
 34    precentposition   NVARCHAR2(20),
 35    partyposition     NVARCHAR2(20),
 36    picture           VARCHAR2(500),
 37    remarks           NVARCHAR2(2000),
 38    relativedeptid    VARCHAR2(30),
 39    policerank        NVARCHAR2(20),
 40    marriage          VARCHAR2(1),
 41    updatetime        DATE,
 42    cert_id           NVARCHAR2(100),
 43    permitcar         VARCHAR2(20),
 44    gunnumber         NVARCHAR2(20),
 45    deviceid2         VARCHAR2(18),
 46    dutytime          VARCHAR2(64),
 47    dutyable          VARCHAR2(1)
 48  )
 49  ;
Table created
SQL> comment on column POLICE.uuid
  2    is 'uuid';
Comment added
SQL> comment on column POLICE.policeid
  2    is '警员号，可为空';
Comment added
SQL> comment on column POLICE.policename
  2    is '警员姓名';
Comment added
SQL> comment on column POLICE.depid
  2    is '警员所属部门';
Comment added
SQL> comment on column POLICE.isxiejing
  2    is '是否协警  是:0  否:1  枚举：24';
Comment added
SQL> comment on column POLICE.isclosed
  2    is '是否停用  是:0  否:1  枚举：24';
Comment added
SQL> comment on column POLICE.phone
  2    is '电话';
Comment added
SQL> comment on column POLICE.email
  2    is '电子邮件';
Comment added
SQL> comment on column POLICE.idcard
  2    is '身份证号';
Comment added
SQL> comment on column POLICE.hasgps
  2    is '是否有GPS设备  是:0  否:1  枚举：24';
Comment added
SQL> comment on column POLICE.deviceid
  2    is 'EQUIPMENT_INFO表id  用于关联GPS设备';
Comment added
SQL> comment on column POLICE.is_effective
  2    is '警员状态';
Comment added
SQL> comment on column POLICE.auditstate
  2    is '状态 （0，审批中；1，审批通过； 2，作废 ；3，未提交审核；9，审批驳回 ）';
Comment added
SQL> comment on column POLICE.auditid
  2    is '审批人 ID';
Comment added
SQL> comment on column POLICE.suggestion
  2    is '审批意见';
Comment added
SQL> comment on column POLICE.auditname
  2    is '审批人name';
Comment added
SQL> comment on column POLICE.createid
  2    is '申请人ID';
Comment added
SQL> comment on column POLICE.createname
  2    is '申请人name';
Comment added
SQL> comment on column POLICE.createtime
  2    is '申请时间';
Comment added
SQL> comment on column POLICE.modifytime
  2    is '修改时间';
Comment added
SQL> comment on column POLICE.isleader
  2    is '是否是领导（1，是；0，否）';
Comment added
SQL> comment on column POLICE.sex
  2    is '性别（0，男；1，女）';
Comment added
SQL> comment on column POLICE.nation
  2    is '民族';
Comment added
SQL> comment on column POLICE.birthday
  2    is '出生年月';
Comment added
SQL> comment on column POLICE.nativeplace
  2    is '籍贯';
Comment added
SQL> comment on column POLICE.birthplace
  2    is '出生地';
Comment added
SQL> comment on column POLICE.politicalface
  2    is '政治面目（0，中共党员；1，团员；2，群众；）';
Comment added
SQL> comment on column POLICE.politicalfacetime
  2    is '入党团时间';
Comment added
SQL> comment on column POLICE.worktime
  2    is '参加工作时间';
Comment added
SQL> comment on column POLICE.worktimepolice
  2    is '参加公安时间';
Comment added
SQL> comment on column POLICE.workplace
  2    is '现工作单位';
Comment added
SQL> comment on column POLICE.precentposition
  2    is '现任行政职务';
Comment added
SQL> comment on column POLICE.partyposition
  2    is '党内职务';
Comment added
SQL> comment on column POLICE.picture
  2    is '照片';
Comment added
SQL> comment on column POLICE.remarks
  2    is '备注';
Comment added
SQL> comment on column POLICE.relativedeptid
  2    is '六合一部门';
Comment added
SQL> comment on column POLICE.policerank
  2    is '警衔';
Comment added
SQL> comment on column POLICE.marriage
  2    is '婚姻状况（0，未婚；1，已婚；2，离异；3，丧偶）';
Comment added
SQL> comment on column POLICE.updatetime
  2    is '警员信息最近一次更新时间';
Comment added
SQL> comment on column POLICE.cert_id
  2    is '数字证书id';
Comment added
SQL> comment on column POLICE.permitcar
  2    is '准驾车型';
Comment added
SQL> comment on column POLICE.gunnumber
  2    is '持枪证编号';
Comment added
SQL> comment on column POLICE.deviceid2
  2    is '设备编号';
Comment added
SQL> comment on column POLICE.dutytime
  2    is '在岗时段';
Comment added
SQL> comment on column POLICE.dutyable
  2    is '可否值班 可值班：1 普通（不可）：0';
Comment added
SQL> create index INDEX_POLICE_DEPID on POLICE (DEPID);
Index created
SQL> create index INDEX_POLICE_POLICEID on POLICE (POLICEID);
Index created
SQL> alter table POLICE
  2    add constraint POLICE_PRIKEY primary key (UUID);
Table altered
SQL> prompt

SQL> prompt Creating table POLICE_CASE
Creating table POLICE_CASE
SQL> prompt ==========================
==========================
SQL> prompt

SQL> create table POLICE_CASE
  2  (
  3    case_id        VARCHAR2(32) not null,
  4    source         VARCHAR2(2) not null,
  5    case_category  VARCHAR2(2) not null,
  6    concrete_type  VARCHAR2(4),
  7    nlevel         CHAR(1) not null,
  8    status         VARCHAR2(2) default 1 not null,
  9    department_id  VARCHAR2(18),
 10    brief          NVARCHAR2(50),
 11    detail         NVARCHAR2(300),
 12    start_time     DATE,
 13    end_time       DATE,
 14    point_id       VARCHAR2(12),
 15    location_name  NVARCHAR2(150),
 16    longitude      VARCHAR2(200),
 17    latitude       VARCHAR2(200),
 18    area_id        VARCHAR2(10) not null,
 19    road_id        VARCHAR2(8),
 20    road_name      NVARCHAR2(50),
 21    pic_url        VARCHAR2(200),
 22    video_url      VARCHAR2(200),
 23    report_usrname NVARCHAR2(20),
 24    create_time    DATE not null,
 25    remark         NVARCHAR2(150),
 26    cartype        VARCHAR2(2),
 27    carnumber      VARCHAR2(16),
 28    recordline     CLOB,
 29    delete_flag    VARCHAR2(2)
 30  )
 31  ;
Table created
SQL> comment on table POLICE_CASE
  2    is '警情表';
Comment added
SQL> comment on column POLICE_CASE.case_id
  2    is '警情单号UUID';
Comment added
SQL> comment on column POLICE_CASE.source
  2    is '警情来源(枚举1118)';
Comment added
SQL> comment on column POLICE_CASE.case_category
  2    is '警情种类(枚举1110)';
Comment added
SQL> comment on column POLICE_CASE.concrete_type
  2    is '具体类别(枚举1120)';
Comment added
SQL> comment on column POLICE_CASE.nlevel
  2    is '警情级别';
Comment added
SQL> comment on column POLICE_CASE.status
  2    is '警情状态(枚举5302）';
Comment added
SQL> comment on column POLICE_CASE.department_id
  2    is '处警部门编号';
Comment added
SQL> comment on column POLICE_CASE.brief
  2    is '简要警情描述';
Comment added
SQL> comment on column POLICE_CASE.detail
  2    is '详细描述';
Comment added
SQL> comment on column POLICE_CASE.start_time
  2    is '开始时间';
Comment added
SQL> comment on column POLICE_CASE.end_time
  2    is '结束时间';
Comment added
SQL> comment on column POLICE_CASE.point_id
  2    is '地点编号（平台）';
Comment added
SQL> comment on column POLICE_CASE.location_name
  2    is '地点名称';
Comment added
SQL> comment on column POLICE_CASE.longitude
  2    is '经度';
Comment added
SQL> comment on column POLICE_CASE.latitude
  2    is '纬度';
Comment added
SQL> comment on column POLICE_CASE.area_id
  2    is '辖区编号';
Comment added
SQL> comment on column POLICE_CASE.road_id
  2    is '路段编码';
Comment added
SQL> comment on column POLICE_CASE.road_name
  2    is '路段名称';
Comment added
SQL> comment on column POLICE_CASE.pic_url
  2    is '图片URL';
Comment added
SQL> comment on column POLICE_CASE.video_url
  2    is '视频URL';
Comment added
SQL> comment on column POLICE_CASE.report_usrname
  2    is '上报人';
Comment added
SQL> comment on column POLICE_CASE.create_time
  2    is '创建时间';
Comment added
SQL> comment on column POLICE_CASE.remark
  2    is '备注';
Comment added
SQL> comment on column POLICE_CASE.cartype
  2    is '号牌类型';
Comment added
SQL> comment on column POLICE_CASE.carnumber
  2    is '号牌号码';
Comment added
SQL> comment on column POLICE_CASE.recordline
  2    is '备案路线';
Comment added
SQL> alter table POLICE_CASE
  2    add constraint POLICE_CASE_ID primary key (CASE_ID);
Table altered
SQL> prompt

SQL> prompt Creating table POLICE_CASE_GEOMETRY
Creating table POLICE_CASE_GEOMETRY
SQL> prompt ===================================
===================================
SQL> prompt

SQL> create table POLICE_CASE_GEOMETRY
  2  (
  3    area_id        VARCHAR2(6),
  4    geometry       MDSYS.SDO_GEOMETRY,
  5    case_categorys VARCHAR2(2),
  6    countnum       NUMBER(5),
  7    start_time     DATE,
  8    area_id_zd     VARCHAR2(12)
  9  )
 10  ;
Table created
SQL> comment on table POLICE_CASE_GEOMETRY
  2    is '警情地理信息表';
Comment added
SQL> comment on column POLICE_CASE_GEOMETRY.area_id
  2    is '辖区';
Comment added
SQL> comment on column POLICE_CASE_GEOMETRY.geometry
  2    is '警情地理信息';
Comment added
SQL> comment on column POLICE_CASE_GEOMETRY.case_categorys
  2    is '警情类型';
Comment added
SQL> comment on column POLICE_CASE_GEOMETRY.countnum
  2    is '数量';
Comment added
SQL> comment on column POLICE_CASE_GEOMETRY.start_time
  2    is '发生时间';
Comment added
SQL> comment on column POLICE_CASE_GEOMETRY.area_id_zd
  2    is '中队';
Comment added
SQL> prompt

SQL> prompt Creating table POSITION_COLOR
Creating table POSITION_COLOR
SQL> prompt =============================
=============================
SQL> prompt

SQL> create table POSITION_COLOR
  2  (
  3    id            VARCHAR2(32) not null,
  4    color         VARCHAR2(2),
  5    position_name NVARCHAR2(20),
  6    duty_type     VARCHAR2(2)
  7  )
  8  ;
Table created
SQL> comment on table POSITION_COLOR
  2    is '岗位颜色关联表';
Comment added
SQL> comment on column POSITION_COLOR.id
  2    is 'UUID';
Comment added
SQL> comment on column POSITION_COLOR.color
  2    is '地图显示辖区颜色(枚举值)';
Comment added
SQL> comment on column POSITION_COLOR.position_name
  2    is '岗位名称';
Comment added
SQL> comment on column POSITION_COLOR.duty_type
  2    is '勤务类型（枚举1150）';
Comment added
SQL> create index IDX_POSITION_COLOR_ID on POSITION_COLOR (COLOR);
Index created
SQL> alter table POSITION_COLOR
  2    add constraint PRI_POSITION_COLOR primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table ROAD
Creating table ROAD
SQL> prompt ===================
===================
SQL> prompt

SQL> create table ROAD
  2  (
  3    dldm   VARCHAR2(5),
  4    lkdm   VARCHAR2(4),
  5    sbbh   VARCHAR2(18),
  6    kkmc   VARCHAR2(1024),
  7    lkmc   VARCHAR2(1024),
  8    id     NUMBER,
  9    xztpye VARCHAR2(18),
 10    tpbldj NUMBER
 11  )
 12  ;
Table created
SQL> prompt

SQL> prompt Creating table ROADNET_MONITOR_POINT
Creating table ROADNET_MONITOR_POINT
SQL> prompt ====================================
====================================
SQL> prompt

SQL> create table ROADNET_MONITOR_POINT
  2  (
  3    pointcode           NVARCHAR2(16) not null,
  4    pointname           NVARCHAR2(100) not null,
  5    provider            NVARCHAR2(32),
  6    illegaladdrid       NVARCHAR2(12),
  7    providedate         DATE not null,
  8    passfunc            NVARCHAR2(1),
  9    epfunc              NVARCHAR2(1),
 10    osfunc              NVARCHAR2(1),
 11    vediofunc           NVARCHAR2(1),
 12    remark              NVARCHAR2(64),
 13    longitude           NUMBER(13,6),
 14    latitude            NUMBER(13,6),
 15    pointtype           NVARCHAR2(2),
 16    adminiarea          NVARCHAR2(10),
 17    gpsfunc             NVARCHAR2(1),
 18    inducefunc          NVARCHAR2(1),
 19    signalfunc          NVARCHAR2(1),
 20    flowfunc            NVARCHAR2(1),
 21    eventfunc           NVARCHAR2(1),
 22    departmentid        NVARCHAR2(12),
 23    huanxian            NVARCHAR2(2),
 24    intervelvelocity    NVARCHAR2(1),
 25    status              VARCHAR2(2),
 26    entryperson         VARCHAR2(20),
 27    checkperson         VARCHAR2(20),
 28    checktime           DATE,
 29    entrytime           DATE,
 30    dldm                VARCHAR2(5),
 31    lkdm                VARCHAR2(4),
 32    ddms                VARCHAR2(3),
 33    features            VARCHAR2(12),
 34    dltz                NVARCHAR2(2),
 35    coilfunc            NVARCHAR2(1),
 36    meteorologyfunc     NVARCHAR2(1),
 37    checkpointfunc      NVARCHAR2(1),
 38    checkpointid        VARCHAR2(20),
 39    checkpointname      VARCHAR2(128),
 40    checkpointshortname VARCHAR2(128),
 41    funcitems           VARCHAR2(200),
 42    thirdcode           VARCHAR2(30),
 43    ifsppoint           NUMBER default 0
 44  )
 45  ;
Table created
SQL> comment on table ROADNET_MONITOR_POINT
  2    is '安装点表';
Comment added
SQL> comment on column ROADNET_MONITOR_POINT.pointcode
  2    is '点位编号';
Comment added
SQL> comment on column ROADNET_MONITOR_POINT.pointname
  2    is '点位名称';
Comment added
SQL> comment on column ROADNET_MONITOR_POINT.provider
  2    is '提供商';
Comment added
SQL> comment on column ROADNET_MONITOR_POINT.illegaladdrid
  2    is '违法地点编号，同点位编号';
Comment added
SQL> comment on column ROADNET_MONITOR_POINT.providedate
  2    is '安装时间';
Comment added
SQL> comment on column ROADNET_MONITOR_POINT.passfunc
  2    is '过车功能项(1:表示有;0表示无)';
Comment added
SQL> comment on column ROADNET_MONITOR_POINT.epfunc
  2    is '电警功能项(1:表示有;0表示无)';
Comment added
SQL> comment on column ROADNET_MONITOR_POINT.osfunc
  2    is '超速功能项(1:表示有;0表示无)';
Comment added
SQL> comment on column ROADNET_MONITOR_POINT.vediofunc
  2    is '视频功能项(1:表示有;0表示无)';
Comment added
SQL> comment on column ROADNET_MONITOR_POINT.remark
  2    is '备注';
Comment added
SQL> comment on column ROADNET_MONITOR_POINT.longitude
  2    is '经度';
Comment added
SQL> comment on column ROADNET_MONITOR_POINT.latitude
  2    is '纬度';
Comment added
SQL> comment on column ROADNET_MONITOR_POINT.pointtype
  2    is '安装点类型';
Comment added
SQL> comment on column ROADNET_MONITOR_POINT.adminiarea
  2    is '行政辖区（对应枚举 180）';
Comment added
SQL> comment on column ROADNET_MONITOR_POINT.gpsfunc
  2    is 'GPS功能项(1:表示有;0表示无)';
Comment added
SQL> comment on column ROADNET_MONITOR_POINT.inducefunc
  2    is '诱导功能项(1:表示有;0表示无)';
Comment added
SQL> comment on column ROADNET_MONITOR_POINT.signalfunc
  2    is '信号功能项(1:表示有;0表示无)';
Comment added
SQL> comment on column ROADNET_MONITOR_POINT.flowfunc
  2    is '流量功能项(1:表示有;0表示无)';
Comment added
SQL> comment on column ROADNET_MONITOR_POINT.eventfunc
  2    is '事件功能项(1:表示有;0表示无)';
Comment added
SQL> comment on column ROADNET_MONITOR_POINT.departmentid
  2    is '所属部门（对应部门表部门cdepartmentid）';
Comment added
SQL> comment on column ROADNET_MONITOR_POINT.huanxian
  2    is '0为不在环内,1为一环,2为二环,等';
Comment added
SQL> comment on column ROADNET_MONITOR_POINT.intervelvelocity
  2    is '1表示要加测试，0不要测试';
Comment added
SQL> comment on column ROADNET_MONITOR_POINT.status
  2    is '空代或1表正常使用，0申请状态,2驳回';
Comment added
SQL> comment on column ROADNET_MONITOR_POINT.dldm
  2    is '5位道路代码（所属道路道路代码）';
Comment added
SQL> comment on column ROADNET_MONITOR_POINT.lkdm
  2    is '4位路口代码（所属路口路口代码）';
Comment added
SQL> comment on column ROADNET_MONITOR_POINT.ddms
  2    is '3位地点米数';
Comment added
SQL> comment on column ROADNET_MONITOR_POINT.features
  2    is '点位特征';
Comment added
SQL> comment on column ROADNET_MONITOR_POINT.dltz
  2    is '道路特征';
Comment added
SQL> comment on column ROADNET_MONITOR_POINT.coilfunc
  2    is '微波功能项';
Comment added
SQL> comment on column ROADNET_MONITOR_POINT.meteorologyfunc
  2    is '气象设备 1有0无';
Comment added
SQL> comment on column ROADNET_MONITOR_POINT.funcitems
  2    is '功能项，如电警功能项为01，卡口功能项为02（多个功能项之间用英文逗号分隔，如: 01,02）';
Comment added
SQL> comment on column ROADNET_MONITOR_POINT.ifsppoint
  2    is '点位是否重点分析';
Comment added
SQL> prompt

SQL> prompt Creating table ROADNET_POINT_RELATION
Creating table ROADNET_POINT_RELATION
SQL> prompt =====================================
=====================================
SQL> prompt

SQL> create table ROADNET_POINT_RELATION
  2  (
  3    pointcode            VARCHAR2(16) not null,
  4    direction            NUMBER not null,
  5    lane_number          VARCHAR2(2) not null,
  6    lower_pointcode      VARCHAR2(16) not null,
  7    weight               NUMBER(8,6),
  8    last_traffic_volume  NUMBER default 0,
  9    total_traffic_volume NUMBER default 0,
 10    last_update_time     DATE,
 11    manual_flag          NUMBER default 0
 12  )
 13  ;
Table created
SQL> comment on table ROADNET_POINT_RELATION
  2    is '路口安装点关联表';
Comment added
SQL> comment on column ROADNET_POINT_RELATION.pointcode
  2    is '点位编号';
Comment added
SQL> comment on column ROADNET_POINT_RELATION.direction
  2    is '方向';
Comment added
SQL> comment on column ROADNET_POINT_RELATION.lane_number
  2    is '车道号';
Comment added
SQL> comment on column ROADNET_POINT_RELATION.lower_pointcode
  2    is '下游点位编号';
Comment added
SQL> comment on column ROADNET_POINT_RELATION.weight
  2    is '权重';
Comment added
SQL> comment on column ROADNET_POINT_RELATION.last_traffic_volume
  2    is '最新过车量';
Comment added
SQL> comment on column ROADNET_POINT_RELATION.total_traffic_volume
  2    is '累计过车量';
Comment added
SQL> comment on column ROADNET_POINT_RELATION.last_update_time
  2    is '更新时间';
Comment added
SQL> comment on column ROADNET_POINT_RELATION.manual_flag
  2    is '人工干预标记,0:自动；1：手动';
Comment added
SQL> prompt

SQL> prompt Creating table ROLE
Creating table ROLE
SQL> prompt ===================
===================
SQL> prompt

SQL> create table ROLE
  2  (
  3    roleid   NVARCHAR2(32) not null,
  4    rolename NVARCHAR2(32) not null,
  5    detail   NVARCHAR2(200)
  6  )
  7  ;
Table created
SQL> comment on table ROLE
  2    is '角色权限信息表';
Comment added
SQL> comment on column ROLE.roleid
  2    is '角色ID';
Comment added
SQL> comment on column ROLE.rolename
  2    is '角色名称';
Comment added
SQL> comment on column ROLE.detail
  2    is '描述';
Comment added
SQL> alter table ROLE
  2    add constraint ROLE_ID primary key (ROLEID);
Table altered
SQL> prompt

SQL> prompt Creating table ROLE_OPERATION_RELATION
Creating table ROLE_OPERATION_RELATION
SQL> prompt ======================================
======================================
SQL> prompt

SQL> create table ROLE_OPERATION_RELATION
  2  (
  3    roleid      VARCHAR2(32) not null,
  4    operationid VARCHAR2(32) not null
  5  )
  6  ;
Table created
SQL> comment on table ROLE_OPERATION_RELATION
  2    is '用户操作权限关联表';
Comment added
SQL> comment on column ROLE_OPERATION_RELATION.roleid
  2    is '角色ID';
Comment added
SQL> comment on column ROLE_OPERATION_RELATION.operationid
  2    is '操作ID';
Comment added
SQL> alter table ROLE_OPERATION_RELATION
  2    add constraint ROLE_OPERATION_RELATION_ID primary key (ROLEID, OPERATIONID);
Table altered
SQL> prompt

SQL> prompt Creating table ROLE_RESOURCE_RELATION
Creating table ROLE_RESOURCE_RELATION
SQL> prompt =====================================
=====================================
SQL> prompt

SQL> create table ROLE_RESOURCE_RELATION
  2  (
  3    roleid     VARCHAR2(32) not null,
  4    resourceid VARCHAR2(32) not null
  5  )
  6  ;
Table created
SQL> comment on table ROLE_RESOURCE_RELATION
  2    is '用户资源权限关联表';
Comment added
SQL> comment on column ROLE_RESOURCE_RELATION.roleid
  2    is '角色ID';
Comment added
SQL> comment on column ROLE_RESOURCE_RELATION.resourceid
  2    is '资源ID';
Comment added
SQL> alter table ROLE_RESOURCE_RELATION
  2    add constraint ROLE_RESOURCE_RELATION_ID primary key (ROLEID, RESOURCEID);
Table altered
SQL> prompt

SQL> prompt Creating table ROUTE_ARC
Creating table ROUTE_ARC
SQL> prompt ========================
========================
SQL> prompt

SQL> create table ROUTE_ARC
  2  (
  3    arcid           NVARCHAR2(32) not null,
  4    arcname         NVARCHAR2(60),
  5    arclength       NUMBER(*,2),
  6    startnode       NVARCHAR2(32),
  7    endnode         NVARCHAR2(32),
  8    strcoords       CLOB,
  9    roadcode        VARCHAR2(32),
 10    geometry        MDSYS.SDO_GEOMETRY,
 11    create_operator NVARCHAR2(60),
 12    create_time     DATE,
 13    update_operator NVARCHAR2(60),
 14    update_time     DATE,
 15    version         NVARCHAR2(20),
 16    arctype         VARCHAR2(5) not null,
 17    traffic_dir     VARCHAR2(5)
 18  )
 19  ;
Table created
SQL> comment on column ROUTE_ARC.arcid
  2    is '弧段编号';
Comment added
SQL> comment on column ROUTE_ARC.arcname
  2    is '弧段名称';
Comment added
SQL> comment on column ROUTE_ARC.arclength
  2    is '长度';
Comment added
SQL> comment on column ROUTE_ARC.startnode
  2    is '起始节点编号';
Comment added
SQL> comment on column ROUTE_ARC.endnode
  2    is '结束节点编号';
Comment added
SQL> comment on column ROUTE_ARC.strcoords
  2    is '弧段坐标';
Comment added
SQL> comment on column ROUTE_ARC.roadcode
  2    is '所属道路';
Comment added
SQL> comment on column ROUTE_ARC.geometry
  2    is '地理信息';
Comment added
SQL> comment on column ROUTE_ARC.create_operator
  2    is '创建者';
Comment added
SQL> comment on column ROUTE_ARC.create_time
  2    is '创建时间';
Comment added
SQL> comment on column ROUTE_ARC.update_operator
  2    is '更新者';
Comment added
SQL> comment on column ROUTE_ARC.update_time
  2    is '更新时间';
Comment added
SQL> comment on column ROUTE_ARC.version
  2    is '版本号';
Comment added
SQL> comment on column ROUTE_ARC.arctype
  2    is '弧段类型 0：路段弧段
  3  1：路口弧段
  4  ';
Comment added
SQL> comment on column ROUTE_ARC.traffic_dir
  2    is '交通流方向 0：正向通行
  3  1：反向通行
  4  2：双向通行
  5  3：禁行
  6  ';
Comment added
SQL> alter table ROUTE_ARC
  2    add primary key (ARCID);
Table altered
SQL> prompt

SQL> prompt Creating table ROUTE_FORBIDDENTURN
Creating table ROUTE_FORBIDDENTURN
SQL> prompt ==================================
==================================
SQL> prompt

SQL> create table ROUTE_FORBIDDENTURN
  2  (
  3    ftid            NVARCHAR2(32) not null,
  4    crossnode       NVARCHAR2(32) not null,
  5    fromnode        NVARCHAR2(32) not null,
  6    tonode          NVARCHAR2(32) not null,
  7    create_operator NVARCHAR2(60),
  8    create_time     DATE,
  9    update_operator NVARCHAR2(60),
 10    update_time     DATE,
 11    version         NVARCHAR2(20),
 12    direction       NVARCHAR2(2),
 13    flevel          NVARCHAR2(2) default 0
 14  )
 15  ;
Table created
SQL> comment on column ROUTE_FORBIDDENTURN.flevel
  2    is '级别，0为节点弧段层 1为路口道路层';
Comment added
SQL> alter table ROUTE_FORBIDDENTURN
  2    add primary key (FTID);
Table altered
SQL> prompt

SQL> prompt Creating table ROUTE_INTERSECTION
Creating table ROUTE_INTERSECTION
SQL> prompt =================================
=================================
SQL> prompt

SQL> create table ROUTE_INTERSECTION
  2  (
  3    intsid    VARCHAR2(32) not null,
  4    lkmc      VARCHAR2(60),
  5    bmdm      VARCHAR2(12),
  6    intstype  INTEGER,
  7    longitude NVARCHAR2(20),
  8    latitude  NVARCHAR2(20),
  9    cjr       NVARCHAR2(60),
 10    cjsj      DATE,
 11    gxr       NVARCHAR2(60),
 12    gxsj      DATE,
 13    version   NVARCHAR2(20),
 14    nodeid    VARCHAR2(12),
 15    jcdl      VARCHAR2(100),
 16    geometry  MDSYS.SDO_GEOMETRY,
 17    dldm      VARCHAR2(32),
 18    lkdm      VARCHAR2(32)
 19  )
 20  ;
Table created
SQL> comment on column ROUTE_INTERSECTION.intsid
  2    is '路口编号';
Comment added
SQL> comment on column ROUTE_INTERSECTION.lkmc
  2    is '路口名称';
Comment added
SQL> comment on column ROUTE_INTERSECTION.bmdm
  2    is '部门代码';
Comment added
SQL> comment on column ROUTE_INTERSECTION.intstype
  2    is '路口类型';
Comment added
SQL> comment on column ROUTE_INTERSECTION.longitude
  2    is '经度';
Comment added
SQL> comment on column ROUTE_INTERSECTION.latitude
  2    is '纬度';
Comment added
SQL> comment on column ROUTE_INTERSECTION.cjr
  2    is '创建人';
Comment added
SQL> comment on column ROUTE_INTERSECTION.cjsj
  2    is '创建时间';
Comment added
SQL> comment on column ROUTE_INTERSECTION.gxr
  2    is '更新人';
Comment added
SQL> comment on column ROUTE_INTERSECTION.gxsj
  2    is '更新时间';
Comment added
SQL> comment on column ROUTE_INTERSECTION.version
  2    is '版本号';
Comment added
SQL> comment on column ROUTE_INTERSECTION.nodeid
  2    is '节点编号';
Comment added
SQL> comment on column ROUTE_INTERSECTION.jcdl
  2    is '交叉道路';
Comment added
SQL> alter table ROUTE_INTERSECTION
  2    add primary key (INTSID);
Table altered
SQL> prompt

SQL> prompt Creating table ROUTE_JOINPOINT
Creating table ROUTE_JOINPOINT
SQL> prompt ==============================
==============================
SQL> prompt

SQL> create table ROUTE_JOINPOINT
  2  (
  3    pointid         NVARCHAR2(32) not null,
  4    strcoords       NVARCHAR2(200),
  5    cross_arcs      NVARCHAR2(1500),
  6    geometry        MDSYS.SDO_GEOMETRY,
  7    create_operator NVARCHAR2(60),
  8    create_time     DATE,
  9    update_operator NVARCHAR2(60),
 10    update_time     DATE,
 11    version         NVARCHAR2(20)
 12  )
 13  ;
Table created
SQL> comment on column ROUTE_JOINPOINT.pointid
  2    is '连接点编号';
Comment added
SQL> comment on column ROUTE_JOINPOINT.strcoords
  2    is '连接点坐标';
Comment added
SQL> comment on column ROUTE_JOINPOINT.cross_arcs
  2    is '邻接弧段编号';
Comment added
SQL> comment on column ROUTE_JOINPOINT.geometry
  2    is '地理信息';
Comment added
SQL> comment on column ROUTE_JOINPOINT.create_operator
  2    is '创建者';
Comment added
SQL> comment on column ROUTE_JOINPOINT.create_time
  2    is '创建时间';
Comment added
SQL> comment on column ROUTE_JOINPOINT.update_operator
  2    is '更新者';
Comment added
SQL> comment on column ROUTE_JOINPOINT.update_time
  2    is '更新时间';
Comment added
SQL> comment on column ROUTE_JOINPOINT.version
  2    is '版本号';
Comment added
SQL> alter table ROUTE_JOINPOINT
  2    add primary key (POINTID);
Table altered
SQL> prompt

SQL> prompt Creating table ROUTE_LANE
Creating table ROUTE_LANE
SQL> prompt =========================
=========================
SQL> prompt

SQL> create table ROUTE_LANE
  2  (
  3    laneno          INTEGER not null,
  4    direction       INTEGER not null,
  5    lanetype        CHAR(18),
  6    ssld            NVARCHAR2(32),
  7    sslk            NVARCHAR2(32),
  8    qd              INTEGER,
  9    zd              INTEGER,
 10    create_operator NVARCHAR2(60),
 11    create_time     DATE,
 12    update_operator NVARCHAR2(60),
 13    update_time     DATE,
 14    version         NVARCHAR2(20),
 15    nthrough        INTEGER default 0,
 16    nturnleft       INTEGER default 0,
 17    nturnright      INTEGER default 0,
 18    nturnaround     INTEGER default 0,
 19    laneid          NVARCHAR2(32) not null
 20  )
 21  ;
Table created
SQL> comment on column ROUTE_LANE.laneno
  2    is '车道编号';
Comment added
SQL> comment on column ROUTE_LANE.direction
  2    is '行驶方向';
Comment added
SQL> comment on column ROUTE_LANE.lanetype
  2    is '车道类型';
Comment added
SQL> comment on column ROUTE_LANE.ssld
  2    is '所属路段';
Comment added
SQL> comment on column ROUTE_LANE.sslk
  2    is '所属路口';
Comment added
SQL> comment on column ROUTE_LANE.qd
  2    is '起点';
Comment added
SQL> comment on column ROUTE_LANE.zd
  2    is '终点';
Comment added
SQL> comment on column ROUTE_LANE.create_operator
  2    is '创建者';
Comment added
SQL> comment on column ROUTE_LANE.create_time
  2    is '创建时间';
Comment added
SQL> comment on column ROUTE_LANE.update_operator
  2    is '更新者';
Comment added
SQL> comment on column ROUTE_LANE.update_time
  2    is '更新时间';
Comment added
SQL> comment on column ROUTE_LANE.version
  2    is '版本号';
Comment added
SQL> comment on column ROUTE_LANE.nthrough
  2    is '直行放行  0为不允许通行';
Comment added
SQL> comment on column ROUTE_LANE.nturnleft
  2    is '左转放行  0为不允许通行';
Comment added
SQL> comment on column ROUTE_LANE.nturnright
  2    is '右转放行  0为不允许通行';
Comment added
SQL> comment on column ROUTE_LANE.nturnaround
  2    is '掉头放行  0为不允许通行';
Comment added
SQL> comment on column ROUTE_LANE.laneid
  2    is '车道ID';
Comment added
SQL> alter table ROUTE_LANE
  2    add primary key (LANEID);
Table altered
SQL> prompt

SQL> prompt Creating table ROUTE_LANE_RELATIONS
Creating table ROUTE_LANE_RELATIONS
SQL> prompt ===================================
===================================
SQL> prompt

SQL> create table ROUTE_LANE_RELATIONS
  2  (
  3    laneno          NVARCHAR2(32) not null,
  4    next_arc        NVARCHAR2(32) not null,
  5    next_section    NVARCHAR2(32) not null,
  6    relation        INTEGER,
  7    create_operator NVARCHAR2(60),
  8    create_time     DATE,
  9    update_operator NVARCHAR2(60),
 10    update_time     DATE,
 11    version         NVARCHAR2(20)
 12  )
 13  ;
Table created
SQL> comment on column ROUTE_LANE_RELATIONS.laneno
  2    is '车道编号';
Comment added
SQL> comment on column ROUTE_LANE_RELATIONS.next_arc
  2    is '连通弧段';
Comment added
SQL> comment on column ROUTE_LANE_RELATIONS.next_section
  2    is '连通路段';
Comment added
SQL> comment on column ROUTE_LANE_RELATIONS.relation
  2    is '连通关系';
Comment added
SQL> comment on column ROUTE_LANE_RELATIONS.create_operator
  2    is '创建者';
Comment added
SQL> comment on column ROUTE_LANE_RELATIONS.create_time
  2    is '创建时间';
Comment added
SQL> comment on column ROUTE_LANE_RELATIONS.update_operator
  2    is '更新者';
Comment added
SQL> comment on column ROUTE_LANE_RELATIONS.update_time
  2    is '更新时间';
Comment added
SQL> comment on column ROUTE_LANE_RELATIONS.version
  2    is '版本号';
Comment added
SQL> alter table ROUTE_LANE_RELATIONS
  2    add primary key (LANENO);
Table altered
SQL> prompt

SQL> prompt Creating table ROUTE_NODE
Creating table ROUTE_NODE
SQL> prompt =========================
=========================
SQL> prompt

SQL> create table ROUTE_NODE
  2  (
  3    nodeid           NVARCHAR2(32) not null,
  4    strcoords        NVARCHAR2(100),
  5    cross_roads      NVARCHAR2(60),
  6    related_sections NVARCHAR2(320),
  7    geometry         MDSYS.SDO_GEOMETRY,
  8    create_operator  NVARCHAR2(60),
  9    create_time      DATE,
 10    update_operator  NVARCHAR2(60),
 11    update_time      DATE,
 12    version          NVARCHAR2(20),
 13    joinpoints       NVARCHAR2(2000),
 14    pointsgeometry   MDSYS.SDO_GEOMETRY
 15  )
 16  ;
Table created
SQL> comment on column ROUTE_NODE.nodeid
  2    is '节点编号';
Comment added
SQL> comment on column ROUTE_NODE.strcoords
  2    is '节点坐标';
Comment added
SQL> comment on column ROUTE_NODE.cross_roads
  2    is '交叉道路编号';
Comment added
SQL> comment on column ROUTE_NODE.related_sections
  2    is '邻接路段编号';
Comment added
SQL> comment on column ROUTE_NODE.geometry
  2    is '地理信息';
Comment added
SQL> comment on column ROUTE_NODE.create_operator
  2    is '创建者';
Comment added
SQL> comment on column ROUTE_NODE.create_time
  2    is '创建时间';
Comment added
SQL> comment on column ROUTE_NODE.update_operator
  2    is '更新者';
Comment added
SQL> comment on column ROUTE_NODE.update_time
  2    is '更新时间';
Comment added
SQL> comment on column ROUTE_NODE.version
  2    is '版本号';
Comment added
SQL> comment on column ROUTE_NODE.joinpoints
  2    is '连接点';
Comment added
SQL> comment on column ROUTE_NODE.pointsgeometry
  2    is '连接点组成的多边形地理信息';
Comment added
SQL> alter table ROUTE_NODE
  2    add constraint IDX_RN primary key (NODEID);
Table altered
SQL> prompt

SQL> prompt Creating table ROUTE_NODE_RELATIONS
Creating table ROUTE_NODE_RELATIONS
SQL> prompt ===================================
===================================
SQL> prompt

SQL> create table ROUTE_NODE_RELATIONS
  2  (
  3    nodeid          NVARCHAR2(32) not null,
  4    next_nodes      NVARCHAR2(1600),
  5    next_arcs       NVARCHAR2(1600),
  6    arc_angles      NVARCHAR2(30),
  7    ltztj           VARCHAR2(200),
  8    create_operator NVARCHAR2(60),
  9    create_time     DATE,
 10    update_operator NVARCHAR2(60),
 11    update_time     DATE,
 12    version         NVARCHAR2(20)
 13  )
 14  ;
Table created
SQL> comment on column ROUTE_NODE_RELATIONS.nodeid
  2    is '节点编号';
Comment added
SQL> comment on column ROUTE_NODE_RELATIONS.next_nodes
  2    is '下一连通节点';
Comment added
SQL> comment on column ROUTE_NODE_RELATIONS.next_arcs
  2    is '下一连通弧段';
Comment added
SQL> comment on column ROUTE_NODE_RELATIONS.arc_angles
  2    is '弧段间夹角';
Comment added
SQL> comment on column ROUTE_NODE_RELATIONS.ltztj
  2    is '连通状态集';
Comment added
SQL> comment on column ROUTE_NODE_RELATIONS.create_operator
  2    is '创建者';
Comment added
SQL> comment on column ROUTE_NODE_RELATIONS.create_time
  2    is '创建时间';
Comment added
SQL> comment on column ROUTE_NODE_RELATIONS.update_operator
  2    is '更新者';
Comment added
SQL> comment on column ROUTE_NODE_RELATIONS.update_time
  2    is '更新时间';
Comment added
SQL> comment on column ROUTE_NODE_RELATIONS.version
  2    is '版本号';
Comment added
SQL> alter table ROUTE_NODE_RELATIONS
  2    add constraint IDX_RNR primary key (NODEID);
Table altered
SQL> prompt

SQL> prompt Creating table ROUTE_ROAD
Creating table ROUTE_ROAD
SQL> prompt =========================
=========================
SQL> prompt

SQL> create table ROUTE_ROAD
  2  (
  3    uuid     NVARCHAR2(32) not null,
  4    dldm     VARCHAR2(32) not null,
  5    dlmc     NVARCHAR2(60) not null,
  6    bmdm     VARCHAR2(12),
  7    xzqh     NVARCHAR2(200),
  8    dllx     NVARCHAR2(10) not null,
  9    glxzdj   NVARCHAR2(10),
 10    dx       NVARCHAR2(10),
 11    dlxx     NVARCHAR2(10),
 12    lkldlx   NVARCHAR2(10),
 13    dlwlgl   NVARCHAR2(10),
 14    lmjg     NVARCHAR2(10),
 15    fhsslx   NVARCHAR2(10),
 16    qs       NUMBER,
 17    js       NUMBER,
 18    xqlc     NUMBER,
 19    cjr      NVARCHAR2(60),
 20    cjsj     DATE,
 21    gxr      NVARCHAR2(60),
 22    gxsj     DATE,
 23    jlzt     VARCHAR2(20),
 24    qsmc     NVARCHAR2(30),
 25    xzqhxxlc NVARCHAR2(200),
 26    zyglss   NVARCHAR2(10),
 27    ssglbm   NVARCHAR2(20),
 28    bzdllx   NVARCHAR2(10),
 29    bbh      NVARCHAR2(20)
 30  )
 31  ;
Table created
SQL> comment on table ROUTE_ROAD
  2    is '道路表';
Comment added
SQL> comment on column ROUTE_ROAD.uuid
  2    is '道路编号';
Comment added
SQL> comment on column ROUTE_ROAD.dldm
  2    is '道路代码';
Comment added
SQL> comment on column ROUTE_ROAD.dlmc
  2    is '道路名称';
Comment added
SQL> comment on column ROUTE_ROAD.bmdm
  2    is '部门代码';
Comment added
SQL> comment on column ROUTE_ROAD.xzqh
  2    is '行政区划';
Comment added
SQL> comment on column ROUTE_ROAD.dllx
  2    is '道路类型';
Comment added
SQL> comment on column ROUTE_ROAD.glxzdj
  2    is '公路行政等级 枚举值3124';
Comment added
SQL> comment on column ROUTE_ROAD.dx
  2    is '道路地形 枚举值3110';
Comment added
SQL> comment on column ROUTE_ROAD.dlxx
  2    is '道路线形 枚举值3123';
Comment added
SQL> comment on column ROUTE_ROAD.lkldlx
  2    is '路口路段类型 枚举值3120';
Comment added
SQL> comment on column ROUTE_ROAD.dlwlgl
  2    is '道路物理隔离 枚举值3121';
Comment added
SQL> comment on column ROUTE_ROAD.lmjg
  2    is '路面结构 枚举值3119';
Comment added
SQL> comment on column ROUTE_ROAD.fhsslx
  2    is '防护设施类型 枚举值3127';
Comment added
SQL> comment on column ROUTE_ROAD.qs
  2    is '里程起始';
Comment added
SQL> comment on column ROUTE_ROAD.js
  2    is '里程结束';
Comment added
SQL> comment on column ROUTE_ROAD.xqlc
  2    is '辖区里程';
Comment added
SQL> comment on column ROUTE_ROAD.cjr
  2    is '创建人';
Comment added
SQL> comment on column ROUTE_ROAD.cjsj
  2    is '创建时间';
Comment added
SQL> comment on column ROUTE_ROAD.gxr
  2    is '更新人';
Comment added
SQL> comment on column ROUTE_ROAD.gxsj
  2    is '更新时间';
Comment added
SQL> comment on column ROUTE_ROAD.jlzt
  2    is '记录状态';
Comment added
SQL> comment on column ROUTE_ROAD.qsmc
  2    is '起始名称';
Comment added
SQL> comment on column ROUTE_ROAD.xzqhxxlc
  2    is '行政区划详细里程';
Comment added
SQL> comment on column ROUTE_ROAD.zyglss
  2    is '中央隔离设施';
Comment added
SQL> comment on column ROUTE_ROAD.ssglbm
  2    is '所属管理部门';
Comment added
SQL> comment on column ROUTE_ROAD.bzdllx
  2    is '标准道路类型';
Comment added
SQL> comment on column ROUTE_ROAD.bbh
  2    is '版本号';
Comment added
SQL> alter table ROUTE_ROAD
  2    add primary key (UUID);
Table altered
SQL> prompt

SQL> prompt Creating table ROUTE_ROADLINE
Creating table ROUTE_ROADLINE
SQL> prompt =============================
=============================
SQL> prompt

SQL> create table ROUTE_ROADLINE
  2  (
  3    dldm            VARCHAR2(5) not null,
  4    uuid            VARCHAR2(32) not null,
  5    strcoords       CLOB,
  6    geometry        MDSYS.SDO_GEOMETRY,
  7    linelength      NUMBER,
  8    create_operator NVARCHAR2(60),
  9    create_time     DATE,
 10    update_operator NVARCHAR2(60),
 11    update_time     DATE,
 12    version         NVARCHAR2(20)
 13  )
 14  ;
Table created
SQL> comment on column ROUTE_ROADLINE.dldm
  2    is '道路代码';
Comment added
SQL> comment on column ROUTE_ROADLINE.strcoords
  2    is '中心线坐标';
Comment added
SQL> comment on column ROUTE_ROADLINE.geometry
  2    is '地理信息';
Comment added
SQL> comment on column ROUTE_ROADLINE.linelength
  2    is '长度';
Comment added
SQL> comment on column ROUTE_ROADLINE.create_operator
  2    is '创建者';
Comment added
SQL> comment on column ROUTE_ROADLINE.create_time
  2    is '创建时间';
Comment added
SQL> comment on column ROUTE_ROADLINE.update_operator
  2    is '更新者';
Comment added
SQL> comment on column ROUTE_ROADLINE.update_time
  2    is '更新时间';
Comment added
SQL> comment on column ROUTE_ROADLINE.version
  2    is '版本号';
Comment added
SQL> alter table ROUTE_ROADLINE
  2    add constraint IDX_RRL primary key (UUID);
Table altered
SQL> prompt

SQL> prompt Creating table ROUTE_ROADLINK
Creating table ROUTE_ROADLINK
SQL> prompt =============================
=============================
SQL> prompt

SQL> create table ROUTE_ROADLINK
  2  (
  3    roadid      NVARCHAR2(32) not null,
  4    linkid      NVARCHAR2(32) not null,
  5    strcoords   CLOB not null,
  6    geometry    MDSYS.SDO_GEOMETRY,
  7    crosspoints NVARCHAR2(2000),
  8    formatlevel NVARCHAR2(2),
  9    linkname    NVARCHAR2(28),
 10    direction   NVARCHAR2(5),
 11    viodldm     NVARCHAR2(32)
 12  )
 13  ;
Table created
SQL> comment on table ROUTE_ROADLINK
  2    is '路径规划-路段边表';
Comment added
SQL> comment on column ROUTE_ROADLINK.roadid
  2    is '路段编号';
Comment added
SQL> comment on column ROUTE_ROADLINK.linkid
  2    is '边编号';
Comment added
SQL> comment on column ROUTE_ROADLINK.strcoords
  2    is '坐标';
Comment added
SQL> comment on column ROUTE_ROADLINK.formatlevel
  2    is '是否已经自动纠正过方向';
Comment added
SQL> comment on column ROUTE_ROADLINK.linkname
  2    is '路段名称';
Comment added
SQL> comment on column ROUTE_ROADLINK.direction
  2    is '方向：0：正向 1：反向 2：双向';
Comment added
SQL> comment on column ROUTE_ROADLINK.viodldm
  2    is '六合一道路代码';
Comment added
SQL> alter table ROUTE_ROADLINK
  2    add primary key (LINKID);
Table altered
SQL> prompt

SQL> prompt Creating table ROUTE_SECTION
Creating table ROUTE_SECTION
SQL> prompt ============================
============================
SQL> prompt

SQL> create table ROUTE_SECTION
  2  (
  3    sectionid       NVARCHAR2(32) not null,
  4    sectionname     NVARCHAR2(60),
  5    uppints         NVARCHAR2(32),
  6    downints        NVARCHAR2(32),
  7    road_code       VARCHAR2(5),
  8    width           NUMBER(5,2),
  9    length          INTEGER,
 10    direction       INTEGER,
 11    logic_del       INTEGER default 0 not null,
 12    road_level      INTEGER,
 13    fireespeed      INTEGER,
 14    ryspeed         INTEGER,
 15    ygspeed         INTEGER,
 16    hotpressure     NVARCHAR2(100),
 17    norpressure     NVARCHAR2(100),
 18    lowpressure     NVARCHAR2(100),
 19    arcs            NVARCHAR2(600),
 20    opp_section     NVARCHAR2(32),
 21    create_operator NVARCHAR2(60),
 22    create_time     DATE,
 23    update_operator NVARCHAR2(60),
 24    update_time     DATE,
 25    version         NVARCHAR2(20),
 26    strcoords       VARCHAR2(4000),
 27    geometry        MDSYS.SDO_GEOMETRY
 28  )
 29  ;
Table created
SQL> comment on column ROUTE_SECTION.sectionid
  2    is '路段编号';
Comment added
SQL> comment on column ROUTE_SECTION.sectionname
  2    is '路段名称';
Comment added
SQL> comment on column ROUTE_SECTION.uppints
  2    is '上游路口';
Comment added
SQL> comment on column ROUTE_SECTION.downints
  2    is '下游路口';
Comment added
SQL> comment on column ROUTE_SECTION.road_code
  2    is '所属道路代码';
Comment added
SQL> comment on column ROUTE_SECTION.width
  2    is '宽度';
Comment added
SQL> comment on column ROUTE_SECTION.length
  2    is '长度';
Comment added
SQL> comment on column ROUTE_SECTION.direction
  2    is '方向 1 东向西 2 西向东 3-南向北 4-北向南 5东北到西南 6-西南到东北 7东南到西北 7 西北到东南';
Comment added
SQL> comment on column ROUTE_SECTION.logic_del
  2    is '删除标识 0 未删除 1 已删除';
Comment added
SQL> comment on column ROUTE_SECTION.road_level
  2    is '道路级别';
Comment added
SQL> comment on column ROUTE_SECTION.fireespeed
  2    is '自由流速';
Comment added
SQL> comment on column ROUTE_SECTION.ryspeed
  2    is '红黄速度分界点';
Comment added
SQL> comment on column ROUTE_SECTION.ygspeed
  2    is '黄绿速度分界点';
Comment added
SQL> comment on column ROUTE_SECTION.hotpressure
  2    is '高峰时段';
Comment added
SQL> comment on column ROUTE_SECTION.norpressure
  2    is '平峰时段';
Comment added
SQL> comment on column ROUTE_SECTION.lowpressure
  2    is '低峰时段';
Comment added
SQL> comment on column ROUTE_SECTION.arcs
  2    is '包含弧段';
Comment added
SQL> comment on column ROUTE_SECTION.opp_section
  2    is '反向路段';
Comment added
SQL> comment on column ROUTE_SECTION.create_operator
  2    is '创建者';
Comment added
SQL> comment on column ROUTE_SECTION.create_time
  2    is '创建时间';
Comment added
SQL> comment on column ROUTE_SECTION.update_operator
  2    is '更新者';
Comment added
SQL> comment on column ROUTE_SECTION.update_time
  2    is '更新时间';
Comment added
SQL> comment on column ROUTE_SECTION.version
  2    is '版本号';
Comment added
SQL> comment on column ROUTE_SECTION.strcoords
  2    is '路段坐标';
Comment added
SQL> alter table ROUTE_SECTION
  2    add primary key (SECTIONID);
Table altered
SQL> prompt

SQL> prompt Creating table ROUTE_UTC_SECTION
Creating table ROUTE_UTC_SECTION
SQL> prompt ================================
================================
SQL> prompt

SQL> create table ROUTE_UTC_SECTION
  2  (
  3    sectionid       NVARCHAR2(32) not null,
  4    sectionname     NVARCHAR2(60),
  5    uppints         NVARCHAR2(32),
  6    downints        NVARCHAR2(32),
  7    road_code       VARCHAR2(5),
  8    width           NUMBER(5,2),
  9    length          INTEGER,
 10    direction       INTEGER,
 11    logic_del       INTEGER default 0 not null,
 12    road_level      INTEGER not null,
 13    fireespeed      INTEGER,
 14    ryspeed         INTEGER,
 15    ygspeed         INTEGER,
 16    hotpressure     NVARCHAR2(100),
 17    norpressure     NVARCHAR2(100),
 18    lowpressure     NVARCHAR2(100),
 19    arcs            NVARCHAR2(600),
 20    opp_section     NVARCHAR2(32),
 21    create_operator NVARCHAR2(60),
 22    create_time     DATE,
 23    update_operator NVARCHAR2(60),
 24    update_time     DATE,
 25    version         NVARCHAR2(20),
 26    sections        NVARCHAR2(320)
 27  )
 28  ;
Table created
SQL> comment on column ROUTE_UTC_SECTION.sectionid
  2    is '路段编号';
Comment added
SQL> comment on column ROUTE_UTC_SECTION.sectionname
  2    is '路段名称';
Comment added
SQL> comment on column ROUTE_UTC_SECTION.uppints
  2    is '上游路口';
Comment added
SQL> comment on column ROUTE_UTC_SECTION.downints
  2    is '下游路口';
Comment added
SQL> comment on column ROUTE_UTC_SECTION.road_code
  2    is '所属道路代码';
Comment added
SQL> comment on column ROUTE_UTC_SECTION.width
  2    is '宽度';
Comment added
SQL> comment on column ROUTE_UTC_SECTION.length
  2    is '长度';
Comment added
SQL> comment on column ROUTE_UTC_SECTION.direction
  2    is '方向 1 东向西 2 西向东 3-南向北 4-北向南 5东北到西南 6-西南到东北 7东南到西北 7 西北到东南';
Comment added
SQL> comment on column ROUTE_UTC_SECTION.logic_del
  2    is '删除标识 0 未删除 1 已删除';
Comment added
SQL> comment on column ROUTE_UTC_SECTION.road_level
  2    is '道路级别';
Comment added
SQL> comment on column ROUTE_UTC_SECTION.fireespeed
  2    is '自由流速';
Comment added
SQL> comment on column ROUTE_UTC_SECTION.ryspeed
  2    is '红黄速度分界点';
Comment added
SQL> comment on column ROUTE_UTC_SECTION.ygspeed
  2    is '黄绿速度分界点';
Comment added
SQL> comment on column ROUTE_UTC_SECTION.hotpressure
  2    is '高峰时段';
Comment added
SQL> comment on column ROUTE_UTC_SECTION.norpressure
  2    is '平峰时段';
Comment added
SQL> comment on column ROUTE_UTC_SECTION.lowpressure
  2    is '低峰时段';
Comment added
SQL> comment on column ROUTE_UTC_SECTION.arcs
  2    is '包含弧段';
Comment added
SQL> comment on column ROUTE_UTC_SECTION.opp_section
  2    is '反向路段';
Comment added
SQL> comment on column ROUTE_UTC_SECTION.create_operator
  2    is '创建者';
Comment added
SQL> comment on column ROUTE_UTC_SECTION.create_time
  2    is '创建时间';
Comment added
SQL> comment on column ROUTE_UTC_SECTION.update_operator
  2    is '更新者';
Comment added
SQL> comment on column ROUTE_UTC_SECTION.update_time
  2    is '更新时间';
Comment added
SQL> comment on column ROUTE_UTC_SECTION.version
  2    is '版本号';
Comment added
SQL> comment on column ROUTE_UTC_SECTION.sections
  2    is '包含路段 包含路段表中的路段';
Comment added
SQL> alter table ROUTE_UTC_SECTION
  2    add primary key (SECTIONID);
Table altered
SQL> prompt

SQL> prompt Creating table ROUTE_VIO_INTS
Creating table ROUTE_VIO_INTS
SQL> prompt =============================
=============================
SQL> prompt

SQL> create table ROUTE_VIO_INTS
  2  (
  3    intsid    VARCHAR2(32) not null,
  4    dldm      VARCHAR2(5) not null,
  5    lkdm      VARCHAR2(4) not null,
  6    viointsid VARCHAR2(32) not null,
  7    jcdl      VARCHAR2(100)
  8  )
  9  ;
Table created
SQL> comment on table ROUTE_VIO_INTS
  2    is '路网路口与六合一路口关联表';
Comment added
SQL> comment on column ROUTE_VIO_INTS.intsid
  2    is '路口编号';
Comment added
SQL> comment on column ROUTE_VIO_INTS.dldm
  2    is '道路代码';
Comment added
SQL> comment on column ROUTE_VIO_INTS.lkdm
  2    is '路口代码';
Comment added
SQL> comment on column ROUTE_VIO_INTS.viointsid
  2    is '六合一路口编号';
Comment added
SQL> alter table ROUTE_VIO_INTS
  2    add constraint IDX_ROUTE_VIO_INTS primary key (INTSID, VIOINTSID);
Table altered
SQL> prompt

SQL> prompt Creating table SCREEN_MODES
Creating table SCREEN_MODES
SQL> prompt ===========================
===========================
SQL> prompt

SQL> create table SCREEN_MODES
  2  (
  3    modeid     VARCHAR2(32) not null,
  4    modename   NVARCHAR2(300) not null,
  5    modegroup  VARCHAR2(10),
  6    modepicurl NVARCHAR2(500)
  7  )
  8  ;
Table created
SQL> comment on table SCREEN_MODES
  2    is '大屏模式表';
Comment added
SQL> comment on column SCREEN_MODES.modeid
  2    is 'UUID，模式编号';
Comment added
SQL> comment on column SCREEN_MODES.modename
  2    is '模式名称';
Comment added
SQL> comment on column SCREEN_MODES.modegroup
  2    is '模式分组';
Comment added
SQL> comment on column SCREEN_MODES.modepicurl
  2    is '模式效果图url';
Comment added
SQL> alter table SCREEN_MODES
  2    add constraint SCREEN_MODES_KEY primary key (MODEID);
Table altered
SQL> prompt

SQL> prompt Creating table SEARCHTRACKING
Creating table SEARCHTRACKING
SQL> prompt =============================
=============================
SQL> prompt

SQL> create table SEARCHTRACKING
  2  (
  3    nid          VARCHAR2(32) default sys_guid(),
  4    ccarnumber   VARCHAR2(16) not null,
  5    clicensetype VARCHAR2(2) not null,
  6    searchdate   DATE default Sysdate,
  7    startdate    DATE,
  8    enddate      DATE,
  9    description  VARCHAR2(50)
 10  )
 11  ;
Table created
SQL> comment on table SEARCHTRACKING
  2    is '实时追踪历史记录表';
Comment added
SQL> comment on column SEARCHTRACKING.nid
  2    is '数据库自动编号';
Comment added
SQL> comment on column SEARCHTRACKING.ccarnumber
  2    is '车牌号码';
Comment added
SQL> comment on column SEARCHTRACKING.clicensetype
  2    is '车牌类型';
Comment added
SQL> comment on column SEARCHTRACKING.searchdate
  2    is '追踪时间';
Comment added
SQL> comment on column SEARCHTRACKING.startdate
  2    is '抓拍开始时间';
Comment added
SQL> comment on column SEARCHTRACKING.enddate
  2    is '抓拍结束时间';
Comment added
SQL> comment on column SEARCHTRACKING.description
  2    is '备注';
Comment added
SQL> prompt

SQL> prompt Creating table SECTION_COMPUTER_30MIN
Creating table SECTION_COMPUTER_30MIN
SQL> prompt =====================================
=====================================
SQL> prompt

SQL> create table SECTION_COMPUTER_30MIN
  2  (
  3    sectionid          VARCHAR2(8) not null,
  4    computertime       DATE,
  5    roadcongestiontime NUMBER,
  6    indey              NUMBER(4,2)
  7  )
  8  ;
Table created
SQL> prompt

SQL> prompt Creating table SECTION_COMPUTER_DAY
Creating table SECTION_COMPUTER_DAY
SQL> prompt ===================================
===================================
SQL> prompt

SQL> create table SECTION_COMPUTER_DAY
  2  (
  3    sectionid          VARCHAR2(8) not null,
  4    computertime       DATE,
  5    roadcongestiontime NUMBER,
  6    indey              NUMBER(4,2)
  7  )
  8  ;
Table created
SQL> comment on column SECTION_COMPUTER_DAY.sectionid
  2    is '路段id';
Comment added
SQL> comment on column SECTION_COMPUTER_DAY.computertime
  2    is '计算时间';
Comment added
SQL> comment on column SECTION_COMPUTER_DAY.roadcongestiontime
  2    is '路况拥堵时长';
Comment added
SQL> comment on column SECTION_COMPUTER_DAY.indey
  2    is '平均指数（天平均）';
Comment added
SQL> prompt

SQL> prompt Creating table SECTION_COMPUTER_HOUR
Creating table SECTION_COMPUTER_HOUR
SQL> prompt ====================================
====================================
SQL> prompt

SQL> create table SECTION_COMPUTER_HOUR
  2  (
  3    sectionid          VARCHAR2(8) not null,
  4    computertime       DATE,
  5    roadcongestiontime NUMBER,
  6    indey              NUMBER(4,2)
  7  )
  8  ;
Table created
SQL> comment on column SECTION_COMPUTER_HOUR.sectionid
  2    is '路段id';
Comment added
SQL> comment on column SECTION_COMPUTER_HOUR.computertime
  2    is '计算时间';
Comment added
SQL> comment on column SECTION_COMPUTER_HOUR.roadcongestiontime
  2    is '路况拥堵时长';
Comment added
SQL> comment on column SECTION_COMPUTER_HOUR.indey
  2    is '交通指数（小时平均）';
Comment added
SQL> create index IDX_ANLYS_SCH_HOUR on SECTION_COMPUTER_HOUR (COMPUTERTIME, SECTIONID);
Index created
SQL> prompt

SQL> prompt Creating table SECTION_CONGESTION
Creating table SECTION_CONGESTION
SQL> prompt =================================
=================================
SQL> prompt

SQL> create table SECTION_CONGESTION
  2  (
  3    nid                 VARCHAR2(32) not null,
  4    sectionid           NVARCHAR2(8),
  5    statisticsstarttime DATE,
  6    statisticsendtime   DATE,
  7    statisticstype      CHAR(1),
  8    congestionstate     CHAR(1),
  9    congestiontime      VARCHAR2(300),
 10    congestionlength    NUMBER(4),
 11    relatedsection      VARCHAR2(900)
 12  )
 13  ;
Table created
SQL> comment on table SECTION_CONGESTION
  2    is '拥堵路段表，存放常发拥堵或突发拥堵的路段';
Comment added
SQL> comment on column SECTION_CONGESTION.nid
  2    is '主键';
Comment added
SQL> comment on column SECTION_CONGESTION.sectionid
  2    is '路段编号';
Comment added
SQL> comment on column SECTION_CONGESTION.statisticsstarttime
  2    is '统计开始时间';
Comment added
SQL> comment on column SECTION_CONGESTION.statisticsendtime
  2    is '统计结束时间';
Comment added
SQL> comment on column SECTION_CONGESTION.statisticstype
  2    is '统计方式 1按月统计 2按周统计';
Comment added
SQL> comment on column SECTION_CONGESTION.congestionstate
  2    is '拥堵状态 1 常态拥堵 2突发拥堵';
Comment added
SQL> comment on column SECTION_CONGESTION.congestiontime
  2    is '拥堵时段';
Comment added
SQL> comment on column SECTION_CONGESTION.congestionlength
  2    is '拥堵长度(以分为单位)';
Comment added
SQL> comment on column SECTION_CONGESTION.relatedsection
  2    is '拥堵关联路段';
Comment added
SQL> prompt

SQL> prompt Creating table SECTION_DEVICE
Creating table SECTION_DEVICE
SQL> prompt =============================
=============================
SQL> prompt

SQL> create table SECTION_DEVICE
  2  (
  3    sectionid   NVARCHAR2(20) not null,
  4    deviceid    NVARCHAR2(20) not null,
  5    devicetype  NVARCHAR2(2),
  6    sectionname NVARCHAR2(200),
  7    devicename  NVARCHAR2(200),
  8    deviceorder NUMBER
  9  )
 10  ;
Table created
SQL> comment on table SECTION_DEVICE
  2    is '';
Comment added
SQL> comment on column SECTION_DEVICE.sectionid
  2    is '';
Comment added
SQL> comment on column SECTION_DEVICE.deviceid
  2    is '';
Comment added
SQL> comment on column SECTION_DEVICE.devicetype
  2    is '';
Comment added
SQL> comment on column SECTION_DEVICE.sectionname
  2    is '';
Comment added
SQL> comment on column SECTION_DEVICE.devicename
  2    is '';
Comment added
SQL> comment on column SECTION_DEVICE.deviceorder
  2    is '';
Comment added
SQL> create index SECTION_DEVICE_ID_INDEX on SECTION_DEVICE (SECTIONID);
Index created
SQL> prompt

SQL> prompt Creating table SECTION_FLOW_DATA
Creating table SECTION_FLOW_DATA
SQL> prompt ================================
================================
SQL> prompt

SQL> create table SECTION_FLOW_DATA
  2  (
  3    sectionid      NVARCHAR2(8),
  4    laneid         VARCHAR2(2),
  5    directionid    VARCHAR2(2),
  6    volume         NUMBER(8),
  7    occupancy      NUMBER(5,4),
  8    speed          NUMBER,
  9    datasource     CHAR(1),
 10    sectionname    NVARCHAR2(64),
 11    largecount     NUMBER(8),
 12    smallcount     NUMBER(8),
 13    commcount      NUMBER(8),
 14    pointid        NVARCHAR2(16),
 15    pointname      NVARCHAR2(64),
 16    deviceid       NVARCHAR2(18),
 17    devicename     NVARCHAR2(64),
 18    stdtime        DATE,
 19    volumestate    NUMBER(2) default 1,
 20    occupancystate NUMBER(2) default 1,
 21    speedstate     NUMBER(2) default 1,
 22    nid            VARCHAR2(32)
 23  )
 24  partition by range (STDTIME) interval (NUMTODSINTERVAL(1,'DAY'))
 25  (
 26    partition SEC_VOL_P1 values less than (TO_DATE(' 2016-06-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 27      tablespace SECTION_VOLUMETS_01,
 28    partition SYS_P583 values less than (TO_DATE(' 2018-02-07 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 29      tablespace HIATMPTS
 30  );
Table created
SQL> comment on table SECTION_FLOW_DATA
  2    is '流量数据表（字段和原始流量表的一样）';
Comment added
SQL> comment on column SECTION_FLOW_DATA.sectionid
  2    is '路段ID';
Comment added
SQL> comment on column SECTION_FLOW_DATA.laneid
  2    is '车道号';
Comment added
SQL> comment on column SECTION_FLOW_DATA.directionid
  2    is '车道方向';
Comment added
SQL> comment on column SECTION_FLOW_DATA.volume
  2    is '流量';
Comment added
SQL> comment on column SECTION_FLOW_DATA.occupancy
  2    is '占有率';
Comment added
SQL> comment on column SECTION_FLOW_DATA.speed
  2    is '平均速度';
Comment added
SQL> comment on column SECTION_FLOW_DATA.datasource
  2    is '数据来源   1-电子警察  2-卡口  5-信号系统';
Comment added
SQL> comment on column SECTION_FLOW_DATA.sectionname
  2    is '路段名称';
Comment added
SQL> comment on column SECTION_FLOW_DATA.largecount
  2    is '大型车辆数  最近整点1分钟内通过大型车辆数，单位辆';
Comment added
SQL> comment on column SECTION_FLOW_DATA.smallcount
  2    is '小型车辆数  最近整点1分钟内通过小型车辆数，单位辆';
Comment added
SQL> comment on column SECTION_FLOW_DATA.commcount
  2    is '过车数    最近整点1分钟内通过车辆数，单位辆';
Comment added
SQL> comment on column SECTION_FLOW_DATA.pointid
  2    is '采集点编号  采集点编号';
Comment added
SQL> comment on column SECTION_FLOW_DATA.pointname
  2    is '采集点名称  采集点名称';
Comment added
SQL> comment on column SECTION_FLOW_DATA.deviceid
  2    is '检测设备  检测设备编号';
Comment added
SQL> comment on column SECTION_FLOW_DATA.devicename
  2    is '检测设备名称 检测设备名称';
Comment added
SQL> comment on column SECTION_FLOW_DATA.stdtime
  2    is '标准时间，程序根据采集时间处理得到';
Comment added
SQL> comment on column SECTION_FLOW_DATA.volumestate
  2    is '流量来源标志位，0-缺数据 1-原始数据 2-融合数据 3-补偿数据';
Comment added
SQL> comment on column SECTION_FLOW_DATA.occupancystate
  2    is '占有率来源标志位，0-缺数据 1-原始数据 2-融合数据 3-补偿数据';
Comment added
SQL> comment on column SECTION_FLOW_DATA.speedstate
  2    is '平均速度来源标志位，0-缺数据 1-原始数据 2-融合数据 3-补偿数据';
Comment added
SQL> create index IDX_SECTIONID on SECTION_FLOW_DATA (STDTIME, SECTIONID)
  2    local;
Index created
SQL> create index IDX_SEC_CHARSTD on SECTION_FLOW_DATA (STDTIME, SECTIONID, TO_CHAR(STDTIME,'hh24:mi'))
  2    local;
Index created
SQL> create index IDX_SEC_DEVICEID on SECTION_FLOW_DATA (DEVICEID)
  2    local;
Index created
SQL> create index IDX_SEC_POINTID on SECTION_FLOW_DATA (STDTIME, POINTID)
  2    local;
Index created
SQL> prompt

SQL> prompt Creating table SECTION_JAM_LENGTH
Creating table SECTION_JAM_LENGTH
SQL> prompt =================================
=================================
SQL> prompt

SQL> create table SECTION_JAM_LENGTH
  2  (
  3    id            VARCHAR2(32) not null,
  4    sectionid     VARCHAR2(8) not null,
  5    jamlevel      CHAR(1) not null,
  6    startjampoint NUMBER(4),
  7    jamlength     NUMBER(4),
  8    pubtime       DATE not null,
  9    receivetime   DATE
 10  )
 11  ;
Table created
SQL> comment on table SECTION_JAM_LENGTH
  2    is '路段拥堵表';
Comment added
SQL> comment on column SECTION_JAM_LENGTH.id
  2    is 'uuid';
Comment added
SQL> comment on column SECTION_JAM_LENGTH.sectionid
  2    is '路段编号';
Comment added
SQL> comment on column SECTION_JAM_LENGTH.jamlevel
  2    is '拥堵级别 2-缓行，3-拥堵';
Comment added
SQL> comment on column SECTION_JAM_LENGTH.startjampoint
  2    is '起始拥堵点';
Comment added
SQL> comment on column SECTION_JAM_LENGTH.jamlength
  2    is '排队长度';
Comment added
SQL> comment on column SECTION_JAM_LENGTH.pubtime
  2    is '发布时间';
Comment added
SQL> comment on column SECTION_JAM_LENGTH.receivetime
  2    is '接收时间';
Comment added
SQL> create index IDX_SEC_TIME on SECTION_JAM_LENGTH (PUBTIME, SECTIONID);
Index created
SQL> create unique index PK_SECTION_JAM_LENGTH on SECTION_JAM_LENGTH (PUBTIME, ID);
Index created
SQL> prompt

SQL> prompt Creating table SECTION_STATUS_COMPUTE
Creating table SECTION_STATUS_COMPUTE
SQL> prompt =====================================
=====================================
SQL> prompt

SQL> create table SECTION_STATUS_COMPUTE
  2  (
  3    id          VARCHAR2(32) not null,
  4    section_id  VARCHAR2(8) not null,
  5    status      CHAR(1),
  6    traveltime  NUMBER(5),
  7    computetime DATE,
  8    createtime  DATE,
  9    volume      NUMBER(4),
 10    speed       NUMBER(4,1),
 11    receivetime DATE,
 12    indey       NUMBER(4,2)
 13  )
 14  partition by range (RECEIVETIME) interval (NUMTODSINTERVAL(1,'DAY'))
 15  (
 16    partition ROAD_STATUS_P1 values less than (TO_DATE(' 2017-06-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 17      tablespace ROAD_SITUATIONTS,
 18    partition SYS_P985 values less than (TO_DATE(' 2018-07-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 19      tablespace ROAD_SITUATIONTS
 20  );
Table created
SQL> comment on table SECTION_STATUS_COMPUTE
  2    is '路况信息数据表';
Comment added
SQL> comment on column SECTION_STATUS_COMPUTE.id
  2    is 'uuid';
Comment added
SQL> comment on column SECTION_STATUS_COMPUTE.section_id
  2    is '路段_ID';
Comment added
SQL> comment on column SECTION_STATUS_COMPUTE.status
  2    is '路况状态 1 拥堵 2 事故 3 违法 -1 其他';
Comment added
SQL> comment on column SECTION_STATUS_COMPUTE.traveltime
  2    is '旅行时间';
Comment added
SQL> comment on column SECTION_STATUS_COMPUTE.computetime
  2    is '计算时间';
Comment added
SQL> comment on column SECTION_STATUS_COMPUTE.createtime
  2    is '创建时间';
Comment added
SQL> comment on column SECTION_STATUS_COMPUTE.volume
  2    is '流量';
Comment added
SQL> comment on column SECTION_STATUS_COMPUTE.speed
  2    is '速度';
Comment added
SQL> comment on column SECTION_STATUS_COMPUTE.receivetime
  2    is '接收时间';
Comment added
SQL> comment on column SECTION_STATUS_COMPUTE.indey
  2    is '交通指数';
Comment added
SQL> create index IDX_SEC_ID on SECTION_STATUS_COMPUTE (STATUS, RECEIVETIME, MOD(TO_NUMBER(TO_CHAR(RECEIVETIME,'mi')),5), SECTION_ID)
  2    local;
Index created
SQL> create index IDX_SEC_INDEY on SECTION_STATUS_COMPUTE (RECEIVETIME, TO_CHAR(RECEIVETIME,'hh24:mi'), INDEY)
  2    local;
Index created
SQL> create index IDX_SEC_INDEY2 on SECTION_STATUS_COMPUTE (SECTION_ID, RECEIVETIME, TO_CHAR(RECEIVETIME,'hh24:mi'), INDEY)
  2    local;
Index created
SQL> create index IDX_SEC_STATUS on SECTION_STATUS_COMPUTE (STATUS, SECTION_ID, RECEIVETIME)
  2    local;
Index created
SQL> create index IDX_SSC_COMPUTETIME on SECTION_STATUS_COMPUTE (COMPUTETIME)
  2    local;
Index created
SQL> create index IDX_SSC_RECEIVETIME on SECTION_STATUS_COMPUTE (RECEIVETIME)
  2    local;
Index created
SQL> alter table SECTION_STATUS_COMPUTE
  2    add constraint SECTION_STATUS_HISTORY_ID primary key (ID)
  3    disable;
Table altered
SQL> prompt

SQL> prompt Creating table SECTION_STATUS_DATA
Creating table SECTION_STATUS_DATA
SQL> prompt ==================================
==================================
SQL> prompt

SQL> create table SECTION_STATUS_DATA
  2  (
  3    nid             VARCHAR2(32) not null,
  4    sectionid       NVARCHAR2(8),
  5    laneid          VARCHAR2(2),
  6    directionid     VARCHAR2(2),
  7    collectiontime  DATE,
  8    intervals       NUMBER(4),
  9    volume          NUMBER(8),
 10    occupancy       NUMBER(5,4),
 11    speed           NUMBER,
 12    traveltime      NUMBER,
 13    islast          CHAR(1),
 14    datasource      CHAR(1),
 15    sectionname     NVARCHAR2(64),
 16    largecount      NUMBER,
 17    smallcount      NUMBER,
 18    commcount       NUMBER,
 19    queuelen        NUMBER,
 20    pointid         NVARCHAR2(16),
 21    pointname       NVARCHAR2(64),
 22    deviceid        NVARCHAR2(18),
 23    devicename      NVARCHAR2(64),
 24    stdtime         DATE,
 25    uploadtime      DATE,
 26    storetime       DATE default sysdate,
 27    mquptime        DATE,
 28    leftturnvolume  NUMBER(8),
 29    throughvolume   NUMBER(8),
 30    rightturnvolume NUMBER(8),
 31    spaceoccupation NUMBER(3,2),
 32    saturation      NUMBER(3,2)
 33  )
 34  partition by range (STDTIME) interval (NUMTODSINTERVAL(1,'DAY'))
 35  (
 36    partition SEC_STA_DATA_P1 values less than (TO_DATE(' 2017-06-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 37      tablespace VOLUMETS_01,
 38    partition SYS_P582 values less than (TO_DATE(' 2018-07-07 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 39      tablespace VOLUMETS_02
 40  );
Table created
SQL> comment on table SECTION_STATUS_DATA
  2    is '流量数据表（字段和原始流量表的一样）';
Comment added
SQL> comment on column SECTION_STATUS_DATA.nid
  2    is '一次表征拥堵的采集信息ID';
Comment added
SQL> comment on column SECTION_STATUS_DATA.sectionid
  2    is '路段ID';
Comment added
SQL> comment on column SECTION_STATUS_DATA.laneid
  2    is '车道号';
Comment added
SQL> comment on column SECTION_STATUS_DATA.directionid
  2    is '车道方向';
Comment added
SQL> comment on column SECTION_STATUS_DATA.collectiontime
  2    is '采集时间';
Comment added
SQL> comment on column SECTION_STATUS_DATA.intervals
  2    is '时间间隔';
Comment added
SQL> comment on column SECTION_STATUS_DATA.volume
  2    is '流量';
Comment added
SQL> comment on column SECTION_STATUS_DATA.occupancy
  2    is '占有率';
Comment added
SQL> comment on column SECTION_STATUS_DATA.speed
  2    is '平均速度';
Comment added
SQL> comment on column SECTION_STATUS_DATA.traveltime
  2    is '旅行时间';
Comment added
SQL> comment on column SECTION_STATUS_DATA.islast
  2    is '是否最后一次的上传值';
Comment added
SQL> comment on column SECTION_STATUS_DATA.datasource
  2    is '数据来源   1-电子警察  2-卡口  5-信号系统';
Comment added
SQL> comment on column SECTION_STATUS_DATA.sectionname
  2    is '路段名称';
Comment added
SQL> comment on column SECTION_STATUS_DATA.largecount
  2    is '大型车辆数  最近整点1分钟内通过大型车辆数，单位辆';
Comment added
SQL> comment on column SECTION_STATUS_DATA.smallcount
  2    is '小型车辆数  最近整点1分钟内通过小型车辆数，单位辆';
Comment added
SQL> comment on column SECTION_STATUS_DATA.commcount
  2    is '过车数    最近整点1分钟内通过车辆数，单位辆';
Comment added
SQL> comment on column SECTION_STATUS_DATA.queuelen
  2    is '排对长度  最近整点1分钟的平均排对长度，单位 米';
Comment added
SQL> comment on column SECTION_STATUS_DATA.pointid
  2    is '采集点编号  采集点编号';
Comment added
SQL> comment on column SECTION_STATUS_DATA.pointname
  2    is '采集点名称  采集点名称';
Comment added
SQL> comment on column SECTION_STATUS_DATA.deviceid
  2    is '检测设备  检测设备编号';
Comment added
SQL> comment on column SECTION_STATUS_DATA.devicename
  2    is '检测设备名称 检测设备名称';
Comment added
SQL> comment on column SECTION_STATUS_DATA.stdtime
  2    is '标准时间，程序根据采集时间处理得到';
Comment added
SQL> comment on column SECTION_STATUS_DATA.uploadtime
  2    is '数据上传时间';
Comment added
SQL> comment on column SECTION_STATUS_DATA.storetime
  2    is '数据入库时间';
Comment added
SQL> comment on column SECTION_STATUS_DATA.mquptime
  2    is 'MQ接收时间';
Comment added
SQL> comment on column SECTION_STATUS_DATA.leftturnvolume
  2    is '左转车道流量';
Comment added
SQL> comment on column SECTION_STATUS_DATA.throughvolume
  2    is '直行车道流量';
Comment added
SQL> comment on column SECTION_STATUS_DATA.rightturnvolume
  2    is '右转车道流量';
Comment added
SQL> create index IDX_SECDATA_DEVICEID on SECTION_STATUS_DATA (DEVICEID)
  2    local;
Index created
SQL> create index IDX_SECTION_TIMEPOINT on SECTION_STATUS_DATA (STDTIME, POINTID)
  2    local;
Index created
SQL> create index IDX_SECTION_TIMESEC on SECTION_STATUS_DATA (SECTIONID, STDTIME)
  2    local;
Index created
SQL> prompt

SQL> prompt Creating table SECTION_STATUS_DATA_VERIFY
Creating table SECTION_STATUS_DATA_VERIFY
SQL> prompt =========================================
=========================================
SQL> prompt

SQL> create table SECTION_STATUS_DATA_VERIFY
  2  (
  3    nid             VARCHAR2(48),
  4    datasource      NVARCHAR2(4),
  5    sectionid       NVARCHAR2(8),
  6    sectionname     NVARCHAR2(64),
  7    largecount      NUMBER,
  8    smallcount      NUMBER,
  9    commcount       NUMBER,
 10    volume          NUMBER(8),
 11    speed           NUMBER,
 12    occupancy       NUMBER(5,4),
 13    queuelen        NUMBER,
 14    traveltime      NUMBER,
 15    pointid         NVARCHAR2(16),
 16    pointname       NVARCHAR2(64),
 17    deviceid        NVARCHAR2(18),
 18    devicename      NVARCHAR2(64),
 19    collectiontime  DATE,
 20    laneid          NVARCHAR2(6),
 21    directionid     NVARCHAR2(6),
 22    intervals       NUMBER(4),
 23    islast          CHAR(1),
 24    uploadtime      DATE,
 25    leftturnvolume  NUMBER(8),
 26    throughvolume   NUMBER(8),
 27    rightturnvolume NUMBER(8),
 28    spaceoccupation NUMBER(3,2),
 29    saturation      NUMBER(3,2),
 30    stdtime         DATE,
 31    storetime       DATE default sysdate,
 32    mquptime        DATE,
 33    flag            CHAR(1),
 34    orignalmsg      VARCHAR2(600),
 35    errordesc       VARCHAR2(100),
 36    propose         VARCHAR2(100)
 37  )
 38  ;
Table created
SQL> comment on table SECTION_STATUS_DATA_VERIFY
  2    is '流量数据表（字段和原始流量表的一样）';
Comment added
SQL> comment on column SECTION_STATUS_DATA_VERIFY.nid
  2    is '一次表征拥堵的采集信息ID';
Comment added
SQL> comment on column SECTION_STATUS_DATA_VERIFY.datasource
  2    is '数据来源   1-电子警察  2-卡口  5-信号系统';
Comment added
SQL> comment on column SECTION_STATUS_DATA_VERIFY.sectionid
  2    is '路段ID';
Comment added
SQL> comment on column SECTION_STATUS_DATA_VERIFY.sectionname
  2    is '路段名称';
Comment added
SQL> comment on column SECTION_STATUS_DATA_VERIFY.largecount
  2    is '大型车辆数  最近整点1分钟内通过大型车辆数，单位辆';
Comment added
SQL> comment on column SECTION_STATUS_DATA_VERIFY.smallcount
  2    is '小型车辆数  最近整点1分钟内通过小型车辆数，单位辆';
Comment added
SQL> comment on column SECTION_STATUS_DATA_VERIFY.commcount
  2    is '过车数    最近整点1分钟内通过车辆数，单位辆';
Comment added
SQL> comment on column SECTION_STATUS_DATA_VERIFY.volume
  2    is '流量';
Comment added
SQL> comment on column SECTION_STATUS_DATA_VERIFY.speed
  2    is '平均速度';
Comment added
SQL> comment on column SECTION_STATUS_DATA_VERIFY.occupancy
  2    is '占有率';
Comment added
SQL> comment on column SECTION_STATUS_DATA_VERIFY.queuelen
  2    is '排对长度  最近整点1分钟的平均排对长度，单位 米';
Comment added
SQL> comment on column SECTION_STATUS_DATA_VERIFY.traveltime
  2    is '旅行时间';
Comment added
SQL> comment on column SECTION_STATUS_DATA_VERIFY.pointid
  2    is '采集点编号  采集点编号';
Comment added
SQL> comment on column SECTION_STATUS_DATA_VERIFY.pointname
  2    is '采集点名称  采集点名称';
Comment added
SQL> comment on column SECTION_STATUS_DATA_VERIFY.deviceid
  2    is '检测设备  检测设备编号';
Comment added
SQL> comment on column SECTION_STATUS_DATA_VERIFY.devicename
  2    is '检测设备名称 检测设备名称';
Comment added
SQL> comment on column SECTION_STATUS_DATA_VERIFY.collectiontime
  2    is '采集时间';
Comment added
SQL> comment on column SECTION_STATUS_DATA_VERIFY.laneid
  2    is '车道号';
Comment added
SQL> comment on column SECTION_STATUS_DATA_VERIFY.directionid
  2    is '车道方向';
Comment added
SQL> comment on column SECTION_STATUS_DATA_VERIFY.intervals
  2    is '时间间隔';
Comment added
SQL> comment on column SECTION_STATUS_DATA_VERIFY.islast
  2    is '是否最后一次的上传值';
Comment added
SQL> comment on column SECTION_STATUS_DATA_VERIFY.uploadtime
  2    is '数据上传时间';
Comment added
SQL> comment on column SECTION_STATUS_DATA_VERIFY.leftturnvolume
  2    is '左转车道流量';
Comment added
SQL> comment on column SECTION_STATUS_DATA_VERIFY.throughvolume
  2    is '直行车道流量';
Comment added
SQL> comment on column SECTION_STATUS_DATA_VERIFY.rightturnvolume
  2    is '右转车道流量';
Comment added
SQL> comment on column SECTION_STATUS_DATA_VERIFY.spaceoccupation
  2    is '空间占有率';
Comment added
SQL> comment on column SECTION_STATUS_DATA_VERIFY.saturation
  2    is '饱和度';
Comment added
SQL> comment on column SECTION_STATUS_DATA_VERIFY.stdtime
  2    is '标准时间，程序根据采集时间处理得到';
Comment added
SQL> comment on column SECTION_STATUS_DATA_VERIFY.storetime
  2    is '数据入库时间';
Comment added
SQL> comment on column SECTION_STATUS_DATA_VERIFY.mquptime
  2    is 'MQ接收时间';
Comment added
SQL> comment on column SECTION_STATUS_DATA_VERIFY.flag
  2    is '标志位（测试通过-1，测试未通过-0）';
Comment added
SQL> comment on column SECTION_STATUS_DATA_VERIFY.orignalmsg
  2    is '设备上传报文信息';
Comment added
SQL> comment on column SECTION_STATUS_DATA_VERIFY.errordesc
  2    is '错误描述';
Comment added
SQL> comment on column SECTION_STATUS_DATA_VERIFY.propose
  2    is '处置建议';
Comment added
SQL> prompt

SQL> prompt Creating table SECTION_STATUS_PRESENT
Creating table SECTION_STATUS_PRESENT
SQL> prompt =====================================
=====================================
SQL> prompt

SQL> create table SECTION_STATUS_PRESENT
  2  (
  3    id          VARCHAR2(32) not null,
  4    section_id  VARCHAR2(8) not null,
  5    status      CHAR(1),
  6    traveltime  NUMBER(5),
  7    volume      NUMBER(4),
  8    speed       NUMBER(4,1),
  9    computetime DATE,
 10    receivetime DATE,
 11    indey       NUMBER(3,1)
 12  )
 13  ;
Table created
SQL> comment on column SECTION_STATUS_PRESENT.id
  2    is '主键';
Comment added
SQL> comment on column SECTION_STATUS_PRESENT.section_id
  2    is '路段id';
Comment added
SQL> comment on column SECTION_STATUS_PRESENT.status
  2    is '路段拥堵状态';
Comment added
SQL> comment on column SECTION_STATUS_PRESENT.traveltime
  2    is '旅行时间';
Comment added
SQL> comment on column SECTION_STATUS_PRESENT.volume
  2    is '流量';
Comment added
SQL> comment on column SECTION_STATUS_PRESENT.speed
  2    is '速度';
Comment added
SQL> comment on column SECTION_STATUS_PRESENT.computetime
  2    is '路段状态计算时间';
Comment added
SQL> comment on column SECTION_STATUS_PRESENT.receivetime
  2    is '接收时间';
Comment added
SQL> comment on column SECTION_STATUS_PRESENT.indey
  2    is '交通指数';
Comment added
SQL> create index IDX_SECTION on SECTION_STATUS_PRESENT (SECTION_ID);
Index created
SQL> alter table SECTION_STATUS_PRESENT
  2    add constraint PK_SECTION_STATUS_PRESENT primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table SECTION_USUALCONGESTIONMGR
Creating table SECTION_USUALCONGESTIONMGR
SQL> prompt =========================================
=========================================
SQL> prompt

SQL> create table SECTION_USUALCONGESTIONMGR
  2  (
  3    nid              VARCHAR2(32) not null,
  4    sectionid        NVARCHAR2(8),
  5    addtime          DATE,
  6    state            CHAR(1),
  7    congestiontime   VARCHAR2(300),
  8    congestionlength NUMBER(4),
  9    relatedsection   VARCHAR2(900)
 10  )
 11  ;
Table created
SQL> comment on table SECTION_USUALCONGESTIONMGR
  2    is '常态拥堵管理表';
Comment added
SQL> comment on column SECTION_USUALCONGESTIONMGR.nid
  2    is '主键';
Comment added
SQL> comment on column SECTION_USUALCONGESTIONMGR.sectionid
  2    is '路段编号';
Comment added
SQL> comment on column SECTION_USUALCONGESTIONMGR.addtime
  2    is '加入常态拥堵管理的时间';
Comment added
SQL> comment on column SECTION_USUALCONGESTIONMGR.state
  2    is '常态拥堵状态 1有效 2已撤销';
Comment added
SQL> comment on column SECTION_USUALCONGESTIONMGR.congestiontime
  2    is '拥堵时段';
Comment added
SQL> comment on column SECTION_USUALCONGESTIONMGR.congestionlength
  2    is '拥堵时长(以分为单位)';
Comment added
SQL> comment on column SECTION_USUALCONGESTIONMGR.relatedsection
  2    is '拥堵关联路段';
Comment added
SQL> prompt

SQL> prompt Creating table SERVER_INFO
Creating table SERVER_INFO
SQL> prompt ==========================
==========================
SQL> prompt

SQL> create table SERVER_INFO
  2  (
  3    id                  VARCHAR2(32) not null,
  4    server_type         VARCHAR2(4) not null,
  5    server_code         VARCHAR2(16),
  6    server_ip           VARCHAR2(15),
  7    server_name         VARCHAR2(64),
  8    server_desc         VARCHAR2(1000),
  9    backup1             VARCHAR2(16),
 10    server_port         NUMBER(8),
 11    project_code        VARCHAR2(10),
 12    nuserid             CHAR(6),
 13    login_user          NVARCHAR2(16),
 14    login_password      NVARCHAR2(16),
 15    upload_file_path    VARCHAR2(256),
 16    server_version      NVARCHAR2(16),
 17    server_provider     NVARCHAR2(32),
 18    provide_date        DATE,
 19    departmentid        VARCHAR2(12),
 20    thirdsyscode        NVARCHAR2(16),
 21    remark              NVARCHAR2(64),
 22    server_channelcount INTEGER,
 23    developer           VARCHAR2(2),
 24    service_dep         VARCHAR2(8),
 25    laststateoperator   VARCHAR2(16),
 26    laststatetime       DATE,
 27    checktype           NVARCHAR2(2),
 28    server_state        VARCHAR2(20),
 29    service_level       VARCHAR2(10),
 30    urgent_level        VARCHAR2(2),
 31    url                 VARCHAR2(200),
 32    main_preparation    VARCHAR2(2),
 33    install_date        DATE,
 34    instance_name       VARCHAR2(200),
 35    provider            NVARCHAR2(32),
 36    modul_number        NVARCHAR2(20),
 37    son_type            NVARCHAR2(10),
 38    image               VARCHAR2(200),
 39    host_room           NVARCHAR2(20),
 40    host_cupboard       NVARCHAR2(20),
 41    os_type             NVARCHAR2(2),
 42    heartbeat_cycle     NUMBER(8),
 43    monitor_tablespaces VARCHAR2(500),
 44    monitor_video_id    NVARCHAR2(20),
 45    brand               VARCHAR2(20),
 46    related_equip       VARCHAR2(32)
 47  )
 48  ;
Table created
SQL> comment on table SERVER_INFO
  2    is '服务器基本信息';
Comment added
SQL> comment on column SERVER_INFO.server_type
  2    is '服务器类型';
Comment added
SQL> comment on column SERVER_INFO.server_code
  2    is '服务器编码';
Comment added
SQL> comment on column SERVER_INFO.server_ip
  2    is 'IP地址';
Comment added
SQL> comment on column SERVER_INFO.server_name
  2    is '名称';
Comment added
SQL> comment on column SERVER_INFO.server_desc
  2    is '功能描述';
Comment added
SQL> comment on column SERVER_INFO.backup1
  2    is '备用';
Comment added
SQL> comment on column SERVER_INFO.server_port
  2    is '服务端口';
Comment added
SQL> comment on column SERVER_INFO.project_code
  2    is '所属项目';
Comment added
SQL> comment on column SERVER_INFO.nuserid
  2    is '维护人员ID';
Comment added
SQL> comment on column SERVER_INFO.login_user
  2    is '登录服务的用户名';
Comment added
SQL> comment on column SERVER_INFO.login_password
  2    is '登录服务的密码';
Comment added
SQL> comment on column SERVER_INFO.upload_file_path
  2    is 'FTP上传文件详细目录';
Comment added
SQL> comment on column SERVER_INFO.server_version
  2    is '服务版本';
Comment added
SQL> comment on column SERVER_INFO.server_provider
  2    is '服务提供商（维护厂商）';
Comment added
SQL> comment on column SERVER_INFO.provide_date
  2    is '提供时间(安装时间)';
Comment added
SQL> comment on column SERVER_INFO.departmentid
  2    is '部门编号';
Comment added
SQL> comment on column SERVER_INFO.thirdsyscode
  2    is '第三方编号';
Comment added
SQL> comment on column SERVER_INFO.remark
  2    is '备注信息';
Comment added
SQL> comment on column SERVER_INFO.server_channelcount
  2    is '通道数量';
Comment added
SQL> comment on column SERVER_INFO.developer
  2    is '建设单位(对应枚举：1025)';
Comment added
SQL> comment on column SERVER_INFO.service_dep
  2    is '维护单位（对应枚举：1026）';
Comment added
SQL> comment on column SERVER_INFO.laststateoperator
  2    is '状态修改人';
Comment added
SQL> comment on column SERVER_INFO.laststatetime
  2    is '状态修改时间';
Comment added
SQL> comment on column SERVER_INFO.checktype
  2    is '检测类型(只在表中显示，不在页面显示，分自动检测或手动报障)';
Comment added
SQL> comment on column SERVER_INFO.server_state
  2    is '设备状态，正常、停用、拆除、故障';
Comment added
SQL> comment on column SERVER_INFO.service_level
  2    is '服务级别';
Comment added
SQL> comment on column SERVER_INFO.urgent_level
  2    is '紧急程度（1，紧急 0，一般）';
Comment added
SQL> comment on column SERVER_INFO.url
  2    is '访问URL';
Comment added
SQL> comment on column SERVER_INFO.main_preparation
  2    is '主备关系(枚举81:1主2备3单)';
Comment added
SQL> comment on column SERVER_INFO.install_date
  2    is '安装时间';
Comment added
SQL> comment on column SERVER_INFO.instance_name
  2    is '数据库名称 sid';
Comment added
SQL> comment on column SERVER_INFO.provider
  2    is '提供商（生产商）';
Comment added
SQL> comment on column SERVER_INFO.modul_number
  2    is '型号';
Comment added
SQL> comment on column SERVER_INFO.son_type
  2    is '子类型(不同设备对应不同枚举:251,252...顺排)';
Comment added
SQL> comment on column SERVER_INFO.image
  2    is '照片';
Comment added
SQL> comment on column SERVER_INFO.host_room
  2    is '所属机房';
Comment added
SQL> comment on column SERVER_INFO.host_cupboard
  2    is '所属机柜';
Comment added
SQL> comment on column SERVER_INFO.heartbeat_cycle
  2    is '心跳频率 （秒）';
Comment added
SQL> comment on column SERVER_INFO.monitor_tablespaces
  2    is '监控表空间  多个以空格分隔';
Comment added
SQL> comment on column SERVER_INFO.monitor_video_id
  2    is '监控此服务器的监控摄像头ID';
Comment added
SQL> comment on column SERVER_INFO.brand
  2    is '品牌BRAND';
Comment added
SQL> comment on column SERVER_INFO.related_equip
  2    is '主备关系关联的设备ID';
Comment added
SQL> alter table SERVER_INFO
  2    add constraint SERVER_INFO_ID unique (ID);
Table altered
SQL> prompt

SQL> prompt Creating table SMS_CONTACT
Creating table SMS_CONTACT
SQL> prompt ==========================
==========================
SQL> prompt

SQL> create table SMS_CONTACT
  2  (
  3    id             VARCHAR2(32) not null,
  4    contact_source VARCHAR2(2),
  5    source_id      VARCHAR2(32),
  6    rule_id        VARCHAR2(32),
  7    contact_name   VARCHAR2(70),
  8    contact_phone  VARCHAR2(20)
  9  )
 10  ;
Table created
SQL> comment on table SMS_CONTACT
  2    is '短信接收人';
Comment added
SQL> comment on column SMS_CONTACT.contact_source
  2    is '1：平台用户 2：维修人员  3：临时接收人';
Comment added
SQL> comment on column SMS_CONTACT.source_id
  2    is '联系人关联表ID';
Comment added
SQL> comment on column SMS_CONTACT.rule_id
  2    is '短信发送规则ID';
Comment added
SQL> comment on column SMS_CONTACT.contact_name
  2    is '联系人（3临时接收人）';
Comment added
SQL> comment on column SMS_CONTACT.contact_phone
  2    is '联系方式（3临时接收人）';
Comment added
SQL> alter table SMS_CONTACT
  2    add constraint SMS_CONTACT_PK primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table SMS_DATA
Creating table SMS_DATA
SQL> prompt =======================
=======================
SQL> prompt

SQL> create table SMS_DATA
  2  (
  3    smsid       VARCHAR2(32) not null,
  4    telnumber   VARCHAR2(2000),
  5    smstype     VARCHAR2(2),
  6    state       VARCHAR2(2),
  7    submitstate VARCHAR2(2),
  8    strmessage  NVARCHAR2(300),
  9    sendtime    DATE,
 10    multsmsid   VARCHAR2(32)
 11  )
 12  ;
Table created
SQL> comment on column SMS_DATA.smsid
  2    is '发送ID';
Comment added
SQL> comment on column SMS_DATA.telnumber
  2    is '手机号';
Comment added
SQL> comment on column SMS_DATA.smstype
  2    is '信息类型 [01:设备故障, 02:设备维修, 03:设备标定, 04:稽查布控, 05:人工编辑, 10:回复信息, 99:其他]';
Comment added
SQL> comment on column SMS_DATA.state
  2    is '调用状态[短信提交 1：成功  0：失败]';
Comment added
SQL> comment on column SMS_DATA.submitstate
  2    is '提交状态[向运营商提交状态 0：失败、1：成功]';
Comment added
SQL> comment on column SMS_DATA.strmessage
  2    is '短信内容';
Comment added
SQL> comment on column SMS_DATA.sendtime
  2    is '发送时间';
Comment added
SQL> comment on column SMS_DATA.multsmsid
  2    is '批量短信id';
Comment added
SQL> create index SEND_TIME_IDX on SMS_DATA (SENDTIME);
Index created
SQL> prompt

SQL> prompt Creating table SMS_DETAIL
Creating table SMS_DETAIL
SQL> prompt =========================
=========================
SQL> prompt

SQL> create table SMS_DETAIL
  2  (
  3    id           VARCHAR2(32) not null,
  4    smsid        VARCHAR2(32),
  5    telnumber    VARCHAR2(18),
  6    sendstate    VARCHAR2(2),
  7    feedbacktime DATE,
  8    recordtime   DATE
  9  )
 10  ;
Table created
SQL> comment on column SMS_DETAIL.id
  2    is '消息ID';
Comment added
SQL> comment on column SMS_DETAIL.smsid
  2    is '发送ID';
Comment added
SQL> comment on column SMS_DETAIL.telnumber
  2    is '手机号';
Comment added
SQL> comment on column SMS_DETAIL.sendstate
  2    is '发送状态[运营商反馈状态 0：未送达；1：已送达 ]';
Comment added
SQL> comment on column SMS_DETAIL.feedbacktime
  2    is '反馈时间';
Comment added
SQL> comment on column SMS_DETAIL.recordtime
  2    is '录入时间';
Comment added
SQL> prompt

SQL> prompt Creating table SMS_MULT_DATA
Creating table SMS_MULT_DATA
SQL> prompt ============================
============================
SQL> prompt

SQL> create table SMS_MULT_DATA
  2  (
  3    id           VARCHAR2(32) not null,
  4    smsfile      VARCHAR2(500) not null,
  5    isactive     NVARCHAR2(1),
  6    state        NVARCHAR2(1),
  7    cratetime    DATE default sysdate,
  8    sendtime     DATE,
  9    operatetimes NUMBER(3) default 0,
 10    smscount     NUMBER(10)
 11  )
 12  ;
Table created
SQL> comment on column SMS_MULT_DATA.id
  2    is '消息号';
Comment added
SQL> comment on column SMS_MULT_DATA.smsfile
  2    is '批量处理文件';
Comment added
SQL> comment on column SMS_MULT_DATA.isactive
  2    is '当前文件是否可写入  0 否   1可用';
Comment added
SQL> comment on column SMS_MULT_DATA.state
  2    is '0：未处理  1：发送成功  2：发送失败';
Comment added
SQL> comment on column SMS_MULT_DATA.cratetime
  2    is '文件创建时间';
Comment added
SQL> comment on column SMS_MULT_DATA.sendtime
  2    is '发送时间';
Comment added
SQL> comment on column SMS_MULT_DATA.operatetimes
  2    is '操作次数  一般失败重试不超过3次';
Comment added
SQL> alter table SMS_MULT_DATA
  2    add constraint SMS_MULT_DATA_PK primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table SMS_SEND_RULE
Creating table SMS_SEND_RULE
SQL> prompt ============================
============================
SQL> prompt

SQL> create table SMS_SEND_RULE
  2  (
  3    id                VARCHAR2(32) not null,
  4    device_type       VARCHAR2(500),
  5    service_level     VARCHAR2(100),
  6    project_id        VARCHAR2(1000),
  7    department_id     VARCHAR2(1000),
  8    key               VARCHAR2(1000),
  9    operate_type      VARCHAR2(2),
 10    update_time       DATE,
 11    dupl_recive_times NUMBER(10),
 12    max_recive_times  NUMBER(10),
 13    rule_name         VARCHAR2(300),
 14    rule_type         VARCHAR2(2),
 15    report_time       VARCHAR2(20)
 16  )
 17  ;
Table created
SQL> comment on table SMS_SEND_RULE
  2    is '短信发送规则表';
Comment added
SQL> comment on column SMS_SEND_RULE.device_type
  2    is '设备类型（多个以逗号分隔）';
Comment added
SQL> comment on column SMS_SEND_RULE.service_level
  2    is '服务级别（多个以逗号分隔）';
Comment added
SQL> comment on column SMS_SEND_RULE.project_id
  2    is '所属项目（多个以逗号分隔）';
Comment added
SQL> comment on column SMS_SEND_RULE.department_id
  2    is '所属部门（多个以逗号分隔）';
Comment added
SQL> comment on column SMS_SEND_RULE.key
  2    is '短信内容过滤（多个以逗号分隔）';
Comment added
SQL> comment on column SMS_SEND_RULE.operate_type
  2    is '操作类型 1：and  2：or';
Comment added
SQL> comment on column SMS_SEND_RULE.dupl_recive_times
  2    is '号码每日重复短信接收次数';
Comment added
SQL> comment on column SMS_SEND_RULE.max_recive_times
  2    is '号码每日最多短信接收次数';
Comment added
SQL> comment on column SMS_SEND_RULE.rule_name
  2    is '短信规则名称';
Comment added
SQL> comment on column SMS_SEND_RULE.rule_type
  2    is '短信规则类型  1：短信预警规则   2：日报规则';
Comment added
SQL> comment on column SMS_SEND_RULE.report_time
  2    is '日报发送时间  ';
Comment added
SQL> alter table SMS_SEND_RULE
  2    add constraint SMS_SEND_RULE_PK primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table STATISTIC_ROLE_RELATION
Creating table STATISTIC_ROLE_RELATION
SQL> prompt ======================================
======================================
SQL> prompt

SQL> create table STATISTIC_ROLE_RELATION
  2  (
  3    id      VARCHAR2(32) not null,
  4    userid  VARCHAR2(32),
  5    module  VARCHAR2(10),
  6    roleids VARCHAR2(2000)
  7  )
  8  ;
Table created
SQL> alter table STATISTIC_ROLE_RELATION
  2    add constraint PRI_STATISTIC_ROLEID primary key (ID);
Table altered
SQL> alter table STATISTIC_ROLE_RELATION
  2    add constraint UNI_STATISTIC_UM unique (USERID, MODULE);
Table altered
SQL> prompt

SQL> prompt Creating table STATUS
Creating table STATUS
SQL> prompt =====================
=====================
SQL> prompt

SQL> create table STATUS
  2  (
  3    id           VARCHAR2(32) not null,
  4    execute_date VARCHAR2(8) not null
  5  )
  6  ;
Table created
SQL> prompt

SQL> prompt Creating table SYSPARAMS
Creating table SYSPARAMS
SQL> prompt ========================
========================
SQL> prompt

SQL> create table SYSPARAMS
  2  (
  3    paramcode    NVARCHAR2(32) not null,
  4    paramname    NVARCHAR2(300) not null,
  5    paramvalue   NVARCHAR2(2000) not null,
  6    paramcontent NVARCHAR2(250),
  7    paramstate   NVARCHAR2(1)
  8  )
  9  ;
Table created
SQL> comment on column SYSPARAMS.paramcode
  2    is '系统参数Code';
Comment added
SQL> comment on column SYSPARAMS.paramname
  2    is '系统参数名称';
Comment added
SQL> comment on column SYSPARAMS.paramvalue
  2    is '系统参数值';
Comment added
SQL> comment on column SYSPARAMS.paramcontent
  2    is '系统参数描述';
Comment added
SQL> comment on column SYSPARAMS.paramstate
  2    is '是否可编辑:0为可编辑;1为不可编辑';
Comment added
SQL> alter table SYSPARAMS
  2    add constraint PARAM_KEY primary key (PARAMCODE);
Table altered
SQL> prompt

SQL> prompt Creating table TEMPLATE_ELEMENT_INFO
Creating table TEMPLATE_ELEMENT_INFO
SQL> prompt ====================================
====================================
SQL> prompt

SQL> create table TEMPLATE_ELEMENT_INFO
  2  (
  3    uuid         VARCHAR2(32) not null,
  4    templateid   VARCHAR2(32),
  5    elementclass VARCHAR2(50),
  6    elementname  VARCHAR2(100),
  7    datatype     VARCHAR2(1),
  8    demand       VARCHAR2(200),
  9    class_weight VARCHAR2(2),
 10    name_weight  VARCHAR2(2)
 11  )
 12  ;
Table created
SQL> comment on table TEMPLATE_ELEMENT_INFO
  2    is '模板要素信息表';
Comment added
SQL> comment on column TEMPLATE_ELEMENT_INFO.uuid
  2    is '序号，主键(UUID)';
Comment added
SQL> comment on column TEMPLATE_ELEMENT_INFO.templateid
  2    is '模板主键';
Comment added
SQL> comment on column TEMPLATE_ELEMENT_INFO.elementclass
  2    is '一级表层 （模版类型）';
Comment added
SQL> comment on column TEMPLATE_ELEMENT_INFO.elementname
  2    is '二级表层(模板要素名称)';
Comment added
SQL> comment on column TEMPLATE_ELEMENT_INFO.datatype
  2    is '要素类型(1-文本，2-数字)';
Comment added
SQL> comment on column TEMPLATE_ELEMENT_INFO.demand
  2    is '统计要求';
Comment added
SQL> comment on column TEMPLATE_ELEMENT_INFO.class_weight
  2    is '一级表层 权重';
Comment added
SQL> comment on column TEMPLATE_ELEMENT_INFO.name_weight
  2    is '二级表层权重';
Comment added
SQL> alter table TEMPLATE_ELEMENT_INFO
  2    add constraint TEMPLATE_ELEMENT_INFO_KEY primary key (UUID);
Table altered
SQL> prompt

SQL> prompt Creating table TEMPLATE_ELEMENT_VALUE
Creating table TEMPLATE_ELEMENT_VALUE
SQL> prompt =====================================
=====================================
SQL> prompt

SQL> create table TEMPLATE_ELEMENT_VALUE
  2  (
  3    xh               VARCHAR2(32) not null,
  4    uuid             VARCHAR2(32),
  5    elementid        VARCHAR2(32),
  6    elementvalue     VARCHAR2(500),
  7    reportdepartment VARCHAR2(15),
  8    reportperson     VARCHAR2(10),
  9    reporttime       DATE
 10  )
 11  ;
Table created
SQL> comment on table TEMPLATE_ELEMENT_VALUE
  2    is '要素详细数据表';
Comment added
SQL> comment on column TEMPLATE_ELEMENT_VALUE.uuid
  2    is '元素批号，本字段相同的数据是一组数据';
Comment added
SQL> comment on column TEMPLATE_ELEMENT_VALUE.elementid
  2    is '模板要素主键';
Comment added
SQL> comment on column TEMPLATE_ELEMENT_VALUE.elementvalue
  2    is '要素值';
Comment added
SQL> comment on column TEMPLATE_ELEMENT_VALUE.reportdepartment
  2    is '上报部门';
Comment added
SQL> comment on column TEMPLATE_ELEMENT_VALUE.reportperson
  2    is '上报人';
Comment added
SQL> comment on column TEMPLATE_ELEMENT_VALUE.reporttime
  2    is '上报时间';
Comment added
SQL> alter table TEMPLATE_ELEMENT_VALUE
  2    add constraint TEMPLATE_ELEMENT_VALUE_KEY primary key (XH);
Table altered
SQL> prompt

SQL> prompt Creating table TRAFFIC_EXPONENT
Creating table TRAFFIC_EXPONENT
SQL> prompt ===============================
===============================
SQL> prompt

SQL> create table TRAFFIC_EXPONENT
  2  (
  3    areaid   VARCHAR2(10) not null,
  4    exp      NUMBER(3,1),
  5    time     DATE,
  6    areaname NVARCHAR2(6)
  7  )
  8  ;
Table created
SQL> comment on table TRAFFIC_EXPONENT
  2    is '交通指数';
Comment added
SQL> alter table TRAFFIC_EXPONENT
  2    add constraint AREAID primary key (AREAID);
Table altered
SQL> prompt

SQL> prompt Creating table TRAFFIC_INFO
Creating table TRAFFIC_INFO
SQL> prompt ===========================
===========================
SQL> prompt

SQL> create table TRAFFIC_INFO
  2  (
  3    id               VARCHAR2(32) not null,
  4    code             VARCHAR2(20),
  5    name             NVARCHAR2(100),
  6    createid         VARCHAR2(20),
  7    createtime       DATE,
  8    updateid         VARCHAR2(20),
  9    updatetime       DATE,
 10    remark           NVARCHAR2(512),
 11    coordinates      VARCHAR2(1000),
 12    direction        VARCHAR2(12),
 13    dadept           VARCHAR2(16),
 14    zhongdept        VARCHAR2(16),
 15    auditor          VARCHAR2(20),
 16    audit_time       DATE,
 17    audit_suggestion NVARCHAR2(512),
 18    status           VARCHAR2(2),
 19    type             CHAR(2),
 20    dldm             VARCHAR2(50),
 21    startpoint       VARCHAR2(50),
 22    endpoint         VARCHAR2(50),
 23    lancount         INTEGER,
 24    length           INTEGER,
 25    lightflag        CHAR(1),
 26    pic1             VARCHAR2(200),
 27    pic2             VARCHAR2(200),
 28    gsgl             VARCHAR2(1000),
 29    servicelevel     CHAR(1),
 30    alleywaytype     CHAR(1),
 31    alleywaycode     VARCHAR2(20),
 32    alleywayto       NVARCHAR2(50),
 33    intollcount      INTEGER,
 34    outtollcount     INTEGER,
 35    etc              CHAR(1),
 36    delflag          VARCHAR2(1) default 0,
 37    managementdept   NVARCHAR2(50),
 38    pointcode        NVARCHAR2(16),
 39    indirection      VARCHAR2(2),
 40    outdirection     VARCHAR2(2),
 41    onstatus         CHAR(1),
 42    inlanecount      INTEGER,
 43    outlanecount     INTEGER
 44  )
 45  ;
Table created
SQL> comment on column TRAFFIC_INFO.id
  2    is '主键';
Comment added
SQL> comment on column TRAFFIC_INFO.code
  2    is '隧道编号';
Comment added
SQL> comment on column TRAFFIC_INFO.name
  2    is '隧道名称';
Comment added
SQL> comment on column TRAFFIC_INFO.createid
  2    is '创建者';
Comment added
SQL> comment on column TRAFFIC_INFO.createtime
  2    is '创建时间';
Comment added
SQL> comment on column TRAFFIC_INFO.updateid
  2    is '更新者';
Comment added
SQL> comment on column TRAFFIC_INFO.updatetime
  2    is '更新时间';
Comment added
SQL> comment on column TRAFFIC_INFO.remark
  2    is '备注';
Comment added
SQL> comment on column TRAFFIC_INFO.coordinates
  2    is '坐标值';
Comment added
SQL> comment on column TRAFFIC_INFO.direction
  2    is '方向';
Comment added
SQL> comment on column TRAFFIC_INFO.dadept
  2    is '所属大队';
Comment added
SQL> comment on column TRAFFIC_INFO.zhongdept
  2    is '所属中队';
Comment added
SQL> comment on column TRAFFIC_INFO.auditor
  2    is '审核人';
Comment added
SQL> comment on column TRAFFIC_INFO.audit_time
  2    is '审核时间';
Comment added
SQL> comment on column TRAFFIC_INFO.audit_suggestion
  2    is '审核意见';
Comment added
SQL> comment on column TRAFFIC_INFO.status
  2    is '状态(3100,1正常2申请中9驳回)';
Comment added
SQL> comment on column TRAFFIC_INFO.type
  2    is '交通基础信息类别';
Comment added
SQL> comment on column TRAFFIC_INFO.dldm
  2    is '所属道路';
Comment added
SQL> comment on column TRAFFIC_INFO.startpoint
  2    is '开始桩号';
Comment added
SQL> comment on column TRAFFIC_INFO.endpoint
  2    is '结束桩号';
Comment added
SQL> comment on column TRAFFIC_INFO.lancount
  2    is '车道数量';
Comment added
SQL> comment on column TRAFFIC_INFO.length
  2    is '隧道长度(单位千米)';
Comment added
SQL> comment on column TRAFFIC_INFO.lightflag
  2    is '照明设备(取值：0-有；1-无)';
Comment added
SQL> comment on column TRAFFIC_INFO.pic1
  2    is '隧道照片1';
Comment added
SQL> comment on column TRAFFIC_INFO.pic2
  2    is '隧道照片2';
Comment added
SQL> comment on column TRAFFIC_INFO.gsgl
  2    is '连通的高速公路，道路基础信息表中的道路';
Comment added
SQL> comment on column TRAFFIC_INFO.servicelevel
  2    is '服务区星级(取值：0-五星；1-四星；2-三星；3-无)';
Comment added
SQL> comment on column TRAFFIC_INFO.alleywaytype
  2    is '出入口类别(取值：0-出口、1-入口)';
Comment added
SQL> comment on column TRAFFIC_INFO.alleywaycode
  2    is '位置桩号';
Comment added
SQL> comment on column TRAFFIC_INFO.alleywayto
  2    is '出入口通向地点';
Comment added
SQL> comment on column TRAFFIC_INFO.intollcount
  2    is '进收费岛数量';
Comment added
SQL> comment on column TRAFFIC_INFO.outtollcount
  2    is '出收费岛数量';
Comment added
SQL> comment on column TRAFFIC_INFO.etc
  2    is 'ETC车道(取值：0-有；1-无)';
Comment added
SQL> comment on column TRAFFIC_INFO.delflag
  2    is '删除标志位0代表未删除；1代表已删除';
Comment added
SQL> comment on column TRAFFIC_INFO.managementdept
  2    is '所属管理单位';
Comment added
SQL> comment on column TRAFFIC_INFO.inlanecount
  2    is '进口车道数';
Comment added
SQL> comment on column TRAFFIC_INFO.outlanecount
  2    is '出口车道数';
Comment added
SQL> alter table TRAFFIC_INFO
  2    add constraint PK_TRAFFIC_INFO_ID primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table TRAFFIC_STATISTICS
Creating table TRAFFIC_STATISTICS
SQL> prompt =================================
=================================
SQL> prompt

SQL> create table TRAFFIC_STATISTICS
  2  (
  3    id           NVARCHAR2(32) not null,
  4    area_id      VARCHAR2(6) not null,
  5    averagespeed NUMBER(3,1),
  6    jamlength    NUMBER,
  7    computetime  DATE
  8  )
  9  ;
Table created
SQL> comment on table TRAFFIC_STATISTICS
  2    is '交通平均速度和拥堵里程计算';
Comment added
SQL> comment on column TRAFFIC_STATISTICS.area_id
  2    is '辖区编号';
Comment added
SQL> comment on column TRAFFIC_STATISTICS.averagespeed
  2    is '平均速度';
Comment added
SQL> comment on column TRAFFIC_STATISTICS.jamlength
  2    is '拥堵里程';
Comment added
SQL> comment on column TRAFFIC_STATISTICS.computetime
  2    is '计算时间';
Comment added
SQL> create index TRAFFICSTATISTICS_1 on TRAFFIC_STATISTICS (AREA_ID, COMPUTETIME);
Index created
SQL> alter table TRAFFIC_STATISTICS
  2    add constraint TRAFFICSTATISTICS primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table TRAFFIC_STATISTICS_ROAD
Creating table TRAFFIC_STATISTICS_ROAD
SQL> prompt ======================================
======================================
SQL> prompt

SQL> create table TRAFFIC_STATISTICS_ROAD
  2  (
  3    area_id   VARCHAR2(12),
  4    link_id   VARCHAR2(12),
  5    area_name VARCHAR2(20),
  6    link_name VARCHAR2(200),
  7    sectionid VARCHAR2(12)
  8  )
  9  ;
Table created
SQL> prompt

SQL> prompt Creating table USER_FAVOR_LAYER
Creating table USER_FAVOR_LAYER
SQL> prompt ===============================
===============================
SQL> prompt

SQL> create table USER_FAVOR_LAYER
  2  (
  3    userid    NVARCHAR2(40) not null,
  4    layerid   INTEGER not null,
  5    showorder INTEGER default 0
  6  )
  7  ;
Table created
SQL> comment on table USER_FAVOR_LAYER
  2    is '用户优选图层表';
Comment added
SQL> comment on column USER_FAVOR_LAYER.userid
  2    is '用户编号';
Comment added
SQL> comment on column USER_FAVOR_LAYER.layerid
  2    is '图层编号';
Comment added
SQL> comment on column USER_FAVOR_LAYER.showorder
  2    is '显示次序';
Comment added
SQL> alter table USER_FAVOR_LAYER
  2    add primary key (USERID, LAYERID);
Table altered
SQL> prompt

SQL> prompt Creating table USER_ROLE_RELATION
Creating table USER_ROLE_RELATION
SQL> prompt =================================
=================================
SQL> prompt

SQL> create table USER_ROLE_RELATION
  2  (
  3    nuserid CHAR(6) not null,
  4    roleid  VARCHAR2(32) not null
  5  )
  6  ;
Table created
SQL> comment on table USER_ROLE_RELATION
  2    is '用户角色权限关联表';
Comment added
SQL> comment on column USER_ROLE_RELATION.nuserid
  2    is '用户ID';
Comment added
SQL> comment on column USER_ROLE_RELATION.roleid
  2    is '角色ID';
Comment added
SQL> create index INDEXNUSERID on USER_ROLE_RELATION (NUSERID);
Index created
SQL> alter table USER_ROLE_RELATION
  2    add constraint OPERATOR_ROLE_ID primary key (NUSERID, ROLEID);
Table altered
SQL> prompt

SQL> prompt Creating table UTC_CONTROL_RECORD
Creating table UTC_CONTROL_RECORD
SQL> prompt =================================
=================================
SQL> prompt

SQL> create table UTC_CONTROL_RECORD
  2  (
  3    id                VARCHAR2(32) not null,
  4    utc_id            NVARCHAR2(6) not null,
  5    utc_name          NVARCHAR2(100),
  6    who_control       VARCHAR2(15),
  7    request_time      VARCHAR2(50),
  8    control_type      VARCHAR2(1),
  9    duaration_seconds VARCHAR2(10),
 10    lane_direction    VARCHAR2(10),
 11    times             VARCHAR2(10),
 12    if_controlling    VARCHAR2(1) default '1',
 13    device_id         VARCHAR2(18),
 14    times_requested   VARCHAR2(10) default '0',
 15    times_succeed     VARCHAR2(10) default '0',
 16    result_desc       VARCHAR2(2000)
 17  )
 18  ;
Table created
SQL> comment on table UTC_CONTROL_RECORD
  2    is '信号机控制记录';
Comment added
SQL> comment on column UTC_CONTROL_RECORD.id
  2    is '主键';
Comment added
SQL> comment on column UTC_CONTROL_RECORD.utc_id
  2    is '信号机/路口编号';
Comment added
SQL> comment on column UTC_CONTROL_RECORD.utc_name
  2    is '信号机/路口名称';
Comment added
SQL> comment on column UTC_CONTROL_RECORD.who_control
  2    is '控制者（通常是请求端的IP）';
Comment added
SQL> comment on column UTC_CONTROL_RECORD.request_time
  2    is '请求控制时间';
Comment added
SQL> comment on column UTC_CONTROL_RECORD.control_type
  2    is '控制方式
  3  0-全红控制
  4  1-加放控制
  5  ';
Comment added
SQL> comment on column UTC_CONTROL_RECORD.duaration_seconds
  2    is '控制时长
  3  全红控制-控制时长
  4  加放控制-每周期控制时长
  5  ';
Comment added
SQL> comment on column UTC_CONTROL_RECORD.lane_direction
  2    is '控制方向，加放控制用到';
Comment added
SQL> comment on column UTC_CONTROL_RECORD.times
  2    is '控制次数，加放控制用到';
Comment added
SQL> comment on column UTC_CONTROL_RECORD.if_controlling
  2    is '是否正在被控制：0-否，1-是';
Comment added
SQL> comment on column UTC_CONTROL_RECORD.device_id
  2    is '信号机在管控平台的设备编号';
Comment added
SQL> comment on column UTC_CONTROL_RECORD.times_requested
  2    is '已请求控制次数';
Comment added
SQL> comment on column UTC_CONTROL_RECORD.times_succeed
  2    is '已请求控制次数中成功次数';
Comment added
SQL> comment on column UTC_CONTROL_RECORD.result_desc
  2    is '执行结果描述（如第一次加放失败，原因信号凭条3秒内无响应）';
Comment added
SQL> alter table UTC_CONTROL_RECORD
  2    add constraint UTC_CONTROL_RECORD_PK_ID primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table VEHICAL_RUN_ROUTE
Creating table VEHICAL_RUN_ROUTE
SQL> prompt ================================
================================
SQL> prompt

SQL> create table VEHICAL_RUN_ROUTE
  2  (
  3    ccarnumber       VARCHAR2(16),
  4    clicensetype     VARCHAR2(2),
  5    startaddresscode VARCHAR2(12),
  6    endaddresscode   VARCHAR2(12),
  7    starttime        VARCHAR2(5),
  8    endtime          VARCHAR2(5),
  9    route            VARCHAR2(1000),
 10    routetime        VARCHAR2(500),
 11    regular          VARCHAR2(20),
 12    computertime     DATE
 13  )
 14  ;
Table created
SQL> comment on table VEHICAL_RUN_ROUTE
  2    is '车辆行驶轨迹分析数据';
Comment added
SQL> comment on column VEHICAL_RUN_ROUTE.ccarnumber
  2    is '号牌号码';
Comment added
SQL> comment on column VEHICAL_RUN_ROUTE.clicensetype
  2    is '号牌种类';
Comment added
SQL> comment on column VEHICAL_RUN_ROUTE.startaddresscode
  2    is '起始点编号';
Comment added
SQL> comment on column VEHICAL_RUN_ROUTE.endaddresscode
  2    is '终止点编号';
Comment added
SQL> comment on column VEHICAL_RUN_ROUTE.starttime
  2    is '出发时刻';
Comment added
SQL> comment on column VEHICAL_RUN_ROUTE.endtime
  2    is '到达时刻';
Comment added
SQL> comment on column VEHICAL_RUN_ROUTE.route
  2    is '规律路径（不包含起始点）';
Comment added
SQL> comment on column VEHICAL_RUN_ROUTE.routetime
  2    is '规律时刻（不包含起始点时刻）';
Comment added
SQL> comment on column VEHICAL_RUN_ROUTE.regular
  2    is '规律';
Comment added
SQL> comment on column VEHICAL_RUN_ROUTE.computertime
  2    is '计算时间';
Comment added
SQL> create index IDX_ROUTE on VEHICAL_RUN_ROUTE (CCARNUMBER, CLICENSETYPE);
Index created
SQL> prompt

SQL> prompt Creating table VEHICLE_BRAND
Creating table VEHICLE_BRAND
SQL> prompt ============================
============================
SQL> prompt

SQL> create table VEHICLE_BRAND
  2  (
  3    mainbrand     VARCHAR2(3) not null,
  4    subbrand      VARCHAR2(3) not null,
  5    yearmodel     VARCHAR2(2) not null,
  6    mainbranddesc VARCHAR2(100),
  7    subbranddesc  VARCHAR2(100),
  8    yearmodeldesc VARCHAR2(100),
  9    remark        NVARCHAR2(100)
 10  )
 11  ;
Table created
SQL> comment on column VEHICLE_BRAND.yearmodel
  2    is '年款';
Comment added
SQL> comment on column VEHICLE_BRAND.yearmodeldesc
  2    is '年款说明';
Comment added
SQL> alter table VEHICLE_BRAND
  2    add constraint PK_BRAND_ID primary key (MAINBRAND, SUBBRAND, YEARMODEL);
Table altered
SQL> prompt

SQL> prompt Creating table VEHICLE_TYPE
Creating table VEHICLE_TYPE
SQL> prompt ===========================
===========================
SQL> prompt

SQL> create table VEHICLE_TYPE
  2  (
  3    id        NUMBER not null,
  4    type_code VARCHAR2(5),
  5    type_name VARCHAR2(50),
  6    reamrk    VARCHAR2(50)
  7  )
  8  ;
Table created
SQL> comment on table VEHICLE_TYPE
  2    is '车辆类型';
Comment added
SQL> comment on column VEHICLE_TYPE.id
  2    is '主键';
Comment added
SQL> comment on column VEHICLE_TYPE.type_code
  2    is '类型代码';
Comment added
SQL> comment on column VEHICLE_TYPE.type_name
  2    is '类型名称';
Comment added
SQL> comment on column VEHICLE_TYPE.reamrk
  2    is '备注';
Comment added
SQL> alter table VEHICLE_TYPE
  2    add constraint VEHICLE_TYPE_PK primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table VEH_CODE
Creating table VEH_CODE
SQL> prompt =======================
=======================
SQL> prompt

SQL> create table VEH_CODE
  2  (
  3    dmlb  NUMBER(3) not null,
  4    dmz   VARCHAR2(30) not null,
  5    dmsm1 VARCHAR2(200),
  6    dmsm2 VARCHAR2(200),
  7    dmsm3 VARCHAR2(200),
  8    dmsm4 VARCHAR2(200)
  9  )
 10  ;
Table created
SQL> comment on table VEH_CODE
  2    is '代码信息表';
Comment added
SQL> comment on column VEH_CODE.dmlb
  2    is '代码类别';
Comment added
SQL> comment on column VEH_CODE.dmz
  2    is '代码值';
Comment added
SQL> comment on column VEH_CODE.dmsm1
  2    is '代码说明1';
Comment added
SQL> comment on column VEH_CODE.dmsm2
  2    is '代码说明2';
Comment added
SQL> comment on column VEH_CODE.dmsm3
  2    is '代码说明3';
Comment added
SQL> comment on column VEH_CODE.dmsm4
  2    is '代码说明4';
Comment added
SQL> alter table VEH_CODE
  2    add constraint PRIMARYKEY_1 primary key (DMLB, DMZ);
Table altered
SQL> prompt

SQL> prompt Creating table VEH_INFO
Creating table VEH_INFO
SQL> prompt =======================
=======================
SQL> prompt

SQL> create table VEH_INFO
  2  (
  3    xh         CHAR(14) not null,
  4    hpzl       CHAR(2) not null,
  5    hphm       VARCHAR2(15) not null,
  6    clpp1      VARCHAR2(32) not null,
  7    clxh       VARCHAR2(32) not null,
  8    clpp2      VARCHAR2(32),
  9    gcjk       CHAR(1) not null,
 10    zzg        CHAR(3) not null,
 11    zzcmc      VARCHAR2(64),
 12    clsbdh     VARCHAR2(25) not null,
 13    fdjh       VARCHAR2(30) not null,
 14    cllx       CHAR(3) not null,
 15    csys       VARCHAR2(5) not null,
 16    syxz       CHAR(1) not null,
 17    sfzmhm     VARCHAR2(18),
 18    sfzmmc     CHAR(1),
 19    syr        VARCHAR2(128) not null,
 20    syq        CHAR(1) not null,
 21    ccdjrq     DATE not null,
 22    djrq       DATE,
 23    yxqz       DATE,
 24    qzbfqz     DATE,
 25    fzjg       VARCHAR2(10) not null,
 26    glbm       VARCHAR2(12) not null,
 27    fprq       DATE,
 28    fzrq       DATE,
 29    fdjrq      DATE,
 30    fhgzrq     DATE,
 31    bxzzrq     DATE,
 32    bpcs       NUMBER(2),
 33    bzcs       NUMBER(2),
 34    bdjcs      NUMBER(2),
 35    djzsbh     VARCHAR2(15),
 36    zdjzshs    NUMBER(2),
 37    dabh       VARCHAR2(12),
 38    xzqh       VARCHAR2(10),
 39    zt         VARCHAR2(6) not null,
 40    dybj       CHAR(1),
 41    jbr        VARCHAR2(30),
 42    clly       CHAR(1),
 43    lsh        VARCHAR2(13),
 44    fdjxh      VARCHAR2(64),
 45    rlzl       VARCHAR2(3),
 46    pl         NUMBER(6),
 47    gl         NUMBER(5,1),
 48    zxxs       CHAR(1),
 49    cwkc       NUMBER(5),
 50    cwkk       NUMBER(4),
 51    cwkg       NUMBER(4),
 52    hxnbcd     NUMBER(5),
 53    hxnbkd     NUMBER(4),
 54    hxnbgd     NUMBER(4),
 55    gbthps     NUMBER(3),
 56    zs         NUMBER(1) not null,
 57    zj         NUMBER(5) not null,
 58    qlj        NUMBER(4),
 59    hlj        NUMBER(4),
 60    ltgg       VARCHAR2(64),
 61    lts        NUMBER(2),
 62    zzl        NUMBER(8),
 63    zbzl       NUMBER(8),
 64    hdzzl      NUMBER(8),
 65    hdzk       NUMBER(3),
 66    zqyzl      NUMBER(8),
 67    qpzk       NUMBER(1),
 68    hpzk       NUMBER(2),
 69    hbdbqk     VARCHAR2(128),
 70    ccrq       DATE,
 71    hdfs       CHAR(1),
 72    llpz1      CHAR(1),
 73    pzbh1      VARCHAR2(20),
 74    llpz2      CHAR(1),
 75    pzbh2      VARCHAR2(20),
 76    xsdw       VARCHAR2(64),
 77    xsjg       NUMBER(8),
 78    xsrq       DATE,
 79    jkpz       CHAR(1),
 80    jkpzhm     VARCHAR2(20),
 81    hgzbh      VARCHAR2(20),
 82    nszm       CHAR(1),
 83    nszmbh     VARCHAR2(20),
 84    gxrq       DATE,
 85    xgzl       VARCHAR2(256),
 86    qmbh       VARCHAR2(15),
 87    hmbh       VARCHAR2(15),
 88    bz         VARCHAR2(128),
 89    jyw        VARCHAR2(256),
 90    zsxzqh     VARCHAR2(10),
 91    zsxxdz     VARCHAR2(128),
 92    yzbm1      VARCHAR2(6),
 93    lxdh       VARCHAR2(20),
 94    zzz        VARCHAR2(18),
 95    zzxzqh     VARCHAR2(10),
 96    zzxxdz     VARCHAR2(128),
 97    yzbm2      VARCHAR2(6),
 98    zdyzt      VARCHAR2(10),
 99    yxh        VARCHAR2(14),
100    cyry       VARCHAR2(30),
101    dphgzbh    VARCHAR2(20),
102    sqdm       CHAR(12),
103    clyt       CHAR(2),
104    ytsx       CHAR(1),
105    dzyx       VARCHAR2(32),
106    xszbh      VARCHAR2(20),
107    sjhm       VARCHAR2(20),
108    jyhgbzbh   VARCHAR2(20),
109    dwbh       VARCHAR2(14),
110    syqsrq     DATE,
111    yqjyqzbfqz DATE,
112    yqjyqz2    DATE,
113    fdjgs      NUMBER(2),
114    sfyzhgn    CHAR(1)
115  )
116  nologging;
Table created
SQL> prompt

SQL> prompt Creating table VIDEOLINE
Creating table VIDEOLINE
SQL> prompt ========================
========================
SQL> prompt

SQL> create table VIDEOLINE
  2  (
  3    nid                      NVARCHAR2(32) not null,
  4    userid                   NVARCHAR2(10),
  5    lineid                   NUMBER,
  6    linename                 NVARCHAR2(20),
  7    video_line_assortment_id VARCHAR2(32)
  8  )
  9  ;
Table created
SQL> comment on table VIDEOLINE
  2    is '视频线路表';
Comment added
SQL> alter table VIDEOLINE
  2    add constraint PK_LINE_ID primary key (NID);
Table altered
SQL> prompt

SQL> prompt Creating table VIDEOORDER
Creating table VIDEOORDER
SQL> prompt =========================
=========================
SQL> prompt

SQL> create table VIDEOORDER
  2  (
  3    nid        NVARCHAR2(32) not null,
  4    lineid     NUMBER,
  5    deviceid   NVARCHAR2(18),
  6    videoorder NUMBER,
  7    pointid    NVARCHAR2(16)
  8  )
  9  ;
Table created
SQL> comment on table VIDEOORDER
  2    is '视频线路顺序';
Comment added
SQL> create index INDEX_LINEID on VIDEOORDER (LINEID);
Index created
SQL> create index INDEX_LINEID_ORDER on VIDEOORDER (LINEID, VIDEOORDER);
Index created
SQL> alter table VIDEOORDER
  2    add constraint PK_ORDER_NID primary key (NID);
Table altered
SQL> prompt

SQL> prompt Creating table VIDEO_LINE_ASSORTMENT
Creating table VIDEO_LINE_ASSORTMENT
SQL> prompt ====================================
====================================
SQL> prompt

SQL> create table VIDEO_LINE_ASSORTMENT
  2  (
  3    nid             VARCHAR2(32) not null,
  4    assortment_name VARCHAR2(255),
  5    areaid          VARCHAR2(6),
  6    createrid       CHAR(6),
  7    updaterid       CHAR(6),
  8    remark          NVARCHAR2(255)
  9  )
 10  ;
Table created
SQL> comment on table VIDEO_LINE_ASSORTMENT
  2    is '巡检线路分类表';
Comment added
SQL> comment on column VIDEO_LINE_ASSORTMENT.nid
  2    is '主键';
Comment added
SQL> comment on column VIDEO_LINE_ASSORTMENT.assortment_name
  2    is '分类名称';
Comment added
SQL> comment on column VIDEO_LINE_ASSORTMENT.areaid
  2    is '所属辖区';
Comment added
SQL> comment on column VIDEO_LINE_ASSORTMENT.createrid
  2    is '创建人id';
Comment added
SQL> comment on column VIDEO_LINE_ASSORTMENT.updaterid
  2    is '修改人id';
Comment added
SQL> comment on column VIDEO_LINE_ASSORTMENT.remark
  2    is '备注信息';
Comment added
SQL> alter table VIDEO_LINE_ASSORTMENT
  2    add constraint PK_VIDEO_LINE_ASSORTMENT primary key (NID);
Table altered
SQL> prompt

SQL> prompt Creating table VIDEO_PATROL_DETAIL
Creating table VIDEO_PATROL_DETAIL
SQL> prompt ==================================
==================================
SQL> prompt

SQL> create table VIDEO_PATROL_DETAIL
  2  (
  3    nid          NVARCHAR2(32) not null,
  4    deviceid     NVARCHAR2(18),
  5    btime        DATE,
  6    etime        DATE,
  7    picture      NVARCHAR2(100),
  8    isreport     NUMBER,
  9    userid       NVARCHAR2(10),
 10    is_recommend VARCHAR2(1)
 11  )
 12  ;
Table created
SQL> comment on table VIDEO_PATROL_DETAIL
  2    is '视频巡检详情';
Comment added
SQL> comment on column VIDEO_PATROL_DETAIL.nid
  2    is 'uuid记录操作的元信息';
Comment added
SQL> comment on column VIDEO_PATROL_DETAIL.deviceid
  2    is '视频设备id';
Comment added
SQL> comment on column VIDEO_PATROL_DETAIL.btime
  2    is '起始时间';
Comment added
SQL> comment on column VIDEO_PATROL_DETAIL.etime
  2    is '结束时间';
Comment added
SQL> comment on column VIDEO_PATROL_DETAIL.picture
  2    is '截图路径';
Comment added
SQL> comment on column VIDEO_PATROL_DETAIL.isreport
  2    is '是否上报警情';
Comment added
SQL> comment on column VIDEO_PATROL_DETAIL.userid
  2    is '用户ID';
Comment added
SQL> comment on column VIDEO_PATROL_DETAIL.is_recommend
  2    is '是否为推荐视频（1-是 0-否）';
Comment added
SQL> create index INDEX_BTIME on VIDEO_PATROL_DETAIL (BTIME);
Index created
SQL> alter table VIDEO_PATROL_DETAIL
  2    add constraint PK_DETAIL_PK primary key (NID);
Table altered
SQL> prompt

SQL> prompt Creating table VIDEO_PATROL_DUTY
Creating table VIDEO_PATROL_DUTY
SQL> prompt ================================
================================
SQL> prompt

SQL> create table VIDEO_PATROL_DUTY
  2  (
  3    nid    NVARCHAR2(32) not null,
  4    userid NVARCHAR2(10),
  5    btime  DATE,
  6    etime  DATE
  7  )
  8  ;
Table created
SQL> comment on table VIDEO_PATROL_DUTY
  2    is '视频巡检勤务（上岗下岗）';
Comment added
SQL> comment on column VIDEO_PATROL_DUTY.nid
  2    is '主键';
Comment added
SQL> comment on column VIDEO_PATROL_DUTY.userid
  2    is '用户id';
Comment added
SQL> comment on column VIDEO_PATROL_DUTY.btime
  2    is '上岗时间';
Comment added
SQL> comment on column VIDEO_PATROL_DUTY.etime
  2    is '下岗时间';
Comment added
SQL> alter table VIDEO_PATROL_DUTY
  2    add constraint PK_PATROL_DUTY_NID primary key (NID);
Table altered
SQL> prompt

SQL> prompt Creating table VIDEO_RECOMMEND
Creating table VIDEO_RECOMMEND
SQL> prompt ==============================
==============================
SQL> prompt

SQL> create table VIDEO_RECOMMEND
  2  (
  3    id                VARCHAR2(32) not null,
  4    video_device_id   VARCHAR2(32),
  5    video_device_name NVARCHAR2(1000),
  6    section_id        VARCHAR2(32),
  7    section_name      NVARCHAR2(1000),
  8    update_time       DATE,
  9    jam_time          NUMBER
 10  )
 11  ;
Table created
SQL> comment on column VIDEO_RECOMMEND.id
  2    is 'UUID';
Comment added
SQL> comment on column VIDEO_RECOMMEND.video_device_id
  2    is '设备id';
Comment added
SQL> comment on column VIDEO_RECOMMEND.video_device_name
  2    is '设备名称';
Comment added
SQL> comment on column VIDEO_RECOMMEND.section_id
  2    is '关联路段id';
Comment added
SQL> comment on column VIDEO_RECOMMEND.section_name
  2    is '关联路段名称';
Comment added
SQL> comment on column VIDEO_RECOMMEND.update_time
  2    is '更新时间';
Comment added
SQL> comment on column VIDEO_RECOMMEND.jam_time
  2    is '拥堵时长（分钟）';
Comment added
SQL> alter table VIDEO_RECOMMEND
  2    add constraint VIDEO_RECOMMEND_PK primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table VIDEO_RECOMMEND_STATISTICS
Creating table VIDEO_RECOMMEND_STATISTICS
SQL> prompt =========================================
=========================================
SQL> prompt

SQL> create table VIDEO_RECOMMEND_STATISTICS
  2  (
  3    id              VARCHAR2(32) not null,
  4    recommend_times NUMBER,
  5    open_times      NUMBER,
  6    report_times    NUMBER,
  7    stay_time       NUMBER,
  8    update_time     DATE
  9  )
 10  ;
Table created
SQL> comment on column VIDEO_RECOMMEND_STATISTICS.id
  2    is 'uuid';
Comment added
SQL> comment on column VIDEO_RECOMMEND_STATISTICS.recommend_times
  2    is '推荐次数';
Comment added
SQL> comment on column VIDEO_RECOMMEND_STATISTICS.open_times
  2    is '打开次数';
Comment added
SQL> comment on column VIDEO_RECOMMEND_STATISTICS.report_times
  2    is '上报次数';
Comment added
SQL> comment on column VIDEO_RECOMMEND_STATISTICS.stay_time
  2    is '停留时间(秒)';
Comment added
SQL> comment on column VIDEO_RECOMMEND_STATISTICS.update_time
  2    is '更新时间';
Comment added
SQL> alter table VIDEO_RECOMMEND_STATISTICS
  2    add constraint VIDEO_RECOMMEND_STATISTICS_PK primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table VIDEO_RECOMMEND_TIMES
Creating table VIDEO_RECOMMEND_TIMES
SQL> prompt ====================================
====================================
SQL> prompt

SQL> create table VIDEO_RECOMMEND_TIMES
  2  (
  3    id              VARCHAR2(32) not null,
  4    userid          VARCHAR2(32),
  5    recommend_times NUMBER,
  6    update_time     DATE
  7  )
  8  ;
Table created
SQL> comment on column VIDEO_RECOMMEND_TIMES.id
  2    is 'uuid';
Comment added
SQL> comment on column VIDEO_RECOMMEND_TIMES.userid
  2    is '用户id';
Comment added
SQL> comment on column VIDEO_RECOMMEND_TIMES.recommend_times
  2    is '推荐次数';
Comment added
SQL> comment on column VIDEO_RECOMMEND_TIMES.update_time
  2    is '更新时间';
Comment added
SQL> alter table VIDEO_RECOMMEND_TIMES
  2    add constraint VIDEO_RECOMMEND_TIMES_PK primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table VIO_CODEROAD
Creating table VIO_CODEROAD
SQL> prompt ===========================
===========================
SQL> prompt

SQL> create table VIO_CODEROAD
  2  (
  3    dldm        VARCHAR2(5) not null,
  4    dlmc        NVARCHAR2(60) not null,
  5    lkh         VARCHAR2(4),
  6    bmdm        VARCHAR2(12) not null,
  7    nid         VARCHAR2(32) not null,
  8    xzqh        NVARCHAR2(200),
  9    dllx        NVARCHAR2(10),
 10    glxzdj      NVARCHAR2(10),
 11    dx          NVARCHAR2(10),
 12    dlxx        NVARCHAR2(10),
 13    lkldlx      NVARCHAR2(10),
 14    dlwlgl      NVARCHAR2(10),
 15    lmjg        NVARCHAR2(10),
 16    fhsslx      NVARCHAR2(10),
 17    bzdlqslc    NUMBER,
 18    bzdljslc    NUMBER,
 19    qs          NUMBER,
 20    js          NUMBER,
 21    xqlc        NUMBER,
 22    cjr         NVARCHAR2(10),
 23    cjsj        DATE,
 24    gxsj        DATE,
 25    jlzt        NVARCHAR2(10),
 26    qsmc        NVARCHAR2(30),
 27    jsmc        NVARCHAR2(30),
 28    xzqhxxlc    NVARCHAR2(2000),
 29    zyglss      NVARCHAR2(10),
 30    ssglbm      NVARCHAR2(20),
 31    bzdllx      NVARCHAR2(10),
 32    startpoint  VARCHAR2(50),
 33    endpoint    VARCHAR2(50),
 34    firstpinyin VARCHAR2(100),
 35    dlmp_image  VARCHAR2(1000),
 36    jtbz_image  VARCHAR2(1000),
 37    yxq         VARCHAR2(50),
 38    jtbz        VARCHAR2(50)
 39  )
 40  ;
Table created
SQL> comment on table VIO_CODEROAD
  2    is '道路表';
Comment added
SQL> comment on column VIO_CODEROAD.dldm
  2    is '道路代码';
Comment added
SQL> comment on column VIO_CODEROAD.dlmc
  2    is '道路名称';
Comment added
SQL> comment on column VIO_CODEROAD.lkh
  2    is '路口号';
Comment added
SQL> comment on column VIO_CODEROAD.bmdm
  2    is '部门代码';
Comment added
SQL> comment on column VIO_CODEROAD.nid
  2    is '数据主键，在表中唯一即可';
Comment added
SQL> comment on column VIO_CODEROAD.xzqh
  2    is '行政区划';
Comment added
SQL> comment on column VIO_CODEROAD.dllx
  2    is '道路类型(3124)';
Comment added
SQL> comment on column VIO_CODEROAD.glxzdj
  2    is '公路行政等级(3116)';
Comment added
SQL> comment on column VIO_CODEROAD.dx
  2    is '道路地形(3110)';
Comment added
SQL> comment on column VIO_CODEROAD.dlxx
  2    is '道路线型(3123)';
Comment added
SQL> comment on column VIO_CODEROAD.lkldlx
  2    is '路口路段类型(3120)';
Comment added
SQL> comment on column VIO_CODEROAD.dlwlgl
  2    is '道路物理隔离(3121)';
Comment added
SQL> comment on column VIO_CODEROAD.lmjg
  2    is '路面结构(3119)';
Comment added
SQL> comment on column VIO_CODEROAD.fhsslx
  2    is '防护设施类型(3127)';
Comment added
SQL> comment on column VIO_CODEROAD.bzdlqslc
  2    is '标准道路起始里程';
Comment added
SQL> comment on column VIO_CODEROAD.bzdljslc
  2    is '标准道路结束里程';
Comment added
SQL> comment on column VIO_CODEROAD.qs
  2    is '里程起始';
Comment added
SQL> comment on column VIO_CODEROAD.js
  2    is '里程结束';
Comment added
SQL> comment on column VIO_CODEROAD.xqlc
  2    is '辖区里程';
Comment added
SQL> comment on column VIO_CODEROAD.cjr
  2    is '创建人';
Comment added
SQL> comment on column VIO_CODEROAD.cjsj
  2    is '创建时间';
Comment added
SQL> comment on column VIO_CODEROAD.gxsj
  2    is '更新时间';
Comment added
SQL> comment on column VIO_CODEROAD.jlzt
  2    is '记录状态 (3100)';
Comment added
SQL> comment on column VIO_CODEROAD.qsmc
  2    is '起始名称';
Comment added
SQL> comment on column VIO_CODEROAD.jsmc
  2    is '结束名称';
Comment added
SQL> comment on column VIO_CODEROAD.xzqhxxlc
  2    is '行政区划详细里程';
Comment added
SQL> comment on column VIO_CODEROAD.zyglss
  2    is '中央隔离设施(3134)';
Comment added
SQL> comment on column VIO_CODEROAD.ssglbm
  2    is '所属管理部门';
Comment added
SQL> comment on column VIO_CODEROAD.bzdllx
  2    is '标准道路类型 (3115)';
Comment added
SQL> comment on column VIO_CODEROAD.startpoint
  2    is '开始桩号';
Comment added
SQL> comment on column VIO_CODEROAD.endpoint
  2    is '结束桩号';
Comment added
SQL> comment on column VIO_CODEROAD.firstpinyin
  2    is '拼音首字母缩写查询';
Comment added
SQL> comment on column VIO_CODEROAD.dlmp_image
  2    is '道路名牌图片';
Comment added
SQL> comment on column VIO_CODEROAD.jtbz_image
  2    is '禁停标志图片，单向一张图片，双向两张图片';
Comment added
SQL> comment on column VIO_CODEROAD.yxq
  2    is '有效期止';
Comment added
SQL> comment on column VIO_CODEROAD.jtbz
  2    is '禁停标志，1：单向；2：双向。';
Comment added
SQL> alter table VIO_CODEROAD
  2    add constraint NID_COREROAD primary key (NID);
Table altered
SQL> alter table VIO_CODEROAD
  2    add constraint DLDM_COREROAD unique (DLDM);
Table altered
SQL> prompt

SQL> prompt Creating table VIO_CODEROAD_GEOMETRY
Creating table VIO_CODEROAD_GEOMETRY
SQL> prompt ====================================
====================================
SQL> prompt

SQL> create table VIO_CODEROAD_GEOMETRY
  2  (
  3    dldm     VARCHAR2(5),
  4    geometry MDSYS.SDO_GEOMETRY
  5  )
  6  ;
Table created
SQL> comment on table VIO_CODEROAD_GEOMETRY
  2    is '道路地理信息表';
Comment added
SQL> prompt

SQL> prompt Creating table VIO_ROADCROSS
Creating table VIO_ROADCROSS
SQL> prompt ============================
============================
SQL> prompt

SQL> create table VIO_ROADCROSS
  2  (
  3    nid                  VARCHAR2(32) not null,
  4    dldm                 VARCHAR2(5),
  5    lkdm                 VARCHAR2(4),
  6    lkmc                 VARCHAR2(90),
  7    bmdm                 VARCHAR2(12),
  8    longitudeandlatitude VARCHAR2(64),
  9    jcdl                 VARCHAR2(64)
 10  )
 11  ;
Table created
SQL> comment on table VIO_ROADCROSS
  2    is '路口表';
Comment added
SQL> comment on column VIO_ROADCROSS.nid
  2    is '主键id';
Comment added
SQL> comment on column VIO_ROADCROSS.dldm
  2    is '道路代码';
Comment added
SQL> comment on column VIO_ROADCROSS.lkdm
  2    is '路口代码';
Comment added
SQL> comment on column VIO_ROADCROSS.lkmc
  2    is '路口名称';
Comment added
SQL> comment on column VIO_ROADCROSS.bmdm
  2    is '部门代码';
Comment added
SQL> comment on column VIO_ROADCROSS.longitudeandlatitude
  2    is '经纬度，通常通过平台地图选取来设置，如 120.37395,36.08159';
Comment added
SQL> comment on column VIO_ROADCROSS.jcdl
  2    is '交叉道路，对应道路表所属道路道路代码，最多6个，多个道路之间用英文逗号(“,”)分隔';
Comment added
SQL> alter table VIO_ROADCROSS
  2    add constraint VIO_ROADCROSS_NID_PK primary key (NID);
Table altered
SQL> prompt

SQL> prompt Creating table VIO_ROAD_APPLY
Creating table VIO_ROAD_APPLY
SQL> prompt =============================
=============================
SQL> prompt

SQL> create table VIO_ROAD_APPLY
  2  (
  3    id          NVARCHAR2(32) not null,
  4    user_id     NVARCHAR2(32) not null,
  5    road_id     NVARCHAR2(5),
  6    reason      CHAR(1) not null,
  7    road_image  NVARCHAR2(1000),
  8    stop_image  NVARCHAR2(1000),
  9    road_name   NVARCHAR2(32) not null,
 10    create_time DATE default sysdate,
 11    status      NUMBER default 0
 12  )
 13  ;
Table created
SQL> comment on column VIO_ROAD_APPLY.user_id
  2    is '申请人id';
Comment added
SQL> comment on column VIO_ROAD_APPLY.road_id
  2    is '道路代码';
Comment added
SQL> comment on column VIO_ROAD_APPLY.reason
  2    is '申请原因, 0：无此道路，1：即将失效，2：失效';
Comment added
SQL> comment on column VIO_ROAD_APPLY.road_image
  2    is '路名牌图片地址';
Comment added
SQL> comment on column VIO_ROAD_APPLY.stop_image
  2    is '禁停标志图片地址';
Comment added
SQL> comment on column VIO_ROAD_APPLY.road_name
  2    is '道路名称';
Comment added
SQL> comment on column VIO_ROAD_APPLY.create_time
  2    is '申请时间';
Comment added
SQL> comment on column VIO_ROAD_APPLY.status
  2    is '状态 0：未处理，1：已通过 2：已驳回';
Comment added
SQL> prompt

SQL> prompt Creating table VIO_ROAD_HANDOVER
Creating table VIO_ROAD_HANDOVER
SQL> prompt ================================
================================
SQL> prompt

SQL> create table VIO_ROAD_HANDOVER
  2  (
  3    id            NVARCHAR2(32) not null,
  4    receiver      NVARCHAR2(1000),
  5    receive_time  DATE,
  6    receive_image NVARCHAR2(1000),
  7    road_nid      VARCHAR2(32)
  8  )
  9  ;
Table created
SQL> comment on column VIO_ROAD_HANDOVER.receiver
  2    is '接收人';
Comment added
SQL> comment on column VIO_ROAD_HANDOVER.receive_time
  2    is '接收时间';
Comment added
SQL> comment on column VIO_ROAD_HANDOVER.receive_image
  2    is '相关图片';
Comment added
SQL> comment on column VIO_ROAD_HANDOVER.road_nid
  2    is '道路nid';
Comment added
SQL> prompt

SQL> prompt Creating table VIO_ROAD_MAINTANCE
Creating table VIO_ROAD_MAINTANCE
SQL> prompt =================================
=================================
SQL> prompt

SQL> create table VIO_ROAD_MAINTANCE
  2  (
  3    id          NVARCHAR2(32) not null,
  4    update_type NVARCHAR2(1) not null,
  5    before      NVARCHAR2(100) not null,
  6    after       NVARCHAR2(100) not null,
  7    operator    NVARCHAR2(1000),
  8    update_time DATE,
  9    road_nid    VARCHAR2(32)
 10  )
 11  ;
Table created
SQL> comment on column VIO_ROAD_MAINTANCE.update_type
  2    is '数据变更类型，0：新增道路 1：状态变更 2：道路代码修改 3：道路名称修改 4：删除道路';
Comment added
SQL> comment on column VIO_ROAD_MAINTANCE.before
  2    is '变更前';
Comment added
SQL> comment on column VIO_ROAD_MAINTANCE.after
  2    is '变更后';
Comment added
SQL> comment on column VIO_ROAD_MAINTANCE.operator
  2    is '操作者';
Comment added
SQL> comment on column VIO_ROAD_MAINTANCE.update_time
  2    is '更改时间';
Comment added
SQL> comment on column VIO_ROAD_MAINTANCE.road_nid
  2    is '道路nid';
Comment added
SQL> prompt

SQL> prompt Creating table VIO_ROAD_SUGGESTION
Creating table VIO_ROAD_SUGGESTION
SQL> prompt ==================================
==================================
SQL> prompt

SQL> create table VIO_ROAD_SUGGESTION
  2  (
  3    id                VARCHAR2(32) not null,
  4    orgnization       VARCHAR2(32),
  5    figures           VARCHAR2(1000),
  6    audit_suggestion  VARCHAR2(1000),
  7    contact           VARCHAR2(32),
  8    contact_telephone VARCHAR2(32),
  9    type              VARCHAR2(1),
 10    road              VARCHAR2(32),
 11    time              DATE default sysdate
 12  )
 13  ;
Table created
SQL> comment on column VIO_ROAD_SUGGESTION.id
  2    is '主键';
Comment added
SQL> comment on column VIO_ROAD_SUGGESTION.orgnization
  2    is '业主单位';
Comment added
SQL> comment on column VIO_ROAD_SUGGESTION.figures
  2    is '图纸资料（图片）';
Comment added
SQL> comment on column VIO_ROAD_SUGGESTION.audit_suggestion
  2    is '审核意见';
Comment added
SQL> comment on column VIO_ROAD_SUGGESTION.contact
  2    is '联系人';
Comment added
SQL> comment on column VIO_ROAD_SUGGESTION.contact_telephone
  2    is '联系人电话';
Comment added
SQL> comment on column VIO_ROAD_SUGGESTION.type
  2    is '改建或者新建两种类型 0：新建，1：改建';
Comment added
SQL> comment on column VIO_ROAD_SUGGESTION.road
  2    is '道路名称';
Comment added
SQL> comment on column VIO_ROAD_SUGGESTION.time
  2    is '时间';
Comment added
SQL> alter table VIO_ROAD_SUGGESTION
  2    add constraint ID_ROADSUGGESTION primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table VMSIMAGE_SECTIONS
Creating table VMSIMAGE_SECTIONS
SQL> prompt ================================
================================
SQL> prompt

SQL> create table VMSIMAGE_SECTIONS
  2  (
  3    id                VARCHAR2(32) not null,
  4    image_element_id  VARCHAR2(32),
  5    sectioncode       VARCHAR2(20),
  6    sectionname       NVARCHAR2(100),
  7    colorcode         VARCHAR2(7),
  8    coordinates       VARCHAR2(500),
  9    sectionstatus     VARCHAR2(2),
 10    sectionstatustemp VARCHAR2(2),
 11    updatetime        DATE,
 12    groupname         VARCHAR2(2),
 13    sectionlength     INTEGER
 14  )
 15  ;
Table created
SQL> comment on table VMSIMAGE_SECTIONS
  2    is '路网底图-路段对应关系表';
Comment added
SQL> comment on column VMSIMAGE_SECTIONS.id
  2    is 'ID主键';
Comment added
SQL> comment on column VMSIMAGE_SECTIONS.image_element_id
  2    is '路网底图的节目ID，对应vms_preset_element表的主键';
Comment added
SQL> comment on column VMSIMAGE_SECTIONS.sectioncode
  2    is '路段编号';
Comment added
SQL> comment on column VMSIMAGE_SECTIONS.sectionname
  2    is '路段名称';
Comment added
SQL> comment on column VMSIMAGE_SECTIONS.colorcode
  2    is '路段在该诱导屏底图中对应的颜色值，如#00aabb，一个诱导屏底图中每条路段的颜色值能唯一确定一条路段';
Comment added
SQL> comment on column VMSIMAGE_SECTIONS.coordinates
  2    is '坐标串，便于扩展使用';
Comment added
SQL> comment on column VMSIMAGE_SECTIONS.sectionstatus
  2    is '发布成功的路段路况信息（1：红 2：黄 3：绿）';
Comment added
SQL> comment on column VMSIMAGE_SECTIONS.sectionstatustemp
  2    is '临时路段路况信息（1：红 2：黄 3：绿）';
Comment added
SQL> comment on column VMSIMAGE_SECTIONS.updatetime
  2    is '路况更新时间';
Comment added
SQL> create index INDEX_VMSIMAGE_SECTIONS on VMSIMAGE_SECTIONS (IMAGE_ELEMENT_ID);
Index created
SQL> alter table VMSIMAGE_SECTIONS
  2    add constraint PRI_VMSIMAGE_SECTIONS primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table VMS_ELEMENT_TYPE
Creating table VMS_ELEMENT_TYPE
SQL> prompt ===============================
===============================
SQL> prompt

SQL> create table VMS_ELEMENT_TYPE
  2  (
  3    id       VARCHAR2(32) not null,
  4    typename VARCHAR2(128),
  5    parentid VARCHAR2(32),
  6    orderid  NUMBER
  7  )
  8  ;
Table created
SQL> comment on column VMS_ELEMENT_TYPE.typename
  2    is '类别名称';
Comment added
SQL> comment on column VMS_ELEMENT_TYPE.parentid
  2    is '上级类别';
Comment added
SQL> comment on column VMS_ELEMENT_TYPE.orderid
  2    is '排序';
Comment added
SQL> alter table VMS_ELEMENT_TYPE
  2    add constraint PK_VMS_ELEMENT_TYPE primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table VOCATION
Creating table VOCATION
SQL> prompt =======================
=======================
SQL> prompt

SQL> create table VOCATION
  2  (
  3    uuid              CHAR(32) not null,
  4    applicant         NVARCHAR2(20),
  5    applytime         DATE,
  6    vocationtype      VARCHAR2(20),
  7    othervocationtype NVARCHAR2(20),
  8    begintime         DATE,
  9    endtime           DATE,
 10    reason            NVARCHAR2(100),
 11    vocationdays      VARCHAR2(20),
 12    applicantid       VARCHAR2(6),
 13    deptid            VARCHAR2(15)
 14  )
 15  ;
Table created
SQL> comment on column VOCATION.uuid
  2    is 'uuid';
Comment added
SQL> comment on column VOCATION.applicant
  2    is '申请人';
Comment added
SQL> comment on column VOCATION.applytime
  2    is '申请时间';
Comment added
SQL> comment on column VOCATION.vocationtype
  2    is '假期类型（0，婚嫁；1，丧假；2，产假；3，看护假；4，哺乳假；5，计划生育假；6，工伤假；7，事假，8，病假；9，带薪年假；10，其它）';
Comment added
SQL> comment on column VOCATION.othervocationtype
  2    is '其它假期名称';
Comment added
SQL> comment on column VOCATION.begintime
  2    is '假期开始时间';
Comment added
SQL> comment on column VOCATION.endtime
  2    is '假期结束时间';
Comment added
SQL> comment on column VOCATION.reason
  2    is '事由';
Comment added
SQL> comment on column VOCATION.vocationdays
  2    is '休假天数';
Comment added
SQL> comment on column VOCATION.applicantid
  2    is '申请人id';
Comment added
SQL> comment on column VOCATION.deptid
  2    is '所属部门';
Comment added
SQL> prompt

SQL> prompt Creating table WBC_CHARTS
Creating table WBC_CHARTS
SQL> prompt =========================
=========================
SQL> prompt

SQL> create table WBC_CHARTS
  2  (
  3    id             VARCHAR2(32) not null,
  4    component_id   VARCHAR2(32),
  5    component_name VARCHAR2(100),
  6    type           CHAR(10)
  7  )
  8  ;
Table created
SQL> comment on table WBC_CHARTS
  2    is '业务图表指标表';
Comment added
SQL> comment on column WBC_CHARTS.component_id
  2    is '组件编号 对应前台控件';
Comment added
SQL> comment on column WBC_CHARTS.component_name
  2    is '名称';
Comment added
SQL> comment on column WBC_CHARTS.type
  2    is '类型 a区 AWORKBENCH，b区 BWORKBENCH';
Comment added
SQL> alter table WBC_CHARTS
  2    add constraint PK_CHARTS primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table WBC_FAST_MENU
Creating table WBC_FAST_MENU
SQL> prompt ============================
============================
SQL> prompt

SQL> create table WBC_FAST_MENU
  2  (
  3    menu_id VARCHAR2(20) not null,
  4    user_id CHAR(6) not null,
  5    norder  NUMBER(10),
  6    url     VARCHAR2(500),
  7    icon    VARCHAR2(500)
  8  )
  9  ;
Table created
SQL> comment on table WBC_FAST_MENU
  2    is '用户快捷菜单表';
Comment added
SQL> comment on column WBC_FAST_MENU.menu_id
  2    is '菜单编号';
Comment added
SQL> comment on column WBC_FAST_MENU.user_id
  2    is '用户编号';
Comment added
SQL> comment on column WBC_FAST_MENU.norder
  2    is '顺序';
Comment added
SQL> comment on column WBC_FAST_MENU.url
  2    is '菜单访问url';
Comment added
SQL> comment on column WBC_FAST_MENU.icon
  2    is '图标';
Comment added
SQL> alter table WBC_FAST_MENU
  2    add constraint PK_FAST_MENU primary key (USER_ID, MENU_ID);
Table altered
SQL> prompt

SQL> prompt Creating table WBC_MENU_CHART_RELATION
Creating table WBC_MENU_CHART_RELATION
SQL> prompt ======================================
======================================
SQL> prompt

SQL> create table WBC_MENU_CHART_RELATION
  2  (
  3    menu_id      VARCHAR2(32) not null,
  4    component_id VARCHAR2(32) not null
  5  )
  6  ;
Table created
SQL> comment on table WBC_MENU_CHART_RELATION
  2    is '菜单图表关系表';
Comment added
SQL> comment on column WBC_MENU_CHART_RELATION.menu_id
  2    is '菜单编号';
Comment added
SQL> comment on column WBC_MENU_CHART_RELATION.component_id
  2    is '组件编号';
Comment added
SQL> alter table WBC_MENU_CHART_RELATION
  2    add constraint PK_MENU_CHART_RELATION primary key (MENU_ID, COMPONENT_ID);
Table altered
SQL> prompt

SQL> prompt Creating table WBC_NOTICES
Creating table WBC_NOTICES
SQL> prompt ==========================
==========================
SQL> prompt

SQL> create table WBC_NOTICES
  2  (
  3    notice_id   VARCHAR2(32),
  4    title       VARCHAR2(1000),
  5    type        VARCHAR2(1),
  6    content     VARCHAR2(3000),
  7    content_url VARCHAR2(1000),
  8    create_user CHAR(6),
  9    create_time DATE,
 10    reader_type CHAR(1),
 11    reader_list VARCHAR2(3000)
 12  )
 13  ;
Table created
SQL> comment on table WBC_NOTICES
  2    is '通知公告总表';
Comment added
SQL> comment on column WBC_NOTICES.notice_id
  2    is '通知编号';
Comment added
SQL> comment on column WBC_NOTICES.title
  2    is '通知标题';
Comment added
SQL> comment on column WBC_NOTICES.type
  2    is '通知类型 0：通知，1：阅读公告，2：签收公告';
Comment added
SQL> comment on column WBC_NOTICES.content
  2    is '通知内容';
Comment added
SQL> comment on column WBC_NOTICES.content_url
  2    is '详情链接';
Comment added
SQL> comment on column WBC_NOTICES.create_user
  2    is '发布人';
Comment added
SQL> comment on column WBC_NOTICES.create_time
  2    is '创建时间';
Comment added
SQL> comment on column WBC_NOTICES.reader_type
  2    is '接收者类型,0:全局公告，部门接收 ，1：部门公告，人接收';
Comment added
SQL> prompt

SQL> prompt Creating table WBC_NOTICES_USERS
Creating table WBC_NOTICES_USERS
SQL> prompt ================================
================================
SQL> prompt

SQL> create table WBC_NOTICES_USERS
  2  (
  3    user_id     CHAR(6) not null,
  4    notice_id   VARCHAR2(32) not null,
  5    is_read     NUMBER(1) default 0,
  6    signdept_id VARCHAR2(32),
  7    signer_id   CHAR(6),
  8    sign_time   DATE,
  9    is_signed   NUMBER default 0
 10  )
 11  ;
Table created
SQL> comment on table WBC_NOTICES_USERS
  2    is '用户通知公告表';
Comment added
SQL> comment on column WBC_NOTICES_USERS.user_id
  2    is '用户编号';
Comment added
SQL> comment on column WBC_NOTICES_USERS.notice_id
  2    is '公告编号';
Comment added
SQL> comment on column WBC_NOTICES_USERS.is_read
  2    is '是否已阅，0：未读，1：已读';
Comment added
SQL> comment on column WBC_NOTICES_USERS.signdept_id
  2    is '签收部门id';
Comment added
SQL> comment on column WBC_NOTICES_USERS.signer_id
  2    is '签收人id';
Comment added
SQL> comment on column WBC_NOTICES_USERS.sign_time
  2    is '签收时间';
Comment added
SQL> comment on column WBC_NOTICES_USERS.is_signed
  2    is '是否签收，0：未签收，1：已签收';
Comment added
SQL> alter table WBC_NOTICES_USERS
  2    add constraint PK_NOTICE_USERS primary key (USER_ID, NOTICE_ID);
Table altered
SQL> prompt

SQL> prompt Creating table WBC_NOTICE_INFO
Creating table WBC_NOTICE_INFO
SQL> prompt ==============================
==============================
SQL> prompt

SQL> create table WBC_NOTICE_INFO
  2  (
  3    id             VARCHAR2(32) not null,
  4    notice_id      VARCHAR2(32),
  5    notice_title   NVARCHAR2(40),
  6    notice_desc    CLOB,
  7    publisher      VARCHAR2(6),
  8    pubtime        DATE,
  9    browsetimes    NUMBER(5),
 10    notice_type    CHAR(1) default 0,
 11    content_url    VARCHAR2(1000),
 12    pub_department VARCHAR2(32),
 13    reader_type    CHAR(1) default 0,
 14    reader_list    VARCHAR2(2000)
 15  )
 16  ;
Table created
SQL> comment on table WBC_NOTICE_INFO
  2    is '公告信息表';
Comment added
SQL> comment on column WBC_NOTICE_INFO.id
  2    is '唯一编号';
Comment added
SQL> comment on column WBC_NOTICE_INFO.notice_id
  2    is '公告id';
Comment added
SQL> comment on column WBC_NOTICE_INFO.notice_title
  2    is '公告标题';
Comment added
SQL> comment on column WBC_NOTICE_INFO.notice_desc
  2    is '公告内容';
Comment added
SQL> comment on column WBC_NOTICE_INFO.publisher
  2    is '发布人';
Comment added
SQL> comment on column WBC_NOTICE_INFO.pubtime
  2    is '发布时间';
Comment added
SQL> comment on column WBC_NOTICE_INFO.browsetimes
  2    is '浏览次数';
Comment added
SQL> comment on column WBC_NOTICE_INFO.notice_type
  2    is '公告类型 0：阅读公告，1：签收公告，2：通知';
Comment added
SQL> comment on column WBC_NOTICE_INFO.content_url
  2    is '内容链接';
Comment added
SQL> comment on column WBC_NOTICE_INFO.pub_department
  2    is '发布部门';
Comment added
SQL> comment on column WBC_NOTICE_INFO.reader_type
  2    is '签收人类型 0：全局公告，1：部门公告';
Comment added
SQL> comment on column WBC_NOTICE_INFO.reader_list
  2    is '签收部门列表';
Comment added
SQL> alter table WBC_NOTICE_INFO
  2    add constraint WBC_NOTICE_INFO_PIR primary key (ID);
Table altered
SQL> prompt

SQL> prompt Creating table WBC_TODOS_TYPE
Creating table WBC_TODOS_TYPE
SQL> prompt =============================
=============================
SQL> prompt

SQL> create table WBC_TODOS_TYPE
  2  (
  3    type         VARCHAR2(10),
  4    menu_onclick VARCHAR2(100),
  5    name         VARCHAR2(50),
  6    menu_id      VARCHAR2(10),
  7    menu_name    VARCHAR2(20)
  8  )
  9  ;
Table created
SQL> comment on column WBC_TODOS_TYPE.type
  2    is '待办事项类型';
Comment added
SQL> comment on column WBC_TODOS_TYPE.menu_onclick
  2    is '点击跳转到的菜单点击事件';
Comment added
SQL> comment on column WBC_TODOS_TYPE.name
  2    is '待办事项类型名称';
Comment added
SQL> comment on column WBC_TODOS_TYPE.menu_id
  2    is '菜单ID';
Comment added
SQL> comment on column WBC_TODOS_TYPE.menu_name
  2    is '菜单名称';
Comment added
SQL> prompt

SQL> prompt Creating table WBC_TODOS_USERS
Creating table WBC_TODOS_USERS
SQL> prompt ==============================
==============================
SQL> prompt

SQL> create table WBC_TODOS_USERS
  2  (
  3    task_id     VARCHAR2(32) not null,
  4    task_title  VARCHAR2(1000) not null,
  5    task_type   VARCHAR2(2) not null,
  6    create_user CHAR(6) not null,
  7    create_time DATE,
  8    deal_user   CHAR(6) not null,
  9    content_url VARCHAR2(1000),
 10    finish_user CHAR(6),
 11    status      VARCHAR2(2) default '0',
 12    need_return CHAR(1) default '0'
 13  )
 14  ;
Table created
SQL> comment on table WBC_TODOS_USERS
  2    is '待办事项表';
Comment added
SQL> comment on column WBC_TODOS_USERS.task_id
  2    is '待办事项编号';
Comment added
SQL> comment on column WBC_TODOS_USERS.task_title
  2    is '待办事项名字';
Comment added
SQL> comment on column WBC_TODOS_USERS.task_type
  2    is '待办事项类型 00：审批事项';
Comment added
SQL> comment on column WBC_TODOS_USERS.create_user
  2    is '待办事项创建人';
Comment added
SQL> comment on column WBC_TODOS_USERS.create_time
  2    is '待办事项创建时间';
Comment added
SQL> comment on column WBC_TODOS_USERS.deal_user
  2    is '待办人';
Comment added
SQL> comment on column WBC_TODOS_USERS.content_url
  2    is '待办事项链接';
Comment added
SQL> comment on column WBC_TODOS_USERS.finish_user
  2    is '结办人';
Comment added
SQL> comment on column WBC_TODOS_USERS.status
  2    is '待办事项状态 0：未完成，1：已完成';
Comment added
SQL> alter table WBC_TODOS_USERS
  2    add constraint PK_TODO_USERS primary key (TASK_ID);
Table altered
SQL> prompt

SQL> prompt Creating table WBC_USER_CHART
Creating table WBC_USER_CHART
SQL> prompt =============================
=============================
SQL> prompt

SQL> create table WBC_USER_CHART
  2  (
  3    user_id         CHAR(6) not null,
  4    component_id    VARCHAR2(32) not null,
  5    type            VARCHAR2(32),
  6    position        VARCHAR2(2),
  7    nsize           NUMBER(1),
  8    parameterconfig VARCHAR2(2000),
  9    component_name  VARCHAR2(500)
 10  )
 11  ;
Table created
SQL> comment on table WBC_USER_CHART
  2    is '用户保存图表指标表';
Comment added
SQL> comment on column WBC_USER_CHART.user_id
  2    is '用户编号';
Comment added
SQL> comment on column WBC_USER_CHART.component_id
  2    is '图表组件编号';
Comment added
SQL> comment on column WBC_USER_CHART.type
  2    is '区域 A或B';
Comment added
SQL> comment on column WBC_USER_CHART.position
  2    is '位置';
Comment added
SQL> comment on column WBC_USER_CHART.nsize
  2    is '大小，占几个格';
Comment added
SQL> comment on column WBC_USER_CHART.parameterconfig
  2    is '图表配置文件，summarizeBy：单位；timeRange：日期。';
Comment added
SQL> comment on column WBC_USER_CHART.component_name
  2    is '组件名称';
Comment added
SQL> alter table WBC_USER_CHART
  2    add constraint PK_USER_CHART primary key (USER_ID, COMPONENT_ID);
Table altered
SQL> prompt

SQL> prompt Creating table WBC_USER_THEME
Creating table WBC_USER_THEME
SQL> prompt =============================
=============================
SQL> prompt

SQL> create table WBC_USER_THEME
  2  (
  3    userid    VARCHAR2(20),
  4    themeid   VARCHAR2(20),
  5    themename VARCHAR2(20),
  6    id        VARCHAR2(20) not null
  7  )
  8  ;
Table created
SQL> comment on column WBC_USER_THEME.userid
  2    is '用户id';
Comment added
SQL> comment on column WBC_USER_THEME.themeid
  2    is '主题id';
Comment added
SQL> comment on column WBC_USER_THEME.themename
  2    is '主题名称';
Comment added
SQL> comment on column WBC_USER_THEME.id
  2    is '主键';
Comment added
SQL> prompt

SQL> prompt Creating table WHITELIST
Creating table WHITELIST
SQL> prompt ========================
========================
SQL> prompt

SQL> create table WHITELIST
  2  (
  3    nid           NVARCHAR2(32) not null,
  4    ccarnumber    NVARCHAR2(16) not null,
  5    clicensetype  VARCHAR2(2) not null,
  6    dcreatedate   DATE,
  7    coperator     CHAR(6),
  8    cdepartmentid NVARCHAR2(12),
  9    remark        NVARCHAR2(1024),
 10    cassessor     CHAR(6),
 11    flag          CHAR(1),
 12    dbegindate    DATE,
 13    denddate      DATE,
 14    syr           VARCHAR2(12),
 15    period        VARCHAR2(100),
 16    roadline      NVARCHAR2(1024),
 17    passno        VARCHAR2(6),
 18    isgaofeng     VARCHAR2(1),
 19    cartype       VARCHAR2(12),
 20    passtype      VARCHAR2(1)
 21  )
 22  ;
Table created
SQL> alter table WHITELIST
  2    add constraint PK_WHITELIST primary key (NID);
Table altered
SQL> prompt

SQL> prompt Creating table YELLO_SIGN_CAR
Creating table YELLO_SIGN_CAR
SQL> prompt =============================
=============================
SQL> prompt

SQL> create table YELLO_SIGN_CAR
  2  (
  3    nid       VARCHAR2(32) not null,
  4    dq        VARCHAR2(40),
  5    shchzhd   VARCHAR2(200),
  6    ffshj     DATE default sysdate,
  7    hblb      VARCHAR2(20),
  8    chzh      VARCHAR2(200),
  9    chlzhcshj DATE,
 10    fblx      VARCHAR2(20),
 11    hbbzhh    VARCHAR2(100),
 12    chlxh     VARCHAR2(100),
 13    shb       VARCHAR2(50),
 14    chph      VARCHAR2(50),
 15    chpys     VARCHAR2(50),
 16    chllx     VARCHAR2(50),
 17    shfzf     VARCHAR2(20),
 18    hphm      VARCHAR2(15),
 19    hpzl      VARCHAR2(2),
 20    yxqz      DATE,
 21    ccdjrq    DATE,
 22    cblx      VARCHAR2(1)
 23  )
 24  ;
Table created
SQL> comment on column YELLO_SIGN_CAR.nid
  2    is '数据库自动编号,非空';
Comment added
SQL> comment on column YELLO_SIGN_CAR.dq
  2    is '地区';
Comment added
SQL> comment on column YELLO_SIGN_CAR.shchzhd
  2    is '上传站点';
Comment added
SQL> comment on column YELLO_SIGN_CAR.ffshj
  2    is '发放时间';
Comment added
SQL> comment on column YELLO_SIGN_CAR.hblb
  2    is '环标类别';
Comment added
SQL> comment on column YELLO_SIGN_CAR.chzh
  2    is '车主';
Comment added
SQL> comment on column YELLO_SIGN_CAR.chlzhcshj
  2    is '车辆注册时间
  3  ';
Comment added
SQL> comment on column YELLO_SIGN_CAR.fblx
  2    is '发标类型
  3  ';
Comment added
SQL> comment on column YELLO_SIGN_CAR.hbbzhh
  2    is '环保标志号
  3  ';
Comment added
SQL> comment on column YELLO_SIGN_CAR.chlxh
  2    is '车辆型号
  3  ';
Comment added
SQL> comment on column YELLO_SIGN_CAR.shb
  2    is '商标
  3  ';
Comment added
SQL> comment on column YELLO_SIGN_CAR.chph
  2    is '车牌号
  3  ';
Comment added
SQL> comment on column YELLO_SIGN_CAR.chpys
  2    is '车牌颜色';
Comment added
SQL> comment on column YELLO_SIGN_CAR.chllx
  2    is '车辆类型
  3  ';
Comment added
SQL> comment on column YELLO_SIGN_CAR.shfzf
  2    is '是否作废
  3  ';
Comment added
SQL> comment on column YELLO_SIGN_CAR.hphm
  2    is '号牌号码';
Comment added
SQL> comment on column YELLO_SIGN_CAR.hpzl
  2    is '号牌种类';
Comment added
SQL> comment on column YELLO_SIGN_CAR.yxqz
  2    is '有效期至';
Comment added
SQL> comment on column YELLO_SIGN_CAR.ccdjrq
  2    is '初次登记日期';
Comment added
SQL> comment on column YELLO_SIGN_CAR.cblx
  2    is '车标类型 1：黄标；2：绿标；3：无标';
Comment added
SQL> create index INDEX_YELLO_CHPH_CHLLX on YELLO_SIGN_CAR (CHPH, CHLLX);
Index created
SQL> alter table YELLO_SIGN_CAR
  2    add constraint PK_YELLO_NID primary key (NID)
  3    disable;
Table altered
SQL> prompt

SQL> prompt Creating sequence BLACK_ALERT_FRONT_CONFIG_SEQ
Creating sequence BLACK_ALERT_FRONT_CONFIG_SEQ
SQL> prompt ==============================================
==============================================
SQL> prompt

SQL> create sequence BLACK_ALERT_FRONT_CONFIG_SEQ
  2  minvalue 1
  3  maxvalue 99999
  4  start with 882
  5  increment by 1
  6  cache 20
  7  cycle;
Sequence created
SQL> prompt

SQL> prompt Creating sequence CONSTRUCTION_ID_SEQ
Creating sequence CONSTRUCTION_ID_SEQ
SQL> prompt =====================================
=====================================
SQL> prompt

SQL> create sequence CONSTRUCTION_ID_SEQ
  2  minvalue 1
  3  maxvalue 999999999999999999999999999
  4  start with 320
  5  increment by 1
  6  cache 20;
Sequence created
SQL> prompt

SQL> prompt Creating sequence CONSTRUCTION_SEQ
Creating sequence CONSTRUCTION_SEQ
SQL> prompt ==================================
==================================
SQL> prompt

SQL> create sequence CONSTRUCTION_SEQ
  2  minvalue 1
  3  maxvalue 9999999999999999999999999999
  4  start with 51
  5  increment by 1
  6  cache 20;
Sequence created
SQL> prompt

SQL> prompt Creating sequence EQUIP_SERVICE_LEVEL_SEQ
Creating sequence EQUIP_SERVICE_LEVEL_SEQ
SQL> prompt =========================================
=========================================
SQL> prompt

SQL> create sequence EQUIP_SERVICE_LEVEL_SEQ
  2  minvalue 1
  3  maxvalue 999999999999999999999999999
  4  start with 581
  5  increment by 1
  6  cache 20;
Sequence created
SQL> prompt

SQL> prompt Creating sequence EQUIP_SERVICE_PROVIDER_SMS_SEQ
Creating sequence EQUIP_SERVICE_PROVIDER_SMS_SEQ
SQL> prompt ================================================
================================================
SQL> prompt

SQL> create sequence EQUIP_SERVICE_PROVIDER_SMS_SEQ
  2  minvalue 1
  3  maxvalue 999999999999999999999999999
  4  start with 3560
  5  increment by 1
  6  cache 20;
Sequence created
SQL> prompt

SQL> prompt Creating sequence LV_DIRVER_SEQ
Creating sequence LV_DIRVER_SEQ
SQL> prompt ===============================
===============================
SQL> prompt

SQL> create sequence LV_DIRVER_SEQ
  2  minvalue 1
  3  maxvalue 999999999999999999999999999
  4  start with 1641
  5  increment by 1
  6  cache 20;
Sequence created
SQL> prompt

SQL> prompt Creating sequence LV_NLV_VIOLATION_SEQ
Creating sequence LV_NLV_VIOLATION_SEQ
SQL> prompt ======================================
======================================
SQL> prompt

SQL> create sequence LV_NLV_VIOLATION_SEQ
  2  minvalue 1
  3  maxvalue 999999999999999999999999999
  4  start with 1561
  5  increment by 1
  6  cache 20;
Sequence created
SQL> prompt

SQL> prompt Creating sequence LV_VEHICLE_SEQ
Creating sequence LV_VEHICLE_SEQ
SQL> prompt ================================
================================
SQL> prompt

SQL> create sequence LV_VEHICLE_SEQ
  2  minvalue 1
  3  maxvalue 999999999999999999999999999
  4  start with 1641
  5  increment by 1
  6  cache 20;
Sequence created
SQL> prompt

SQL> prompt Creating sequence PASS_MGR_SEQ
Creating sequence PASS_MGR_SEQ
SQL> prompt ==============================
==============================
SQL> prompt

SQL> create sequence PASS_MGR_SEQ
  2  minvalue 1024
  3  maxvalue 9999999
  4  start with 1144
  5  increment by 1
  6  cache 20;
Sequence created
SQL> prompt

SQL> prompt Creating sequence SEQ_BLACK_LIST_MANAGE_RECORD
Creating sequence SEQ_BLACK_LIST_MANAGE_RECORD
SQL> prompt ==============================================
==============================================
SQL> prompt

SQL> create sequence SEQ_BLACK_LIST_MANAGE_RECORD
  2  minvalue 1
  3  maxvalue 9999999999999999999999999999
  4  start with 17864306
  5  increment by 1
  6  cache 20;
Sequence created
SQL> prompt

SQL> prompt Creating sequence SEQ_MONITOR_SECTION_POINT
Creating sequence SEQ_MONITOR_SECTION_POINT
SQL> prompt ===========================================
===========================================
SQL> prompt

SQL> create sequence SEQ_MONITOR_SECTION_POINT
  2  minvalue 1
  3  maxvalue 999999999999999999999999999
  4  start with 13402
  5  increment by 1
  6  cache 20;
Sequence created
SQL> prompt

SQL> prompt Creating sequence STAT_TRAFFIC_FLOW_DAY_SEQ
Creating sequence STAT_TRAFFIC_FLOW_DAY_SEQ
SQL> prompt ===========================================
===========================================
SQL> prompt

SQL> create sequence STAT_TRAFFIC_FLOW_DAY_SEQ
  2  minvalue 1
  3  maxvalue 9999999999999999
  4  start with 105452
  5  increment by 1
  6  cache 20;
Sequence created
SQL> prompt

SQL> prompt Creating sequence STAT_TRAFFIC_FLOW_HOUR_SEQ
Creating sequence STAT_TRAFFIC_FLOW_HOUR_SEQ
SQL> prompt ============================================
============================================
SQL> prompt

SQL> create sequence STAT_TRAFFIC_FLOW_HOUR_SEQ
  2  minvalue 1
  3  maxvalue 999999999999999999
  4  start with 25181973
  5  increment by 1
  6  cache 20;
Sequence created
SQL> prompt

SQL> prompt Creating view BLACK_LOW_ANALYSIS_DATA_VIEW
Creating view BLACK_LOW_ANALYSIS_DATA_VIEW
SQL> prompt ==========================================
==========================================
SQL> prompt

SQL> create or replace view black_low_analysis_data_view as
  2  select t.id,t.bjdd,t.productdate,t.hour,
  3  nvl(t.alarmtype01,0)+nvl(t.alarmtype02,0)+nvl(t.alarmtype03,0)+
  4  nvl(t.alarmtype04,0)+nvl(t.alarmtype05,0)+nvl(t.alarmtype06,0)+
  5  nvl(t.alarmtype07,0)+nvl(t.alarmtype08,0)+nvl(t.alarmtype09,0)+
  6  nvl(t.alarmtype10,0)+nvl(t.alarmtype11,0)+nvl(t.alarmtype12,0)+
  7  nvl(t.alarmtype13,0)+nvl(t.alarmtype14,0)+nvl(t.alarmtype15,0)+
  8  nvl(t.alarmtype16,0)+nvl(t.alarmtype17,0)+nvl(t.alarmtype18,0)+
  9  nvl(t.alarmtype19,0)+nvl(t.alarmtype20,0)+nvl(t.alarmtype21,0)+
 10  nvl(t.alarmtype22,0)+nvl(t.alarmtype23,0)+nvl(t.alarmtype24,0)+
 11  nvl(t.alarmtype15,0)+nvl(t.alarmtype26,0)+nvl(t.alarmtype27,0)+
 12  nvl(t.alarmtype28,0)+nvl(t.alarmtype29,0)+nvl(t.alarmtype30,0) count
 13   from black_low_analysis_data t;
View created
SQL> prompt

SQL> prompt Creating view GPS_NEW_DATA
Creating view GPS_NEW_DATA
SQL> prompt ==========================
==========================
SQL> prompt

SQL> create or replace view gps_new_data as
  2  select t."CVEHID",
  3         t."NVEHALARM",
  4         t."DTRECORDTIME",
  5         t."DECARLONG",
  6         t."DECARLAT",
  7         t."NCARSTATUS",
  8         t."NVEHSPEED",
  9         t."NDIRECTION",
 10         t."DATAUPLOADTIME",
 11         t."DATASAVETIME"
 12    from gps_data t, equipment_info e,police p
 13   where t.cvehid = e.thirdsyscode
 14     and p.deviceid = e.deviceid
 15     and e.devicetype = '12'
 16     and t.dtrecordtime > sysdate - 10 / 24 / 60
 17     and not exists (select 1
 18            from gps_data g
 19           where g.dtrecordtime > sysdate - 10 / 24 / 60
 20             and g.cvehid = t.cvehid
 21             and g.dtrecordtime > t.dtrecordtime);
View created
SQL> prompt

SQL> prompt Creating view CAR_GPS_STATUS_VIEW
Creating view CAR_GPS_STATUS_VIEW
SQL> prompt =================================
=================================
SQL> prompt

SQL> create or replace view car_gps_status_view as
  2  select e.deviceid,e.departmentid,
  3  case
  4    when t.DTRECORDTIME is not null
  5      then 1
  6        else 0
  7          end status
  8  from equipment_info e left join gps_new_data t on t.CVEHID=e.thirdsyscode where e.devicetype='12' and e.gpstype='1'-- group by status;
View created
SQL> prompt

SQL> prompt Creating view CONFIG_CROSSING
Creating view CONFIG_CROSSING
SQL> prompt =============================
=============================
SQL> prompt

SQL> create or replace view config_crossing as
  2  select t.nid as CROSSING_ID,
  3         t.lkdm as CROSSING_CODE,
  4         t.lkmc as CROSSING_NAME,
  5       t.dldm as ROAD_ID
  6    from VIO_ROADCROSS t;
View created
SQL> prompt

SQL> prompt Creating view CONFIG_ORG
Creating view CONFIG_ORG
SQL> prompt ========================
========================
SQL> prompt

SQL> create or replace view config_org as
  2  select t.cdepartmentid as ORG_ID,
  3         t.cdepartmentname as ORG_NAME
  4    from DEPARTMENT t;
View created
SQL> prompt

SQL> prompt Creating view CONFIG_ROADS
Creating view CONFIG_ROADS
SQL> prompt ==========================
==========================
SQL> prompt

SQL> create or replace view config_roads as
  2  select t.nid as ROAD_ID,
  3         t.dldm as ROAD_CODE,
  4         t.dlmc as ROAD_NAME
  5    from VIO_CODEROAD t;
View created
SQL> prompt

SQL> prompt Creating view DETECT_SPEED_DATA_HAIBO_VIEW
Creating view DETECT_SPEED_DATA_HAIBO_VIEW
SQL> prompt ==========================================
==========================================
SQL> prompt

SQL> CREATE OR REPLACE VIEW DETECT_SPEED_DATA_HAIBO_VIEW AS
  2  SELECT M.POINTCODE    AS POINTCODE,
  3           M.POINTNAME    AS POINTNAME,
  4           M.POINTNAME    AS POINTADDRESS,
  5           M.PROVIDEDATE  AS POINTINSTALLTIME,
  6           E.DEPARTMENTID AS DEPARTMENTID,
  7           E.DEVICEID     AS DEVICECODE,
  8           E.DEVICENAME   AS DEVICENAME,
  9           E.DEVICETYPE   AS DEVICETYPE,
 10           E.DIRECTION    AS DIRECTION,
 11           E.STARTLAN     AS STARTLAN,
 12           E.LANENUM      AS LANENUM,
 13           E.PROVIDEDATE  AS DEVICEINSTALLTIME,
 14           E.DEVICESTATE  AS DEVICESTATE,
 15           M.LONGITUDE    AS LONGITUDE,
 16           M.LATITUDE     AS LATITUDE,
 17           M.ADMINIAREA   AS ADMINIAREA
 18      FROM EQUIPMENT_INFO E, MONITOR_POINT M
 19     WHERE E.POINTID = M.POINTCODE(+)
 20       AND (E.DEVICETYPE = '01' OR E.DEVICETYPE = '02' OR E.DEVICETYPE = '03');
View created
SQL> prompt

SQL> prompt Creating view GPS_REAL_DATA
Creating view GPS_REAL_DATA
SQL> prompt ===========================
===========================
SQL> prompt

SQL> create or replace view gps_real_data as
  2  select e.deviceid,e.devicename,e.departmentid,e.gpstype,t.cvehid,t.dtrecordtime,t.decarlong,t.decarlat,t.ndirection
  3  from gps_data t,equipment_info e where t.cvehid=e.thirdsyscode and t.dtrecordtime>sysdate-15/24/60
  4  and not exists
  5   (select 1
  6            from gps_data g
  7           where g.dtrecordtime > sysdate-15/24/60
  8             and g.cvehid = t.cvehid
  9             and g.dtrecordtime > t.dtrecordtime
 10      );
View created
SQL> prompt

SQL> prompt Creating view GPS_STATUS_VIEW
Creating view GPS_STATUS_VIEW
SQL> prompt =============================
=============================
SQL> prompt

SQL> create or replace view gps_status_view as
  2  select e.deviceid,
  3         e.departmentid,
  4         e.gpsradiono,
  5         e.gpstype,
  6         g.datatime,
  7         trunc((sysdate - g.datatime) * 24 * 60) timedist,
  8         case
  9           when g.datatime is null or
 10                trunc((sysdate - g.datatime) * 24 * 60) > 580 then
 11            0
 12           else
 13            1
 14         end status
 15    from equipment_info e
 16    left join gps_current_data g
 17      on e.deviceid = g.deviceid where e.devicetype = 12;
View created
SQL> prompt

SQL> prompt Creating view SECTION_STATUS_CURRENT
Creating view SECTION_STATUS_CURRENT
SQL> prompt ====================================
====================================
SQL> prompt

SQL> create or replace view section_status_current as
  2  select t.section_id,
  3         t.status,
  4         t.traveltime,
  5         d.commcount * 60 as volume,
  6         d.speed,
  7         t.computetime,
  8         d.laneid
  9    from section_status_present t
 10    left join (select ssd.sectionid,
 11                      ssd.laneid,
 12                      avg(ssd.commcount) as commcount,
 13                      round(avg(ssd.speed)) as speed
 14                 from section_status_data ssd
 15                where ssd.stdtime > sysdate - 10 / 24 / 60
 16                  and ssd.commcount > 0
 17                  and ssd.speed > 0
 18                  and not exists
 19                (select 1
 20                         from section_status_data s
 21                        where s.stdtime > sysdate - 10 / 24 / 60
 22                          and s.sectionid = ssd.sectionid
 23                          and s.stdtime > ssd.stdtime)
 24                group by ssd.sectionid, ssd.laneid) d
 25      on d.sectionid = t.section_id;
View created
SQL> prompt

SQL> prompt Creating view SECTION_STATUS_VIEW
Creating view SECTION_STATUS_VIEW
SQL> prompt =================================
=================================
SQL> prompt

SQL> create or replace view section_status_view as
  2  select t.section_id,t.status,t.computetime from section_status_compute t where t.computetime>sysdate-10/24/60
  3  and  not exists
  4   (select 1
  5            from section_status_compute s
  6           where s.computetime > sysdate - 10 / 24 / 60
  7             and t.section_id = s.section_id
  8             and s.receivetime > t.receivetime
  9      );
View created
SQL> prompt

SQL> prompt Creating view SECTION_VOLUME_VIEW
Creating view SECTION_VOLUME_VIEW
SQL> prompt =================================
=================================
SQL> prompt

SQL> create or replace view section_volume_view as
  2  select t.sectionid,t.sectionname,t.laneid,t.commcount*60 volume,t.speed,t.traveltime,t.stdtime,msp.positions
  3  from section_status_data t left join monitor_section_positions msp on t.sectionid=msp.sectionid
  4  where msp.zoomlevel=0 and t.stdtime>sysdate-10/24/60 and
  5   not exists
  6   (select 1
  7            from section_status_data s
  8           where s.stdtime > sysdate-10/24/60
  9             and t.sectionid = s.sectionid
 10             and s.stdtime > t.stdtime
 11      );
View created
SQL> prompt

SQL> prompt Creating view SYSTEM_OPERATOR
Creating view SYSTEM_OPERATOR
SQL> prompt =============================
=============================
SQL> prompt

SQL> create or replace view system_operator as
  2  select t.NUSERID as OPERATOR_ID,
  3         t.NUSERID as USERNAME,
  4         t.CUSERPWD as PASSWORD,
  5    t.CUSERNAME as TRUENAME,
  6       t.CDEPARTMENTID as ORG_ID,
  7       d.roleid as DEPARTMENT_NAME,
  8       t.TELEPHONE as TELEPHONE
  9    from OPERATOR t
 10    left join USER_ROLE_RELATION d
 11      on t.NUSERID = d.NUSERID;
View created
SQL> prompt

SQL> prompt Creating view VEHICLE_BRAND_MAIN_SUB
Creating view VEHICLE_BRAND_MAIN_SUB
SQL> prompt ====================================
====================================
SQL> prompt

SQL> create or replace view vehicle_brand_main_sub as
  2  select distinct t.mainbrand,t.subbrand,t.mainbranddesc,t.subbranddesc from vehicle_brand t;
View created
SQL> prompt

SQL> prompt Creating view VEH_INFO_LOCAL
Creating view VEH_INFO_LOCAL
SQL> prompt ============================
============================
SQL> prompt

SQL> create or replace view veh_info_local as
  2  select "XH","HPZL","HPHM","CLPP1","CLXH","CLPP2","GCJK","ZZG","ZZCMC","CLSBDH","FDJH","CLLX","CSYS","SYXZ","SFZMHM","SFZMMC","SYR","SYQ","CCDJRQ","DJRQ","YXQZ","QZBFQZ","FZJG","GLBM","FPRQ","FZRQ","FDJRQ","FHGZRQ","BXZZRQ","BPCS","BZCS","BDJCS","DJZSBH","ZDJZSHS","DABH","XZQH","ZT","DYBJ","JBR","CLLY","LSH","FDJXH","RLZL","PL","GL","ZXXS","CWKC","CWKK","CWKG","HXNBCD","HXNBKD","HXNBGD","GBTHPS","ZS","ZJ","QLJ","HLJ","LTGG","LTS","ZZL","ZBZL","HDZZL","HDZK","ZQYZL","QPZK","HPZK","HBDBQK","CCRQ","HDFS","LLPZ1","PZBH1","LLPZ2","PZBH2","XSDW","XSJG","XSRQ","JKPZ","JKPZHM","HGZBH","NSZM","NSZMBH","GXRQ","XGZL","QMBH","HMBH","BZ","JYW","ZSXZQH","ZSXXDZ","YZBM1","LXDH","ZZZ","ZZXZQH","ZZXXDZ","YZBM2","ZDYZT","YXH","CYRY","DPHGZBH","SQDM","CLYT","YTSX","DZYX","XSZBH","SJHM","JYHGBZBH","DWBH" from veh_info t;
View created
SQL> prompt

SQL> prompt Creating view VEH_INFO_VIEW
Creating view VEH_INFO_VIEW
SQL> prompt ===========================
===========================
SQL> prompt

SQL> create or replace view veh_info_view as
  2  select "XH","CP","SYR","LXDH","ZT" from (
  3  select v.xh,'贵'||v.hphm cp,v.syr,v.lxdh,v.zt,v.hpzl
  4  from veh_info v where v.zt='E' or v.zt='M') a
  5  where not exists(select 1 from(
  6  select v.xh,'贵'||v.hphm cp,v.syr,v.lxdh,v.zt,v.hpzl
  7  from veh_info v where v.zt='E' or v.zt='M') b
  8  where a.cp=b.cp and a.hpzl=b.hpzl and b.xh>a.xh);
View created
SQL> prompt

SQL> prompt Creating view VEH_XH_VIEW
Creating view VEH_XH_VIEW
SQL> prompt =========================
=========================
SQL> prompt

SQL> create or replace view veh_xh_view as
  2  select "XH","CP","SYR","LXDH","ZT","YXQZ","HPZL" from (
  3  select v.xh,'贵'||v.hphm cp,v.syr,v.lxdh,v.zt,v.yxqz,v.hpzl
  4  from veh_info v) a
  5  where not exists(select 1 from(
  6  select v.xh,'贵'||v.hphm cp,v.syr,v.lxdh,v.zt,v.yxqz,v.hpzl
  7  from veh_info v) b
  8  where a.cp=b.cp and a.hpzl=b.hpzl and b.xh>a.xh);
View created
SQL> prompt

SQL> prompt Creating package ADVANCE_SUPPORT_PKG
Creating package ADVANCE_SUPPORT_PKG
SQL> prompt ====================================
====================================
SQL> prompt

SQL> create or replace package advance_support_pkg is
  2    --点岗判断
  3    function is_contains_circle(p_x number, p_y number, p_point varchar2)
  4      return number;
  5    --巡逻岗判断
  6    function is_contains_range(p_point varchar2, p_points varchar2)
  7      return number;
  8  
  9    --查询是否到岗
 10    procedure check_position_on;
 11  end advance_support_pkg;
 12  /
Package created
SQL> prompt

SQL> prompt Creating package DATA_ANALYSIS_PKG
Creating package DATA_ANALYSIS_PKG
SQL> prompt ==================================
==================================
SQL> prompt

SQL> create or replace package DATA_ANALYSIS_PKG is
  2    /***************************************************************************************************
  3  
  4    最后修改时间:2016-10-11 13:53:42 维护人：FengXiaogang
  5  
  6    数据质量分析业务功能：对卡口或电警或流量每天的数据进行统计，统计内容包括：采集延时、入库延时、上传数、识别率等。
  7    此业务涉及四个表：
  8    1、过车临时表(detect_data_by_day，存储过车1-2天的临时数据)；
  9    2、流量临时表(volume_data_by_day，存储流量1-2天的临时数据)；
 10    3、违法临时表(illegal_data_by_day，存储违法7-8天的临时数据)；
 11    4、数据质量分析结果表(equip_data_analysis);
 12  
 13    一个方法
 14    1、根据历史数据判断设备是否降效(upload_low_efficiency)
 15  
 16    六个存储过程：分别为：
 17    1、过车数据质量分析(pass_analysis)；
 18    2、过车临时表分区删除(passbyday_partition_drop)；
 19  
 20    3、流量数据质量分析(volume_analysis)；
 21    4、流量临时表分区删除(volumebyday_partition_drop)；
 22  
 23    5、违法数据质量分析(police_analysis)；
 24    6、违法临时表分区删除(policebyday_partition_drop)；
 25  
 26    ***************************************************************************************************/
 27  
 28    /**************************************************************************************************
 29    方法：upload_low_efficiency
 30    根据某一设备在一个月内的历史数据判断该设备上传的过车/违法数据是否有波动 降效
 31    参数：
 32      target：设备某一天上传的过车/违法数据
 33      deviceid：设备编号
 34      pass_ill_flag：过车或违法降效判断,"pass"表示过车判断，其他表示违法判断
 35      eff_desc：输出参数，如果降效，降效描述通过该参数返回
 36    返回值：
 37      如果有波动降效则返回true，否则返回false
 38    ***************************************************************************************************/
 39    function upload_low_efficiency(target        number,
 40                                   deviceid      varchar2,
 41                                   pass_ill_flag varchar2,
 42                                   eff_desc      out varchar2) return boolean;
 43  
 44    /***************************************************************************************************
 45    存储过程：police_analysis
 46    设备违法数据质量分析
 47    每天00:10:00执行，参见定时任务 job_data_analysis_police
 48    ***************************************************************************************************/
 49    procedure police_analysis;
 50    /***************************************************************************************************
 51    存储过程：passbyday_partition_drop
 52    违法临时表（illegal_data_by_day）分区删除存储过程，删除两天前创建的分区，也就是删除两天之前的数据，防
 53    止临时表数据过大
 54    每天00:06:00执行，参见定时任务 job_data_analysis_policedrop
 55    ***************************************************************************************************/
 56    procedure policebyday_partition_drop;
 57  
 58    /***************************************************************************************************
 59    存储过程：upload_low_efficiency
 60    设备过车数据质量分析
 61    每天00:20:00执行，参见定时任务 job_data_analysis_pass
 62    ***************************************************************************************************/
 63    procedure pass_analysis;
 64  
 65    /***************************************************************************************************
 66    存储过程：passbyday_partition_drop
 67    过车临时表（detect_data_by_day）分区删除存储过程，删除两天前创建的分区，也就是删除两天之前的数据，防
 68    止临时表数据过大
 69    每天00:06:00执行，参见定时任务 job_data_analysis_passdrop,
 70  
 71    ***************************************************************************************************/
 72    procedure passbyday_partition_drop;
 73  
 74    /***************************************************************************************************
 75    存储过程：volume_analysis
 76    设备流量数据质量分析
 77    每天00:30:00执行，参见定时任务 job_data_analysis_volume,
 78    ***************************************************************************************************/
 79    procedure volume_analysis;
 80  
 81    /***************************************************************************************************
 82    存储过程：volumebyday_partition_drop
 83    流量临时表（volume_data_by_day）分区删除存储过程，删除两天前创建的分区，也就是删除两天之前的数据，防
 84    止临时表数据过大
 85    每天00:06:00执行，参见定时任务job_data_analysis_volumedrop
 86    ***************************************************************************************************/
 87    procedure volumebyday_partition_drop;
 88  
 89  end DATA_ANALYSIS_PKG;
 90  /
Package created
SQL> prompt

SQL> prompt Creating package DUTY3_AUDIT_AUTO_PKG
Creating package DUTY3_AUDIT_AUTO_PKG
SQL> prompt =====================================
=====================================
SQL> prompt

SQL> create or replace package duty3_audit_auto_pkg is
  2  
  3    --中队自动提交
  4    procedure submit_zho_auto;
  5    --大队自动审核、提交
  6    procedure check_big_auto;
  7    --支队自动审核
  8    procedure check_zhi_auto;
  9  
 10  end duty3_audit_auto_pkg;
 11  /
Package created
SQL> prompt

SQL> prompt Creating package DUTY3_AUDIT_AUTO_PKG2
Creating package DUTY3_AUDIT_AUTO_PKG2
SQL> prompt ======================================
======================================
SQL> prompt

SQL> create or replace package duty3_audit_auto_pkg2 is
  2  
  3    --中队自动提交
  4    procedure submit_zho_auto(p_d number);
  5    --大队自动审核、提交
  6    procedure check_big_auto(p_d number);
  7    --支队自动审核
  8    procedure check_zhi_auto(p_d number);
  9  
 10  
 11  end duty3_audit_auto_pkg2;
 12  /
Package created
SQL> prompt

SQL> prompt Creating package DUTY3_SUPPORT_PKG
Creating package DUTY3_SUPPORT_PKG
SQL> prompt ==================================
==================================
SQL> prompt

SQL> create or replace package duty3_support_pkg is
  2  
  3    --判断该人次是否脱岗（0：在岗，1：脱岗）
  4    function is_out_duty(p_deploy_id varchar2, p_police_id varchar2)
  5      return number;
  6    --判断该人次是否迟到（0：未迟到，1：迟到）
  7    function is_late_duty(p_deploy_id varchar2, p_police_id varchar2)
  8      return number;
  9    --判断该人次是否早退（0：未早退，1：早退）
 10    function is_leave_early_duty(p_deploy_id varchar2, p_police_id varchar2)
 11      return number;
 12    --判断该人次是否上岗报备（0：未报备，1：已报备）
 13    function is_on_ready(p_deploy_id  varchar2,
 14                         p_police_id  varchar2,
 15                         p_gpsradiono varchar2) return number;
 16    --判断该人次是否撤岗报备（0：未报备，1：已报备）
 17    function is_out_ready(p_deploy_id  varchar2,
 18                          p_police_id  varchar2,
 19                          p_gpsradiono varchar2) return number;
 20    function get_pre_ready(p_duty_time_id             varchar2,
 21                           p_day                      date,
 22                           p_police_id                varchar2,
 23                           p_gpsradiono               varchar2,
 24                           p_before_first_deploy_time number,
 25                           p_before_begin_deploy_time number) return number;
 26  
 27    function get_aft_ready(p_duty_time_id           varchar2,
 28                           p_day                    date,
 29                           p_police_id              varchar2,
 30                           p_gpsradiono             varchar2,
 31                           p_after_last_deploy_time number,
 32                           p_after_end_deploy_time  number) return number;
 33    --获得上岗报备时间
 34    function get_on_ready_time(p_deploy_id  varchar2,
 35                               p_police_id  varchar2,
 36                               p_gpsradiono varchar2) return varchar2;
 37    --获得撤岗报备时间
 38    function get_out_ready_time(p_deploy_id  varchar2,
 39                                p_police_id  varchar2,
 40                                p_gpsradiono varchar2) return varchar2;
 41    --获得指定code参数的value值
 42    function getParamType(p_define_code varchar2, p_type_code varchar2)
 43      return varchar2;
 44  
 45    --判断是否连续岗位，0：否，1：是
 46    function is_continuous(p_ready_type varchar2,
 47                           p_deploy_id  varchar2,
 48                           p_police_id  varchar2) return number;
 49    --警员执勤报备情况计算（时间段）
 50    procedure deploy_police_ready(p_deploy_begin_date date,
 51                                  p_deploy_end_date   date);
 52    --警员执勤报备情况计算（指定日期）
 53    procedure deploy_police_ready_by_date(p_deploy_date date);
 54    --警员执勤报备情况计算（前一天）
 55    procedure deploy_police_ready_auto;
 56  
 57    --警员执勤到岗情况计算（时间段）
 58    procedure deploy_police_duty(p_deploy_begin_date date,
 59                                 p_deploy_end_date   date);
 60    --警员执勤到岗情况计算（指定日期）
 61    procedure deploy_police_duty_by_date(p_deploy_date date);
 62    --警员执勤到岗情况计算（前一天）
 63    procedure deploy_police_duty_auto;
 64    --警员执勤迟到早退情况计算（时间段）
 65    procedure deploy_police_late_le(p_deploy_begin_date date,
 66                                 p_deploy_end_date   date);
 67    --警员执勤迟到早退情况计算（指定日期）
 68    procedure deploy_police_late_le_by_date(p_deploy_date date);
 69    --警员执勤迟到早退情况计算（前一天）
 70    procedure deploy_police_late_le_auto;
 71    --获得日勤级别
 72    function get_deploy_level(p_dept_id     varchar2,
 73                              p_deploy_date date,
 74                              p_type        varchar2) return number;
 75  end duty3_support_pkg;
 76  /
Package created
SQL> prompt

SQL> prompt Creating type TABLETYPE
Creating type TABLETYPE
SQL> prompt =======================
=======================
SQL> prompt

SQL> CREATE OR REPLACE TYPE "TABLETYPE"                                                                                                                                                   as table of VARCHAR2(32676)
  2  /
Type created
SQL> prompt

SQL> prompt Creating type TT_06_AUTOREF_OID_COLL_TYPE
Creating type TT_06_AUTOREF_OID_COLL_TYPE
SQL> prompt =========================================
=========================================
SQL> prompt

SQL> CREATE OR REPLACE TYPE TT_06_AUTOREF_OID_COLL_TYPE IS VARRAY (131072) OF VARCHAR2(38)
  2  /
Type created
SQL> prompt

SQL> prompt Creating type ZH_CONCAT_IM
Creating type ZH_CONCAT_IM
SQL> prompt ==========================
==========================
SQL> prompt

SQL> CREATE OR REPLACE TYPE zh_concat_im
  2  AUTHID CURRENT_USER AS OBJECT
  3  (
  4    CURR_STR VARCHAR2(32767),
  5    STATIC FUNCTION ODCIAGGREGATEINITIALIZE(SCTX IN OUT zh_concat_im) RETURN NUMBER,
  6    MEMBER FUNCTION ODCIAGGREGATEITERATE(SELF IN OUT zh_concat_im,
  7                 P1 IN VARCHAR2) RETURN NUMBER,
  8    MEMBER FUNCTION ODCIAGGREGATETERMINATE(SELF IN zh_concat_im,
  9                                   RETURNVALUE OUT VARCHAR2,
 10                                   FLAGS IN NUMBER)
 11                       RETURN NUMBER,
 12    MEMBER FUNCTION ODCIAGGREGATEMERGE(SELF IN OUT zh_concat_im,
 13                      SCTX2 IN  zh_concat_im) RETURN NUMBER
 14  );
 15  /
Type created
SQL> prompt

SQL> prompt Creating function FORMAT_TIME
Creating function FORMAT_TIME
SQL> prompt =============================
=============================
SQL> prompt

SQL> create or replace function format_time(collection_time in Date) return integer is
  2    Result integer;
  3  begin
  4    Result:=to_number(trunc(collection_time,'hh24'))*60*60+to_number(trunc(collection_time,'mi'))*60+to_number(trunc(collection_time,'ss'));
  5    return(Result);
  6  end format_time;
  7  /
Function created
SQL> prompt

SQL> prompt Creating function F_TRANS_PINYIN_CAPITAL
Creating function F_TRANS_PINYIN_CAPITAL
SQL> prompt ========================================
========================================
SQL> prompt

SQL> CREATE OR REPLACE FUNCTION F_TRANS_PINYIN_CAPITAL(P_NAME IN VARCHAR2)
  2    RETURN VARCHAR2 AS
  3    V_COMPARE VARCHAR2(100);
  4    V_RETURN  VARCHAR2(4000);
  5  
  6    FUNCTION F_NLSSORT(P_WORD IN VARCHAR2) RETURN VARCHAR2 AS
  7    BEGIN
  8      RETURN NLSSORT(P_WORD, 'NLS_SORT=SCHINESE_PINYIN_M');
  9    END;
 10  BEGIN
 11    FOR I IN 1 .. LENGTH(P_NAME) LOOP
 12      V_COMPARE := F_NLSSORT(SUBSTR(P_NAME, I, 1));
 13      IF V_COMPARE >= F_NLSSORT(' 吖 ') AND V_COMPARE <= F_NLSSORT('驁 ') THEN
 14        V_RETURN := V_RETURN || 'a';
 15      ELSIF V_COMPARE >= F_NLSSORT('八 ') AND V_COMPARE <= F_NLSSORT('簿 ') THEN
 16        V_RETURN := V_RETURN || 'b';
 17      ELSIF V_COMPARE >= F_NLSSORT('嚓 ') AND V_COMPARE <= F_NLSSORT('錯 ') THEN
 18        V_RETURN := V_RETURN || 'c';
 19      ELSIF V_COMPARE >= F_NLSSORT('咑 ') AND V_COMPARE <= F_NLSSORT('鵽 ') THEN
 20        V_RETURN := V_RETURN || 'd';
 21      ELSIF V_COMPARE >= F_NLSSORT('妸 ') AND V_COMPARE <= F_NLSSORT('樲 ') THEN
 22        V_RETURN := V_RETURN || 'e';
 23      ELSIF V_COMPARE >= F_NLSSORT('发 ') AND V_COMPARE <= F_NLSSORT('猤 ') THEN
 24        V_RETURN := V_RETURN || 'f';
 25      ELSIF V_COMPARE >= F_NLSSORT('旮 ') AND V_COMPARE <= F_NLSSORT('腂 ') THEN
 26        V_RETURN := V_RETURN || 'g';
 27      ELSIF V_COMPARE >= F_NLSSORT('妎 ') AND V_COMPARE <= F_NLSSORT('夻 ') THEN
 28        V_RETURN := V_RETURN || 'h';
 29      ELSIF V_COMPARE >= F_NLSSORT('丌 ') AND V_COMPARE <= F_NLSSORT('攈 ') THEN
 30        V_RETURN := V_RETURN || 'j';
 31      ELSIF V_COMPARE >= F_NLSSORT('咔 ') AND V_COMPARE <= F_NLSSORT('穒 ') THEN
 32        V_RETURN := V_RETURN || 'k';
 33      ELSIF V_COMPARE >= F_NLSSORT('垃 ') AND V_COMPARE <= F_NLSSORT('擽 ') THEN
 34        V_RETURN := V_RETURN || 'l';
 35      ELSIF V_COMPARE >= F_NLSSORT('嘸 ') AND V_COMPARE <= F_NLSSORT('椧 ') THEN
 36        V_RETURN := V_RETURN || 'm';
 37      ELSIF V_COMPARE >= F_NLSSORT('拏 ') AND V_COMPARE <= F_NLSSORT('瘧 ') THEN
 38        V_RETURN := V_RETURN || 'n';
 39      ELSIF V_COMPARE >= F_NLSSORT('筽 ') AND V_COMPARE <= F_NLSSORT('漚 ') THEN
 40        V_RETURN := V_RETURN || 'o';
 41      ELSIF V_COMPARE >= F_NLSSORT('妑 ') AND V_COMPARE <= F_NLSSORT('曝 ') THEN
 42        V_RETURN := V_RETURN || 'p';
 43      ELSIF V_COMPARE >= F_NLSSORT('七 ') AND V_COMPARE <= F_NLSSORT('裠 ') THEN
 44        V_RETURN := V_RETURN || 'q';
 45      ELSIF V_COMPARE >= F_NLSSORT('亽 ') AND V_COMPARE <= F_NLSSORT('鶸 ') THEN
 46        V_RETURN := V_RETURN || 'r';
 47      ELSIF V_COMPARE >= F_NLSSORT('仨 ') AND V_COMPARE <= F_NLSSORT('蜶 ') THEN
 48        V_RETURN := V_RETURN || 's';
 49      ELSIF V_COMPARE >= F_NLSSORT('侤 ') AND V_COMPARE <= F_NLSSORT('籜 ') THEN
 50        V_RETURN := V_RETURN || 't';
 51      ELSIF V_COMPARE >= F_NLSSORT('屲 ') AND V_COMPARE <= F_NLSSORT('鶩 ') THEN
 52        V_RETURN := V_RETURN || 'w';
 53      ELSIF V_COMPARE >= F_NLSSORT('夕 ') AND V_COMPARE <= F_NLSSORT('鑂 ') THEN
 54        V_RETURN := V_RETURN || 'x';
 55      ELSIF V_COMPARE >= F_NLSSORT('丫 ') AND V_COMPARE <= F_NLSSORT('韻 ') THEN
 56        V_RETURN := V_RETURN || 'y';
 57      ELSIF V_COMPARE >= F_NLSSORT('帀 ') AND V_COMPARE <= F_NLSSORT('咗 ') THEN
 58        V_RETURN := V_RETURN || 'z';
 59      END IF;
 60    END LOOP;
 61    RETURN V_RETURN;
 62  END;
 63  /
Function created
SQL> prompt

SQL> prompt Creating function F_TRANS_PINYIN_CAPITAL_H
Creating function F_TRANS_PINYIN_CAPITAL_H
SQL> prompt ==========================================
==========================================
SQL> prompt

SQL> CREATE OR REPLACE FUNCTION F_TRANS_PINYIN_CAPITAL_H(P_NAME IN VARCHAR2) RETURN VARCHAR2 AS
  2  V_COMPARE VARCHAR2(100);
  3  V_RETURN VARCHAR2(4000);
  4  tmp  integer;
  5  FUNCTION F_NLSSORT(P_WORD IN VARCHAR2) RETURN VARCHAR2 AS
  6  BEGIN
  7  RETURN NLSSORT(P_WORD, 'NLS_SORT=SCHINESE_PINYIN_M');
  8  END;
  9  BEGIN
 10  V_COMPARE := F_NLSSORT(SUBSTR(P_NAME, 1, 1));
 11  
 12  select length(SUBSTR(P_NAME, 1, 1)) - lengthb(SUBSTR(P_NAME, 1, 1)) into tmp from dual;
 13  
 14  IF tmp=0 then
 15  V_RETURN :=   SUBSTR(P_NAME, 1, 1);
 16  RETURN V_RETURN;
 17  END IF;
 18  
 19  IF V_COMPARE >= F_NLSSORT(' 吖 ') AND V_COMPARE <= F_NLSSORT('驁 ') THEN
 20  V_RETURN := V_RETURN || 'A';
 21  ELSIF V_COMPARE >= F_NLSSORT('八 ') AND V_COMPARE <= F_NLSSORT('簿 ') THEN
 22  V_RETURN := V_RETURN || 'B';
 23  ELSIF V_COMPARE >= F_NLSSORT('嚓 ') AND V_COMPARE <= F_NLSSORT('錯 ') THEN
 24  V_RETURN := V_RETURN || 'C';
 25  ELSIF V_COMPARE >= F_NLSSORT('咑 ') AND V_COMPARE <= F_NLSSORT('鵽 ') THEN
 26  V_RETURN := V_RETURN || 'D';
 27  ELSIF V_COMPARE >= F_NLSSORT('妸 ') AND V_COMPARE <= F_NLSSORT('樲 ') THEN
 28  V_RETURN := V_RETURN || 'E';
 29  ELSIF V_COMPARE >= F_NLSSORT('发 ') AND V_COMPARE <= F_NLSSORT('猤 ') THEN
 30  V_RETURN := V_RETURN || 'F';
 31  ELSIF V_COMPARE >= F_NLSSORT('旮 ') AND V_COMPARE <= F_NLSSORT('腂 ') THEN
 32  V_RETURN := V_RETURN || 'G';
 33  ELSIF V_COMPARE >= F_NLSSORT('妎 ') AND V_COMPARE <= F_NLSSORT('夻 ') THEN
 34  V_RETURN := V_RETURN || 'H';
 35  ELSIF V_COMPARE >= F_NLSSORT('丌 ') AND V_COMPARE <= F_NLSSORT('攈 ') THEN
 36  V_RETURN := V_RETURN || 'J';
 37  ELSIF V_COMPARE >= F_NLSSORT('咔 ') AND V_COMPARE <= F_NLSSORT('穒 ') THEN
 38  V_RETURN := V_RETURN || 'K';
 39  ELSIF V_COMPARE >= F_NLSSORT('垃 ') AND V_COMPARE <= F_NLSSORT('擽 ') THEN
 40  V_RETURN := V_RETURN || 'L';
 41  ELSIF V_COMPARE >= F_NLSSORT('嘸 ') AND V_COMPARE <= F_NLSSORT('椧 ') THEN
 42  V_RETURN := V_RETURN || 'M';
 43  ELSIF V_COMPARE >= F_NLSSORT('拏 ') AND V_COMPARE <= F_NLSSORT('瘧 ') THEN
 44  V_RETURN := V_RETURN || 'N';
 45  ELSIF V_COMPARE >= F_NLSSORT('筽 ') AND V_COMPARE <= F_NLSSORT('漚 ') THEN
 46  V_RETURN := V_RETURN || 'O';
 47  ELSIF V_COMPARE >= F_NLSSORT('妑 ') AND V_COMPARE <= F_NLSSORT('曝 ') THEN
 48  V_RETURN := V_RETURN || 'P';
 49  ELSIF V_COMPARE >= F_NLSSORT('七 ') AND V_COMPARE <= F_NLSSORT('裠 ') THEN
 50  V_RETURN := V_RETURN || 'Q';
 51  ELSIF V_COMPARE >= F_NLSSORT('亽 ') AND V_COMPARE <= F_NLSSORT('鶸 ') THEN
 52  V_RETURN := V_RETURN || 'R';
 53  ELSIF V_COMPARE >= F_NLSSORT('仨 ') AND V_COMPARE <= F_NLSSORT('蜶 ') THEN
 54  V_RETURN := V_RETURN || 'S';
 55  ELSIF V_COMPARE >= F_NLSSORT('侤 ') AND V_COMPARE <= F_NLSSORT('籜 ') THEN
 56  V_RETURN := V_RETURN || 'T';
 57  ELSIF V_COMPARE >= F_NLSSORT('屲 ') AND V_COMPARE <= F_NLSSORT('鶩 ') THEN
 58  V_RETURN := V_RETURN || 'W';
 59  ELSIF V_COMPARE >= F_NLSSORT('夕 ') AND V_COMPARE <= F_NLSSORT('鑂 ') THEN
 60  V_RETURN := V_RETURN || 'X';
 61  ELSIF V_COMPARE >= F_NLSSORT('丫 ') AND V_COMPARE <= F_NLSSORT('韻 ') THEN
 62  V_RETURN := V_RETURN || 'Y';
 63  ELSIF V_COMPARE >= F_NLSSORT('帀 ') AND V_COMPARE <= F_NLSSORT('咗 ') THEN
 64  V_RETURN := V_RETURN || 'Z';
 65  END IF;
 66  
 67  
 68  
 69  RETURN V_RETURN;
 70  
 71  
 72  
 73  END;
 74  /
Function created
SQL> prompt

SQL> prompt Creating function GETEXPIRATEDAYS
Creating function GETEXPIRATEDAYS
SQL> prompt =================================
=================================
SQL> prompt

SQL> CREATE OR REPLACE FUNCTION getExpirateDays (
  2     expirationdate IN DATE
  3  ) RETURN INT IS
  4      var_count INT;
  5  BEGIN
  6      SELECT
  7          ( COUNT(1) - 1 )
  8      INTO
  9          var_count
 10      FROM
 11          (
 12              SELECT
 13                  expirationdate + ROWNUM - 1 D
 14              FROM
 15                  dual
 16              CONNECT BY
 17                  expirationdate + ROWNUM - 1 <= SYSDATE
 18              START WITH 1=1
 19          )
 20      WHERE
 21          TO_CHAR(d,'D') NOT IN (
 22              '1',
 23              '7'
 24          );
 25      RETURN var_count;
 26  END getExpirateDays;
 27  /
Function created
SQL> prompt

SQL> prompt Creating function GET_BURSTEVENT_DUTYTIME
Creating function GET_BURSTEVENT_DUTYTIME
SQL> prompt =========================================
=========================================
SQL> prompt

SQL> create or replace function get_burstevent_dutytime(bt    in Date,
  2                                               et in Date,uid in varchar2)
  3    return numeric is
  4  
  5    type recordtype is record(
  6      btime  Date,
  7      etime Date);
  8  
  9    returnDate numeric default 0;
 10  
 11    type recordtable is table of recordtype index by binary_integer;
 12    mytable recordtable;
 13  
 14  begin
 15    select e.btime,e.etime bulk collect
 16      into mytable
 17      from ALERTEVENT_DUTY  e
 18     where e.btime >= bt
 19       and e.etime<=et and e.etime is not null
 20     and e.userid=uid
 21     order by e.btime
 22     ;
 23  
 24    for x in 1 .. mytable.count loop
 25      if x>1 then
 26        returnDate:=returnDate+(mytable(x).etime-mytable(x).btime)*1440;
 27        if mytable(x).btime<mytable(x-1).etime then
 28          returnDate:=returnDate-(mytable(x-1).etime-mytable(x).btime)*1440;
 29        end if;
 30      else
 31        returnDate:=(mytable(x).etime-mytable(x).btime)*1440;
 32      end if;
 33    end loop;
 34    return round(returnDate,0);
 35  end get_burstevent_dutytime;
 36  /
Function created
SQL> prompt

SQL> prompt Creating function SPLIT
Creating function SPLIT
SQL> prompt =======================
=======================
SQL> prompt

SQL> CREATE OR REPLACE FUNCTION split (p_list CLOB, p_sep VARCHAR2 := ',')
  2  RETURN tabletype
  3  PIPELINED
  4  /**************************************
  5  * Name: split
  6  * Author: Sean Zhang.
  7  * Date: 2012-09-03.
  8  * Function: 返回字符串被指定字符分割后的表类型。
  9  * Parameters: p_list: 待分割的字符串。
 10  p_sep: 分隔符，默认逗号，也可以指定字符或字符串。
 11  * Example: SELECT *
 12  FROM users
 13  WHERE u_id IN (SELECT COLUMN_VALUE
 14  FROM table (split ('1,2')))
 15  返回u_id为1和2的两行数据。
 16  **************************************/
 17  IS
 18  l_idx PLS_INTEGER;
 19  v_list VARCHAR2 (32676) := p_list;
 20  BEGIN
 21  LOOP
 22  l_idx := INSTR (v_list, p_sep);
 23  IF l_idx > 0
 24  THEN
 25  PIPE ROW (SUBSTR (v_list, 1, l_idx - 1));
 26  v_list := SUBSTR (v_list, l_idx + LENGTH (p_sep));
 27  ELSE
 28  PIPE ROW (v_list);
 29  EXIT;
 30  END IF;
 31  END LOOP;
 32  END;
 33  /
Function created
SQL> prompt

SQL> prompt Creating function GET_DEVICE_NAME
Creating function GET_DEVICE_NAME
SQL> prompt =================================
=================================
SQL> prompt

SQL> create or replace function get_device_name(deviceids varchar2) return varchar2 is
  2    Result varchar2(6000);
  3    devicename varchar2(1000);
  4    cursor pcur(cid varchar2)  is
  5    SELECT COLUMN_VALUE as id FROM table (split(cid));
  6  begin
  7    RESULT:='';
  8    devicename:='';
  9    FOR cur in pcur(deviceids) LOOP
 10     select e.devicename into devicename from equipment_info e where e.deviceid=cur.id;
 11    RESULT:=RESULT || devicename;
 12    END LOOP;
 13  
 14    return(RESULT);
 15  end get_device_name;
 16  /
Function created
SQL> prompt

SQL> prompt Creating function GET_PREBYDEVICEID
Creating function GET_PREBYDEVICEID
SQL> prompt ===================================
===================================
SQL> prompt

SQL> create or replace function get_preByDeviceId(d_id    in varchar2,
  2                                               xx_id in varchar2)
  3    return varchar2 is
  4  
  5    type recordtype is record(
  6      pre_id         varchar2(20),
  7      pre_remaintime varchar2(20));
  8  
  9      returnStr varchar2(2000) default '';
 10  
 11    type recordtable is table of recordtype index by binary_integer;
 12    mytable recordtable;
 13  
 14  begin
 15    select e.pre_id, e.playing_time bulk collect
 16      into mytable
 17      from common_position_preset e
 18     where e.deviceid = '' || d_id || ''
 19       and e.line_id = '' || xx_id || ''
 20     order by e.sort_number;
 21  
 22    for x in 1 .. mytable.count loop
 23  
 24      returnStr := returnStr || mytable(x).pre_id || ':' || mytable(x)
 25                  .pre_remaintime || ',';
 26  
 27    end loop;
 28    returnStr := substr(returnStr, 0, length(returnStr) - 1);
 29    return returnStr;
 30  end get_preByDeviceId;
 31  /
Function created
SQL> prompt

SQL> prompt Creating function GPS_OFFSET_LENGTH
Creating function GPS_OFFSET_LENGTH
SQL> prompt ===================================
===================================
SQL> prompt

SQL> create or replace function gps_offset_length(p1_longi number,p1_lati number,p2_longi number,p2_lati number) return number is
  2    Result number;
  3  begin
  4   declare c_p number :=0.0174532925199432957692222222222;
  5      dlon number :=(p2_longi - p1_longi)*c_p;
  6      dlat number :=(p2_lati - p1_lati)* c_p;
  7      a number;
  8   begin
  9      a := sin(0.5 * dlat) * sin(0.5 * dlat) + cos(p1_lati * c_p) * cos(p2_lati * c_p) * (sin(0.5 * dlon) * sin(0.5 * dlon));
 10      a := abs(a);
 11      if a >1 then
 12         Result:= 0;
 13      else
 14         Result:= 2*atan2(sqrt(a),sqrt(1-a))*6371008.77141506;
 15      end if;
 16   end;
 17   return Result;
 18  end gps_offset_length;
 19  /
Function created
SQL> prompt

SQL> prompt Creating function REGEXP_LIKE_NUMBER
Creating function REGEXP_LIKE_NUMBER
SQL> prompt ====================================
====================================
SQL> prompt

SQL> create or replace function regexp_like_number(
  2    haopai  VARCHAR2,
  3    haopai2  VARCHAR2 )
  4     return number is
  5    sum_i integer;
  6    size_i integer;
  7    i integer;
  8   begin
  9  --declare
 10  -- haopai varchar2(9) := '鲁B1U3O5';
 11  -- haopai2 varchar2(9) := '鲁B12345';
 12   size_i := length(haopai);
 13   i  :=1;
 14   sum_i :=0;
 15  
 16   --dbms_output.put_line(size_i);
 17   loop
 18   if(i!=1) then
 19    if substr(haopai,i,1)!=substr(haopai2,i,1) then
 20    --dbms_output.put_line(i);
 21    -- dbms_output.put_line(substr(haopai,i,1));
 22     -- dbms_output.put_line(substr(haopai2,i,1));
 23    sum_i:=sum_i+1;
 24    end if;
 25    end if;
 26    i:=i+1;
 27    exit when i>size_i;
 28    end loop;
 29    return(sum_i);
 30    --dbms_output.put_line(sum_i);
 31    end;
 32  /
Function created
SQL> prompt

SQL> prompt Creating function REGEXP_LIKE_NUMBER_COMP
Creating function REGEXP_LIKE_NUMBER_COMP
SQL> prompt =========================================
=========================================
SQL> prompt

SQL> create or replace function regexp_like_number_comp(
  2    haopai  VARCHAR2,
  3    haopai2  VARCHAR2 )
  4     return number is
  5    sum_i integer;
  6    size_i integer;
  7    i integer;
  8   begin
  9  --declare
 10  -- haopai varchar2(9) := 'B1U3O5';
 11  -- haopai2 varchar2(9) := 'B12345';
 12   size_i := length(haopai);
 13   i  :=1;
 14   sum_i :=0;
 15  
 16   --dbms_output.put_line(size_i);
 17   loop
 18   --if(i!=1) then
 19    if substr(haopai,i,1)!=substr(haopai2,i,1) then
 20    --dbms_output.put_line(i);
 21    -- dbms_output.put_line(substr(haopai,i,1));
 22     -- dbms_output.put_line(substr(haopai2,i,1));
 23    sum_i:=sum_i+1;
 24    end if;
 25   -- end if;
 26    i:=i+1;
 27    exit when i>size_i;
 28    end loop;
 29    return(sum_i);
 30    --dbms_output.put_line(sum_i);
 31    end;
 32  /
Function created
SQL> prompt

SQL> prompt Creating function ROADLENGTHINEREA
Creating function ROADLENGTHINEREA
SQL> prompt ==================================
==================================
SQL> prompt

SQL> create or replace function roadLengthInErea(p_dldm varchar2, erea varchar2)
  2    return number is
  3    /*
  4    计算道路(道路代码为dldm)在辖区(行政辖区为erea)内的道路长度
  5    注意，只有国道、省道、高速才可以使用此方法计算
  6    */
  7    TYPE xq_item_type IS TABLE OF VARCHAR2(100) index by binary_integer;
  8    xqItem xq_item_type;
  9    /*格式为：李沧,370213,1,1111;.....*/
 10    xzqhxxlc varchar2(2000);
 11    xqLength number := 0;
 12  
 13  begin
 14  
 15    --select xzqhxxlc into xzqhxxlc from vio_coderoad where dldm = p_dldm and glxzdj not in ('3', '4') and rownum = 1;
 16    select xzqhxxlc into xzqhxxlc from vio_coderoad where dldm = p_dldm and rownum = 1;
 17    for item in (select column_value from table(split(xzqhxxlc, ';'))) loop
 18  
 19      select column_value bulk collect into xqItem from table(split(item.column_value, ','));
 20  
 21      if xqItem(2) = erea then
 22        xqLength := to_number(xqItem(4)) - to_number(xqItem(3));
 23      end if;
 24  
 25    end loop;
 26  
 27    return xqLength;
 28  
 29  exception
 30    when others then
 31      dbms_output.put_line(sqlcode || ': ' || sqlerrm || ' in methord :roadLengthInErea');
 32      return 0;
 33  end;
 34  /
Function created
SQL> prompt

SQL> prompt Creating function ZH_CONCAT
Creating function ZH_CONCAT
SQL> prompt ===========================
===========================
SQL> prompt

SQL> CREATE OR REPLACE FUNCTION zh_concat(P1 VARCHAR2)
  2  RETURN VARCHAR2 AGGREGATE USING zh_concat_im;
  3  /
Function created
SQL> prompt

SQL> prompt Creating procedure ADDCONTROLTYPE
Creating procedure ADDCONTROLTYPE
SQL> prompt =================================
=================================
SQL> prompt

SQL> CREATE OR REPLACE PROCEDURE AddControlType(no in VARCHAR2,name in NVARCHAR2,isdelete in CHAR)
  2  AS
  3         maxid varchar2(100);
  4  BEGIN
  5  insert into enum_type(enumtypeid,enumvalue,enumname) values(1101,no,name);
  6  
  7  select lpad(max(to_number(t.id))+1,8,'0') into maxid from OPERATE_COMPONENT t where t.menu_id='020401';
  8  insert into OPERATE_COMPONENT (id, menu_id, name, title, order_id)
  9  values (maxid, '020401', name||'撤控', name||'撤控', null);
 10  insert into role_operation_relation (ROLEID, OPERATIONID)
 11  values ('2c90af8423bc50b30123bc577ef30002',maxid);
 12  insert into control_type_param(controltypeno,allowdelete,operationid) values(no,isdelete,maxid);
 13  commit;
 14  END;
 15  /
Procedure created
SQL> prompt

SQL> prompt Creating procedure ADDCONTROLTYPEINIT
Creating procedure ADDCONTROLTYPEINIT
SQL> prompt =====================================
=====================================
SQL> prompt

SQL> CREATE OR REPLACE PROCEDURE AddControlTypeINIT(no in VARCHAR2,name in NVARCHAR2,isdelete in
  2  
  3  CHAR)
  4  AS
  5         maxid varchar2(100);
  6  BEGIN
  7  --insert into enum_type(enumtypeid,enumvalue,enumname) values(1101,no,name);
  8  
  9  select lpad(max(to_number(t.id))+1,8,'0') into maxid from OPERATE_COMPONENT t where
 10  
 11  t.menu_id='020401';
 12  insert into OPERATE_COMPONENT (id, menu_id, name, title, order_id)
 13  values (maxid, '020401', name||'撤控', name||'撤控', null);
 14  insert into role_operation_relation (ROLEID, OPERATIONID)
 15  values ('2c90af8423bc50b30123bc577ef30002',maxid);
 16  insert into control_type_param(controltypeno,allowdelete,operationid) values(no,isdelete,maxid);
 17  commit;
 18  END;
 19  /
Procedure created
SQL> prompt

SQL> prompt Creating procedure ALERT_ANALYSIS_MIDDLE_DATA
Creating procedure ALERT_ANALYSIS_MIDDLE_DATA
SQL> prompt =============================================
=============================================
SQL> prompt

SQL> CREATE OR REPLACE PROCEDURE ALERT_ANALYSIS_MIDDLE_DATA
  2  AS
  3  BEGIN
  4  insert into black_low_analysis_mid_data
  5  select
  6  t1.bjdd,
  7  TRUNC(SYSDATE-1),
  8  sum(case t1.controltype when '01' then 1 else 0 end) Sgty,
  9  sum(case t1.controltype when '02' then 1 else 0 end) Tpc,
 10  sum(case t1.controltype when '03' then 1 else 0 end) Jpc,
 11  sum(case t1.controltype when '04' then 1 else 0 end) Yqwnj,
 12  sum(case t1.controltype when '05' then 1 else 0 end) Bfc,
 13  sum(case t1.controltype when '06' then 1 else 0 end) Wfwcl,
 14  sum(case t1.controltype when '07' then 1 else 0 end) Dcwfwcl,
 15  sum(case t1.controltype when '21' then 1 else 0 end) Xsaj,
 16  sum(case t1.controltype when '22' then 1 else 0 end) Zdzaaj,
 17  sum(case t1.controltype when '23' then 1 else 0 end) Wffzxyjtgj,
 18  sum(case t1.controltype when '24' then 1 else 0 end) Bdq,
 19  sum(case t1.controltype when '25' then 1 else 0 end) Zactgk,
 20  sum(case t1.controltype when '27' then 1 else 0 end) Hbbfc,
 21  sum(case t1.controltype when '28' then 1 else 0 end) Whpcl,
 22  sum(case t1.controltype when '29' then 1 else 0 end) Gswfwfj
 23  from  black_alert_info t1
 24  where T1.BJSJ>=TRUNC(SYSDATE-1)
 25  AND T1.BJSJ<TRUNC(SYSDATE)
 26  group by t1.bjdd;
 27  end;
 28  /
Procedure created
SQL> prompt

SQL> prompt Creating procedure ANALYSIS_SUM5_SECTION_FLOW_PRO
Creating procedure ANALYSIS_SUM5_SECTION_FLOW_PRO
SQL> prompt =================================================
=================================================
SQL> prompt

SQL> CREATE OR REPLACE PROCEDURE ANALYSIS_SUM5_SECTION_FLOW_PRO is
  2  --路段流量5分钟粒度汇总存储过程
  3    v_table_ori varchar2(30); --被汇总的表
  4    v_table_sum varchar2(30); --汇总结果表
  5  
  6    v_ins_sql varchar2(1000); --执行新增的sql语句
  7    v_sum_sql varchar2(1000); --执行汇总的sql语句
  8  
  9    v_sum_sql_time  varchar2(1000); --根据汇总时间范围不同select的时间精准度不同
 10    v_sum_sql_where varchar2(1000); --执行汇总的sql语句where条件语句
 11  
 12    startDate date default sysdate-30/1440;
 13  
 14    v_errCode VARCHAR2(100); --sql执行产生的错误代码
 15    v_errMsg  VARCHAR2(1000); --sql执行产生的错误信息
 16  
 17  BEGIN
 18    --select sysdate  into startDate   from dual;
 19  
 20      --从1分钟粒度路段流量表里汇总5分钟粒度的流量数据
 21      v_sum_sql_where := ' where speed<100 and speed>=0 and occupancy <= 1 and  stdtime < to_date(' ||
 22                         chr(39) || to_char(startDate, 'yyyy-MM-dd HH24:MI') ||
 23                         chr(39) || ',' || chr(39) || 'yyyy-MM-dd HH24:MI' ||
 24                         chr(39) || ') and stdtime >= to_date(' ||
 25                         chr(39) ||
 26                         to_char(startDate - 5 / 1440, 'yyyy-MM-dd HH24:MI') ||
 27                         chr(39) || ', ' || chr(39) || 'yyyy-MM-dd HH24:MI' ||
 28                         chr(39) || ')';
 29      v_sum_sql_time  := 'to_date(' || chr(39) ||
 30                         to_char(startDate, 'yyyy-MM-dd HH24:MI') || chr(39) || ', ' ||
 31                         chr(39) || 'yyyy-MM-dd HH24:MI' || chr(39) || ')';
 32      --dbms_output.put_line(v_sum_sql_where);
 33      --进行汇总统计和入库
 34      begin
 35        v_table_ori := 'SECTION_FLOW_DATA'; --1分钟粒度路段流量数据表
 36        v_table_sum := 'ANLYS_SECTION_STATUS_DATA_5MIN'; --5分钟粒度路段流量数据表
 37  
 38        v_ins_sql := 'insert into ' || v_table_sum ||
 39                     '(sectionid,pointid,laneid,volume,speed,occupancy,stdtime,datasource)';
 40  
 41        v_sum_sql := 'select sectionid,pointid, laneid, sum(nvl(commcount,0)),trunc(avg(speed),2),trunc(avg(occupancy),2),' ||
 42                     v_sum_sql_time || ',8 from ';
 43        v_sum_sql := v_sum_sql || v_table_ori || v_sum_sql_where ||
 44                     ' group by sectionid, pointid, laneid,DATASOURCE having count(1)=5';
 45  
 46        v_ins_sql := v_ins_sql || ' ' || v_sum_sql;
 47  
 48        dbms_output.put_line(v_ins_sql);
 49        execute immediate v_ins_sql;
 50        commit;
 51  
 52        dbms_output.put_line(to_char(startDate, 'yyyy-mm-dd hh24:mi:ss'));
 53        dbms_output.put_line('汇总5分钟粒度');
 54  
 55      exception
 56        when others then
 57          v_errCode := TO_CHAR(SQLCODE);
 58          v_errMsg  := SQLERRM;
 59  
 60          dbms_output.put_line(v_errCode || v_errMsg);
 61      end;
 62  
 63  end ANALYSIS_SUM5_SECTION_FLOW_PRO;
 64  /
Procedure created
SQL> prompt

SQL> prompt Creating procedure ANALYSIS_SUM_CROSS_FLOW_PRO
Creating procedure ANALYSIS_SUM_CROSS_FLOW_PRO
SQL> prompt ==============================================
==============================================
SQL> prompt

SQL> CREATE OR REPLACE PROCEDURE ANALYSIS_SUM_CROSS_FLOW_PRO is
  2  --路口流量逐级汇总存储过程
  3    v_table_ori varchar2(30); --被汇总的表
  4    v_table_sum varchar2(30); --汇总结果表
  5  
  6    v_ins_sql varchar2(1000); --执行新增的sql语句
  7    v_sum_sql varchar2(1000); --执行汇总的sql语句
  8  
  9    v_sum_sql_time  varchar2(1000); --根据汇总时间范围不同select的时间精准度不同
 10    v_sum_sql_where varchar2(1000); --执行汇总的sql语句where条件语句
 11  
 12    startDate date;
 13    v_minute  number default 1;
 14    v_hour number default 1;
 15  
 16    v_errCode VARCHAR2(100); --sql执行产生的错误代码
 17    v_errMsg  VARCHAR2(1000); --sql执行产生的错误信息
 18  --因信号机上传数据流量延迟+数据融合和补偿耗时。
 19  BEGIN
 20    select sysdate - 75/1440, to_number(to_char(sysdate - 75/1440, 'mi')), to_number(to_char(sysdate - 75/1440, 'hh24'))
 21      into startDate, v_minute,v_hour
 22      from dual;
 23  
 24  --  v_minute := 0;
 25  --  v_hour:=0;
 26  
 27    if mod(v_minute, 15) = 0 then
 28      --从5分钟粒度路口流量表里汇总15分钟粒度的流量数据
 29      v_sum_sql_where := ' where  deoccupancy>=0 and deoccupancy<=1 and(nvolume!=0 or deoccupancy=0) and(nvolume>=10 or deoccupancy<=0.3) and nlaneno!=0 and dtcollecttime<to_date('||
 30                         chr(39) || to_char(startDate, 'yyyy-MM-dd HH24:MI') ||
 31                         chr(39) || ',' || chr(39) || 'yyyy-MM-dd HH24:MI' ||
 32                         chr(39) || ') and dtcollecttime >=to_date(' ||
 33                         chr(39) ||
 34                         to_char(startDate - 15/1440, 'yyyy-MM-dd HH24:MI') ||
 35                         chr(39) || ', ' || chr(39) || 'yyyy-MM-dd HH24:MI' ||
 36                         chr(39) || ')';
 37      v_sum_sql_time  := 'to_date(' || chr(39) ||
 38                         to_char(startDate, 'yyyy-MM-dd HH24:MI') || chr(39) || ', ' ||
 39                         chr(39) || 'yyyy-MM-dd HH24:MI' || chr(39) || ')';
 40      --dbms_output.put_line(v_sum_sql_where);
 41      --进行汇总统计和入库
 42      begin
 43        v_table_ori := 'INTERSECTION_STATUS_DATA'; --5分钟粒度路口流量数据表
 44        v_table_sum := 'ANLYS_INTS_STATUS_DATA_15MI'; --15分钟粒度路口流量数据表
 45  
 46        v_ins_sql := 'insert into ' || v_table_sum ||
 47                     '(cintsid,napproachdirection,nlaneno,volume,speed,occupancy,collectiontime)';
 48  
 49        v_sum_sql := 'select cintsid,napproachdirection, nlaneno, sum(nvl(nvolume,0)),trunc(avg(despeed),2),trunc(avg(deoccupancy),2),' ||
 50                     v_sum_sql_time || ' from ';
 51        v_sum_sql := v_sum_sql || v_table_ori || v_sum_sql_where ||
 52                     ' group by cintsid,napproachdirection,nlaneno';
 53  
 54        v_ins_sql := v_ins_sql || ' ' || v_sum_sql;
 55  
 56        dbms_output.put_line(v_ins_sql);
 57        execute immediate v_ins_sql;
 58        commit;
 59  
 60        dbms_output.put_line(to_char(startDate, 'yyyy-mm-dd hh24:mi:ss'));
 61        dbms_output.put_line('汇总15分钟粒度');
 62  
 63      exception
 64        when others then
 65          v_errCode := TO_CHAR(SQLCODE);
 66          v_errMsg  := SQLERRM;
 67  
 68          dbms_output.put_line(v_errCode || v_errMsg);
 69      end;
 70    end if;
 71  
 72    if mod(v_minute, 30) = 0 then
 73      --从15分钟粒度路口流量表里汇总30分钟粒度的流量数据
 74  
 75      v_sum_sql_where := ' where nlaneno!=0 and COLLECTIONTIME<= to_date(' ||
 76                         chr(39) || to_char(startDate, 'yyyy-MM-dd HH24:MI') ||
 77                         chr(39) || ',' || chr(39) || 'yyyy-MM-dd HH24:MI' ||
 78                         chr(39) || ') and COLLECTIONTIME >= to_date(' ||
 79                         chr(39) ||
 80                         to_char(startDate - 16/1440, 'yyyy-MM-dd HH24:MI') ||
 81                         chr(39) || ', ' || chr(39) || 'yyyy-MM-dd HH24:MI' ||
 82                         chr(39) || ')';
 83      v_sum_sql_time  := 'to_date(' || chr(39) ||
 84                         to_char(startDate, 'yyyy-MM-dd HH24:MI') || chr(39) || ', ' ||
 85                         chr(39) || 'yyyy-MM-dd HH24:MI' || chr(39) || ')';
 86      --dbms_output.put_line(v_sum_sql_where);
 87      --进行汇总统计和入库
 88      begin
 89        v_table_ori := 'ANLYS_INTS_STATUS_DATA_15MI'; --15分钟粒度路口流量数据表
 90        v_table_sum := 'ANLYS_INTS_STATUS_DATA_30MI'; --30分钟粒度路口流量数据表
 91  
 92        v_ins_sql := 'insert into ' || v_table_sum ||
 93                     '(cintsid,napproachdirection,nlaneno,volume,speed,occupancy,collectiontime)';
 94  
 95        v_sum_sql := 'select cintsid,napproachdirection, nlaneno, sum(nvl(volume,0)),trunc(avg(speed),2),trunc(avg(occupancy),2),' ||
 96                     v_sum_sql_time || ' from ';
 97        v_sum_sql := v_sum_sql || v_table_ori || v_sum_sql_where ||
 98                     ' group by cintsid,napproachdirection,nlaneno';
 99  
100        v_ins_sql := v_ins_sql || ' ' || v_sum_sql;
101  
102        dbms_output.put_line(v_ins_sql);
103        execute immediate v_ins_sql;
104        commit;
105  
106        dbms_output.put_line(to_char(startDate, 'yyyy-mm-dd hh24:mi:ss'));
107        dbms_output.put_line('汇总30分钟粒度');
108  
109      exception
110        when others then
111          v_errCode := TO_CHAR(SQLCODE);
112          v_errMsg  := SQLERRM;
113  
114          dbms_output.put_line(v_errCode || v_errMsg);
115      end;
116    end if;
117  
118    if mod(v_minute, 60) = 0 then
119      --从30分钟粒度路口流量表里汇总1小时粒度的流量数据
120  
121      v_sum_sql_where := ' where nlaneno!=0 and COLLECTIONTIME<= to_date(' ||
122                         chr(39) || to_char(startDate, 'yyyy-MM-dd HH24:MI') ||
123                         chr(39) || ',' || chr(39) || 'yyyy-MM-dd HH24:MI' ||
124                         chr(39) || ') and COLLECTIONTIME >= to_date(' ||
125                         chr(39) ||
126                         to_char(startDate - 31/1440, 'yyyy-MM-dd HH24:MI') ||
127                         chr(39) || ', ' || chr(39) || 'yyyy-MM-dd HH24:MI' ||
128                         chr(39) || ')';
129      v_sum_sql_time  := 'to_date(' || chr(39) ||
130                         to_char(startDate, 'yyyy-MM-dd HH24:MI') || chr(39) || ', ' ||
131                         chr(39) || 'yyyy-MM-dd HH24:MI' || chr(39) || ')';
132      --dbms_output.put_line(v_sum_sql_where);
133      --进行汇总统计和入库
134      begin
135        v_table_ori := 'ANLYS_INTS_STATUS_DATA_30MI'; --30分钟粒度路口流量数据表
136        v_table_sum := 'ANLYS_INTS_STATUS_DATA_HOUR'; --1小时粒度路口流量数据表
137  
138        v_ins_sql := 'insert into ' || v_table_sum ||
139                     '(cintsid,napproachdirection,nlaneno,volume,speed,occupancy,collectiontime)';
140  
141        v_sum_sql := 'select cintsid,napproachdirection, nlaneno, sum(nvl(volume,0)),trunc(avg(speed),2),trunc(avg(occupancy),2),' ||
142                     v_sum_sql_time || ' from ';
143        v_sum_sql := v_sum_sql || v_table_ori || v_sum_sql_where ||
144                     ' group by cintsid,napproachdirection,nlaneno';
145  
146        v_ins_sql := v_ins_sql || ' ' || v_sum_sql;
147  
148        dbms_output.put_line(v_ins_sql);
149        execute immediate v_ins_sql;
150        commit;
151  
152        dbms_output.put_line(to_char(startDate, 'yyyy-mm-dd hh24:mi:ss'));
153        dbms_output.put_line('汇总1小时粒度');
154  
155      exception
156        when others then
157          v_errCode := TO_CHAR(SQLCODE);
158          v_errMsg  := SQLERRM;
159  
160          dbms_output.put_line(v_errCode || v_errMsg);
161      end;
162  
163    end if;
164  
165      if (v_minute=0 and v_hour=0) then
166      --从1小时粒度路口流量表里汇总1天粒度的流量数据
167  
168      v_sum_sql_where := ' where nlaneno!=0 and COLLECTIONTIME<= to_date(' ||
169                         chr(39) || to_char(startDate, 'yyyy-MM-dd HH24:MI') ||
170                         chr(39) || ',' || chr(39) || 'yyyy-MM-dd HH24:MI' ||
171                         chr(39) || ') and COLLECTIONTIME >= to_date(' ||
172                         chr(39) ||
173                         to_char(startDate - 1385/1440, 'yyyy-MM-dd HH24:MI') ||
174                         chr(39) || ', ' || chr(39) || 'yyyy-MM-dd HH24:MI' ||
175                         chr(39) || ')';
176      v_sum_sql_time  := 'to_date(' || chr(39) ||
177                         to_char(startDate-1, 'yyyy-MM-dd HH24:MI') || chr(39) || ', ' ||
178                         chr(39) || 'yyyy-MM-dd HH24:MI' || chr(39) || ')';
179      --dbms_output.put_line(v_sum_sql_where);
180      --进行汇总统计和入库
181      begin
182        v_table_ori := 'ANLYS_INTS_STATUS_DATA_HOUR'; --1小时粒度路口流量数据表
183        v_table_sum := 'ANLYS_INTS_STATUS_DATA_DAY'; --1天粒度路口流量数据表
184  
185        v_ins_sql := 'insert into ' || v_table_sum ||
186                     '(cintsid,napproachdirection,nlaneno,volume,speed,occupancy,collectiontime)';
187  
188        v_sum_sql := 'select cintsid,napproachdirection, nlaneno, sum(nvl(volume,0)),trunc(avg(speed),2),trunc(avg(occupancy),2),' ||
189                     v_sum_sql_time || ' from ';
190        v_sum_sql := v_sum_sql || v_table_ori || v_sum_sql_where ||
191                     ' group by cintsid,napproachdirection,nlaneno';
192  
193        v_ins_sql := v_ins_sql || ' ' || v_sum_sql;
194  
195        dbms_output.put_line(v_ins_sql);
196        execute immediate v_ins_sql;
197        commit;
198  
199        dbms_output.put_line(to_char(startDate, 'yyyy-mm-dd hh24:mi:ss'));
200        dbms_output.put_line('汇总1天粒度');
201  
202      exception
203        when others then
204          v_errCode := TO_CHAR(SQLCODE);
205          v_errMsg  := SQLERRM;
206  
207          dbms_output.put_line(v_errCode || v_errMsg);
208      end;
209  
210    end if;
211  
212  end ANALYSIS_SUM_CROSS_FLOW_PRO;
213  /
Procedure created
SQL> prompt

SQL> prompt Creating procedure ANALYSIS_SUM_SECTION_FLOW_PRO
Creating procedure ANALYSIS_SUM_SECTION_FLOW_PRO
SQL> prompt ================================================
================================================
SQL> prompt

SQL> CREATE OR REPLACE PROCEDURE ANALYSIS_SUM_SECTION_FLOW_PRO is
  2  --路段流量逐级汇总存储过程
  3    v_table_ori varchar2(30); --被汇总的表
  4    v_table_sum varchar2(30); --汇总结果表
  5  
  6    v_ins_sql varchar2(1000); --执行新增的sql语句
  7    v_sum_sql varchar2(1000); --执行汇总的sql语句
  8  
  9    v_sum_sql_time  varchar2(1000); --根据汇总时间范围不同select的时间精准度不同
 10    v_sum_sql_where varchar2(1000); --执行汇总的sql语句where条件语句
 11  
 12    startDate date;
 13    v_minute  number default 1;
 14    v_hour number default 1;
 15  
 16    v_errCode VARCHAR2(100); --sql执行产生的错误代码
 17    v_errMsg  VARCHAR2(1000); --sql执行产生的错误信息
 18  
 19  BEGIN
 20    select sysdate - 45 / 1440, to_number(to_char(sysdate - 45 / 1440, 'mi')), to_number(to_char(sysdate - 45 / 1440, 'hh24'))
 21      into startDate, v_minute,v_hour
 22      from dual;
 23  
 24   --v_minute := 0;
 25   --v_hour:=0;
 26  
 27    if mod(v_minute, 15) = 0 then
 28      --从5分钟粒度路段流量表里汇总15分钟粒度的流量数据
 29      v_sum_sql_where := ' where speed<100 and speed>=0 and occupancy <= 1 and  stdtime <= to_date(' ||
 30                         chr(39) || to_char(startDate, 'yyyy-MM-dd HH24:MI') ||
 31                         chr(39) || ',' || chr(39) || 'yyyy-MM-dd HH24:MI' ||
 32                         chr(39) || ') and stdtime >= to_date(' ||
 33                         chr(39) ||
 34                         to_char(startDate - 11 / 1440, 'yyyy-MM-dd HH24:MI') ||
 35                         chr(39) || ', ' || chr(39) || 'yyyy-MM-dd HH24:MI' ||
 36                         chr(39) || ')';
 37      v_sum_sql_time  := 'to_date(' || chr(39) ||
 38                         to_char(startDate, 'yyyy-MM-dd HH24:MI') || chr(39) || ', ' ||
 39                         chr(39) || 'yyyy-MM-dd HH24:MI' || chr(39) || ')';
 40      --dbms_output.put_line(v_sum_sql_where);
 41      --进行汇总统计和入库
 42      begin
 43        v_table_ori := 'ANLYS_SECTION_STATUS_DATA_5MIN'; --5分钟粒度路段流量数据表
 44        v_table_sum := 'ANLYS_SECTION_STATUS_DATA_15MI'; --15分钟粒度路段流量数据表
 45  
 46        v_ins_sql := 'insert into ' || v_table_sum ||
 47                     '(sectionid,pointid,laneid,volume,speed,occupancy,stdtime,datasource)';
 48  
 49        v_sum_sql := 'select sectionid,pointid, laneid, sum(nvl(volume,0)),trunc(avg(speed),2),trunc(avg(occupancy),2),' ||
 50                     v_sum_sql_time || ',8 from ';
 51        v_sum_sql := v_sum_sql || v_table_ori || v_sum_sql_where ||
 52                     ' group by sectionid, pointid, laneid';
 53  
 54        v_ins_sql := v_ins_sql || ' ' || v_sum_sql;
 55  
 56        dbms_output.put_line(v_ins_sql);
 57        execute immediate v_ins_sql;
 58        commit;
 59  
 60        dbms_output.put_line(to_char(startDate, 'yyyy-mm-dd hh24:mi:ss'));
 61        dbms_output.put_line('汇总15分钟粒度');
 62  
 63      exception
 64        when others then
 65          v_errCode := TO_CHAR(SQLCODE);
 66          v_errMsg  := SQLERRM;
 67  
 68          dbms_output.put_line(v_errCode || v_errMsg);
 69      end;
 70    end if;
 71  
 72    if mod(v_minute, 30) = 0 then
 73     --从15分钟粒度路段流量表里汇总30分钟粒度的流量数据
 74      v_sum_sql_where := ' where speed<100 and speed>=0 and occupancy <= 1 and  stdtime <= to_date(' ||
 75                         chr(39) || to_char(startDate, 'yyyy-MM-dd HH24:MI') ||
 76                         chr(39) || ',' || chr(39) || 'yyyy-MM-dd HH24:MI' ||
 77                         chr(39) || ') and stdtime >= to_date(' ||
 78                         chr(39) ||
 79                         to_char(startDate - 16 / 1440, 'yyyy-MM-dd HH24:MI') ||
 80                         chr(39) || ', ' || chr(39) || 'yyyy-MM-dd HH24:MI' ||
 81                         chr(39) || ')';
 82      v_sum_sql_time  := 'to_date(' || chr(39) ||
 83                         to_char(startDate, 'yyyy-MM-dd HH24:MI') || chr(39) || ', ' ||
 84                         chr(39) || 'yyyy-MM-dd HH24:MI' || chr(39) || ')';
 85      --dbms_output.put_line(v_sum_sql_where);
 86      --进行汇总统计和入库
 87      begin
 88        v_table_ori := 'ANLYS_SECTION_STATUS_DATA_15MI'; --15分钟粒度路段流量数据表
 89        v_table_sum := 'ANLYS_SECTION_STATUS_DATA_30MI'; --30分钟粒度路段流量数据表
 90  
 91        v_ins_sql := 'insert into ' || v_table_sum ||
 92                     '(sectionid,pointid,laneid,volume,speed,occupancy,stdtime,datasource)';
 93  
 94        v_sum_sql := 'select sectionid,pointid, laneid, sum(nvl(volume,0)),trunc(avg(speed),2),trunc(avg(occupancy),2),' ||
 95                     v_sum_sql_time || ',8 from ';
 96        v_sum_sql := v_sum_sql || v_table_ori || v_sum_sql_where ||
 97                     ' group by sectionid, pointid, laneid';
 98  
 99        v_ins_sql := v_ins_sql || ' ' || v_sum_sql;
100  
101        dbms_output.put_line(v_ins_sql);
102        execute immediate v_ins_sql;
103        commit;
104  
105        dbms_output.put_line(to_char(startDate, 'yyyy-mm-dd hh24:mi:ss'));
106        dbms_output.put_line('汇总30分钟粒度');
107  
108      exception
109        when others then
110          v_errCode := TO_CHAR(SQLCODE);
111          v_errMsg  := SQLERRM;
112  
113          dbms_output.put_line(v_errCode || v_errMsg);
114      end;
115    end if;
116  
117    if mod(v_minute, 60) = 0 then
118      --从30分钟粒度路段流量表里汇总1小时粒度的流量数据
119  
120      v_sum_sql_where := ' where speed<100 and speed>=0 and occupancy <= 1 and  stdtime <=to_date(' ||
121                         chr(39) || to_char(startDate, 'yyyy-MM-dd  HH24:MI') ||
122                         chr(39) || ',' || chr(39) || 'yyyy-MM-dd  HH24:MI' ||
123                         chr(39) || ') and stdtime >= to_date(' ||
124                         chr(39) ||
125                         to_char(startDate - 31 / 1440, 'yyyy-MM-dd HH24:MI') ||
126                         chr(39) || ', ' || chr(39) || 'yyyy-MM-dd HH24:MI' ||
127                         chr(39) || ')';
128      v_sum_sql_time  := 'to_date(' || chr(39) ||
129                         to_char(startDate, 'yyyy-MM-dd HH24:MI') || chr(39) || ', ' ||
130                         chr(39) || 'yyyy-MM-dd HH24:MI' || chr(39) || ')';
131      --dbms_output.put_line(v_sum_sql_where);
132      --进行汇总统计和入库
133      begin
134        v_table_ori := 'ANLYS_SECTION_STATUS_DATA_30MI'; --30分钟粒度路段流量数据表
135        v_table_sum := 'ANLYS_SECTION_STATUS_DATA_HOUR'; --1小时粒度路段流量数据表
136  
137        v_ins_sql := 'insert into ' || v_table_sum ||
138                     '(sectionid,pointid,laneid,volume,speed,occupancy,collectiontime,datasource)';
139  
140        v_sum_sql := 'select sectionid,pointid, laneid, sum(nvl(volume,0)),trunc(avg(speed),2),trunc(avg(occupancy),2),' ||
141                     v_sum_sql_time || ',8 from ';
142        v_sum_sql := v_sum_sql || v_table_ori || v_sum_sql_where ||
143                     ' group by sectionid, pointid, laneid';
144  
145        v_ins_sql := v_ins_sql || ' ' || v_sum_sql;
146  
147        dbms_output.put_line(v_ins_sql);
148        execute immediate v_ins_sql;
149        commit;
150  
151        dbms_output.put_line(to_char(startDate, 'yyyy-mm-dd hh24:mi:ss'));
152        dbms_output.put_line('汇总1小时粒度');
153  
154      exception
155        when others then
156          v_errCode := TO_CHAR(SQLCODE);
157          v_errMsg  := SQLERRM;
158  
159          dbms_output.put_line(v_errCode || v_errMsg);
160      end;
161  
162    end if;
163  
164      if (v_minute=0 and v_hour=0) then
165      --从1小时粒度路段流量表里汇总1天粒度的流量数据
166      v_sum_sql_where := ' where speed<100 and speed>=0 and occupancy <= 1 and  collectiontime <= to_date(' ||
167                         chr(39) || to_char(startDate, 'yyyy-MM-dd') ||
168                         chr(39) || ',' || chr(39) || 'yyyy-MM-dd' ||
169                         chr(39) || ') and collectiontime >= to_date(' ||
170                         chr(39) ||
171                         to_char(startDate - 1385/1440, 'yyyy-MM-dd') ||
172                         chr(39) || ', ' || chr(39) || 'yyyy-MM-dd' ||
173                         chr(39) || ')';
174      v_sum_sql_time  := 'to_date(' || chr(39) ||
175                         to_char(startDate-1, 'yyyy-MM-dd') || chr(39) || ', ' ||
176                         chr(39) || 'yyyy-MM-dd' || chr(39) || ')';
177      --dbms_output.put_line(v_sum_sql_where);
178      --进行汇总统计和入库
179      begin
180        v_table_ori := 'ANLYS_SECTION_STATUS_DATA_HOUR'; --1小时粒度路段流量数据表
181        v_table_sum := 'ANLYS_SECTION_STATUS_DATA_DAY'; --1天粒度路段流量数据表
182  
183        v_ins_sql := 'insert into ' || v_table_sum ||
184                     '(sectionid,pointid,laneid,volume,speed,occupancy,stdtime,datasource)';
185  
186        v_sum_sql := 'select sectionid,pointid, laneid, sum(nvl(volume,0)),trunc(avg(speed),2),trunc(avg(occupancy),2),' ||
187                     v_sum_sql_time || ',8 from ';
188        v_sum_sql := v_sum_sql || v_table_ori || v_sum_sql_where ||
189                     ' group by sectionid, pointid, laneid';
190  
191        v_ins_sql := v_ins_sql || ' ' || v_sum_sql;
192  
193        dbms_output.put_line(v_ins_sql);
194        execute immediate v_ins_sql;
195        commit;
196  
197        dbms_output.put_line(to_char(startDate, 'yyyy-mm-dd hh24:mi:ss'));
198        dbms_output.put_line('汇总1天粒度');
199  
200      exception
201        when others then
202          v_errCode := TO_CHAR(SQLCODE);
203          v_errMsg  := SQLERRM;
204  
205          dbms_output.put_line(v_errCode || v_errMsg);
206      end;
207  
208    end if;
209  
210  end ANALYSIS_SUM_SECTION_FLOW_PRO;
211  /
Procedure created
SQL> prompt

SQL> prompt Creating procedure ANLYS_HIGHSECTION_COMPUTE_PRO
Creating procedure ANLYS_HIGHSECTION_COMPUTE_PRO
SQL> prompt ================================================
================================================
SQL> prompt

SQL> CREATE OR REPLACE PROCEDURE ANLYS_HighSECTION_compute_PRO is
  2  --高速路段路况5分钟粒度汇总存储过程
  3    v_table_ori varchar2(30); --被汇总的表
  4    v_table_sum varchar2(30); --汇总结果表
  5  
  6    v_ins_sql varchar2(1000); --执行新增的sql语句
  7    v_sum_sql varchar2(1000); --执行汇总的sql语句
  8  
  9    v_sum_sql_where varchar2(1000); --执行汇总的sql语句where条件语句
 10  
 11    startDate date;
 12    v_minute  number default 1;
 13    v_hour number default 1;
 14  
 15    v_errCode VARCHAR2(100); --sql执行产生的错误代码
 16    v_errMsg  VARCHAR2(1000); --sql执行产生的错误信息
 17  
 18  BEGIN
 19    select sysdate - 30 / 1440, to_number(to_char(sysdate - 30 / 1440, 'mi')), to_number(to_char(sysdate - 30 / 1440, 'hh24'))
 20      into startDate, v_minute,v_hour
 21      from dual;
 22  
 23  
 24  /*   select to_date('2015/4/1 01:00', 'yyyy-MM-dd HH24:MI') - 30 / 1440, to_number(to_char(to_date('2015/4/1 01:00', 'yyyy-MM-dd HH24:MI') - 30 / 1440, 'mi')), to_number(to_char(to_date('2015/4/1 01:00', 'yyyy-MM-dd HH24:MI') - 30 / 1440, 'hh24'))
 25     into startDate, v_minute,v_hour
 26     from dual; */
 27  
 28   --v_minute := 0;
 29   --v_hour:=0;
 30  
 31    if mod(v_minute, 5) = 0 then
 32      --从路段路况原表汇总5分钟粒度的高速路段路况
 33      v_sum_sql_where := ' where m.sectionlevel=''0''  and  s.computetime = to_date(' ||
 34                         chr(39) || to_char(startDate, 'yyyy-MM-dd HH24:MI') ||
 35                         chr(39) || ',' || chr(39) || 'yyyy-MM-dd HH24:MI' ||
 36                         chr(39) || ') ';
 37  
 38      --进行汇总统计和入库
 39      begin
 40        v_table_ori := 'section_status_compute'; --路段路况原表
 41        v_table_sum := 'ANLYS_GS_SECTION_COMPUTE'; --高速路段路况5分钟粒度
 42  
 43        v_ins_sql := 'insert into ' || v_table_sum ||
 44                     '(sectionid,STATUS,TRAVELTIME,INDEY,RUNNINGSPEED,COMPUTETIME)';
 45  
 46        v_sum_sql := 'select s.section_id,s.status, s.traveltime,s.indey,' ||
 47                     'case when s.traveltime>0 then round(m.length/s.traveltime*3.6,2) else 0 end ,s.computetime from ' ;
 48        v_sum_sql := v_sum_sql || v_table_ori || ' s left join monitor_section m on m.sectionid=s.section_id ' || v_sum_sql_where;
 49  
 50        v_ins_sql := v_ins_sql || ' ' || v_sum_sql;
 51  
 52        dbms_output.put_line(v_ins_sql);
 53        execute immediate v_ins_sql;
 54        commit;
 55  
 56        dbms_output.put_line(to_char(startDate, 'yyyy-mm-dd hh24:mi:ss'));
 57        dbms_output.put_line('汇总5分钟粒度');
 58  
 59      exception
 60        when others then
 61          v_errCode := TO_CHAR(SQLCODE);
 62          v_errMsg  := SQLERRM;
 63  
 64          dbms_output.put_line(v_errCode || v_errMsg);
 65      end;
 66    end if;
 67  
 68  end ANLYS_HighSECTION_compute_PRO;
 69  /
Procedure created
SQL> prompt

SQL> prompt Creating procedure ANLYS_KAKOU_FLOW_PRO
Creating procedure ANLYS_KAKOU_FLOW_PRO
SQL> prompt =======================================
=======================================
SQL> prompt

SQL> CREATE OR REPLACE PROCEDURE ANLYS_KAKOU_FLOW_PRO is
  2  --高速公路卡口流量逐级汇总存储过程
  3    v_table_ori varchar2(1000); --被汇总的表
  4    v_table_sum varchar2(30); --汇总结果表
  5    v_kakou_data varchar2(1000);--高速公路卡口数据
  6  
  7    v_ins_sql varchar2(3000); --执行新增的sql语句
  8    v_sum_sql varchar2(3000); --执行汇总的sql语句
  9  
 10    v_sum_sql_time  varchar2(1000); --根据汇总时间范围不同select的时间精准度不同
 11    v_sum_sql_where varchar2(1000); --执行汇总的sql语句where条件语句
 12  
 13    startDate date;
 14    v_minute  number default 1;
 15    v_hour number default 1;
 16  
 17    v_errCode VARCHAR2(100); --sql执行产生的错误代码
 18    v_errMsg  VARCHAR2(1000); --sql执行产生的错误信息
 19  
 20  BEGIN
 21    select sysdate - 45 / 1440, to_number(to_char(sysdate - 45 / 1440, 'mi')), to_number(to_char(sysdate - 45 / 1440, 'hh24'))
 22      into startDate, v_minute,v_hour
 23      from dual;
 24  
 25  /*      select to_date('2015/5/4 11:00','yyyy-mm-dd hh24:mi') - 45 / 1440, to_number(to_char(to_date('2015/5/4 11:00','yyyy-mm-dd hh24:mi') - 45 / 1440, 'mi')), to_number(to_char(to_date('2015/5/4 11:00','yyyy-mm-dd hh24:mi') - 45 / 1440, 'hh24'))
 26      into startDate, v_minute,v_hour
 27      from dual;*/
 28  
 29    if mod(v_minute, 5) = 0 then
 30      --从1分钟粒度卡口流量源表里汇总5分钟粒度的流量数据
 31      v_sum_sql_where := ' where dsd.counttime < to_date(' ||
 32                         chr(39) || to_char(startDate, 'yyyy-MM-dd HH24:MI') ||
 33                         chr(39) || ',' || chr(39) || 'yyyy-MM-dd HH24:MI' ||
 34                         chr(39) || ') and dsd.counttime >= to_date(' ||
 35                         chr(39) ||
 36                         to_char(startDate - 5 / 1440, 'yyyy-MM-dd HH24:MI') ||
 37                         chr(39) || ', ' || chr(39) || 'yyyy-MM-dd HH24:MI' ||
 38                         chr(39) || ')';
 39      v_sum_sql_time  := 'to_date(' || chr(39) ||
 40                         to_char(startDate, 'yyyy-MM-dd HH24:MI') || chr(39) || ', ' ||
 41                         chr(39) || 'yyyy-MM-dd HH24:MI' || chr(39) || ')';
 42  
 43  
 44      --进行汇总统计和入库
 45      begin
 46        v_table_ori := ' select dsd.devicecode, dsd.laneno, sum(flux) flux from detect_speed_data_flux dsd'; --1分钟粒度卡口流量数据表
 47        v_table_ori := v_table_ori || v_sum_sql_where || ' group by dsd.devicecode, dsd.laneno';
 48  
 49        v_table_sum := 'ANLYS_KAKOU_STATUS_DATA_5MIN'; --5分钟粒度卡口流量数据表
 50  
 51        v_kakou_data := ' select * from (select distinct m.pointcode, e.direction,e.deviceid,e.startlan,e.lanenum from monitor_point m'||
 52                        ' join equipment_info e on m.pointcode = e.pointid and (e.devicetype in (''01'', ''02'') or (e.devicetype = ''03'' and e.passfunc = 1))' ||
 53                        ' where (m.funcitems like ''%02%'' or m.funcitems like ''%01%'' or m.funcitems like ''%03%'') '||
 54                        ' and m.departmentid in(select et.enumvalue from enum_type et where et.enumtypeid = 99)) ';
 55  
 56        v_ins_sql := 'insert into ' || v_table_sum ||
 57                     '(POINTID,DEVICEID,DIRECTION,LANEID,VOLUME,COUNTTIME)';
 58  
 59        v_sum_sql := 'select p.pointid,p.deviceid,p.direction,p.laneid,nvl(q.flux, -1) volume,' ||
 60                     v_sum_sql_time || ' counttime from (' ||
 61                     ' select s.pointcode pointid,s.deviceid,s.direction,s.startlan - 1 + rn laneid from (' ||
 62                     ' select * from (' || v_kakou_data || '),(select rownum rn from (' || v_kakou_data || '))' ||
 63                     ' where lanenum >= rn ) s) p';
 64        v_sum_sql := v_sum_sql || ' left join (' || v_table_ori || ') q on p.deviceid = q.devicecode and p.laneid = q.laneno' ||
 65                     ' where nvl(q.flux, -1) != -1';
 66  
 67        v_ins_sql := v_ins_sql || ' ' || v_sum_sql;
 68  
 69  /*      dbms_output.put_line(substr(v_ins_sql,0,1000));
 70        dbms_output.put_line(substr(v_ins_sql,1001,2000));
 71         dbms_output.put_line(substr(v_ins_sql,2001,3000));*/
 72        execute immediate v_ins_sql;
 73        commit;
 74  
 75        dbms_output.put_line(to_char(startDate, 'yyyy-mm-dd hh24:mi:ss'));
 76        dbms_output.put_line('汇总5分钟粒度');
 77  
 78      exception
 79        when others then
 80          v_errCode := TO_CHAR(SQLCODE);
 81          v_errMsg  := SQLERRM;
 82  
 83          dbms_output.put_line(v_errCode || v_errMsg);
 84      end;
 85    end if;
 86  
 87    if mod(v_minute, 15) = 0 then
 88      --从5分钟粒度卡口流量表里汇总15分钟粒度的流量数据
 89      v_sum_sql_where := ' where counttime <= to_date(' ||
 90                         chr(39) || to_char(startDate, 'yyyy-MM-dd HH24:MI') ||
 91                         chr(39) || ',' || chr(39) || 'yyyy-MM-dd HH24:MI' ||
 92                         chr(39) || ') and counttime >= to_date(' ||
 93                         chr(39) ||
 94                         to_char(startDate - 11 / 1440, 'yyyy-MM-dd HH24:MI') ||
 95                         chr(39) || ', ' || chr(39) || 'yyyy-MM-dd HH24:MI' ||
 96                         chr(39) || ')';
 97      v_sum_sql_time  := 'to_date(' || chr(39) ||
 98                         to_char(startDate, 'yyyy-MM-dd HH24:MI') || chr(39) || ', ' ||
 99                         chr(39) || 'yyyy-MM-dd HH24:MI' || chr(39) || ')';
100  
101      --进行汇总统计和入库
102      begin
103        v_table_ori := 'ANLYS_KAKOU_STATUS_DATA_5MIN'; --5分钟粒度卡口流量数据表
104        v_table_sum := 'ANLYS_KAKOU_STATUS_DATA_15MIN'; --15分钟粒度卡口流量数据表
105  
106        v_ins_sql := 'insert into ' || v_table_sum ||
107                     '(POINTID,DEVICEID,DIRECTION,LANEID,VOLUME,COUNTTIME)';
108  
109        v_sum_sql := 'select POINTID,DEVICEID,DIRECTION,LANEID,sum(nvl(volume,0)) VOLUME,' ||
110                     v_sum_sql_time || ' from ';
111        v_sum_sql := v_sum_sql || v_table_ori || v_sum_sql_where ||
112                     ' group by POINTID,DEVICEID,DIRECTION,LANEID';
113  
114        v_ins_sql := v_ins_sql || ' ' || v_sum_sql;
115  
116       /* dbms_output.put_line(v_ins_sql);*/
117        execute immediate v_ins_sql;
118        commit;
119  
120        dbms_output.put_line(to_char(startDate, 'yyyy-mm-dd hh24:mi:ss'));
121        dbms_output.put_line('汇总15分钟粒度');
122  
123      exception
124        when others then
125          v_errCode := TO_CHAR(SQLCODE);
126          v_errMsg  := SQLERRM;
127  
128          dbms_output.put_line(v_errCode || v_errMsg);
129      end;
130    end if;
131  
132    if mod(v_minute, 30) = 0 then
133     --从15分钟粒度卡口流量表里汇总30分钟粒度的流量数据
134      v_sum_sql_where := ' where counttime <= to_date(' ||
135                         chr(39) || to_char(startDate, 'yyyy-MM-dd HH24:MI') ||
136                         chr(39) || ',' || chr(39) || 'yyyy-MM-dd HH24:MI' ||
137                         chr(39) || ') and counttime >= to_date(' ||
138                         chr(39) ||
139                         to_char(startDate - 16 / 1440, 'yyyy-MM-dd HH24:MI') ||
140                         chr(39) || ', ' || chr(39) || 'yyyy-MM-dd HH24:MI' ||
141                         chr(39) || ')';
142      v_sum_sql_time  := 'to_date(' || chr(39) ||
143                         to_char(startDate, 'yyyy-MM-dd HH24:MI') || chr(39) || ', ' ||
144                         chr(39) || 'yyyy-MM-dd HH24:MI' || chr(39) || ')';
145  
146      --进行汇总统计和入库
147      begin
148        v_table_ori := 'ANLYS_KAKOU_STATUS_DATA_15MIN'; --15分钟粒度卡口流量数据表
149        v_table_sum := 'ANLYS_KAKOU_STATUS_DATA_30MIN'; --30分钟粒度卡口流量数据表
150  
151        v_ins_sql := 'insert into ' || v_table_sum ||
152                     '(POINTID,DEVICEID,DIRECTION,LANEID,VOLUME,COUNTTIME)';
153  
154        v_sum_sql := 'select POINTID,DEVICEID,DIRECTION,LANEID,sum(nvl(volume,0)) VOLUME,' ||
155                     v_sum_sql_time || ' from ';
156        v_sum_sql := v_sum_sql || v_table_ori || v_sum_sql_where ||
157                     ' group by POINTID,DEVICEID,DIRECTION,LANEID';
158  
159        v_ins_sql := v_ins_sql || ' ' || v_sum_sql;
160  
161  /*      dbms_output.put_line(v_ins_sql);*/
162        execute immediate v_ins_sql;
163        commit;
164  
165        dbms_output.put_line(to_char(startDate, 'yyyy-mm-dd hh24:mi:ss'));
166        dbms_output.put_line('汇总30分钟粒度');
167  
168      exception
169        when others then
170          v_errCode := TO_CHAR(SQLCODE);
171          v_errMsg  := SQLERRM;
172  
173          dbms_output.put_line(v_errCode || v_errMsg);
174      end;
175    end if;
176  
177    if mod(v_minute, 60) = 0 then
178      --从30分钟粒度卡口流量表里汇总1小时粒度的流量数据
179  
180      v_sum_sql_where := ' where counttime <=to_date(' ||
181                         chr(39) || to_char(startDate, 'yyyy-MM-dd  HH24:MI') ||
182                         chr(39) || ',' || chr(39) || 'yyyy-MM-dd  HH24:MI' ||
183                         chr(39) || ') and counttime >= to_date(' ||
184                         chr(39) ||
185                         to_char(startDate - 31 / 1440, 'yyyy-MM-dd HH24:MI') ||
186                         chr(39) || ', ' || chr(39) || 'yyyy-MM-dd HH24:MI' ||
187                         chr(39) || ')';
188      v_sum_sql_time  := 'to_date(' || chr(39) ||
189                         to_char(startDate, 'yyyy-MM-dd HH24:MI') || chr(39) || ', ' ||
190                         chr(39) || 'yyyy-MM-dd HH24:MI' || chr(39) || ')';
191  
192      --进行汇总统计和入库
193      begin
194        v_table_ori := 'ANLYS_KAKOU_STATUS_DATA_30MIN'; --30分钟粒度卡口流量数据表
195        v_table_sum := 'ANLYS_KAKOU_STATUS_DATA_HOUR'; --1小时粒度卡口流量数据表
196  
197        v_ins_sql := 'insert into ' || v_table_sum ||
198                     '(POINTID,DEVICEID,DIRECTION,LANEID,VOLUME,COUNTTIME)';
199  
200        v_sum_sql := 'select POINTID,DEVICEID,DIRECTION,LANEID,sum(nvl(volume,0)) VOLUME,' ||
201                     v_sum_sql_time || ' from ';
202        v_sum_sql := v_sum_sql || v_table_ori || v_sum_sql_where ||
203                     ' group by POINTID,DEVICEID,DIRECTION,LANEID';
204  
205        v_ins_sql := v_ins_sql || ' ' || v_sum_sql;
206  
207        /*dbms_output.put_line(v_ins_sql);*/
208        execute immediate v_ins_sql;
209        commit;
210  
211        dbms_output.put_line(to_char(startDate, 'yyyy-mm-dd hh24:mi:ss'));
212        dbms_output.put_line('汇总1小时粒度');
213  
214      exception
215        when others then
216          v_errCode := TO_CHAR(SQLCODE);
217          v_errMsg  := SQLERRM;
218  
219          dbms_output.put_line(v_errCode || v_errMsg);
220      end;
221  
222    end if;
223  
224      if (v_minute=0 and v_hour=0) then
225      --从1小时粒度卡口流量表里汇总1天粒度的流量数据
226      v_sum_sql_where := ' where counttime <= to_date(' ||
227                         chr(39) || to_char(startDate, 'yyyy-MM-dd') ||
228                         chr(39) || ',' || chr(39) || 'yyyy-MM-dd' ||
229                         chr(39) || ') and counttime >= to_date(' ||
230                         chr(39) ||
231                         to_char(startDate - 1385/1440, 'yyyy-MM-dd') ||
232                         chr(39) || ', ' || chr(39) || 'yyyy-MM-dd' ||
233                         chr(39) || ')';
234      v_sum_sql_time  := 'to_date(' || chr(39) ||
235                         to_char(startDate-1, 'yyyy-MM-dd') || chr(39) || ', ' ||
236                         chr(39) || 'yyyy-MM-dd' || chr(39) || ')';
237  
238      --进行汇总统计和入库
239      begin
240        v_table_ori := 'ANLYS_KAKOU_STATUS_DATA_HOUR'; --1小时粒度卡口流量数据表
241        v_table_sum := 'ANLYS_KAKOU_STATUS_DATA_DAY'; --1天粒度卡口流量数据表
242  
243        v_ins_sql := 'insert into ' || v_table_sum ||
244                     '(POINTID,DEVICEID,DIRECTION,LANEID,VOLUME,COUNTTIME)';
245  
246        v_sum_sql := 'select POINTID,DEVICEID,DIRECTION,LANEID,sum(nvl(volume,0)) VOLUME,' ||
247                     v_sum_sql_time || ' from ';
248        v_sum_sql := v_sum_sql || v_table_ori || v_sum_sql_where ||
249                     ' group by POINTID,DEVICEID,DIRECTION,LANEID';
250  
251        v_ins_sql := v_ins_sql || ' ' || v_sum_sql;
252  
253      /*  dbms_output.put_line(v_ins_sql);*/
254        execute immediate v_ins_sql;
255        commit;
256  
257        dbms_output.put_line(to_char(startDate, 'yyyy-mm-dd hh24:mi:ss'));
258        dbms_output.put_line('汇总1天粒度');
259  
260      exception
261        when others then
262          v_errCode := TO_CHAR(SQLCODE);
263          v_errMsg  := SQLERRM;
264  
265          dbms_output.put_line(v_errCode || v_errMsg);
266      end;
267  
268    end if;
269  
270  end ANLYS_KAKOU_FLOW_PRO;
271  /
Procedure created
SQL> prompt

SQL> prompt Creating procedure APROC1
Creating procedure APROC1
SQL> prompt =========================
=========================
SQL> prompt

SQL> CREATE OR REPLACE PROCEDURE aproc1 AS
  2  BEGIN
  3  
  4   dbms_output.put_line('Hello ');
  5  
  6  
  7  end;
  8  /
Procedure created
SQL> prompt

SQL> prompt Creating procedure APROC2
Creating procedure APROC2
SQL> prompt =========================
=========================
SQL> prompt

SQL> CREATE OR REPLACE PROCEDURE aproc2
  2  as
  3  begin
  4    aproc1;
  5  end;
  6  /
Procedure created
SQL> prompt

SQL> prompt Creating procedure ARRANGE_ALERT_POINT_COUNT
Creating procedure ARRANGE_ALERT_POINT_COUNT
SQL> prompt ============================================
============================================
SQL> prompt

SQL> CREATE OR REPLACE PROCEDURE arrange_alert_point_count
  2  AS
  3     thresvalue varchar2(4);
  4  BEGIN
  5  select s.paramvalue into thresvalue from sysparams s where s.paramcode='ALERT_POINT_COUNT_THRESHOLDVALUE';
  6  insert into black_alert_point_count
  7  select sys_guid(),
  8         t.hphm,
  9         t.hpzl,
 10         trunc(sysdate)-1,
 11         count(1) count,
 12         t.controltype,
 13         t.bjdd,
 14         t.xsfx
 15    from black_alert_info t
 16    where trunc(t.bjsj) = trunc(sysdate) - 1
 17   group by t.hphm, t.hpzl, t.controltype,t.bjdd having count(1)> to_number(thresvalue);
 18   commit;
 19  END;
 20  /
Procedure created
SQL> prompt

SQL> prompt Creating procedure ARRANGE_BLACK_ALERT_COUNT
Creating procedure ARRANGE_BLACK_ALERT_COUNT
SQL> prompt ============================================
============================================
SQL> prompt

SQL> CREATE OR REPLACE PROCEDURE arrange_black_alert_count
  2  AS
  3   thresvalue varchar2(4);
  4  BEGIN
  5  select s.paramvalue into thresvalue from sysparams s where s.paramcode='ALERT_COUNT_THRESHOLDVALUE';
  6  insert into black_alert_count
  7  select sys_guid(),
  8         t.hphm,
  9         t.hpzl,
 10         trunc(sysdate)-1,
 11         count(1) count,
 12         t.controltype,
 13         m.departmentid,
 14         t.xsfx
 15    from black_alert_info t,monitor_point m
 16    where trunc(t.bjsj) = trunc(sysdate) - 1 and t.bjdd=m.pointcode
 17   group by t.hphm, t.hpzl, t.controltype,m.departmentid having count(1)>to_number(thresvalue);
 18   commit;
 19  END;
 20  /
Procedure created
SQL> prompt

SQL> prompt Creating procedure UPDATE_LOW_ANALYSIS_RELATION
Creating procedure UPDATE_LOW_ANALYSIS_RELATION
SQL> prompt ===============================================
===============================================
SQL> prompt

SQL> CREATE OR REPLACE PROCEDURE update_low_analysis_relation is
  2  begin
  3    declare
  4      cursor enumCur is
  5        select t1.*
  6          from enum_type t1
  7          left join low_analysis_relation t2 on t1.enumvalue = t2.enumvalue
  8         where t2.enumvalue is null
  9           and t1.enumtypeid = 1101
 10         order by t1.enumvalue;
 11      cursor relationCur is
 12        select *
 13          from low_analysis_relation t3
 14         where t3.enumvalue is null
 15         order by t3.columnname;
 16      enum_row     enumCur%rowtype;
 17      relation_row relationCur%rowtype;
 18    begin
 19      open enumCur;
 20      open relationCur;
 21      fetch enumCur
 22        into enum_row;
 23      if enumCur%found then
 24        fetch relationCur
 25          into relation_row;
 26        if relationCur%found then
 27          while enumCur%found and relationCur%found loop
 28            update low_analysis_relation t4
 29               set t4.enumvalue = enum_row.enumvalue
 30             where t4.columnname = relation_row.columnname;
 31            fetch enumCur
 32              into enum_row;
 33            fetch relationCur
 34              into relation_row;
 35          end loop;
 36        end if;
 37      end if;
 38      close relationCur;
 39      close enumCur;
 40      commit;
 41    end;
 42  end;
 43  /
Procedure created
SQL> prompt

SQL> prompt Creating procedure ARRANGE_LOW_ANALYSIS
Creating procedure ARRANGE_LOW_ANALYSIS
SQL> prompt =======================================
=======================================
SQL> prompt

SQL> CREATE OR REPLACE PROCEDURE arrange_low_analysis
  2  AS
  3    sqlstr1 varchar2(32767);
  4    sqlstr2 varchar2(32767);
  5    sqlstr varchar2(32767);
  6  BEGIN
  7  declare  cursor relationCur is
  8        select *
  9          from low_analysis_relation t3
 10         where t3.enumvalue is not null
 11         order by t3.columnname;
 12         relation_row relationCur%rowtype;
 13  begin
 14         update_low_analysis_relation();
 15         sqlstr1:='insert into black_low_analysis_data(id,bjdd,channel,xsfx,productdate,hour';
 16         sqlstr2:='select sys_guid(),t1.bjdd,t1.clanenumber,xsfx,TRUNC(SYSDATE-1),to_number(to_char(t1.bjsj,''hh24''))';
 17         open relationCur;
 18          fetch relationCur
 19          into relation_row;
 20        if relationCur%found then
 21          while relationCur%found loop
 22            sqlstr1:=sqlstr1||','||relation_row.columnname;
 23            sqlstr2:=sqlstr2||',sum(case t1.controltype when '''||relation_row.enumvalue||''' then 1 else 0 end) '||relation_row.columnname;
 24            fetch relationCur
 25              into relation_row;
 26          end loop;
 27        end if;
 28        close relationCur;
 29        sqlstr1:=sqlstr1||') ';
 30        sqlstr2:=sqlstr2||' from  black_alert_info t1 where T1.BJSJ>=TRUNC(sysdate-1) AND T1.BJSJ<TRUNC(sysdate) group by t1.bjdd,t1.clanenumber,t1.xsfx,to_number(to_char(t1.bjsj,''hh24''))';
 31        sqlstr := sqlstr1||sqlstr2;
 32       -- dbms_output.put_line(sqlstr);
 33        EXECUTE IMMEDIATE sqlstr;
 34        commit;
 35  end;
 36  end;
 37  /
Procedure created
SQL> prompt

SQL> prompt Creating procedure ARRANGE_LOW_ANALYSIS_MONTH
Creating procedure ARRANGE_LOW_ANALYSIS_MONTH
SQL> prompt =============================================
=============================================
SQL> prompt

SQL> CREATE OR REPLACE PROCEDURE arrange_low_analysis_month
  2  AS
  3    sqlstr1 varchar2(32767);
  4    sqlstr2 varchar2(32767);
  5    sqlstr varchar2(32767);
  6  BEGIN
  7  declare  cursor relationCur is
  8        select *
  9          from low_analysis_relation t3
 10         where t3.enumvalue is not null
 11         order by t3.columnname;
 12         relation_row relationCur%rowtype;
 13  begin
 14         sqlstr1:='insert into black_low_analysis_month_data(id,bjdd,productdate';
 15         sqlstr2:='select sys_guid(),t.bjdd,trunc(trunc(sysdate, ''mm'') - 1, ''mm'')';
 16         open relationCur;
 17          fetch relationCur
 18          into relation_row;
 19        if relationCur%found then
 20           while relationCur%found loop
 21            sqlstr1:=sqlstr1||','||relation_row.columnname;
 22            sqlstr2:=sqlstr2||',sum(t.'||relation_row.columnname||')';
 23            fetch relationCur
 24              into relation_row;
 25          end loop;
 26        end if;
 27        close relationCur;
 28        sqlstr1:=sqlstr1||') ';
 29        sqlstr2:=sqlstr2||' from black_low_analysis_data t where t.productdate >= trunc(trunc(sysdate, ''mm'') - 1, ''mm'') and t.productdate < trunc(sysdate, ''mm'') group by t.bjdd';
 30        sqlstr := sqlstr1||sqlstr2;
 31        --dbms_output.put_line(sqlstr);
 32        EXECUTE IMMEDIATE sqlstr;
 33        commit;
 34  end;
 35  end;
 36  /
Procedure created
SQL> prompt

SQL> prompt Creating procedure BLACK_LIST_MANAGE_RECORD_DEL
Creating procedure BLACK_LIST_MANAGE_RECORD_DEL
SQL> prompt ===============================================
===============================================
SQL> prompt

SQL> create or replace procedure black_list_manage_record_del is
  2  begin
  3    delete from black_list_manage_record t where t.changetime < sysdate - 10/60/60/24;
  4    commit;
  5  end black_list_manage_record_del;
  6  /
Procedure created
SQL> prompt

SQL> prompt Creating procedure CHANGECONTROLTYPE
Creating procedure CHANGECONTROLTYPE
SQL> prompt ====================================
====================================
SQL> prompt

SQL> CREATE OR REPLACE PROCEDURE ChangeControlType(no in VARCHAR2,newname in NVARCHAR2,isdelete in CHAR)
  2  AS
  3        limitId varchar2(100);
  4  BEGIN
  5  update enum_type t1 set t1.enumname=newname where t1.enumvalue=no and t1.enumtypeid=1101;
  6  update control_type_param t2 set t2.allowdelete=isdelete where t2.controltypeno=no;
  7  select t2.operationid into limitId from control_type_param t2 where t2.controltypeno=no;
  8  update OPERATE_COMPONENT t3 set t3.name=newname||'撤控',t3.title=newname||'撤控' where t3.id=limitId;
  9  commit;
 10  END;
 11  /
Procedure created
SQL> prompt

SQL> prompt Creating procedure CONTROLTYPEINIT
Creating procedure CONTROLTYPEINIT
SQL> prompt ==================================
==================================
SQL> prompt

SQL> CREATE OR REPLACE PROCEDURE ControlTypeINIT
  2  AS
  3  
  4  BEGIN
  5     declare  cursor enumCur is
  6     select * from enum_type t where t.enumtypeid=1101 order by t.enumvalue;
  7     enum_row enumCur%rowtype;
  8     begin
  9       open enumCur;
 10            fetch enumCur
 11            into enum_row;
 12          if enumCur%found then
 13            while enumCur%found loop
 14              addcontroltypeinit(enum_row.enumvalue,enum_row.enumname,'0');
 15             -- deletecontroltype(enum_row.enumvalue);
 16              fetch enumCur
 17                into enum_row;
 18            end loop;
 19          end if;
 20          close enumCur;
 21     end;
 22  END;
 23  /
Procedure created
SQL> prompt

SQL> prompt Creating procedure DELETECONTROLTYPE
Creating procedure DELETECONTROLTYPE
SQL> prompt ====================================
====================================
SQL> prompt

SQL> CREATE OR REPLACE PROCEDURE DeleteControlType(no in VARCHAR2)
  2  AS
  3         limitId varchar2(100);
  4  BEGIN
  5  delete from enum_type t1 where t1.enumtypeid=1101 and t1.enumvalue=no;
  6  select t2.operationid into limitId from control_type_param t2 where t2.controltypeno=no;
  7  delete from OPERATE_COMPONENT t3 where t3.id=limitId;
  8  delete from role_operation_relation t4 where t4.operationid=limitId;
  9  delete from control_type_param t2 where t2.controltypeno=no;
 10  commit;
 11  END;
 12  /
Procedure created
SQL> prompt

SQL> prompt Creating procedure DEL_NOUSE
Creating procedure DEL_NOUSE
SQL> prompt ============================
============================
SQL> prompt

SQL> create or replace procedure DEL_NOUSE(name varchar2) is
  2  lv_name varchar2(20);
  3  begin
  4    lv_name :='cc';
  5  end DEL_NOUSE;
  6  /
Procedure created
SQL> prompt

SQL> prompt Creating procedure GETUPDATETIME_TEST
Creating procedure GETUPDATETIME_TEST
SQL> prompt =====================================
=====================================
SQL> prompt

SQL> CREATE OR REPLACE PROCEDURE getupdatetime_test AS
  2   sqlstr1 varchar2(32767);
  3  BEGIN
  4   for map in (select t.table_name from user_tables t) loop
  5   begin
  6        sqlstr1 := 'insert into getupdatetime select '''||map.table_name||''', to_date(to_char(scn_to_timestamp(nvl(max(ora_rowscn),0)),''yyyy-mm-dd hh24:mi:ss''),''yyyy-mm-dd hh24:mi:ss'') from '||map.table_name;
  7        EXECUTE IMMEDIATE sqlstr1;
  8       commit;
  9   exception
 10       when others then
 11       dbms_output.put_line('a');
 12   end;
 13   end loop;
 14  end;
 15  /
Procedure created
SQL> prompt

SQL> prompt Creating procedure IMPORTBLACKLIST
Creating procedure IMPORTBLACKLIST
SQL> prompt ==================================
==================================
SQL> prompt

SQL> create or replace procedure importblacklist is
  2    count1 number;
  3    count2 number;
  4    count3 number;
  5    carno1 nvarchar2(16);
  6    carno2 nvarchar2(16);
  7    carno3 nvarchar2(16);
  8  begin
  9   execute immediate 'alter table black_list_manage disable all triggers';
 10    --savepoint clearAll;
 11    ------------------------------>>>首先将黑名单表中的属性为10：已布控的记录 ，布控类型修改成30：自动布控
 12     --update black_list_manage set infostatus = '30' where source='20' and infostatus='10';
 13     --commit;
 14    ----------------------------->>> 遍历black_list_mapping表中的违法未处理记录重复数据超过五条的转变成一条多次违法未处理记录，判断黑名单中有无该数据，有的话不做操作删除black_list_mapping相关数据，没有的话插入黑名单表，布控类型设置为30
 15  --alter table black_list_manage disable all triggers;
 16   for map in (SELECT count(blm.carno), blm.carno, blm.cartype
 17                  FROM BLACK_LIST_MAPPING blm
 18                 where blm.source = '20'
 19                   and blm.controltype = '06'
 20                 group by blm.carno, blm.cartype
 21                having count(blm.carno) > 5) loop
 22       if(length(map.carno)=6) then
 23         carno3 := '鲁' || map.carno;
 24      else
 25         carno3 := map.carno;
 26      end if;
 27      select count(*)
 28        into count1
 29        from black_list_manage bl1
 30       where
 31         --and bl1.infostatus = '30'
 32          bl1.controltype = '07'
 33         and bl1.carno = carno3
 34         and bl1.cartype = map.cartype;
 35      if (count1 > 0) then
 36        --黑名单中有该数据时只删除black_list_mapping表中对应数据，不做其他操作
 37        delete from black_list_mapping m
 38         where m.carno = map.carno
 39           and m.cartype = map.cartype
 40           and m.controltype = '06';
 41      else
 42           begin
 43        --黑名单中没有该数据时向黑名单中插入数据并删除black_list_mapping表中对应数据
 44        insert into Black_List_Manage
 45          SELECT A.id,
 46                 A.carno,
 47                 A.cartype,
 48                 A.carbrand,
 49                 A.carcolor,
 50                 A.source,
 51                 A.controllevel,
 52                 case
 53                   when A.CONTROLTYPE = '06' then
 54                    '07'
 55                 end as controltype,
 56                 A.controlprop,
 57                 A.controlscope,
 58                 A.btime,
 59                 A.etime,
 60                 '10',
 61                 A.alarmstatus,
 62                 A.contact,
 63                 A.telphone,
 64                 A.pushphone,
 65                 A.puship,
 66                 '0',
 67                 A.pushdptmt,
 68                 A.charcpic1,
 69                 A.charcpic2,
 70                 A.charcpic3,
 71                 A.charcdesc,
 72                 A.matterdetail,
 73                 A.createuserid,
 74                 A.createtime,
 75                 A.revokeuserid,
 76                 A.revoketime,
 77                 A.revokereason,
 78                 A.interceptflag,
 79                 A.illegaltime,
 80                 A.illegaladdress,
 81                 A.illegaltype,
 82                 A.abandontime,
 83                 A.updatetime,
 84                 A.annualexaminetime,
 85                 '',''
 86            FROM (SELECT A.id,
 87                         A.carno,
 88                         A.cartype,
 89                         A.carbrand,
 90                         A.carcolor,
 91                         A.source,
 92                         A.controllevel,
 93                         A.CONTROLTYPE,
 94                         A.controlprop,
 95                         A.controlscope,
 96                         A.btime,
 97                         A.etime,
 98                         A.infostatus,
 99                         A.alarmstatus,
100                         A.contact,
101                         A.telphone,
102                         A.pushphone,
103                         A.puship,
104                         A.pushuser,
105                         A.pushdptmt,
106                         A.charcpic1,
107                         A.charcpic2,
108                         A.charcpic3,
109                         A.charcdesc,
110                         A.matterdetail,
111                         A.createuserid,
112                         A.createtime,
113                         A.revokeuserid,
114                         A.revoketime,
115                         A.revokereason,
116                         A.interceptflag,
117                         A.illegaltime,
118                         A.illegaladdress,
119                         A.illegaltype,
120                         A.abandontime,
121                         A.updatetime,
122                         A.annualexaminetime,
123                         ROW_NUMBER() OVER(PARTITION BY A.carno, A.cartype, A.controltype ORDER BY A.btime desc) RN
124                    FROM BLACK_LIST_MAPPING A) A
125           where RN = 1
126             and A.source = '20'
127             and A.controltype = '06'
128             and A.carno = map.carno
129             and A.cartype = map.cartype
130             and length(A.carno) = 7;
131        ----------
132        insert into Black_List_Manage
133          SELECT A.id,
134                 '鲁' || A.carno,
135                 A.cartype,
136                 A.carbrand,
137                 A.carcolor,
138                 A.source,
139                 A.controllevel,
140                 case
141                   when A.CONTROLTYPE = '06' then
142                    '07'
143                 end as controltype,
144                 A.controlprop,
145                 A.controlscope,
146                 A.btime,
147                 A.etime,
148                 '10',
149                 A.alarmstatus,
150                 A.contact,
151                 A.telphone,
152                 A.pushphone,
153                 A.puship,
154                 '0',
155                 A.pushdptmt,
156                 A.charcpic1,
157                 A.charcpic2,
158                 A.charcpic3,
159                 A.charcdesc,
160                 A.matterdetail,
161                 A.createuserid,
162                 A.createtime,
163                 A.revokeuserid,
164                 A.revoketime,
165                 A.revokereason,
166                 A.interceptflag,
167                 A.illegaltime,
168                 A.illegaladdress,
169                 A.illegaltype,
170                 A.abandontime,
171                 A.updatetime,
172                 A.annualexaminetime,
173                  '',''
174            FROM (SELECT A.id,
175                         A.carno,
176                         A.cartype,
177                         A.carbrand,
178                         A.carcolor,
179                         A.source,
180                         A.controllevel,
181                         A.CONTROLTYPE,
182                         A.controlprop,
183                         A.controlscope,
184                         A.btime,
185                         A.etime,
186                         A.infostatus,
187                         A.alarmstatus,
188                         A.contact,
189                         A.telphone,
190                         A.pushphone,
191                         A.puship,
192                         A.pushuser,
193                         A.pushdptmt,
194                         A.charcpic1,
195                         A.charcpic2,
196                         A.charcpic3,
197                         A.charcdesc,
198                         A.matterdetail,
199                         A.createuserid,
200                         A.createtime,
201                         A.revokeuserid,
202                         A.revoketime,
203                         A.revokereason,
204                         A.interceptflag,
205                         A.illegaltime,
206                         A.illegaladdress,
207                         A.illegaltype,
208                         A.abandontime,
209                         A.updatetime,
210                         A.annualexaminetime,
211                         ROW_NUMBER() OVER(PARTITION BY A.carno, A.cartype, A.controltype ORDER BY A.btime desc) RN
212                    FROM BLACK_LIST_MAPPING A) A
213           where RN = 1
214             and A.source = '20'
215             and A.controltype = '06'
216             and A.carno = map.carno
217             and A.cartype = map.cartype
218             and length(A.carno) = 6;
219        ---删除black_list_mapping对应数据
220        delete from black_list_mapping m
221         where m.carno = map.carno
222           and m.cartype = map.cartype
223           and m.controltype = '06';
224         exception
225             when others then
226             --dbms_output.put_line('异常');
227             null;
228          end;
229      end if;
230    end loop;
231    commit;
232      --------------------------->>>遍历black_list_mapping,查找除违法未处理类型的类型，在黑名单中查找对应数据，没有找到该数据则向黑名单中插入该数据
233    for map2 in (SELECT blm2.id, blm2.carno, blm2.cartype, blm2.controltype
234                   FROM BLACK_LIST_MAPPING blm2
235                  where blm2.source = '20'
236                    and blm2.controltype != '06') loop
237      if(length(map2.carno)=6) then
238         carno2 := '鲁' || map2.carno;
239      else
240         carno2 := map2.carno;
241      end if;
242      select count(*)
243        into count3
244        from black_list_manage bl3
245       where
246         --and bl3.infostatus = '30'
247          bl3.controltype = map2.controltype
248         and bl3.carno = carno2
249         and bl3.cartype = map2.cartype;
250         --and bl3.id !=map2.id;
251      if (count3 > 0) then
252         continue;
253      else
254      begin
255        insert into Black_List_Manage
256          SELECT id,
257                 '鲁' || carno,
258                 cartype,
259                 carbrand,
260                 carcolor,
261                 source,
262                 controllevel,
263                 controltype,
264                 controlprop,
265                 controlscope,
266                 btime,
267                 etime,
268                 '10',
269                 alarmstatus,
270                 contact,
271                 telphone,
272                 pushphone,
273                 puship,
274                 '0',
275                 pushdptmt,
276                 charcpic1,
277                 charcpic2,
278                 charcpic3,
279                 charcdesc,
280                 matterdetail,
281                 createuserid,
282                 createtime,
283                 revokeuserid,
284                 revoketime,
285                 revokereason,
286                 interceptflag,
287                 illegaltime,
288                 illegaladdress,
289                 illegaltype,
290                 abandontime,
291                 updatetime,
292                 annualexaminetime, '',''
293          ------------
294            FROM (SELECT A.*,
295                         ROW_NUMBER() OVER(PARTITION BY A.carno, A.cartype, A.controltype ORDER BY A.btime desc) RN
296                    FROM BLACK_LIST_MAPPING A)
297           WHERE RN = 1
298             and source = '20'
299             and controltype = map2.controltype
300             and carno = map2.carno
301             and cartype = map2.cartype
302             and length(carno) = 6;
303        -----------
304        insert into Black_List_Manage
305          SELECT id,
306                 carno,
307                 cartype,
308                 carbrand,
309                 carcolor,
310                 source,
311                 controllevel,
312                 controltype,
313                 controlprop,
314                 controlscope,
315                 btime,
316                 etime,
317                 '10',
318                 alarmstatus,
319                 contact,
320                 telphone,
321                 pushphone,
322                 puship,
323                 '0',
324                 pushdptmt,
325                 charcpic1,
326                 charcpic2,
327                 charcpic3,
328                 charcdesc,
329                 matterdetail,
330                 createuserid,
331                 createtime,
332                 revokeuserid,
333                 revoketime,
334                 revokereason,
335                 interceptflag,
336                 illegaltime,
337                 illegaladdress,
338                 illegaltype,
339                 abandontime,
340                 updatetime,
341                 annualexaminetime, '',''
342          -----
343            FROM (SELECT A.*,
344                         ROW_NUMBER() OVER(PARTITION BY A.carno, A.cartype, A.controltype ORDER BY A.btime desc) RN
345                    FROM BLACK_LIST_MAPPING A)
346           WHERE RN = 1
347             and source = '20'
348             and controltype = map2.controltype
349             and carno = map2.carno
350             and cartype = map2.cartype
351             and length(carno) = 7;
352            exception
353             when others then
354             --dbms_output.put_line('异常');
355             null;
356          end;
357      end if;
358    end loop;
359    commit;
360    --------------------------->>>遍历black_list_mapping，查找违法未处理类型的数据，在黑名单表中查找对应数据，没有找到该数据则向黑名单中添加对应数据
361   for map1 in (SELECT blm1.id, blm1.carno, blm1.cartype
362                   FROM BLACK_LIST_MAPPING blm1
363                  where blm1.source = '20'
364                    and blm1.controltype = '06') loop
365      if(length(map1.carno)=6) then
366         carno1 := '鲁' || map1.carno;
367      else
368         carno1 := map1.carno;
369      end if;
370      select count(*)
371        into count2
372        from black_list_manage bl2
373       where
374         --and bl2.infostatus = '30'
375         bl2.controltype = '06'
376         and bl2.carno = carno1
377         and bl2.cartype = map1.cartype;
378         --and bl2.id != map1.id;
379      if (count2 > 0) then
380      continue;
381      else
382        begin
383        insert into Black_List_Manage
384          SELECT id,
385                 '鲁' || carno,
386                 cartype,
387                 carbrand,
388                 carcolor,
389                 source,
390                 controllevel,
391                 controltype,
392                 controlprop,
393                 controlscope,
394                 btime,
395                 etime,
396                 '10',
397                 alarmstatus,
398                 contact,
399                 telphone,
400                 pushphone,
401                 puship,
402                 '0',
403                 pushdptmt,
404                 charcpic1,
405                 charcpic2,
406                 charcpic3,
407                 charcdesc,
408                 matterdetail,
409                 createuserid,
410                 createtime,
411                 revokeuserid,
412                 revoketime,
413                 revokereason,
414                 interceptflag,
415                 illegaltime,
416                 illegaladdress,
417                 illegaltype,
418                 abandontime,
419                 updatetime,
420                 annualexaminetime,
421                  '',''
422            FROM (SELECT A.*,
423                         ROW_NUMBER() OVER(PARTITION BY A.carno, A.cartype, A.controltype ORDER BY A.btime desc) RN
424                    FROM BLACK_LIST_MAPPING A)
425           WHERE RN = 1
426             and source = '20'
427             and controltype = '06'
428             and carno = map1.carno
429             and cartype = map1.cartype
430             and length(carno) = 6;
431        insert into Black_List_Manage
432          SELECT id,
433                 carno,
434                 cartype,
435                 carbrand,
436                 carcolor,
437                 source,
438                 controllevel,
439                 controltype,
440                 controlprop,
441                 controlscope,
442                 btime,
443                 etime,
444                 '10',
445                 alarmstatus,
446                 contact,
447                 telphone,
448                 pushphone,
449                 puship,
450                 '0',
451                 pushdptmt,
452                 charcpic1,
453                 charcpic2,
454                 charcpic3,
455                 charcdesc,
456                 matterdetail,
457                 createuserid,
458                 createtime,
459                 revokeuserid,
460                 revoketime,
461                 revokereason,
462                 interceptflag,
463                 illegaltime,
464                 illegaladdress,
465                 illegaltype,
466                 abandontime,
467                 updatetime,
468                 annualexaminetime, '',''
469            FROM (SELECT A.*,
470                         ROW_NUMBER() OVER(PARTITION BY A.carno, A.cartype, A.controltype ORDER BY A.btime desc) RN
471                    FROM BLACK_LIST_MAPPING A)
472           WHERE RN = 1
473             and source = '20'
474             and controltype = '06'
475             and carno = map1.carno
476             and cartype = map1.cartype
477             and length(carno) = 7;
478           exception
479             when others then
480             --dbms_output.put_line('异常');
481             null;
482          end;
483      end if;
484    end loop;
485    commit;
486    --将black_list_mapping中删除的数据更新为已撤控
487    update black_list_manage t set t.infostatus = 20 where t.id in
488    (select t1.id from black_list_manage t1 left join black_list_mapping t2
489    on t1.carno=(case
490                    when length(t2.carno)=6 then '鲁'||t2.carno
491                    else t2.carno
492                 end)
493    and t1.cartype=t2.cartype and t1.controltype=t2.controltype and t1.source=t2.source
494    where t2.id is null and t1.controltype!='06' and t1.source='20');
495    commit;
496    execute immediate 'alter table black_list_manage enable all triggers';
497    ------------------------>>>数据处理完毕后，将所有黑名单中字段属性为30：自动撤控，修改成10:已布控状态
498     --update black_list_manage set infostatus = '10' where source='20' and infostatus='30';
499    --commit;
500    /*exception
501    when others then
502      rollback to clearAll;*/
503  end;
504  /
Procedure created
SQL> prompt

SQL> prompt Creating procedure INSPECTACCOUNTMIDDLEDATA
Creating procedure INSPECTACCOUNTMIDDLEDATA
SQL> prompt ===========================================
===========================================
SQL> prompt

SQL> CREATE OR REPLACE PROCEDURE INSPECTACCOUNTMIDDLEDATA
  2  AS
  3  BEGIN
  4  INSERT INTO BLACK_ALERT_MID_DATA
  5  SELECT NVL(A.DEPARTMENTID,B.DEPARTMENTID) DEPARTMENTID,
  6  NVL(A.CONTROLTYPE,B.MONITORTYPE) CONTROLTYPE,TRUNC(SYSDATE-1) PRDUDATE,
  7  NVL(A.BAOJING,0),NVL(B.CHUJING,0),NVL(LANJIE,0),NVL(A.GUOCHE,0)
  8   FROM (
  9  SELECT M.DEPARTMENTID,
 10         T1.CONTROLTYPE,
 11         COUNT(1) BAOJING,
 12         COUNT(DISTINCT T1.HPHM || T1.HPZL) GUOCHE
 13    FROM BLACK_ALERT_INFO T1, MONITOR_POINT M
 14   WHERE T1.BJDD = M.POINTCODE
 15   AND T1.BJSJ>=TRUNC(SYSDATE-1)
 16   AND T1.BJSJ<TRUNC(SYSDATE)
 17   GROUP BY M.DEPARTMENTID, T1.CONTROLTYPE
 18  ) A full JOIN
 19  (
 20   SELECT
 21      CASE TO_CHAR(SUBSTR(T2.CDEPARTMENTID,0,6))
 22           WHEN '370295' THEN
 23                '370295000010'
 24           WHEN '370296' THEN
 25                '370296000010'
 26           WHEN '370297' THEN
 27                '370297000010'
 28           WHEN '370298' THEN
 29                '370298000010'
 30           ELSE  TO_CHAR(SUBSTR(T2.CDEPARTMENTID,0,6))||'000000'
 31      END DEPARTMENTID,
 32      T1.MONITORTYPE,
 33      SUM(CASE WHEN T1.CLZT = '40' THEN 1 ELSE 0 END) CHUJING,
 34      SUM(CASE WHEN T1.CLZT = '40' AND T1.LJBZ='2' THEN 1 ELSE 0 END) LANJIE
 35    FROM BLACK_ALERT_USER_INFO T1,OPERATOR T2
 36      WHERE T1.USER_ID = T2.NUSERID
 37      AND T1.BJSJ>=TRUNC(SYSDATE-1)
 38      AND T1.BJSJ<TRUNC(SYSDATE)
 39      GROUP BY
 40      CASE TO_CHAR(SUBSTR(T2.CDEPARTMENTID,0,6))
 41           WHEN '370295' THEN
 42                '370295000010'
 43           WHEN '370296' THEN
 44                '370296000010'
 45           WHEN '370297' THEN
 46                '370297000010'
 47           WHEN '370298' THEN
 48                '370298000010'
 49           ELSE  TO_CHAR(SUBSTR(T2.CDEPARTMENTID,0,6))||'000000'
 50      END,
 51      T1.MONITORTYPE
 52  ) B ON A.DEPARTMENTID=B.DEPARTMENTID AND B.MONITORTYPE=A.CONTROLTYPE;
 53  commit;
 54  END;
 55  /
Procedure created
SQL> prompt

SQL> prompt Creating procedure PASS_MGR_INFO_PRO
Creating procedure PASS_MGR_INFO_PRO
SQL> prompt ====================================
====================================
SQL> prompt

SQL> create or replace procedure pass_mgr_info_pro is
  2  
  3  BEGIN
  4    --通行证状态更新存储过程
  5    --如果通行证的结束时间小于今天，将其更新为1；   0有效 1过期
  6    update pass_mgr_info t
  7       set t.timestate = '1'
  8     where to_char(t.end_date, 'yyyy-mm-dd') < to_char(sysdate, 'yyyy-mm-dd')
  9       and t.timestate = '0';
 10    commit;
 11  END pass_mgr_info_pro;
 12  /
Procedure created
SQL> prompt

SQL> prompt Creating procedure PROC_DROP_DETECT_PATITION
Creating procedure PROC_DROP_DETECT_PATITION
SQL> prompt ============================================
============================================
SQL> prompt

SQL> CREATE OR REPLACE PROCEDURE PROC_DROP_DETECT_PATITION(beforeDays NUMBER) As
  2    v_SqlExec VARCHAR2(2000);
  3    v_err_num NUMBER;
  4    v_err_msg VARCHAR2(100);
  5  
  6    cursor cursor_cpu_info_part is
  7      select t.SUBOBJECT_NAME partition_name
  8        from user_objects t
  9       where object_name = upper('DETECT_SPEED_DATA')
 10         and t.OBJECT_TYPE = 'TABLE PARTITION'
 11         and t.GENERATED = 'Y'
 12         and t.CREATED < sysdate - beforeDays;
 13    record_cpu_info_oldpart cursor_cpu_info_part%rowType;
 14  
 15  BEGIN
 16    open cursor_cpu_info_part;
 17    loop
 18      fetch cursor_cpu_info_part
 19        into record_cpu_info_oldpart;
 20      exit when cursor_cpu_info_part%notfound;
 21      --删除 DETECT_SPEED_DATA 表分区
 22      v_SqlExec := 'ALTER TABLE DETECT_SPEED_DATA DROP PARTITION ' ||
 23                   record_cpu_info_oldpart.partition_name;
 24      dbms_output.put_line('删除DETECT_SPEED_DATA表分区=' || v_SqlExec);
 25      DBMS_Utility.Exec_DDL_Statement(v_SqlExec);
 26    end loop;
 27    close cursor_cpu_info_part;
 28  
 29  EXCEPTION
 30    WHEN OTHERS THEN
 31      v_err_num := SQLCODE;
 32      v_err_msg := SUBSTR(SQLERRM, 1, 100);
 33      dbms_output.put_line('PROC_DROP_DETECT_PATITION执行出现异常,错误码=' ||
 34                           v_err_num || '错误描述=' || v_err_msg);
 35  END PROC_DROP_DETECT_PATITION;
 36  /
Procedure created
SQL> prompt

SQL> prompt Creating procedure PROC_DSD_SUM
Creating procedure PROC_DSD_SUM
SQL> prompt ===============================
===============================
SQL> prompt

SQL> create or replace procedure PROC_DSD_SUM(
  2            p_table_ori_suffix in varchar2,
  3            p_table_sum_suffix in varchar2) IS
  4  
  5    v_table_name  varchar2(30) := 'DETECT_SPEED_DATA'; --
  6    v_table_ori varchar2(30) ;--
  7    v_table_sum varchar2(30) ;--
  8  
  9    v_ins_sql  varchar2(1000);  --          sql
 10    v_sum_sql  varchar2(1000);  --          sql
 11  
 12    v_sum_sql_time varchar2(1000); --                    select
 13    v_sum_sql_where  varchar2(1000);  --          sql    where
 14    v_sum_sql_from varchar2(1000);--from hour,day,month
 15    v_sum_fun  varchar2(30) := 'SUM(t.PASS_AMOUNT)'; --
 16  
 17    v_errCode VARCHAR2(100); --sql
 18    v_errMsg  VARCHAR2(1000); --sql
 19  
 20  BEGIN
 21    --                      sql
 22    if(upper(p_table_sum_suffix) = '_HOUR') then
 23       v_sum_sql_where := ' where caddresscode is not null and dcollectiondate < to_date(to_char(sysdate,' || chr(39)||'yyyy-MM-dd HH24' ||chr(39)||'),'||chr(39)||'yyyy-MM-dd HH24'||chr(39)||') and dcollectiondate >= to_date(to_char(sysdate - interval '|| chr(39) || '1' || chr(39) ||' hour, '||chr(39)||'yyyy-MM-dd HH24'||chr(39)||'),'||chr(39)||'yyyy-MM-dd HH24'||chr(39)||')';
 24       v_sum_sql_time:= 'to_date(to_char(sysdate - interval '|| chr(39) || '1' || chr(39) ||' hour, '||chr(39)||'yyyy-MM-dd HH24'||chr(39)||'),'||chr(39)||'yyyy-MM-dd HH24'||chr(39)||')';
 25       v_sum_fun := 'COUNT(*)'; --
 26  
 27       v_sum_sql_from:= ' (select CADDRESSCODE,NDERICTRION,CLANENUMBER,CLICENSETYPE,';
 28       v_sum_sql_from := v_sum_sql_from || 'decode(substr(ccarnumber, 1, 2),'|| chr(39) ||'青O'|| chr(39) ||','|| chr(39) ||'LOC'|| chr(39) ||','|| chr(39) ||'青A'|| chr(39) ||','|| chr(39) ||'LOC'|| chr(39) ||','|| chr(39) ||'OVR'|| chr(39) ||') LOC ';
 29       v_sum_sql_from := v_sum_sql_from ||' from ' || v_table_name || '' ||v_sum_sql_where || ') t ';
 30       v_table_name := 'ANLYS_'|| v_table_name;
 31  
 32    elsif (upper(p_table_sum_suffix) = '_DAY') then
 33       v_table_name := 'ANLYS_'|| v_table_name;
 34       v_table_ori := v_table_name || p_table_ori_suffix;
 35  
 36       v_sum_sql_where := ' where dcollectiondate < to_date(to_char(sysdate,' || chr(39)||'yyyy-MM-dd' ||chr(39)||'),'||chr(39)||'yyyy-MM-dd'||chr(39)||') and dcollectiondate >= to_date(to_char(sysdate - interval '|| chr(39) || '1' || chr(39) ||' day, '||chr(39)||'yyyy-MM-dd'||chr(39)||'),'||chr(39)||'yyyy-MM-dd'||chr(39)||')';
 37       v_sum_sql_time:= 'to_date(to_char(sysdate - interval '|| chr(39) || '1' || chr(39) ||' day, '||chr(39)||'yyyy-MM-dd'||chr(39)||'),'||chr(39)||'yyyy-MM-dd'||chr(39)||')';
 38  
 39       v_sum_sql_from:= v_table_ori || ' t' || v_sum_sql_where || ' ';
 40  
 41    elsif (upper(p_table_sum_suffix) = '_MONTH') then
 42       v_table_name := 'ANLYS_'|| v_table_name;
 43       v_table_ori := v_table_name || p_table_ori_suffix;
 44  
 45       v_sum_sql_where := ' where dcollectiondate < to_date(to_char(sysdate,' || chr(39)||'yyyy-MM' ||chr(39)||'),'||chr(39)||'yyyy-MM'||chr(39)||') and dcollectiondate >= to_date(to_char(sysdate - interval '|| chr(39) || '1' || chr(39) ||' month, '||chr(39)||'yyyy-MM'||chr(39)||'),'||chr(39)||'yyyy-MM'||chr(39)||')';
 46       v_sum_sql_time:= 'to_date(to_char(sysdate - interval '|| chr(39) || '1' || chr(39) ||' month, '||chr(39)||'yyyy-MM'||chr(39)||'),'||chr(39)||'yyyy-MM'||chr(39)||')';
 47  
 48       v_sum_sql_from:= v_table_ori || ' t' || v_sum_sql_where || ' ';
 49  
 50    elsif (upper(p_table_sum_suffix) = '_YEAR') then
 51       v_table_name := 'ANLYS_'|| v_table_name;
 52       v_table_ori := v_table_name || p_table_ori_suffix;
 53  
 54       v_sum_sql_where := ' where extract(year from dcollectiondate) = extract(year from sysdate) - 1';
 55       v_sum_sql_from:= v_table_ori || ' t' || v_sum_sql_where || ' ';
 56  
 57    end if;
 58  
 59    --
 60    begin
 61       v_table_sum := v_table_name || p_table_sum_suffix;
 62  
 63       v_ins_sql := 'insert into ' || v_table_sum || '(NID,CADDRESSCODE,NDERICTRION,CLANENUMBER,CLICENSETYPE,LOC,DCOLLECTIONDATE,PASS_AMOUNT)';
 64  
 65       v_sum_sql := 'select sys_guid(),t.CADDRESSCODE,t.NDERICTRION,t.CLANENUMBER,t.CLICENSETYPE,t.LOC,'|| v_sum_sql_time || ',' || v_sum_fun ||' from ';
 66       v_sum_sql := v_sum_sql || v_sum_sql_from || 'group by t.CADDRESSCODE, t.NDERICTRION, t.CLANENUMBER, t.CLICENSETYPE, t.LOC';
 67  
 68       v_ins_sql := v_ins_sql || ' ' || v_sum_sql;
 69  
 70       dbms_output.put_line(v_ins_sql);
 71  
 72       execute immediate v_ins_sql;
 73        commit;
 74  
 75     exception
 76        when others then
 77          v_errCode := TO_CHAR(SQLCODE);
 78          v_errMsg := SQLERRM ;
 79  
 80          dbms_output.put_line(v_errCode||v_errMsg);
 81         --insert into PC_DSD_SUM_ERROR values(sys_guid(),sysdate, v_errCode, v_errMsg);
 82        -- commit;
 83     end;
 84  
 85  
 86  end PROC_DSD_SUM;
 87  /
Procedure created
SQL> prompt

SQL> prompt Creating procedure PROC_DVS_CARNUM_ONWAY_SUM
Creating procedure PROC_DVS_CARNUM_ONWAY_SUM
SQL> prompt ============================================
============================================
SQL> prompt

SQL> create or replace procedure PROC_DVS_CARNUM_ONWAY_SUM(
  2            n_saveDay          in number,
  3            n_intervalMin      in number) IS
  4  
  5    v_table_name  varchar2(20) := 'detect_speed_data';--汇总原表
  6    v_table_sum varchar2(20) := 'DVS_CARNUM_ONWAY';--汇总结果表
  7  
  8    v_ins_sql  varchar2(1000);--插入sql
  9    v_sum_sql_allcar  varchar2(1000);--计算在途机动车总数sql
 10    v_sum_sql_foreigncar  varchar2(1000);--计算外地车总数sql
 11    v_sum_sql_servicecar  varchar2(1000);--计算营运机动车（出租车）总数sql
 12    v_sum_sql_from varchar2(1000);
 13    v_sum_sql_where  varchar2(1000);
 14    v_del_sql VARCHAR2(100);--删除sql
 15    v_sum_sql_shibie varchar2(1000);--计算识别车辆总数sql
 16    v_sum_sql_alldsdnum varchar2(1000);--计算过车总数sql
 17    v_sum_sql_where_all varchar2(1000);
 18  
 19    n_allcarnum number;--在途机动车总数
 20    n_foreigncarnum number;--外地车总数
 21    n_servicecarnum number;--营运机动车（出租车）总数
 22    n_shibiecarnum number;--识别车辆总数
 23    n_alldsdcarnum number;--过车总数
 24  
 25    d_basicDate  Date;
 26    d_beginDate  Date;
 27    d_endDate    Date;
 28    d_saveMaxDate Date;--小于此日期的数据会被删除
 29  
 30    v_errCode VARCHAR2(100);
 31    v_errMsg  VARCHAR2(1000);
 32  
 33  BEGIN
 34  
 35    d_basicDate := to_date(to_char(sysdate, 'yyyy-mm-dd hh24:mi'), 'yyyy-mm-dd hh24:mi');
 36    d_beginDate := d_basicDate - numtodsinterval(n_intervalMin,'minute');
 37    d_endDate := d_basicDate;
 38    d_saveMaxDate := d_basicDate - numtodsinterval(n_saveDay,'day');
 39  
 40    v_sum_sql_where_all := ' where t.dcollectiondate >= :1 and t.dcollectiondate < :2 and t.ccollectionagencies in ('||chr(39)||'370202000000'||chr(39)||','||chr(39)||'370203000000'||chr(39)||','||chr(39)||'370213000000'||chr(39)||') ';
 41    v_sum_sql_where := v_sum_sql_where_all || ' and t.clicensetype != '||chr(39)||'41'||chr(39)||' and t.clicensetype != '||chr(39)||'99'||chr(39)||'';
 42    v_sum_sql_from := ' select distinct t.ccarnumber,t.clicensetype from '|| v_table_name ||' t ' || v_sum_sql_where;
 43    v_sum_sql_shibie := ' select count(1) from '|| v_table_name ||' t ' || v_sum_sql_where;
 44    v_sum_sql_alldsdnum := ' select count(1) from '|| v_table_name ||' t ' || v_sum_sql_where_all;
 45  
 46    begin
 47  
 48      v_sum_sql_allcar := 'select count(1) from ( ' || v_sum_sql_from || ')';
 49  
 50      v_sum_sql_foreigncar := ' select nvl(sum(decode(substr(ccarnumber, 1, 2),'||chr(39)||'鲁U'||chr(39)||',0,'||chr(39)||'鲁B'||chr(39)||',0,1)),0) from (' || v_sum_sql_from || ')';
 51  
 52      v_sum_sql_servicecar := ' select nvl(sum(decode(substr(ccarnumber, 1, 3),'||chr(39)||'鲁UT'||chr(39)||',1,'||chr(39)||'鲁BT'||chr(39)||',1,0)),0) from (' || v_sum_sql_from || ')';
 53  
 54      dbms_output.put_line(v_sum_sql_allcar);
 55      dbms_output.put_line(v_sum_sql_foreigncar);
 56      dbms_output.put_line(v_sum_sql_servicecar);
 57      dbms_output.put_line(v_sum_sql_shibie);
 58      dbms_output.put_line(v_sum_sql_alldsdnum);
 59  
 60      execute immediate v_sum_sql_allcar into n_allcarnum using d_beginDate, d_endDate;
 61      execute immediate v_sum_sql_foreigncar into n_foreigncarnum using d_beginDate, d_endDate;
 62      execute immediate v_sum_sql_servicecar into n_servicecarnum using d_beginDate, d_endDate;
 63      execute immediate v_sum_sql_shibie into n_shibiecarnum using d_beginDate, d_endDate;
 64      execute immediate v_sum_sql_alldsdnum into n_alldsdcarnum using d_beginDate, d_endDate;
 65  
 66      --在途车总数/识别率
 67      if (n_shibiecarnum != 0) then
 68          n_allcarnum := n_allcarnum / n_shibiecarnum * n_alldsdcarnum;
 69          n_foreigncarnum := n_foreigncarnum / n_shibiecarnum * n_alldsdcarnum;
 70          n_servicecarnum := n_servicecarnum / n_shibiecarnum * n_alldsdcarnum;
 71      end if;
 72  
 73      v_ins_sql := 'insert into ' || v_table_sum || '(computedate,allcarnum,foreigncarnum,servicecarnum)';
 74      v_ins_sql := v_ins_sql || ' values(:1, ' || n_allcarnum || ', ' || n_foreigncarnum ||','||n_servicecarnum||' )';
 75  
 76      --每天0点删除超期数据
 77      if (to_char(d_basicDate, 'HH24') = '00') then
 78           v_del_sql := 'delete from DVS_CARNUM_ONWAY t where t.computedate < :1' ;
 79           dbms_output.put_line(v_del_sql);
 80           execute immediate v_del_sql using d_saveMaxDate;
 81           commit;
 82      end if;
 83  
 84      dbms_output.put_line(v_ins_sql);
 85      execute immediate v_ins_sql using d_basicDate;
 86      commit;
 87  
 88      exception
 89        when others then
 90          v_errCode := TO_CHAR(SQLCODE);
 91          v_errMsg := SQLERRM ;
 92  
 93          dbms_output.put_line(v_errCode||v_errMsg);
 94     end;
 95  
 96  END PROC_DVS_CARNUM_ONWAY_SUM;
 97  /
Procedure created
SQL> prompt

SQL> prompt Creating procedure PROC_DVS_GS_CARNUM_ONWAY_SUM
Creating procedure PROC_DVS_GS_CARNUM_ONWAY_SUM
SQL> prompt ===============================================
===============================================
SQL> prompt

SQL> create or replace procedure PROC_DVS_GS_CARNUM_ONWAY_SUM(
  2            n_saveDay          in number) IS
  3  
  4    v_del_sql VARCHAR2(100);--删除sql
  5  
  6    d_basicDate  Date;
  7    d_saveMaxDate Date;--小于此日期的数据会被删除
  8  
  9    v_errCode VARCHAR2(100);
 10    v_errMsg  VARCHAR2(1000);
 11  
 12  BEGIN
 13  
 14    d_basicDate := trunc(sysdate, 'mi');
 15    d_saveMaxDate := d_basicDate - numtodsinterval(n_saveDay,'day');--n_saveDay=100
 16  
 17  
 18    begin
 19  
 20      --每天0点删除超期数据
 21      if (to_char(d_basicDate, 'HH24') = '00') then
 22           v_del_sql := 'delete from DVS_GS_CARNUM_ONWAY t where t.computedate < :1' ;
 23           dbms_output.put_line(v_del_sql);
 24           execute immediate v_del_sql using d_saveMaxDate;
 25           commit;
 26      end if;
 27  
 28      exception
 29        when others then
 30          v_errCode := TO_CHAR(SQLCODE);
 31          v_errMsg := SQLERRM ;
 32  
 33          dbms_output.put_line(v_errCode||v_errMsg);
 34     end;
 35  
 36  END PROC_DVS_GS_CARNUM_ONWAY_SUM;
 37  /
Procedure created
SQL> prompt

SQL> prompt Creating procedure PROC_DVS_INOUTCITY_FLOW_SUM
Creating procedure PROC_DVS_INOUTCITY_FLOW_SUM
SQL> prompt ==============================================
==============================================
SQL> prompt

SQL> create or replace procedure PROC_DVS_INOUTCITY_FLOW_SUM(
  2            n_saveDay          in number,
  3            n_intervalMin      in number) IS
  4  
  5    v_table_name  varchar2(20) := 'detect_speed_data';--卡口换算汇总原表
  6    v_table_sum varchar2(20) := 'DVS_INOUTCITY_FLOW';--汇总结果表
  7  
  8    v_ins_sql  varchar2(1000);--插入sql
  9    v_ins_sql_in  varchar2(1000);--插入sql
 10    v_ins_sql_out  varchar2(1000);--插入sql
 11  
 12    v_sum_sql varchar2(1000);
 13    v_sum_sql_in  varchar2(1000);--进城sql
 14    v_sum_sql_out  varchar2(1000);--出城sql
 15  
 16    v_sum_sql_allin varchar2(1000);--进城车流总数sql
 17    v_sum_sql_allout varchar2(1000);--出城车流总数sql
 18  
 19    v_where varchar2(1000);
 20    v_where_in_comm varchar2(1000);--进城where公用条件
 21    v_where_in  varchar2(1000);--进城where条件
 22    v_where_out_comm varchar2(1000);--出城where公用条件
 23    v_where_out  varchar2(1000);--出城where条件
 24  
 25    v_where_in_forbigcar varchar2(1000);--进城 外地车中的大型车where条件
 26    v_sum_sql_in_forbigcar varchar2(1000);--进城 外地车中的大型车sql
 27    n_in_forbigcarnum number;--进城 外地车中的大型车数
 28  
 29    v_where_out_forbigcar varchar2(1000);--出城 外地车中的大型车where条件
 30    v_sum_sql_out_forbigcar varchar2(1000);--出城 外地车中的大型车sql
 31    n_out_forbigcarnum number;--出城 外地车中的大型车数
 32  
 33    v_where_in_bigforcar varchar2(1000);--进城 大型车中的外地车where条件
 34    v_sum_sql_in_bigforcar varchar2(1000);--进城 大型车中的外地车sql
 35    n_in_bigforcarnum number;--进城 大型车中的外地车数
 36  
 37    v_where_out_bigforcar varchar2(1000);--出城 大型车中的外地车where条件
 38    v_sum_sql_out_bigforcar varchar2(1000);--出城 大型车中的外地车sql
 39    n_out_bigforcarnum number;--出城 大型车中的外地车数
 40  
 41    n_in_allcarnum number;--进城 车流总数
 42    n_in_foreigncarnum number;--进城 外地车总数
 43    n_in_bigcarnum number;--进城 大型车总数
 44    n_in_forothercarnum number;--进城 外地车中的其他车型总数
 45    n_out_forothercarnum number;--出城 外地车中的其他车型总数
 46  
 47    n_out_allcarnum number;--出城 车流总数
 48    n_out_foreigncarnum number;--出城 外地车总数
 49    n_out_bigcarnum number;--出城 大型车总数
 50    n_out_bigloccarnum number;--出城 大型车中的本地车总数
 51    n_in_bigloccarnum number;--进城 大型车中的本地车总数
 52  
 53  
 54    v_del_sql VARCHAR2(100);--删除sql
 55  
 56    d_basicDate  Date;
 57    d_beginDate  Date;
 58    d_endDate    Date;
 59    d_saveMaxDate Date;--小于此日期的数据会被删除
 60  
 61    v_errCode VARCHAR2(100);
 62    v_errMsg  VARCHAR2(1000);
 63  
 64  BEGIN
 65  
 66    d_basicDate := trunc(sysdate, 'mi');
 67    d_beginDate := d_basicDate - numtodsinterval(n_intervalMin,'minute');
 68    d_endDate := d_basicDate;
 69    d_saveMaxDate := d_basicDate - numtodsinterval(n_saveDay,'day');
 70  
 71    v_where := ' and t.clicensetype != '||chr(39)||'41'||chr(39)||' and t.clicensetype != '||chr(39)||'99'||chr(39)||' and t.dcollectiondate >= :1 and t.dcollectiondate < :2 ';
 72    v_where_in_comm := ' where (t.caddresscode,t.nderictrion) in (select pointcode, ninderictrion from anlys_monitor_point_inout) ';
 73    v_where_in := v_where_in_comm || v_where;
 74  
 75    v_where_out_comm := ' where (t.caddresscode,t.nderictrion) in (select pointcode, noutderictrion from anlys_monitor_point_inout) ';
 76    v_where_out := v_where_out_comm || v_where;
 77  
 78    v_where_in_forbigcar := v_where_in || ' and substr(ccarnumber, 1, 2) != '||chr(39)||'鲁U'||chr(39)||' and substr(ccarnumber, 1, 2) != '||chr(39)||'鲁B'||chr(39)||' ';
 79    v_where_out_forbigcar := v_where_out || ' and substr(ccarnumber, 1, 2) != '||chr(39)||'鲁U'||chr(39)||' and substr(ccarnumber, 1, 2) != '||chr(39)||'鲁B'||chr(39)||' ';
 80  
 81    v_where_in_bigforcar := v_where_in_comm || ' and t.clicensetype = '||chr(39)||'01'||chr(39)||' and t.dcollectiondate >= :1 and t.dcollectiondate < :2 ';
 82    v_where_out_bigforcar := v_where_out_comm || ' and t.clicensetype = '||chr(39)||'01'||chr(39)||' and t.dcollectiondate >= :1 and t.dcollectiondate < :2 ';
 83  
 84    begin
 85  
 86      v_sum_sql := ' nvl(sum(decode(substr(ccarnumber, 1, 2),'||chr(39)||'鲁U'||chr(39)||',0,'||chr(39)||'鲁B'||chr(39)||',0,1)),0), nvl(sum(decode(clicensetype,'||chr(39)||'01'||chr(39)||',1,0)),0) ';
 87  
 88      v_sum_sql_in := ' select ' || v_sum_sql || ' from  ' || v_table_name || ' t ' || v_where_in;
 89      v_sum_sql_out :=' select ' || v_sum_sql || ' from  ' || v_table_name || ' t ' || v_where_out;
 90  
 91      v_sum_sql_allin := ' select count(1) from ' || v_table_name || ' t ' || v_where_in_comm || ' and t.dcollectiondate >= :1 and t.dcollectiondate < :2 ';
 92      v_sum_sql_allout := ' select count(1) from ' || v_table_name || ' t ' || v_where_out_comm || ' and t.dcollectiondate >= :1 and t.dcollectiondate < :2 ';
 93  
 94      v_sum_sql_in_forbigcar := 'select nvl(sum(decode(clicensetype,'||chr(39)||'01'||chr(39)||',1,0)),0) from ' || v_table_name || ' t ' || v_where_in_forbigcar;
 95      v_sum_sql_out_forbigcar := 'select nvl(sum(decode(clicensetype,'||chr(39)||'01'||chr(39)||',1,0)),0) from ' || v_table_name || ' t ' || v_where_out_forbigcar;
 96  
 97      v_sum_sql_in_bigforcar := 'select nvl(sum(decode(substr(ccarnumber, 1, 2),'||chr(39)||'鲁U'||chr(39)||',0,'||chr(39)||'鲁B'||chr(39)||',0,1)),0) from '|| v_table_name || ' t ' || v_where_in_bigforcar;
 98      v_sum_sql_out_bigforcar := 'select nvl(sum(decode(substr(ccarnumber, 1, 2),'||chr(39)||'鲁U'||chr(39)||',0,'||chr(39)||'鲁B'||chr(39)||',0,1)),0) from '|| v_table_name || ' t ' || v_where_out_bigforcar;
 99  
100      dbms_output.put_line(v_sum_sql_in);
101      dbms_output.put_line(v_sum_sql_out);
102  
103      dbms_output.put_line(v_sum_sql_allin);
104      dbms_output.put_line(v_sum_sql_allout);
105  
106      dbms_output.put_line(v_sum_sql_in_forbigcar);
107      dbms_output.put_line(v_sum_sql_out_forbigcar);
108  
109      dbms_output.put_line(v_sum_sql_in_bigforcar);
110      dbms_output.put_line(v_sum_sql_out_bigforcar);
111  
112      execute immediate v_sum_sql_in into n_in_foreigncarnum,n_in_bigcarnum using d_beginDate, d_endDate;
113      execute immediate v_sum_sql_out into n_out_foreigncarnum,n_out_bigcarnum using d_beginDate, d_endDate;
114  
115      execute immediate v_sum_sql_allin into n_in_allcarnum using d_beginDate, d_endDate;
116      execute immediate v_sum_sql_allout into n_out_allcarnum using d_beginDate, d_endDate;
117  
118      execute immediate v_sum_sql_in_forbigcar into n_in_forbigcarnum using d_beginDate, d_endDate;
119      execute immediate v_sum_sql_out_forbigcar into n_out_forbigcarnum using d_beginDate, d_endDate;
120  
121      execute immediate v_sum_sql_in_bigforcar into n_in_bigforcarnum using d_beginDate, d_endDate;
122      execute immediate v_sum_sql_out_bigforcar into n_out_bigforcarnum using d_beginDate, d_endDate;
123  
124      n_in_forothercarnum := n_in_foreigncarnum - n_in_forbigcarnum;
125      n_out_forothercarnum := n_out_foreigncarnum - n_out_forbigcarnum;
126      n_in_bigloccarnum := n_in_bigcarnum - n_in_bigforcarnum;
127      n_out_bigloccarnum := n_out_bigcarnum - n_out_bigforcarnum;
128  
129  
130      v_ins_sql := 'insert into ' || v_table_sum || '(Inoutflag,Allcarnum,Foreigncarnum,forbigcarnum, forothercarnum,Bigcarnum,bigloccarnum, bigforcarnum,Computedate)';
131      --v_ins_sql_in := v_ins_sql || v_sum_sql_in;
132      --v_ins_sql_out := v_ins_sql || v_sum_sql_out;
133      v_ins_sql_in := v_ins_sql || ' values('||chr(39)||'0'||chr(39)||','|| n_in_allcarnum ||','|| n_in_foreigncarnum ||','|| n_in_forbigcarnum ||','|| n_in_forothercarnum||','|| n_in_bigcarnum||','|| n_in_bigloccarnum||','|| n_in_bigforcarnum||',:1)';
134      v_ins_sql_out := v_ins_sql || ' values('||chr(39)||'1'||chr(39)||','|| n_out_allcarnum||','|| n_out_foreigncarnum||','|| n_out_forbigcarnum||','|| n_out_forothercarnum||','|| n_out_bigcarnum||','|| n_out_bigloccarnum||','|| n_out_bigforcarnum||',:1)';
135  
136      --每天0点删除超期数据
137      if (to_char(d_basicDate, 'HH24') = '00') then
138           v_del_sql := 'delete from DVS_INOUTCITY_FLOW t where t.computedate < :1' ;
139           dbms_output.put_line(v_del_sql);
140           execute immediate v_del_sql using d_saveMaxDate;
141           commit;
142      end if;
143  
144      dbms_output.put_line(v_ins_sql_in);
145      dbms_output.put_line(v_ins_sql_out);
146     -- execute immediate v_ins_sql_in using d_endDate, d_beginDate, d_endDate;
147     -- execute immediate v_ins_sql_out using d_endDate, d_beginDate, d_endDate;
148     execute immediate v_ins_sql_in using d_endDate;
149      execute immediate v_ins_sql_out using d_endDate;
150      commit;
151  
152      exception
153        when others then
154          v_errCode := TO_CHAR(SQLCODE);
155          v_errMsg := SQLERRM ;
156  
157          dbms_output.put_line(v_errCode||v_errMsg);
158     end;
159  
160  END PROC_DVS_INOUTCITY_FLOW_SUM;
161  /
Procedure created
SQL> prompt

SQL> prompt Creating procedure PROC_DVS_INOUTGS_FLOW_SUM
Creating procedure PROC_DVS_INOUTGS_FLOW_SUM
SQL> prompt ============================================
============================================
SQL> prompt

SQL> create or replace procedure PROC_DVS_INOUTGS_FLOW_SUM(
  2            n_saveDay          in number,
  3            n_intervalMin      in number) IS
  4  
  5    v_table_name_dsd  varchar2(20) := 'detect_speed_data';--卡口换算汇总原表
  6    v_table_name_sfd  varchar2(20) := 'section_flow_data';---流量累加汇总原表
  7    v_table_sum varchar2(20) := 'DVS_INOUTGS_FLOW';--汇总结果表
  8  
  9    v_ins_sql  varchar2(1000);--插入sql
 10    v_sum_sql_in_dsd  varchar2(1000);--卡口换算驶入高速流量sql
 11    v_sum_sql_out_dsd  varchar2(1000);--卡口换算驶出高速流量sql
 12    v_sum_sql_in_sfd  varchar2(1000);--流量检测累加驶入高速流量sql
 13    v_sum_sql_out_sfd  varchar2(1000);--流量检测累加驶出高速流量sql
 14  
 15    v_where_in_dsd  varchar2(1000);--卡口换算进高速where条件
 16    v_where_out_dsd  varchar2(1000);--卡口换算出高速where条件
 17    v_where_in_sfd  varchar2(1000);--流量检测累加进高速where条件
 18    v_where_out_sfd  varchar2(1000);--流量检测累加出高速where条件
 19    v_del_sql VARCHAR2(100);--删除sql
 20  
 21    n_innum_dsd number;--驶入高速流量-卡口换算
 22    n_outnum_dsd number;--驶出高速流量-卡口换算
 23    n_innum_sfd number;--驶入高速流量-流量检测累加
 24    n_outnum_sfd number;--驶出高速流量-流量检测累加
 25    n_innum number;--驶入高速流量
 26    n_outnum number;--驶出高速流量
 27  
 28    d_basicDate  Date;
 29    d_beginDate  Date;
 30    d_endDate    Date;
 31    d_saveMaxDate Date;--小于此日期的数据会被删除
 32  
 33    v_errCode VARCHAR2(100);
 34    v_errMsg  VARCHAR2(1000);
 35  
 36  BEGIN
 37  
 38    d_basicDate := trunc(sysdate, 'mi');
 39    d_beginDate := d_basicDate - numtodsinterval(n_intervalMin,'minute');
 40    d_endDate := d_basicDate;
 41    d_saveMaxDate := d_basicDate - numtodsinterval(n_saveDay,'day');
 42  
 43    v_where_in_dsd := ' where (t.caddresscode,t.nderictrion) in (select pointcode, nindirection from MONITOR_POINT_INOUT_GS g where g.nindirection>0 and g.type='|| chr(39) ||'0'|| chr(39) ||') and t.dcollectiondate >= :1 and t.dcollectiondate < :2 ';
 44    v_where_out_dsd := ' where (t.caddresscode,t.nderictrion) in (select pointcode, noutdirection from MONITOR_POINT_INOUT_GS g where g.noutdirection>0 and g.type='|| chr(39) ||'0'|| chr(39) ||') and t.dcollectiondate >= :1 and t.dcollectiondate < :2 ';
 45  
 46    v_where_in_sfd := ' where (s.pointid,s.directionid) in (select pointcode, nindirection from MONITOR_POINT_INOUT_GS g where g.nindirection>0 and g.type='|| chr(39) ||'1'|| chr(39) ||') and s.stdtime >= :1 and s.stdtime < :2';
 47    v_where_out_sfd := ' where (s.pointid,s.directionid) in (select pointcode, noutdirection from MONITOR_POINT_INOUT_GS g where g.noutdirection>0 and g.type='|| chr(39) ||'1'|| chr(39) ||') and s.stdtime >= :1 and s.stdtime < :2';
 48  
 49    begin
 50  
 51      v_sum_sql_in_dsd := 'select count(1) from  ' || v_table_name_dsd || ' t ' || v_where_in_dsd;
 52      v_sum_sql_out_dsd :='select count(1) from  ' || v_table_name_dsd || ' t ' || v_where_out_dsd;
 53  
 54      v_sum_sql_in_sfd := 'select nvl(sum(s.commcount),0) from ' || v_table_name_sfd || ' s ' || v_where_in_sfd;
 55      v_sum_sql_out_sfd := 'select nvl(sum(s.commcount),0) from ' || v_table_name_sfd || ' s ' || v_where_out_sfd;
 56  
 57      dbms_output.put_line(v_sum_sql_in_dsd);
 58      dbms_output.put_line(v_sum_sql_out_dsd);
 59  
 60      dbms_output.put_line(v_sum_sql_in_sfd);
 61      dbms_output.put_line(v_sum_sql_out_sfd);
 62  
 63      execute immediate v_sum_sql_in_dsd into n_innum_dsd using d_beginDate, d_endDate;
 64      execute immediate v_sum_sql_out_dsd into n_outnum_dsd using d_beginDate, d_endDate;
 65  
 66      execute immediate v_sum_sql_in_sfd into n_innum_sfd using d_beginDate, d_endDate;
 67      execute immediate v_sum_sql_out_sfd into n_outnum_sfd using d_beginDate, d_endDate;
 68  
 69      n_innum := n_innum_dsd + n_innum_sfd;
 70      n_outnum := n_outnum_dsd + n_outnum_sfd;
 71  
 72      v_ins_sql := 'insert into ' || v_table_sum || '(computedate,innum,outnum)';
 73      v_ins_sql := v_ins_sql || ' values(:1, ' || n_innum || ', ' || n_outnum ||' )';
 74  
 75      --每天0点删除超期数据
 76      if (to_char(d_basicDate, 'HH24') = '00') then
 77           v_del_sql := 'delete from DVS_INOUTGS_FLOW t where t.computedate < :1' ;
 78           dbms_output.put_line(v_del_sql);
 79           execute immediate v_del_sql using d_saveMaxDate;
 80           commit;
 81      end if;
 82  
 83      dbms_output.put_line(v_ins_sql);
 84      execute immediate v_ins_sql using d_basicDate;
 85      commit;
 86  
 87      exception
 88        when others then
 89          v_errCode := TO_CHAR(SQLCODE);
 90          v_errMsg := SQLERRM ;
 91  
 92          dbms_output.put_line(v_errCode||v_errMsg);
 93     end;
 94  
 95  END PROC_DVS_INOUTGS_FLOW_SUM;
 96  /
Procedure created
SQL> prompt

SQL> prompt Creating procedure PROC_GS_DROPOVERDUEDATA
Creating procedure PROC_GS_DROPOVERDUEDATA
SQL> prompt ==========================================
==========================================
SQL> prompt

SQL> create or replace procedure proc_gs_dropoverduedata is
  2  
  3  begin
  4   delete from black_list_manage t where t.controltype =29 and t.etime<sysdate;
  5   commit;
  6   end;
  7  /
Procedure created
SQL> prompt

SQL> prompt Creating procedure PROC_IDG_SUM
Creating procedure PROC_IDG_SUM
SQL> prompt ===============================
===============================
SQL> prompt

SQL> create or replace procedure PROC_IDG_SUM(
  2            p_table_ori_suffix in varchar2,
  3            p_table_sum_suffix in varchar2) IS
  4  
  5    v_table_name  varchar2(30) := 'illegal_data'; --违法业务表的名称
  6    v_table_sum varchar2(30) ;--汇总结果表
  7  
  8    v_ins_sql  varchar2(1000);  --执行新增的sql语句
  9    v_sum_sql  varchar2(1000);  --执行汇总的sql语句
 10  
 11    v_sum_sql_time varchar2(1000); --根据汇总时间范围不同select的时间精准度不同
 12    v_sum_sql_where  varchar2(1000);  --执行汇总的sql语句where条件语句
 13    v_sum_sql_from varchar2(1000);--from hour,day,month
 14    v_sum_fun  varchar2(30) := 'SUM(t.ILL_NUM),SUM(t.FKJE_SUM)'; --汇总函数
 15  
 16    v_errCode VARCHAR2(100); --sql执行产生的错误代码
 17    v_errMsg  VARCHAR2(1000); --sql执行产生的错误信息
 18  
 19  BEGIN
 20    --根据汇总时间范围初始化sql片段
 21  
 22       v_sum_sql_where := ' where t.cselectstatus!=2 and t.caddresscode=t1.pointcode and t.DILLEGALDATE < to_date(to_char(sysdate,' || chr(39)||'yyyy-MM-dd' ||chr(39)||'),'||chr(39)||'yyyy-MM-dd'||chr(39)||') and t.DILLEGALDATE >= to_date(to_char(sysdate - interval '|| chr(39) || '1' || chr(39) ||' day, '||chr(39)||'yyyy-MM-dd'||chr(39)||'),'||chr(39)||'yyyy-MM-dd'||chr(39)||')';
 23       v_sum_fun := 'COUNT(*)'; --汇总函数
 24  
 25  
 26    --进行汇总统计和入库
 27    begin
 28       v_table_sum :='ILLEGAL_DATA_GEOMETRY';
 29  
 30       v_ins_sql := 'insert into ' || v_table_sum  ;
 31  
 32       v_sum_sql := 'select t.caddresscode,MDSYS.SDO_GEOMETRY(2001, 8307, SDO_POINT_TYPE(t1.longitude,t1.latitude, null), NULL, NULL) ,count(*) counts,trunc(t.dillegaldate)illegaldate from illegal_data t,monitor_point t1 ' ;
 33       v_sum_sql := v_sum_sql || v_sum_sql_where || 'group by t.caddresscode,trunc(t.dillegaldate),t1.longitude,t1.latitude  ';
 34  
 35       v_ins_sql := v_ins_sql || ' ' || v_sum_sql;
 36  
 37       dbms_output.put_line(v_ins_sql);
 38  
 39       execute immediate v_ins_sql;
 40        commit;
 41  
 42     exception
 43        when others then
 44          v_errCode := TO_CHAR(SQLCODE);
 45          v_errMsg := SQLERRM ;
 46  
 47          dbms_output.put_line(v_errCode||v_errMsg);
 48     end;
 49  
 50  
 51  end PROC_IDG_SUM;
 52  /
Procedure created
SQL> prompt

SQL> prompt Creating procedure PROC_INOUTCITY_SUM
Creating procedure PROC_INOUTCITY_SUM
SQL> prompt =====================================
=====================================
SQL> prompt

SQL> create or replace procedure PROC_inoutcity_SUM(
  2            p_table_ori_suffix in varchar2,
  3            p_table_sum_suffix in varchar2) IS
  4  
  5    v_table_name  varchar2(30) := 'DETECT_SPEED_DATA';
  6    v_table_ori varchar2(30) ;
  7    v_table_sum varchar2(30) ;
  8  
  9    v_ins_sql  varchar2(1000);
 10    v_sum_sql  varchar2(1000);
 11  
 12    v_sum_sql_time varchar2(1000);
 13    v_sum_sql_where  varchar2(1000);
 14    v_sum_sql_from varchar2(1000);--from hour,day,month
 15    v_sum_fun  varchar2(30) := 'SUM(t.PASS_AMOUNT)';
 16  
 17    v_del_sql_where  varchar2(1000);
 18    v_sum_sql_where_del  varchar2(1000);
 19    v_sum_sql_time_del varchar2(1000);
 20    v_sum_fun_del varchar2(30) := 'SUM(t.PASS_AMOUNT)';
 21    v_sum_sql_from_del varchar2(1000);
 22    v_ins_sql_del  varchar2(1000);
 23    v_sum_sql_del  varchar2(1000);
 24    v_del_sql   varchar2(1000);
 25    v_errCode VARCHAR2(100);
 26    v_errMsg  VARCHAR2(1000);
 27  
 28  BEGIN
 29  
 30    if(upper(p_table_sum_suffix) = '_HOUR') then
 31       v_sum_sql_where := ' where caddresscode in (select pointcode from anlys_monitor_point_inout) and dcollectiondate < to_date(to_char(sysdate,' || chr(39)||'yyyy-MM-dd HH24' ||chr(39)||'),'||chr(39)||'yyyy-MM-dd HH24'||chr(39)||') and dcollectiondate >= to_date(to_char(sysdate - interval '|| chr(39) || '1' || chr(39) ||' hour, '||chr(39)||'yyyy-MM-dd HH24'||chr(39)||'),'||chr(39)||'yyyy-MM-dd HH24'||chr(39)||')';
 32       v_sum_sql_time:= 'to_date(to_char(sysdate - interval '|| chr(39) || '1' || chr(39) ||' hour, '||chr(39)||'yyyy-MM-dd HH24'||chr(39)||'),'||chr(39)||'yyyy-MM-dd HH24'||chr(39)||')';
 33       v_sum_fun := 'COUNT(*)';
 34  
 35       v_sum_sql_from:= ' (select CADDRESSCODE,NDERICTRION,CLANENUMBER,CLICENSETYPE,';
 36       v_sum_sql_from := v_sum_sql_from || 'decode(substr(ccarnumber, 1, 2),'|| chr(39) ||'鲁U'|| chr(39) ||','|| chr(39) ||'LOC'|| chr(39) ||','|| chr(39) ||'鲁B'|| chr(39) ||','|| chr(39) ||'LOC'|| chr(39) ||','|| chr(39) ||'OVR'|| chr(39) ||') LOC ';
 37       v_sum_sql_from := v_sum_sql_from ||' from ' || v_table_name || '' ||v_sum_sql_where || ') t ';
 38   --    v_table_name := 'ANLYS_'|| v_table_name;
 39       v_table_name := 'ANLYS_inout_city';
 40  
 41  	 --解决由于数据接入延时造成出入城车流分析没有数据的情况
 42  	 --将ANLYS_INOUT_CITY_HOUR表中往前第12个小时的数据清空后重新生成
 43  	 v_sum_sql_where_del := ' where caddresscode in (select pointcode from anlys_monitor_point_inout) and dcollectiondate < to_date(to_char(sysdate - interval '|| chr(39) || '11' || chr(39) ||' hour,' || chr(39)||'yyyy-MM-dd HH24' ||chr(39)||'),'||chr(39)||'yyyy-MM-dd HH24'||chr(39)||') and dcollectiondate >= to_date(to_char(sysdate - interval '|| chr(39) || '12' || chr(39) ||' hour, '||chr(39)||'yyyy-MM-dd HH24'||chr(39)||'),'||chr(39)||'yyyy-MM-dd HH24'||chr(39)||')';
 44  
 45  	 v_sum_sql_time_del:= 'to_date(to_char(sysdate - interval '|| chr(39) || '12' || chr(39) ||' hour, '||chr(39)||'yyyy-MM-dd HH24'||chr(39)||'),'||chr(39)||'yyyy-MM-dd HH24'||chr(39)||')';
 46       v_sum_fun_del := 'COUNT(*)';
 47  
 48       v_sum_sql_from_del:= ' (select CADDRESSCODE,NDERICTRION,CLANENUMBER,CLICENSETYPE,';
 49       v_sum_sql_from_del := v_sum_sql_from_del || 'decode(substr(ccarnumber, 1, 2),'|| chr(39) ||'鲁U'|| chr(39) ||','|| chr(39) ||'LOC'|| chr(39) ||','|| chr(39) ||'鲁B'|| chr(39) ||','|| chr(39) ||'LOC'|| chr(39) ||','|| chr(39) ||'OVR'|| chr(39) ||') LOC ';
 50       v_sum_sql_from_del := v_sum_sql_from_del ||' from DETECT_SPEED_DATA ' ||v_sum_sql_where_del || ') t ';
 51  
 52  	 v_del_sql_where :='  where DCOLLECTIONDATE < to_date(to_char(sysdate - interval '|| chr(39) || '11' || chr(39) ||' hour, '
 53  	 || chr(39)||'yyyy-MM-dd HH24' ||chr(39)||'),'||chr(39)||'yyyy-MM-dd HH24'||chr(39)||') and dcollectiondate >= to_date(to_char(sysdate - interval '|| chr(39) || '12' || chr(39) ||' hour, '||chr(39)||'yyyy-MM-dd HH24'||chr(39)||'),'||chr(39)||'yyyy-MM-dd HH24'||chr(39)||')';
 54  
 55    elsif (upper(p_table_sum_suffix) = '_DAY') then
 56      -- v_table_name := 'ANLYS_'|| v_table_name;
 57       v_table_name := 'ANLYS_inout_city';
 58       v_table_ori := v_table_name || p_table_ori_suffix;
 59  
 60       v_sum_sql_where := ' where dcollectiondate < to_date(to_char(sysdate,' || chr(39)||'yyyy-MM-dd' ||chr(39)||'),'||chr(39)||'yyyy-MM-dd'||chr(39)||') and dcollectiondate >= to_date(to_char(sysdate - interval '|| chr(39) || '1' || chr(39) ||' day, '||chr(39)||'yyyy-MM-dd'||chr(39)||'),'||chr(39)||'yyyy-MM-dd'||chr(39)||')';
 61       v_sum_sql_time:= 'to_date(to_char(sysdate - interval '|| chr(39) || '1' || chr(39) ||' day, '||chr(39)||'yyyy-MM-dd'||chr(39)||'),'||chr(39)||'yyyy-MM-dd'||chr(39)||')';
 62  
 63       v_sum_sql_from:= v_table_ori || ' t' || v_sum_sql_where || ' ';
 64  
 65    elsif (upper(p_table_sum_suffix) = '_MONTH') then
 66      -- v_table_name := 'ANLYS_'|| v_table_name;
 67       v_table_name := 'ANLYS_inout_city';
 68       v_table_ori := v_table_name || p_table_ori_suffix;
 69  
 70       v_sum_sql_where := ' where dcollectiondate < to_date(to_char(sysdate,' || chr(39)||'yyyy-MM' ||chr(39)||'),'||chr(39)||'yyyy-MM'||chr(39)||') and dcollectiondate >= to_date(to_char(sysdate - interval '|| chr(39) || '1' || chr(39) ||' month, '||chr(39)||'yyyy-MM'||chr(39)||'),'||chr(39)||'yyyy-MM'||chr(39)||')';
 71       v_sum_sql_time:= 'to_date(to_char(sysdate - interval '|| chr(39) || '1' || chr(39) ||' month, '||chr(39)||'yyyy-MM'||chr(39)||'),'||chr(39)||'yyyy-MM'||chr(39)||')';
 72  
 73       v_sum_sql_from:= v_table_ori || ' t' || v_sum_sql_where || ' ';
 74  
 75    elsif (upper(p_table_sum_suffix) = '_YEAR') then
 76      -- v_table_name := 'ANLYS_'|| v_table_name;
 77       v_table_name := 'ANLYS_inout_city';
 78       v_table_ori := v_table_name || p_table_ori_suffix;
 79  
 80       v_sum_sql_where := ' where extract(year from dcollectiondate) = extract(year from sysdate) - 1';
 81       v_sum_sql_from:= v_table_ori || ' t' || v_sum_sql_where || ' ';
 82  
 83    end if;
 84  
 85  
 86    begin
 87       v_table_sum := v_table_name || p_table_sum_suffix;
 88  
 89  
 90       v_ins_sql := 'insert into ' || v_table_sum || '(NID,CADDRESSCODE,NDERICTRION,CLANENUMBER,CLICENSETYPE,LOC,DCOLLECTIONDATE,PASS_AMOUNT)';
 91  
 92       v_sum_sql := 'select sys_guid(),t.CADDRESSCODE,t.NDERICTRION,t.CLANENUMBER,t.CLICENSETYPE,t.LOC,'|| v_sum_sql_time || ',' || v_sum_fun ||' from ';
 93       v_sum_sql := v_sum_sql || v_sum_sql_from || 'group by t.CADDRESSCODE, t.NDERICTRION, t.CLANENUMBER, t.CLICENSETYPE, t.LOC';
 94  
 95       v_ins_sql := v_ins_sql || ' ' || v_sum_sql;
 96  
 97       dbms_output.put_line(v_ins_sql);
 98  
 99       execute immediate v_ins_sql;
100       commit;
101  
102      --解决由于数据接入延时造成出入城车流分析没有数据的情况
103  	 --将ANLYS_INOUT_CITY_HOUR表中往前第12个小时的数据清空后重新生成
104  	 if(upper(p_table_sum_suffix) = '_HOUR') then
105  
106  	     v_ins_sql_del := 'insert into ' || v_table_sum || '(NID,CADDRESSCODE,NDERICTRION,CLANENUMBER,CLICENSETYPE,LOC,DCOLLECTIONDATE,PASS_AMOUNT)';
107  
108           v_sum_sql_del := 'select sys_guid(),t.CADDRESSCODE,t.NDERICTRION,t.CLANENUMBER,t.CLICENSETYPE,t.LOC,'|| v_sum_sql_time_del || ',' || v_sum_fun_del ||' from ';
109           v_sum_sql_del := v_sum_sql_del || v_sum_sql_from_del || 'group by t.CADDRESSCODE, t.NDERICTRION, t.CLANENUMBER, t.CLICENSETYPE, t.LOC';
110  
111           v_ins_sql_del := v_ins_sql_del || ' ' || v_sum_sql_del;
112  
113  
114  
115  	     v_del_sql := 'delete from ' || v_table_sum || v_del_sql_where;
116       dbms_output.put_line(v_del_sql);
117       execute immediate v_del_sql;
118       commit;
119  
120       dbms_output.put_line(v_ins_sql_del);
121  
122       execute immediate v_ins_sql_del;
123       commit;
124     end if;
125     exception
126        when others then
127          v_errCode := TO_CHAR(SQLCODE);
128          v_errMsg := SQLERRM ;
129  
130          dbms_output.put_line(v_errCode||v_errMsg);
131         --insert into PC_DSD_SUM_ERROR values(sys_guid(),sysdate, v_errCode, v_errMsg);
132        -- commit;
133     end;
134  
135  
136  end PROC_inoutcity_SUM;
137  /
Procedure created
SQL> prompt

SQL> prompt Creating procedure PROC_PCG_SUM
Creating procedure PROC_PCG_SUM
SQL> prompt ===============================
===============================
SQL> prompt

SQL> create or replace procedure PROC_PCG_SUM(
  2            p_table_ori_suffix in varchar2,
  3            p_table_sum_suffix in varchar2) IS
  4  
  5    v_table_name  varchar2(30) := 'POLICE_CASE';
  6    v_table_sum varchar2(30) ;--汇总结果表
  7  
  8    v_ins_sql  varchar2(1000);  --执行新增的sql语句
  9    v_sum_sql  varchar2(1000);  --执行汇总的sql语句
 10  
 11    v_sum_sql_time varchar2(1000); --根据汇总时间范围不同select的时间精准度不同
 12    v_sum_sql_where  varchar2(1000);  --执行汇总的sql语句where条件语句
 13    v_sum_sql_from varchar2(1000);--from hour,day,month
 14    v_sum_fun  varchar2(30) := 'SUM(t.ILL_NUM),SUM(t.FKJE_SUM)'; --汇总函数
 15  
 16    v_errCode VARCHAR2(100); --sql执行产生的错误代码
 17    v_errMsg  VARCHAR2(1000); --sql执行产生的错误信息
 18  
 19  BEGIN
 20    --根据汇总时间范围初始化sql片段
 21  
 22       v_sum_sql_where := ' where  t.START_TIME < to_date(to_char(sysdate,' || chr(39)||'yyyy-MM-dd' ||chr(39)||'),'||chr(39)||'yyyy-MM-dd'||chr(39)||') and t.START_TIME >= to_date(to_char(sysdate - interval '|| chr(39) || '1' || chr(39) ||' day, '||chr(39)||'yyyy-MM-dd'||chr(39)||'),'||chr(39)||'yyyy-MM-dd'||chr(39)||')';
 23       v_sum_fun := 'COUNT(*)'; --汇总函数
 24  
 25  
 26    --进行汇总统计和入库
 27    begin
 28       v_table_sum :='POLICE_CASE_GEOMETRY';
 29  
 30       v_ins_sql := 'insert into ' || v_table_sum  ;
 31  
 32       v_sum_sql := 'select substr(t.area_id,0,6), MDSYS.SDO_GEOMETRY(2001, 8307, SDO_POINT_TYPE(t.longitude,t.latitude, null), NULL, NULL) ,t.case_category,count(*) counts,trunc(t.start_time)start_time,t.area_id from police_case t ' ;
 33       v_sum_sql := v_sum_sql || v_sum_sql_where || 'group by substr(t.area_id,0,6), t.area_id,t.case_category,t.longitude,t.latitude,trunc(t.start_time)  ';
 34  
 35       v_ins_sql := v_ins_sql || ' ' || v_sum_sql;
 36  
 37       dbms_output.put_line(v_ins_sql);
 38  
 39       execute immediate v_ins_sql;
 40        commit;
 41  
 42     exception
 43        when others then
 44          v_errCode := TO_CHAR(SQLCODE);
 45          v_errMsg := SQLERRM ;
 46  
 47          dbms_output.put_line(v_errCode||v_errMsg);
 48     end;
 49  
 50  
 51  end PROC_PCG_SUM;
 52  /
Procedure created
SQL> prompt

SQL> prompt Creating procedure PROC_PC_SUM
Creating procedure PROC_PC_SUM
SQL> prompt ==============================
==============================
SQL> prompt

SQL> create or replace procedure PROC_PC_SUM(p_table_ori_suffix in varchar2,
  2                                           p_table_sum_suffix in varchar2) IS
  3  
  4    v_table_name varchar2(30) := 'POLICE_CASE'; --警情数据源表的名称
  5    v_table_ori  varchar2(30); --被汇总的表
  6    v_table_sum  varchar2(30); --汇总结果表
  7  
  8    v_ins_sql varchar2(1000); --执行新增的sql语句
  9    v_sum_sql varchar2(1000); --执行汇总的sql语句
 10  
 11    v_sum_sql_time  varchar2(1000); --根据汇总时间范围不同select的时间精准度不同
 12    v_sum_sql_where varchar2(1000); --执行汇总的sql语句where条件语句
 13    v_sum_sql_from  varchar2(1000); --from hour,day,month
 14    v_sum_fun       varchar2(30) := 'SUM(t.PASS_AMOUNT)'; --汇总函数
 15  
 16    v_errCode VARCHAR2(100); --sql执行产生的错误代码
 17    v_errMsg  VARCHAR2(1000); --sql执行产生的错误信息
 18  
 19  BEGIN
 20    --根据汇总时间范围初始化sql片段
 21    if (upper(p_table_sum_suffix) = '_HOUR') then
 22      v_sum_sql_where := ' where start_time < to_date(to_char(sysdate,' ||
 23                         chr(39) || 'yyyy-MM-dd HH24' || chr(39) || '),' ||
 24                         chr(39) || 'yyyy-MM-dd HH24' || chr(39) ||
 25                         ') and start_time >= to_date(to_char(sysdate - interval ' ||
 26                         chr(39) || '1' || chr(39) || ' hour, ' || chr(39) ||
 27                         'yyyy-MM-dd HH24' || chr(39) || '),' || chr(39) ||
 28                         'yyyy-MM-dd HH24' || chr(39) || ')';
 29      v_sum_sql_time  := 'to_date(to_char(sysdate - interval ' || chr(39) || '1' ||
 30                         chr(39) || ' hour, ' || chr(39) || 'yyyy-MM-dd HH24' ||
 31                         chr(39) || '),' || chr(39) || 'yyyy-MM-dd HH24' ||
 32                         chr(39) || ')';
 33      v_sum_fun       := 'COUNT(*)'; --汇总函数
 34  
 35      v_sum_sql_from := ' (select CASE_CATEGORY,CONCRETE_TYPE,AREA_ID';
 36  
 37      v_sum_sql_from := v_sum_sql_from || ' from ' || v_table_name || '' ||
 38                        v_sum_sql_where || ') t ';
 39      v_table_name   := 'ANLYS_' || v_table_name;
 40  
 41    end if;
 42  
 43    --进行汇总统计和入库
 44    begin
 45      v_table_sum := v_table_name || p_table_sum_suffix;
 46  
 47      v_ins_sql := 'insert into ' || v_table_sum ||
 48                   '(NID,CASE_CATEGORY,CONCRETE_TYPE,AREA_ID,CASE_TIME,ALARM_AMOUBT)';
 49  
 50      v_sum_sql := 'select sys_guid(),t.CASE_CATEGORY,t.CONCRETE_TYPE,t.AREA_ID,' ||
 51                   v_sum_sql_time || ',' || v_sum_fun || ' from ';
 52      v_sum_sql := v_sum_sql || v_sum_sql_from ||
 53                   'group by t.CASE_CATEGORY, t.CONCRETE_TYPE,  t.AREA_ID';
 54  
 55      v_ins_sql := v_ins_sql || ' ' || v_sum_sql;
 56  
 57      dbms_output.put_line(v_ins_sql);
 58  
 59      execute immediate v_ins_sql;
 60      commit;
 61  
 62    exception
 63      when others then
 64        v_errCode := TO_CHAR(SQLCODE);
 65        v_errMsg  := SQLERRM;
 66  
 67        dbms_output.put_line(v_errCode || v_errMsg);
 68        end;
 69  end PROC_PC_SUM;
 70  /
Procedure created
SQL> prompt

SQL> prompt Creating procedure PROC_SSC_AVG_PRE
Creating procedure PROC_SSC_AVG_PRE
SQL> prompt ===================================
===================================
SQL> prompt

SQL> create or replace procedure PROC_SSC_AVG_PRE(
  2        day_begin in Integer,
  3            day_end in Integer--汇总天数 如果要汇总昨天，穿1即可
  4  ) IS
  5  
  6    v_table_from  varchar2(30) := 'SECTION_STATUS_COMPUTE'; --流量数据源表的名称
  7    v_table_to varchar2(50) := 'AN_'||v_table_from||'_AVG';--汇总结果表 testestestest
  8    --插入语句
  9    v_ins_sql  varchar2(1000);  --执行新增的sql语句
 10    --查询语句
 11    v_sel_sql  varchar2(1000);
 12    --分组语句
 13    v_grp_sql varchar2(1000):=' group by section_id';
 14    v_where_sql varchar2(2000);  --where条件语句
 15    --总语句
 16    v_sum_sql  varchar2(10000);
 17    v_errCode VARCHAR2(100); --sql执行产生的错误代码
 18    v_errMsg  VARCHAR2(1000); --sql执行产生的错误信息
 19    v_curtime date;--每天第一分钟
 20    v_btime date;
 21    v_etime date;
 22    v1 int;--5分钟间隔
 23  
 24  BEGIN
 25    v_curtime:= to_date(to_char(sysdate,'yyyy-MM-dd')||' 00:00','yyyy-MM-dd HH24:MI');
 26    begin
 27      --清除90天之前的数据
 28      delete from an_section_status_compute_avg where stdtime<sysdate-90-1;
 29      commit;
 30      for id_cur in(
 31          select distinct section_id from SECTION_STATUS_COMPUTE where RECEIVETIME>sysdate-1   and TRAVELTIME is not null and TRAVELTIME>0
 32      ) loop
 33        for v2 in day_begin..day_end loop
 34          --循环分钟数
 35          v1:=4;--20150114
 36          while v1<1440 loop
 37             --取5分钟,每天
 38             v_btime:=v_curtime+(v1-4)/1440-v2;--开区间
 39             v_etime:=v_curtime+v1/1440-v2;--开区间
 40             v_sel_sql := ' select SECTION_ID,ROUND(AVG(TRAVELTIME)) TRAVELTIME, to_date('||chr(39)||to_char(v_etime,'yyyy-MM-dd HH24:MI')||chr(39)||','||chr(39)||'yyyy-MM-dd HH24:MI'||chr(39)||')  STDTIME,'||chr(39)||to_char(v_etime,'HH24:MI')||chr(39)||' stdmi,'||chr(39)||to_char(v_etime,'D')||chr(39)||' stdweek from ';
 41             v_ins_sql := 'insert into ' || v_table_to || '(SECTIONID,TRAVELTIME,STDTIME,stdmi,stdweek)';
 42  
 43             --【0，5），[5,10) 保证取到5分钟的数据
 44             v_where_sql:='  WHERE section_id='||chr(39)||id_cur.section_id||chr(39)||' and RECEIVETIME < to_date('||chr(39)||to_char(v_etime+1/1440,'yyyy-MM-dd HH24:MI')||chr(39)||','||chr(39)||'yyyy-MM-dd HH24:MI'||chr(39)||')  and RECEIVETIME >= to_date('||chr(39)||to_char(v_btime,'yyyy-MM-dd HH24:MI')||chr(39)||','||chr(39)||'yyyy-MM-dd HH24:MI'||chr(39)||') ';
 45             --只取有旅行时间的路段
 46             v_where_sql :=v_where_sql|| '  and TRAVELTIME is not null and TRAVELTIME>0   ' ;
 47  
 48             --插入
 49             v_sum_sql := v_ins_sql|| v_sel_sql || v_table_from || v_where_sql||v_grp_sql ;
 50             --dbms_output.put_line(v_sum_sql);
 51             execute immediate v_sum_sql;
 52  
 53             v1:=v1+5;
 54          end loop;
 55          --减少提交的次数
 56          commit;
 57        end loop;
 58      end loop;
 59     exception
 60        when others then
 61          v_errCode := TO_CHAR(SQLCODE);
 62          v_errMsg := SQLERRM ;
 63          dbms_output.put_line(v_errCode||v_errMsg);
 64  
 65     end;
 66  end PROC_SSC_AVG_PRE;
 67  /
Procedure created
SQL> prompt

SQL> prompt Creating procedure PROC_SSD_AVG_PRE
Creating procedure PROC_SSD_AVG_PRE
SQL> prompt ===================================
===================================
SQL> prompt

SQL> create or replace procedure PROC_SSD_AVG_PRE(
  2            p_day in Integer--汇总天数 如果要汇总昨天，穿1即可
  3  ) IS
  4  
  5    v_table_from  varchar2(30) := 'SECTION_STATUS_DATA'; --流量数据源表的名称
  6    v_table_to varchar2(50) := 'AN_'||v_table_from||'_AVG1';--汇总结果表
  7    --插入语句
  8    v_ins_sql  varchar2(1000);  --执行新增的sql语句
  9    --查询语句
 10    v_sel_sql  varchar2(1000);
 11    --分组语句
 12    v_grp_sql varchar2(1000):=' group by sectionid';
 13    v_where_sql varchar2(2000);  --where条件语句
 14    --总语句
 15    v_sum_sql  varchar2(10000);
 16    v_errCode VARCHAR2(100); --sql执行产生的错误代码
 17    v_errMsg  VARCHAR2(1000); --sql执行产生的错误信息
 18    v_curtime date;--每天第一分钟
 19    v_btime date;
 20    v_etime date;
 21    v1 int;--5分钟间隔
 22  
 23  BEGIN
 24    v_curtime:= to_date(to_char(sysdate,'yyyy-MM-dd')||' 00:00','yyyy-MM-dd HH24:MI');
 25    begin
 26      --清除31天之前的数据
 27      delete from an_section_status_data_avg1 where stdtime<sysdate-90-1;
 28      commit;
 29      for v2 in 1..p_day loop
 30        --循环分钟数
 31        --v1:=2;
 32        v1:=4;--20150114
 33        while v1<1440 loop
 34           --取5分钟,每天
 35           v_btime:=v_curtime+(v1-4)/1440-v2;--开区间
 36           v_etime:=v_curtime+v1/1440-v2;--开区间
 37           v_sel_sql := ' select SECTIONID,SUM( COMMCOUNT)  COMMCOUNT,round(AVG(SPEED),2) SPEED,round(AVG(OCCUPANCY),4) OCCUPANCY, to_date('||chr(39)||to_char(v_etime,'yyyy-MM-dd HH24:MI')||chr(39)||','||chr(39)||'yyyy-MM-dd HH24:MI'||chr(39)||')  STDTIME,'||chr(39)||to_char(v_etime,'HH24:MI')||chr(39)||' stdmi,'||chr(39)||to_char(v_etime,'D')||chr(39)||' stdweek from ';
 38           v_ins_sql := 'insert into ' || v_table_to || '(SECTIONID, COMMCOUNT,SPEED,OCCUPANCY,STDTIME,stdmi,stdweek)';
 39           v_where_sql := ' where datasource != ' || chr(39)|| '5' || chr(39);
 40  
 41           --time-4<= <=time
 42           --v_where_sql:=v_where_sql||'  and STDTIME <= to_date('||chr(39)||to_char(v_etime,'yyyy-MM-dd HH24:MI')||chr(39)||','||chr(39)||'yyyy-MM-dd HH24:MI'||chr(39)||')  and STDTIME >= to_date('||chr(39)||to_char(v_btime,'yyyy-MM-dd HH24:MI')||chr(39)||','||chr(39)||'yyyy-MM-dd HH24:MI'||chr(39)||') ';
 43           --【0，5），[5,10) 保证取到5分钟的数据
 44           v_where_sql:=v_where_sql||'  and STDTIME < to_date('||chr(39)||to_char(v_etime+1/1440,'yyyy-MM-dd HH24:MI')||chr(39)||','||chr(39)||'yyyy-MM-dd HH24:MI'||chr(39)||')  and STDTIME >= to_date('||chr(39)||to_char(v_btime,'yyyy-MM-dd HH24:MI')||chr(39)||','||chr(39)||'yyyy-MM-dd HH24:MI'||chr(39)||') ';
 45           --范围判断 占有率数据已经筛选，不会出错 速度0-255 流量0-30
 46           v_where_sql :=v_where_sql|| '  and (speed<=255 and speed>0  and   commcount>0 and commcount<=30 and occupancy>0 and occupancy<1)   ' ;
 47           --加入完全停车
 48           --v_where_sql :=v_where_sql|| ' or (occupancy=1 and speed=0 and commcount=0) )';
 49           --插入
 50           v_sum_sql := v_ins_sql|| v_sel_sql || v_table_from || v_where_sql||v_grp_sql ;
 51           --dbms_output.put_line(v_sum_sql);
 52           execute immediate v_sum_sql;
 53           --每次插入之后都提交
 54           commit;
 55           v1:=v1+5;
 56        end loop;
 57      end loop;
 58     exception
 59        when others then
 60          v_errCode := TO_CHAR(SQLCODE);
 61          v_errMsg := SQLERRM ;
 62          dbms_output.put_line(v_errCode||v_errMsg);
 63  
 64     end;
 65  end PROC_SSD_AVG_PRE;
 66  /
Procedure created
SQL> prompt

SQL> prompt Creating procedure PROC_SSD_AVG_PRE2
Creating procedure PROC_SSD_AVG_PRE2
SQL> prompt ====================================
====================================
SQL> prompt

SQL> create or replace procedure PROC_SSD_AVG_PRE2(
  2            p_begin in Integer,--开始日期
  3            p_day in Integer--结束时间 从today -p_begin到today-p_day
  4  ) IS
  5  
  6    v_table_from  varchar2(30) := 'SECTION_STATUS_DATA'; --流量数据源表的名称
  7    v_table_to varchar2(50) := 'AN_'||v_table_from||'_AVG2';--汇总结果表
  8    --插入语句
  9    v_ins_sql  varchar2(1000);  --执行新增的sql语句
 10    --查询语句
 11    v_sel_sql  varchar2(1000);
 12    --分组语句
 13    v_grp_sql varchar2(1000):=' group by sectionid';
 14    v_where_sql varchar2(2000);  --where条件语句
 15    --总语句
 16    v_sum_sql  varchar2(10000);
 17    v_errCode VARCHAR2(100); --sql执行产生的错误代码
 18    v_errMsg  VARCHAR2(1000); --sql执行产生的错误信息
 19    v_curtime date;--每天第一分钟
 20    v_btime date;
 21    v_etime date;
 22    v1 int;--5分钟间隔
 23    v2 int;--5分钟间隔
 24  
 25  BEGIN
 26    v_curtime:= to_date(to_char(sysdate,'yyyy-MM-dd')||' 00:00','yyyy-MM-dd HH24:MI');
 27    begin
 28      --清除31天之前的数据
 29      delete from an_section_status_data_avg1 where stdtime<sysdate-90-1;
 30      commit;
 31      v2:=p_begin;
 32      while v2<=p_day loop
 33        --循环分钟数
 34        --v1:=2;
 35        v1:=4;--20150114
 36        while v1<1440 loop
 37           --取5分钟,每天
 38           v_btime:=v_curtime+(v1-4)/1440-v2;--开区间
 39           v_etime:=v_curtime+v1/1440-v2;--开区间
 40           v_sel_sql := ' select SECTIONID,SUM( COMMCOUNT)  COMMCOUNT,round(AVG(SPEED),2) SPEED,round(AVG(OCCUPANCY),4) OCCUPANCY, to_date('||chr(39)||to_char(v_etime,'yyyy-MM-dd HH24:MI')||chr(39)||','||chr(39)||'yyyy-MM-dd HH24:MI'||chr(39)||')  STDTIME,'||chr(39)||to_char(v_etime,'HH24:MI')||chr(39)||' stdmi,'||chr(39)||to_char(v_etime,'D')||chr(39)||' stdweek from ';
 41           v_ins_sql := 'insert into ' || v_table_to || '(SECTIONID, COMMCOUNT,SPEED,OCCUPANCY,STDTIME,stdmi,stdweek)';
 42           v_where_sql := ' where datasource != ' || chr(39)|| '5' || chr(39);
 43  
 44           --time-4<= <=time
 45           v_where_sql:=v_where_sql||'  and STDTIME <= to_date('||chr(39)||to_char(v_etime,'yyyy-MM-dd HH24:MI')||chr(39)||','||chr(39)||'yyyy-MM-dd HH24:MI'||chr(39)||')  and STDTIME >= to_date('||chr(39)||to_char(v_btime,'yyyy-MM-dd HH24:MI')||chr(39)||','||chr(39)||'yyyy-MM-dd HH24:MI'||chr(39)||') ';
 46           --范围判断 占有率数据已经筛选，不会出错 速度0-255 流量0-30
 47           v_where_sql :=v_where_sql|| '  and (speed<=255 and speed>0  and   commcount>0 and commcount<=30 and occupancy>0 and occupancy<1)   ' ;
 48           --加入完全停车
 49           --v_where_sql :=v_where_sql|| ' or (occupancy=1 and speed=0 and commcount=0) )';
 50           --插入
 51           v_sum_sql := v_ins_sql|| v_sel_sql || v_table_from || v_where_sql||v_grp_sql ;
 52           --dbms_output.put_line(v_sum_sql);
 53           execute immediate v_sum_sql;
 54           --每次插入之后都提交
 55           commit;
 56           v1:=v1+5;
 57        end loop;
 58        v2:=v2+1;
 59      end loop;
 60     exception
 61        when others then
 62          v_errCode := TO_CHAR(SQLCODE);
 63          v_errMsg := SQLERRM ;
 64          dbms_output.put_line(v_errCode||v_errMsg);
 65  
 66     end;
 67  end PROC_SSD_AVG_PRE2;
 68  /
Procedure created
SQL> prompt

SQL> prompt Creating procedure RSEQ
Creating procedure RSEQ
SQL> prompt =======================
=======================
SQL> prompt

SQL> create or replace procedure rseq(seqname varchar2) as
  2  
  3   n number(38);
  4  
  5  t_sql varchar2(1000);
  6  
  7   begin
  8  
  9   execute immediate 'select '||seqname||'.nextval from dual' into n;
 10  
 11    n:=-(n-1);
 12  
 13   t_sql :='alter sequence '||seqname||' increment by '|| n;
 14  
 15    execute immediate t_sql ;
 16  
 17   execute immediate 'select '||seqname||'.nextval from dual' into n;
 18  
 19    t_sql :='alter sequence '||seqname||' increment by 1 ';
 20  
 21   execute immediate t_sql ;
 22  
 23   end rseq;
 24  /
Procedure created
SQL> prompt

SQL> prompt Creating procedure ZONGDUI_CJG_IMPORT
Creating procedure ZONGDUI_CJG_IMPORT
SQL> prompt =====================================
=====================================
SQL> prompt

SQL> create or replace procedure zongdui_cjg_import  is
  2  
  3  begin
  4    --第一步 采用创建表的方式将总队车管表导入本地VEH_INFO_TEMP1
  5   execute immediate 'create table VEH_INFO_TEMP1 nologging parallel(degree 2) as select * from TRFF_APP.VEHICLE@DBLINK_CJG_NEW';
  6    --commit;
  7  
  8    --将VEH_INFO重新命名成VEH_INFO_TEMP2
  9    execute immediate 'alter table VEH_INFO rename to VEH_INFO_TEMP2';
 10    --将VEH_INFO_TEMP1重新命名成VEH_INFO
 11    execute immediate 'alter table VEH_INFO_TEMP1 rename to VEH_INFO';
 12    --删除VEH_INFO_TEMP2
 13    execute immediate 'drop table VEH_INFO_TEMP2';
 14    --增加主键及索引
 15   execute immediate ' alter table VEH_INFO add constraint PK_HPZL_VEH_INFO_TEMP11 primary key(HPZL,
 16                                                                                  HPHM)
 17      using index tablespace HIATMPTS pctfree 10 initrans 2 maxtrans 255 storage(initial 128M next 1M
 18                                                                                 minextents 1
 19                                                                                 maxextents
 20                                                                                 unlimited)';
 21    -- Create/Recreate indexes
 22   execute immediate ' create index IN_HPZL_HPHM_CLLX_TEMP1 on VEH_INFO(HPZL, HPHM, CLLX) tablespace HIATMPTS pctfree 10 initrans 2 maxtrans 255 storage(initial 120M next 1M
 23                                                                                                                                            minextents 1
 24                                                                                                                                            maxextents
 25                                                                                                                                            unlimited)';
 26    execute immediate 'create index IN_HPZL_HPHM_HDZK_TEMP1 on VEH_INFO(HPZL, HPHM, HDZK) tablespace HIATMPTS pctfree 10 initrans 2 maxtrans 255 storage(initial 64K next 1M
 27                                                                                                                                            minextents 1
 28                                                                                                                                            maxextents
 29                                                                                                                                            unlimited)';
 30    execute immediate 'create index IN_HPZL_HPHM_SYR_TEMP1 on VEH_INFO(HPZL, HPHM, SYR) tablespace HIATMPTS pctfree 10 initrans 2 maxtrans 255 storage(initial 64K next 1M
 31                                                                                                                                          minextents 1
 32                                                                                                                                          maxextents
 33                                                                                                                                          unlimited)';
 34    execute immediate 'create index IN_XH_VHE_INFO_TEMP1 on VEH_INFO(XH) tablespace HIATMPTS pctfree 10 initrans 2 maxtrans 255 storage(initial 160M next 1M
 35                                                                                                                           minextents 1
 36                                                                                                                           maxextents
 37                                                                                                                           unlimited)';
 38    execute immediate 'create index IN_YXQZ_VHE_INFO_TEMP1 on VEH_INFO(HPZL, HPHM, YXQZ) tablespace HIATMPTS pctfree 10 initrans 2 maxtrans 255 storage(initial 152M next 1M
 39                                                                                                                                           minextents 1
 40                                                                                                                                           maxextents
 41                                                                                                                                           unlimited)';
 42  
 43    --END;
 44    --execute immediate 'alter table VEH_INFO rename to VEH_INFO_TEMP2';
 45    commit;
 46  end zongdui_cjg_import;
 47  /
Procedure created
SQL> prompt

SQL> prompt Creating type body ZH_CONCAT_IM
Creating type body ZH_CONCAT_IM
SQL> prompt ===============================
===============================
SQL> prompt

SQL> CREATE OR REPLACE TYPE BODY zh_concat_im
  2  IS
  3    STATIC FUNCTION ODCIAGGREGATEINITIALIZE(SCTX IN OUT zh_concat_im)
  4    RETURN NUMBER
  5    IS
  6    BEGIN
  7      SCTX := zh_concat_im(NULL) ;
  8      RETURN ODCICONST.SUCCESS;
  9    END;
 10    MEMBER FUNCTION ODCIAGGREGATEITERATE(SELF IN OUT zh_concat_im,
 11            P1 IN VARCHAR2)
 12    RETURN NUMBER
 13    IS
 14    BEGIN
 15      IF(CURR_STR IS NOT NULL) THEN
 16        CURR_STR := CURR_STR || ':' || P1;
 17      ELSE
 18        CURR_STR := P1;
 19      END IF;
 20      RETURN ODCICONST.SUCCESS;
 21    END;
 22    MEMBER FUNCTION ODCIAGGREGATETERMINATE(SELF IN zh_concat_im,
 23                                   RETURNVALUE OUT VARCHAR2,
 24                                   FLAGS IN NUMBER)
 25      RETURN NUMBER
 26    IS
 27    BEGIN
 28      RETURNVALUE := CURR_STR ;
 29      RETURN ODCICONST.SUCCESS;
 30    END;
 31    MEMBER FUNCTION ODCIAGGREGATEMERGE(SELF IN OUT zh_concat_im,
 32                                     SCTX2 IN zh_concat_im)
 33    RETURN NUMBER
 34    IS
 35    BEGIN
 36      IF(SCTX2.CURR_STR IS NOT NULL) THEN
 37        SELF.CURR_STR := SELF.CURR_STR || ':' || SCTX2.CURR_STR ;
 38      END IF;
 39      RETURN ODCICONST.SUCCESS;
 40    END;
 41  END;
 42  /
Type body created
SQL> prompt

SQL> prompt Creating trigger TRIGGER_BLACK_LIST_INSERT
Creating trigger TRIGGER_BLACK_LIST_INSERT
SQL> prompt ==========================================
==========================================
SQL> prompt

SQL> create or replace trigger trigger_black_list_insert
  2    after insert on black_list_manage
  3    for each row
  4  begin
  5    insert into black_list_manage_record
  6    values
  7      (seq_black_list_manage_record.nextval,
  8       '1',
  9       :new.ID,
 10       :new.CARNO,
 11       :new.CARTYPE,
 12       :new.CONTROLTYPE,
 13       :new.CONTROLLEVEL,
 14       :new.PUSHIP,
 15       :new.PUSHDPTMT,
 16       :new.PUSHUSER,
 17       :new.PUSHPHONE,
 18       :new.CONTACT,
 19       :new.MATTERDETAIL,
 20       :new.CHARCPIC1,
 21       :new.CHARCPIC2,
 22       :new.CHARCPIC3,
 23       :new.ALARMSTATUS,
 24       :new.INFOSTATUS,
 25       :new.BTIME,
 26       :new.ETIME,
 27       sysdate,
 28       :new.CONTROLSCOPE);
 29  end;
 30  /
Trigger created
SQL> prompt

SQL> prompt Creating trigger TRIGGER_BLACK_LIST_UPDATE
Creating trigger TRIGGER_BLACK_LIST_UPDATE
SQL> prompt ==========================================
==========================================
SQL> prompt

SQL> create or replace trigger trigger_black_list_update
  2    after update on black_list_manage
  3    for each row
  4  begin
  5    insert into black_list_manage_record
  6    values
  7      (seq_black_list_manage_record.nextval,
  8       '0',
  9       :old.ID,
 10       :old.CARNO,
 11       :old.CARTYPE,
 12       :old.CONTROLTYPE,
 13       :old.CONTROLLEVEL,
 14       :old.PUSHIP,
 15       :old.PUSHDPTMT,
 16       :old.PUSHUSER,
 17       :old.PUSHPHONE,
 18       :old.CONTACT,
 19       :old.MATTERDETAIL,
 20       :old.CHARCPIC1,
 21       :old.CHARCPIC2,
 22       :old.CHARCPIC3,
 23       :old.ALARMSTATUS,
 24       :old.INFOSTATUS,
 25       :old.BTIME,
 26       :old.ETIME,
 27       sysdate,
 28       :old.CONTROLSCOPE);
 29    insert into black_list_manage_record
 30    values
 31      (seq_black_list_manage_record.nextval,
 32       '1',
 33       :new.ID,
 34       :new.CARNO,
 35       :new.CARTYPE,
 36       :new.CONTROLTYPE,
 37       :new.CONTROLLEVEL,
 38       :new.PUSHIP,
 39       :new.PUSHDPTMT,
 40       :new.PUSHUSER,
 41       :new.PUSHPHONE,
 42       :new.CONTACT,
 43       :new.MATTERDETAIL,
 44       :new.CHARCPIC1,
 45       :new.CHARCPIC2,
 46       :new.CHARCPIC3,
 47       :new.ALARMSTATUS,
 48       :new.INFOSTATUS,
 49       :new.BTIME,
 50       :new.ETIME,
 51       sysdate,
 52       :new.CONTROLSCOPE);
 53  end;
 54  /
Trigger created
SQL> prompt

SQL> prompt Creating trigger TRIGGER_FRONT_CONFIG_DELETE
Creating trigger TRIGGER_FRONT_CONFIG_DELETE
SQL> prompt ============================================
============================================
SQL> prompt

SQL> create or replace trigger trigger_front_config_delete
  2    after delete on black_alert_front_config
  3    for each row
  4  begin
  5    delete from black_alert_config c where c.owner = :old.OWNER;
  6    delete from black_config_point p where p.owner = :old.OWNER;
  7  end;
  8  /
Trigger created
SQL> prompt

SQL> prompt Creating trigger TRIGGER_FRONT_CONFIG_INSERT
Creating trigger TRIGGER_FRONT_CONFIG_INSERT
SQL> prompt ============================================
============================================
SQL> prompt

SQL> create or replace trigger trigger_front_config_insert
  2    after insert on black_alert_front_config
  3    for each row
  4  begin
  5    insert into black_alert_config
  6      (owner, receivetype, receivescope)
  7    values
  8      (:new.OWNER, :new.RECEIVE_TYPE, '30');
  9    insert into black_config_point
 10      (owner, pointid)
 11    values
 12      (:new.OWNER, :new.POINT_ID);
 13  end;
 14  /
Trigger created
SQL> prompt

SQL> prompt Creating trigger TRIGGER_FRONT_CONFIG_UPDATE
Creating trigger TRIGGER_FRONT_CONFIG_UPDATE
SQL> prompt ============================================
============================================
SQL> prompt

SQL> create or replace trigger trigger_front_config_update
  2    after update on black_alert_front_config
  3    for each row
  4  begin
  5    update black_alert_config c
  6       set c.receivetype = :new.RECEIVE_TYPE
  7     where c.owner = :new.OWNER;
  8    update black_config_point p
  9       set p.pointid = :new.POINT_ID
 10     where p.owner = :new.OWNER;
 11  end;
 12  /
Trigger created
SQL> ----*************************迭代一*******start******************
SQL> --  ↓↓↓↓↓↓A1\HiATMP-DB-TSM-DML.5.8.0.1724.A1.sql↓↓↓↓↓↓
SQL> --修改时间来源及事件类型字段长度
SQL> alter table ALERTEVENT_CONFIG modify (EVENTSOURCE varchar2(60));
Table altered
SQL> alter table ALERTEVENT_CONFIG modify (EVENTTYPE varchar2(60));
Table altered
SQL> --  ↑↑↑↑↑↑↑A1\HiATMP-DB-TSM-DML.5.8.0.1724.A1.sql↑↑↑↑↑↑↑
SQL> -- ↓↓↓↓↓↓↓↓↓↓↓A2\缉查布控job脚本.sql
SQL> begin
  2    sys.dbms_scheduler.create_job(job_name            => 'JOB_INSPECTACCOUNTMIDDLEDATA',
  3                                  job_type            => 'STORED_PROCEDURE',
  4                                  job_action          => 'INSPECTACCOUNTMIDDLEDATA',
  5                                  start_date          => to_date('16-08-2016 00:00:30', 'dd-mm-yyyy hh24:mi:ss'),
  6                                  repeat_interval     => 'TRUNC(SYSDATE+1)+3/24',
  7                                  end_date            => to_date(null),
  8                                  job_class           => 'DEFAULT_JOB_CLASS',
  9                                  enabled             => true,
 10                                  auto_drop           => false,
 11                                  comments            => '');
 12  end;
 13  /
PL/SQL procedure successfully completed
SQL> begin
  2    sys.dbms_scheduler.create_job(job_name            => 'JOB_IMPORTBLACKLIST',
  3                                  job_type            => 'STORED_PROCEDURE',
  4                                  job_action          => 'ImportBLackList',
  5                                  start_date          => to_date('16-08-2016 00:00:30', 'dd-mm-yyyy hh24:mi:ss'),
  6                                  repeat_interval     => 'TRUNC(sysdate)+1+2/(24)',
  7                                  end_date            => to_date(null),
  8                                  job_class           => 'DEFAULT_JOB_CLASS',
  9                                  enabled             => true,
 10                                  auto_drop           => false,
 11                                  comments            => '');
 12  end;
 13  /
PL/SQL procedure successfully completed
SQL> begin
  2    sys.dbms_scheduler.create_job(job_name            => 'JOB_arrange_alert_point_count',
  3                                  job_type            => 'STORED_PROCEDURE',
  4                                  job_action          => 'arrange_alert_point_count',
  5                                  start_date          => to_date('16-08-2016 00:00:30', 'dd-mm-yyyy hh24:mi:ss'),
  6                                  repeat_interval     =>'TRUNC(SYSDATE+1)+3/24',
  7                                  end_date            => to_date(null),
  8                                  job_class           => 'DEFAULT_JOB_CLASS',
  9                                  enabled             => true,
 10                                  auto_drop           => false,
 11                                  comments            => '');
 12  end;
 13  /
PL/SQL procedure successfully completed
SQL> begin
  2    sys.dbms_scheduler.create_job(job_name            => 'JOB_arrange_black_alert_count',
  3                                  job_type            => 'STORED_PROCEDURE',
  4                                  job_action          => 'arrange_black_alert_count',
  5                                  start_date          => to_date('16-08-2016 00:00:30', 'dd-mm-yyyy hh24:mi:ss'),
  6                                  repeat_interval     =>'TRUNC(SYSDATE+1)+3/24',
  7                                  end_date            => to_date(null),
  8                                  job_class           => 'DEFAULT_JOB_CLASS',
  9                                  enabled             => true,
 10                                  auto_drop           => false,
 11                                  comments            => '');
 12  end;
 13  /
PL/SQL procedure successfully completed
SQL> -- ↑↑↑↑↑↑↑↑↑↑↑↑↑A2\缉查布控job脚本.sql
SQL> --↓↓↓↓↓↓↓↓↓↓↓A3\HiATMP-DB-SCS-DML.5.8.0.2483.A3.sql
SQL> alter table BLACK_ALERT_FEEDBACK modify COERCIVECODE NVARCHAR2(20);
Table altered
SQL> alter table BLACK_LIST_MANAGE modify COERCIVECODE NVARCHAR2(20);
Table altered
SQL> -- ↑↑↑↑↑↑↑↑↑↑↑↑↑A3\HiATMP-DB-SCS-DML.5.8.0.2483.A3.sql
SQL> -- ↓↓↓↓↓↓↓↓↓↓↓A3\HiATMP-DB-TSM-DDL.5.8.0.2396.A3.sql
SQL> -- Create table
SQL> create table ONEKEYREADY
  2  (
  3    id          VARCHAR2(32) not null,
  4    carcode     VARCHAR2(10),
  5    reportstate VARCHAR2(2),
  6    reporttime  DATE,
  7    strtemp1    VARCHAR2(32),
  8    strtemp2    VARCHAR2(32),
  9    strtemp3    VARCHAR2(32),
 10    savetime    DATE default sysdate,
 11    numbertemp  NUMBER
 12  )
 13  tablespace HIATMPTS
 14    pctfree 10
 15    initrans 1
 16    maxtrans 255
 17    storage
 18    (
 19      initial 64K
 20      next 1M
 21      minextents 1
 22      maxextents unlimited
 23    );
Table created
SQL> -- Add comments to the table
SQL> comment on table ONEKEYREADY
  2    is '一键报备数据表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column ONEKEYREADY.id
  2    is 'ID(自增长)';
Comment added
SQL> comment on column ONEKEYREADY.carcode
  2    is '台号';
Comment added
SQL> comment on column ONEKEYREADY.reportstate
  2    is '报备状态';
Comment added
SQL> comment on column ONEKEYREADY.reporttime
  2    is '报备时间';
Comment added
SQL> comment on column ONEKEYREADY.strtemp1
  2    is '备用字段1';
Comment added
SQL> comment on column ONEKEYREADY.strtemp2
  2    is '备用字段2';
Comment added
SQL> comment on column ONEKEYREADY.strtemp3
  2    is '备用字段3';
Comment added
SQL> comment on column ONEKEYREADY.savetime
  2    is '入平台库保存时间';
Comment added
SQL> comment on column ONEKEYREADY.numbertemp
  2    is '备用字段4';
Comment added
SQL> -- Create/Recreate indexes
SQL> create index IDX_CARCODE on ONEKEYREADY (CARCODE)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> create index IDX_CARCODE_REPORTTIME on ONEKEYREADY (CARCODE, REPORTTIME)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> create index IDX_CARCODE_REPORTTIME_RS on ONEKEYREADY (CARCODE, REPORTTIME, REPORTSTATE)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> create index IDX_ID_REPORTTIME on ONEKEYREADY (ID, REPORTTIME)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> create index IDX_REPORTTIME on ONEKEYREADY (REPORTTIME)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> create index IDX_SAVETIME_REPORTTIME on ONEKEYREADY (SAVETIME, REPORTTIME)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> --创建police_status_view视图
SQL> create or replace view police_status_view as
  2  select p.uuid,p.depid,e.deviceid,e.devicename,e.thirdsyscode,
  3  case okr.REPORTSTATE
  4   when '1' then '2' --报备
  5  else
  6     nvl2(gg.cvehid,'1','0')
  7   end status,gg.cvehid,
  8    gg.decarlong,gg.decarlat,gg.ndirection,gg.dtrecordtime,e.gpstype
  9   from police p
 10  left join equipment_info e  on p.deviceid=e.deviceid
 11  left join (select carcode, reportstate, max(reporttime) as reporttime from onekeyready t where t.reporttime > trunc(sysdate) group by carcode, reportstate) okr --on okr.carcode=ltrim(e.thirdsyscode,'0')
 12  on okr.carcode=substr(e.thirdsyscode, 6)
 13  left join(select cvehid,decarlong,decarlat,ndirection,max(dtrecordtime) as dtrecordtime from gps_data g where g.dtrecordtime>sysdate-(select nvl2(param.paramvalue,param.paramvalue,'5') from  (select t.paramvalue from sysparams t where t.paramcode='GPS_ONLINE_TIME_INTERVAL') param)/60/24 group by cvehid,decarlong,decarlat,ndirection) gg on gg.cvehid = e.thirdsyscode
 14  where p.hasgps='0' and p.AUDITSTATE='1'
 15  and not exists(
 16  select 1 from onekeyready r where r.carcode = okr.carcode and r.reporttime>trunc(sysdate) and r.reporttime>okr.reporttime
 17  )
 18  and not exists(
 19  select 1 from gps_data g where g.cvehid=gg.cvehid and g.dtrecordtime>sysdate-(select nvl2(param.paramvalue,param.paramvalue,'5') from  (select t.paramvalue from sysparams t where t.paramcode='GPS_ONLINE_TIME_INTERVAL') param)/60/24 and g.dtrecordtime>gg.dtrecordtime)
 20  ;
View created
SQL> -- ↑↑↑↑↑↑↑↑↑↑A3\HiATMP-DB-TSM-DDL.5.8.0.2396.A3.sql
SQL> --↓↓↓↓↓↓↓↓↓↓A3\HiATMP-DB-TSM-DML.5.8.0.2396.A3.sql
SQL> --添加创建时间字段
SQL> alter table VIDEOLINE add CREATETIME date default sysdate;
Table altered
SQL> commit;
Commit complete
SQL> --添加创建时间字段
SQL> alter table VIDEO_LINE_ASSORTMENT add CREATETIME date default sysdate;
Table altered
SQL> commit;
Commit complete
SQL> --↑↑↑↑↑↑↑↑↑↑A3\HiATMP-DB-TSM-DML.5.8.0.2396.A3.sql
SQL> ----*************************迭代一*******end******************
SQL> ----*************************迭代二*******start******************
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓A1\HiATMP-DB-BSP-DDL.5.8.0.5117.A1.sql
SQL> --荆征驿↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓
SQL> create table T_USER_LOGIN_HISTORY
  2  (
  3    cusername   NVARCHAR2(20) not null,
  4    cuserpwd    VARCHAR2(32),
  5    checkip     NVARCHAR2(16),
  6    login_day   VARCHAR2(10),
  7    last_update DATE,
  8    create_time DATE,
  9    login_count NUMBER
 10  );
Table created
SQL> -- Add comments to the table
SQL> comment on table T_USER_LOGIN_HISTORY
  2    is '用户登录历史表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column T_USER_LOGIN_HISTORY.checkip
  2    is 'ip';
Comment added
SQL> --角色表（role）新增字段
SQL>    alter table role add (creator NVARCHAR2(32));
Table altered
SQL>    --用户表（operator）修改字段
SQL>    alter table operator modify (CUSERPWD VARCHAR2(128));
Table altered
SQL> --用户角色关联表（User_Role_Relation）新增字段
SQL> 	alter table User_Role_Relation add (AUTHORIZABLE CHAR(1) default '0' );
Table altered
SQL> 	comment on column User_Role_Relation.authorizable
  2  		is '0：不可授权，1：可授权';
Comment added
SQL> --用户表新增字段
SQL> 	alter table operator add (logindate date );
Table altered
SQL> 	alter table operator add (loginip nvarchar2(16) );
Table altered
SQL> 	comment on column operator.logindate
  2  		is '最后登录时间';
Comment added
SQL> 	comment on column operator.loginip
  2  		is '最后登录IP';
Comment added
SQL> --赵琛↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓
SQL> alter table POLICE add deviceid3 VARCHAR2(20);
Table altered
SQL> alter table POLICE add deviceid4 VARCHAR2(20);
Table altered
SQL> alter table POLICE add policetype NVARCHAR2(2);
Table altered
SQL> alter table POLICE add positionleveltype NVARCHAR2(2);
Table altered
SQL> alter table POLICE add positionlevelname NVARCHAR2(2);
Table altered
SQL> alter table POLICE add publicholiday NUMBER;
Table altered
SQL> comment on column POLICE.deviceid4
  2    is 'EQUIPMENT_INFO表id  用于关联副GPS4设备';
Comment added
SQL> comment on column POLICE.deviceid3
  2    is 'EQUIPMENT_INFO表id  用于关联副GPS3设备';
Comment added
SQL> comment on column POLICE.policetype
  2    is '警员类型，枚举1192';
Comment added
SQL> comment on column POLICE.positionleveltype
  2    is '职级类别，枚举1193';
Comment added
SQL> comment on column POLICE.positionlevelname
  2    is '职级名称，枚举1194';
Comment added
SQL> comment on column POLICE.publicholiday
  2    is '公休假天数';
Comment added
SQL>   -- Create table
SQL> create table USER_HOTKEY
  2  (
  3    nid         VARCHAR2(32) not null,
  4    userid      CHAR(6),
  5    pagename    VARCHAR2(20),
  6    pageelement VARCHAR2(30),
  7    hotkey      VARCHAR2(100)
  8  )
  9  tablespace HIATMPTS
 10    pctfree 10
 11    initrans 1
 12    maxtrans 255
 13    storage
 14    (
 15      initial 64
 16      next 1
 17      minextents 1
 18      maxextents unlimited
 19    );
Table created
SQL> -- Add comments to the table
SQL> comment on table USER_HOTKEY
  2    is '用户快捷键信息表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column USER_HOTKEY.nid
  2    is 'nid';
Comment added
SQL> comment on column USER_HOTKEY.userid
  2    is '用户id';
Comment added
SQL> comment on column USER_HOTKEY.pagename
  2    is '所属页面';
Comment added
SQL> comment on column USER_HOTKEY.pageelement
  2    is '页面元素';
Comment added
SQL> comment on column USER_HOTKEY.hotkey
  2    is '快捷键（A开头表示ALT键,数字代码键位ascii值）';
Comment added
SQL> --BSP之前SQL↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓
SQL> ------------------------------------
SQL> --  New table sys_onlineuserinfo  --
SQL> ------------------------------------
SQL> -- Create table
SQL> create table SYS_ONLINEUSERINFO
  2  (
  3    id                     VARCHAR2(32) not null,
  4    userid                 CHAR(6) not null,
  5    username               NVARCHAR2(20) not null,
  6    departmentid           VARCHAR2(12) not null,
  7    departmentname         NVARCHAR2(50),
  8    deptshortname          NVARCHAR2(50),
  9    clientip               VARCHAR2(20),
 10    logindatestr           VARCHAR2(20),
 11    latestoperationdatestr VARCHAR2(20),
 12    rolenamestr            NVARCHAR2(500),
 13    available              VARCHAR2(2)
 14  )
 15  tablespace HIATMPTS
 16    pctfree 10
 17    initrans 1
 18    maxtrans 255;
Table created
SQL> -- Add comments to the table
SQL> comment on table SYS_ONLINEUSERINFO
  2    is '在线用户信息表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column SYS_ONLINEUSERINFO.id
  2    is '在线用户记录ID(cookieid)';
Comment added
SQL> comment on column SYS_ONLINEUSERINFO.userid
  2    is '用户id';
Comment added
SQL> comment on column SYS_ONLINEUSERINFO.username
  2    is '用户名';
Comment added
SQL> comment on column SYS_ONLINEUSERINFO.departmentid
  2    is '所属机构代码';
Comment added
SQL> comment on column SYS_ONLINEUSERINFO.departmentname
  2    is '部门名称';
Comment added
SQL> comment on column SYS_ONLINEUSERINFO.deptshortname
  2    is '部门简称';
Comment added
SQL> comment on column SYS_ONLINEUSERINFO.clientip
  2    is '客户端ip';
Comment added
SQL> comment on column SYS_ONLINEUSERINFO.logindatestr
  2    is '登录时间';
Comment added
SQL> comment on column SYS_ONLINEUSERINFO.latestoperationdatestr
  2    is '最新操作时间';
Comment added
SQL> comment on column SYS_ONLINEUSERINFO.rolenamestr
  2    is '角色组';
Comment added
SQL> comment on column SYS_ONLINEUSERINFO.available
  2    is '是否可用';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table SYS_ONLINEUSERINFO
  2    add constraint ONLINEUSERINFO_PK primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255;
Table altered
SQL> ----------------------------------
SQL> --  New table sys_personalinfo  --
SQL> ----------------------------------
SQL> -- Create table
SQL> create table SYS_PERSONALINFO
  2  (
  3    userid    CHAR(6) not null,
  4    position  NVARCHAR2(30),
  5    telephone VARCHAR2(15),
  6    phone     VARCHAR2(20),
  7    email     VARCHAR2(100),
  8    address   NVARCHAR2(200)
  9  )
 10  tablespace HIATMPTS
 11    pctfree 10
 12    initrans 1
 13    maxtrans 255;
Table created
SQL> -- Add comments to the table
SQL> comment on table SYS_PERSONALINFO
  2    is '账号个人信息表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column SYS_PERSONALINFO.userid
  2    is '账号';
Comment added
SQL> comment on column SYS_PERSONALINFO.position
  2    is '职位';
Comment added
SQL> comment on column SYS_PERSONALINFO.telephone
  2    is '手机号码';
Comment added
SQL> comment on column SYS_PERSONALINFO.phone
  2    is '办公电话';
Comment added
SQL> comment on column SYS_PERSONALINFO.email
  2    is '邮箱地址';
Comment added
SQL> comment on column SYS_PERSONALINFO.address
  2    is '联系地址';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table SYS_PERSONALINFO
  2    add constraint SYS_PERSONALINFO_PK primary key (USERID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255;
Table altered
SQL>  --HiMap 的sql ↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓
SQL>  --layertype增加列
SQL> -- Add/modify columns
SQL> alter table layer_type add (sqlview clob);
Table altered
SQL> -- Add comments to the columns
SQL> comment on column layer_type.sqlview
  2    is '用于获取图层sql信息';
Comment added
SQL> --删除域索引
SQL> DELETE FROM USER_SDO_GEOM_METADATA WHERE TABLE_NAME = 'ROUTE_SECTION' AND COLUMN_NAME = 'GEOMETRY' ;
0 rows deleted
SQL> --DROP INDEX ROUTE_SECTION_IDX2;
SQL> -- Add/modify columns
SQL> alter table ROUTE_SECTION modify sectionname NVARCHAR2(200);
Table altered
SQL> alter table ROUTE_SECTION add lanenum VARCHAR2(20);
Table altered
SQL> --1.添加新字段 clob 类型
SQL> alter table route_section add (ticket_des_new clob);
Table altered
SQL> --2.更改新字段的值从des 中复制
SQL> update route_section set ticket_des_new=STRCOORDS;
0 rows updated
SQL> --3.删除老字段
SQL> alter table route_section drop column STRCOORDS;
Table altered
SQL> --更改新字段为老字段的名字
SQL> ALTER TABLE route_section rename column ticket_des_new to STRCOORDS;
Table altered
SQL> --alter table ROUTE_SECTION modify strcoords CLOB;
SQL> -- Add comments to the columns
SQL> comment on column ROUTE_SECTION.lanenum
  2    is '车道数';
Comment added
SQL> comment on column ROUTE_SECTION.strcoords
  2    is '';
Comment added
SQL> -- Create/Recreate indexes
SQL> create index UPPINTS_DOWNINTS_IDX on ROUTE_SECTION (UPPINTS, DOWNINTS)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑A1\HiATMP-DB-BSP-DDL.5.8.0.5117.A1.sql
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓A3\HiATMP-DB-BSP-DDL.5.8.0.6625.A3.sql
SQL>   --HIATMP-26060
SQL> CREATE OR REPLACE VIEW POLICE_GPS_RELATION_VIEW AS
  2  SELECT I.DEVICEID,
  3         I.GPSCARNO,
  4         I.GPSRADIONO,
  5         I.DEPARTMENTID,
  6         GPS.ENUMVALUE,
  7         GPS.ENUMNAME,
  8         P.POLICENAME,
  9         nvl(p.isclosed,0) isclosed
 10    FROM EQUIPMENT_INFO I
 11    LEFT JOIN (SELECT E.ENUMVALUE, E.ENUMNAME
 12                 FROM ENUM_TYPE E
 13                WHERE E.ENUMTYPEID = '734') GPS
 14      ON GPS.ENUMVALUE = I.GPSTYPE
 15    LEFT JOIN POLICE P
 16      ON (P.DEVICEID = I.DEVICEID OR P.DEVICEID3 = I.DEVICEID OR
 17         P.DEVICEID4 = I.DEVICEID OR P.DEVICEID2 = I.DEVICEID)
 18   WHERE I.DEVICETYPE = '12';
View created
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑A3\HiATMP-DB-BSP-DDL.5.8.0.6625.A3.sql
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓A5\HiATMP-DB-BSP-DDL.5.8.0.10000.A5.sql  Start-----------------------
SQL> -- Create table
SQL> create table USER_LOGINFAIL_HISTORY
  2  (
  3    nuserid     NVARCHAR2(20) not null,
  4    dateflag    VARCHAR2(10) not null,
  5    last_update DATE,
  6    create_time DATE,
  7    fail_count  NUMBER
  8  )
  9  tablespace HIATMPTS
 10    pctfree 10
 11    initrans 1
 12    maxtrans 255
 13    storage
 14    (
 15      initial 64K
 16      next 8K
 17      minextents 1
 18      maxextents unlimited
 19    );
Table created
SQL> -- Add comments to the table
SQL> comment on table USER_LOGINFAIL_HISTORY
  2    is '用户登录密码输错次数统计';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column USER_LOGINFAIL_HISTORY.nuserid
  2    is '账号ID';
Comment added
SQL> comment on column USER_LOGINFAIL_HISTORY.dateflag
  2    is '日期标志';
Comment added
SQL> comment on column USER_LOGINFAIL_HISTORY.last_update
  2    is '最后更新时间';
Comment added
SQL> comment on column USER_LOGINFAIL_HISTORY.create_time
  2    is '创建时间';
Comment added
SQL> comment on column USER_LOGINFAIL_HISTORY.fail_count
  2    is '密码输错次数';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table USER_LOGINFAIL_HISTORY
  2    add constraint SYS_SUER_LOGINFAIL_HISTORY_1 primary key (NUSERID, DATEFLAG)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255;
Table altered
SQL> -- Create table
SQL> create table CLIENT_LOGINFAIL_HISTORY
  2  (
  3    clientip    VARCHAR2(16) not null,
  4    dateflag    VARCHAR2(10) not null,
  5    last_update DATE,
  6    create_time DATE,
  7    fail_count  NUMBER
  8  )
  9  tablespace HIATMPTS
 10    pctfree 10
 11    initrans 1
 12    maxtrans 255
 13    storage
 14    (
 15      initial 64K
 16      next 8K
 17      minextents 1
 18      maxextents unlimited
 19    );
Table created
SQL> -- Add comments to the table
SQL> comment on table CLIENT_LOGINFAIL_HISTORY
  2    is '终端登录密码输错次数统计';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column CLIENT_LOGINFAIL_HISTORY.clientip
  2    is 'IP';
Comment added
SQL> comment on column CLIENT_LOGINFAIL_HISTORY.dateflag
  2    is '日期标志';
Comment added
SQL> comment on column CLIENT_LOGINFAIL_HISTORY.last_update
  2    is '最后更新时间';
Comment added
SQL> comment on column CLIENT_LOGINFAIL_HISTORY.create_time
  2    is '创建时间';
Comment added
SQL> comment on column CLIENT_LOGINFAIL_HISTORY.fail_count
  2    is '密码输错次数';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table CLIENT_LOGINFAIL_HISTORY
  2    add primary key (CLIENTIP, DATEFLAG)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255;
Table altered
SQL> --增加记录账号上次登录时间IP的字段
SQL> alter table  operator  add (prelogindate  date null);
Table altered
SQL> alter table  operator  add (preloginip  nvarchar2(16) null);
Table altered
SQL> comment on column operator.prelogindate
  2    is '上一次登录时间';
Comment added
SQL> comment on column operator.preloginip
  2    is '上一次登录IP';
Comment added
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑A5\HiATMP-DB-BSP-DDL.5.8.0.10000.A5.sql  End-----------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓A1\HiATMP-DB-WBC-DDL.5.8.0.0.A1.sql  Start-----------------------
SQL> --修改WBC_CHARTS
SQL> alter table WBC_CHARTS add MENU_ID VARCHAR2(32);
Table altered
SQL> alter table WBC_CHARTS add MENU_NAME VARCHAR2(100);
Table altered
SQL> alter table WBC_CHARTS add STATUS CHAR(1);
Table altered
SQL> commit;
Commit complete
SQL> comment on column WBC_CHARTS.MENU_ID is '链接菜单id';
Comment added
SQL> comment on column WBC_CHARTS.MENU_ID is '链接菜单名';
Comment added
SQL> comment on column WBC_CHARTS.MENU_ID is '是否有效 1:有效  0 无效';
Comment added
SQL> commit;
Commit complete
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑A1\HiATMP-DB-WBC-DDL.5.8.0.0.A1.sql  End-----------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓HiATMP-DB-TSM-DML.5.8.0 曹禹20190129  Start-----------------------
SQL> --以下重复 在A1\HiATMP-DB-TSM-DML.5.8.0.1724.A1.sql中 Start-----------------------
SQL> /*
  2  -- Add/modify columns
  3  --alter table VIDEO_LINE_ASSORTMENT add createrid char(6);
  4  alter table VIDEO_LINE_ASSORTMENT add updaterid char(6);
  5  alter table VIDEO_LINE_ASSORTMENT add remark nvarchar2(255);
  6  -- Add comments to the columns
  7  comment on column VIDEO_LINE_ASSORTMENT.createrid
  8    is '创建人id';
  9  comment on column VIDEO_LINE_ASSORTMENT.updaterid
 10    is '修改人id';
 11  comment on column VIDEO_LINE_ASSORTMENT.remark
 12    is '备注信息';
 13  
 14  --BURST_EVENT表增加字段
 15  
 16  -- Add/modify columns
 17  alter table BURST_EVENT add ifrelieverelation number default 0;
 18  alter table BURST_EVENT add relatedeventid VARCHAR2(32);
 19  alter table BURST_EVENT add ipaddress NVARCHAR2(32);
 20  -- Add comments to the columns
 21  comment on column BURST_EVENT.ifrelieverelation
 22    is '是否手动解除关联：0-未手动解除关联，1-已手动解除关联';
 23  comment on column BURST_EVENT.relatedeventid
 24    is '关联的事件id';
 25  comment on column BURST_EVENT.ipaddress
 26    is 'ip地址';
 27  
 28  --修改时间来源及事件类型字段长度
 29  alter table ALERTEVENT_CONFIG modify (EVENTSOURCE varchar2(60));
 30  alter table ALERTEVENT_CONFIG modify (EVENTTYPE varchar2(60));
 31  
 32  -- Create table
 33  create table ONEKEYREADY
 34  (
 35    id          VARCHAR2(32) not null,
 36    carcode     VARCHAR2(10),
 37    reportstate VARCHAR2(2),
 38    reporttime  DATE,
 39    strtemp1    VARCHAR2(32),
 40    strtemp2    VARCHAR2(32),
 41    strtemp3    VARCHAR2(32),
 42    savetime    DATE default sysdate,
 43    numbertemp  NUMBER
 44  )
 45  tablespace HIATMPTS
 46    pctfree 10
 47    initrans 1
 48    maxtrans 255
 49    storage
 50    (
 51      initial 64K
 52      next 1M
 53      minextents 1
 54      maxextents unlimited
 55    );
 56  -- Add comments to the table
 57  comment on table ONEKEYREADY
 58    is '一键报备数据表';
 59  -- Add comments to the columns
 60  comment on column ONEKEYREADY.id
 61    is 'ID(自增长)';
 62  comment on column ONEKEYREADY.carcode
 63    is '台号';
 64  comment on column ONEKEYREADY.reportstate
 65    is '报备状态';
 66  comment on column ONEKEYREADY.reporttime
 67    is '报备时间';
 68  comment on column ONEKEYREADY.strtemp1
 69    is '备用字段1';
 70  comment on column ONEKEYREADY.strtemp2
 71    is '备用字段2';
 72  comment on column ONEKEYREADY.strtemp3
 73    is '备用字段3';
 74  comment on column ONEKEYREADY.savetime
 75    is '入平台库保存时间';
 76  comment on column ONEKEYREADY.numbertemp
 77    is '备用字段4';
 78  -- Create/Recreate indexes
 79  create index IDX_CARCODE on ONEKEYREADY (CARCODE)
 80    tablespace HIATMPTS
 81    pctfree 10
 82    initrans 2
 83    maxtrans 255
 84    storage
 85    (
 86      initial 64K
 87      next 1M
 88      minextents 1
 89      maxextents unlimited
 90    );
 91  create index IDX_CARCODE_REPORTTIME on ONEKEYREADY (CARCODE, REPORTTIME)
 92    tablespace HIATMPTS
 93    pctfree 10
 94    initrans 2
 95    maxtrans 255
 96    storage
 97    (
 98      initial 64K
 99      next 1M
100      minextents 1
101      maxextents unlimited
102    );
103  create index IDX_CARCODE_REPORTTIME_RS on ONEKEYREADY (CARCODE, REPORTTIME, REPORTSTATE)
104    tablespace HIATMPTS
105    pctfree 10
106    initrans 2
107    maxtrans 255
108    storage
109    (
110      initial 64K
111      next 1M
112      minextents 1
113      maxextents unlimited
114    );
115  create index IDX_ID_REPORTTIME on ONEKEYREADY (ID, REPORTTIME)
116    tablespace HIATMPTS
117    pctfree 10
118    initrans 2
119    maxtrans 255
120    storage
121    (
122      initial 64K
123      next 1M
124      minextents 1
125      maxextents unlimited
126    );
127  create index IDX_REPORTTIME on ONEKEYREADY (REPORTTIME)
128    tablespace HIATMPTS
129    pctfree 10
130    initrans 2
131    maxtrans 255
132    storage
133    (
134      initial 64K
135      next 1M
136      minextents 1
137      maxextents unlimited
138    );
139  create index IDX_SAVETIME_REPORTTIME on ONEKEYREADY (SAVETIME, REPORTTIME)
140    tablespace HIATMPTS
141    pctfree 10
142    initrans 2
143    maxtrans 255
144    storage
145    (
146      initial 64K
147      next 1M
148      minextents 1
149      maxextents unlimited
150    );
151  
152  --创建police_status_view视图
153  create or replace view police_status_view as
154  select p.uuid,p.depid,e.deviceid,e.devicename,e.thirdsyscode,
155  case okr.REPORTSTATE
156   when '1' then '2' --报备
157  else
158     nvl2(gg.cvehid,'1','0')
159   end status,gg.cvehid,
160    gg.decarlong,gg.decarlat,gg.ndirection,gg.dtrecordtime,e.gpstype
161   from police p
162  left join equipment_info e  on p.deviceid=e.deviceid
163  left join (select carcode, reportstate, max(reporttime) as reporttime from onekeyready t where t.reporttime > trunc(sysdate) group by carcode, reportstate) okr --on okr.carcode=ltrim(e.thirdsyscode,'0')
164  on okr.carcode=substr(e.thirdsyscode, 6)
165  left join(select cvehid,decarlong,decarlat,ndirection,max(dtrecordtime) as dtrecordtime from gps_data g where g.dtrecordtime>sysdate-(select nvl2(param.paramvalue,param.paramvalue,'5') from  (select t.paramvalue from sysparams t where t.paramcode='GPS_ONLINE_TIME_INTERVAL') param)/60/24 group by cvehid,decarlong,decarlat,ndirection) gg on gg.cvehid = e.thirdsyscode
166  where p.hasgps='0' and p.AUDITSTATE='1'
167  and not exists(
168  select 1 from onekeyready r where r.carcode = okr.carcode and r.reporttime>trunc(sysdate) and r.reporttime>okr.reporttime
169  )
170  and not exists(
171  select 1 from gps_data g where g.cvehid=gg.cvehid and g.dtrecordtime>sysdate-(select nvl2(param.paramvalue,param.paramvalue,'5') from  (select t.paramvalue from sysparams t where t.paramcode='GPS_ONLINE_TIME_INTERVAL') param)/60/24 and g.dtrecordtime>gg.dtrecordtime)
172  ;
173  */
174  --以上重复  Start-----------------------
SQL> -- Create table
SQL> create table USER_DOWNLOAD_VIDEO_PATH
  2  (
  3    id            CHAR(32) not null,
  4    userid        CHAR(6) not null,
  5    realvideopath NVARCHAR2(1000),
  6    hisvideopath  NVARCHAR2(1000)
  7  )
  8  tablespace HIATMPTS
  9    pctfree 10
 10    initrans 1
 11    maxtrans 255
 12    storage
 13    (
 14      initial 16K
 15      next 8K
 16      minextents 1
 17      maxextents unlimited
 18    );
Table created
SQL> -- Add comments to the columns
SQL> comment on column USER_DOWNLOAD_VIDEO_PATH.id
  2    is 'uuid';
Comment added
SQL> comment on column USER_DOWNLOAD_VIDEO_PATH.realvideopath
  2    is '实时视频存放路径';
Comment added
SQL> comment on column USER_DOWNLOAD_VIDEO_PATH.hisvideopath
  2    is '历史视频存放路径';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table USER_DOWNLOAD_VIDEO_PATH
  2    add constraint PRIMARY_USER_DOWNLOAD_VIDEO primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> alter table COMMON_POSITION_PRESET modify create_user nvarchar2(20);
Table altered
SQL> -- 将areaid最大长度改为8位
SQL> alter table BURST_EVENT modify areaid VARCHAR2(8);
Table altered
SQL> commit;
Commit complete
SQL> -- STATISTIC_ROLE_RELATION表中roleids扩大长度
SQL> alter table STATISTIC_ROLE_RELATION
  2    storage
  3    (
  4      next 1
  5    )
  6  ;
Table altered
SQL> -- Add/modify columns
SQL> alter table STATISTIC_ROLE_RELATION modify roleids VARCHAR2(4000);
Table altered
SQL> commit;
Commit complete
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑HiATMP-DB-TSM-DML.5.8.0 曹禹20190129  End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓勤务DDM-增量脚本A1  胡越20190129 Start-----------------------
SQL> -- Create table
SQL> create table DM_DEPLOY_HOLIDAY
  2  (
  3    ID           VARCHAR2(32) default sys_guid() not null,
  4    POSITION_ID  VARCHAR2(32),
  5    BEGIN_TIME   DATE,
  6    END_TIME     DATE,
  7    SUB_STATUS   VARCHAR2(2),
  8    SUB_TYPE     VARCHAR2(3),
  9    CREATOR      VARCHAR2(10),
 10    CREATOR_TIME DATE,
 11    UPDATER      VARCHAR2(10),
 12    UPDATE_TIME  DATE,
 13    DEL_FLAG     VARCHAR2(2) default 0
 14  )
 15  tablespace HIATMPTS
 16    pctfree 10
 17    initrans 1
 18    maxtrans 255
 19    storage
 20    (
 21      initial 16
 22      next 8
 23      minextents 1
 24      maxextents unlimited
 25    );
Table created
SQL> -- Add comments to the table
SQL> comment on table DM_DEPLOY_HOLIDAY
  2    is '岗位假日排班表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column DM_DEPLOY_HOLIDAY.ID
  2    is '主键';
Comment added
SQL> comment on column DM_DEPLOY_HOLIDAY.POSITION_ID
  2    is '岗位主键';
Comment added
SQL> comment on column DM_DEPLOY_HOLIDAY.BEGIN_TIME
  2    is '上岗时间 YYYY-MM-DD HH:MM:SS';
Comment added
SQL> comment on column DM_DEPLOY_HOLIDAY.END_TIME
  2    is '撤岗时间 YYYY-MM-DD HH:MM:SS';
Comment added
SQL> comment on column DM_DEPLOY_HOLIDAY.SUB_STATUS
  2    is '岗位提交状态 0 中队待提交；1大队待审核；2支队待审核；3审核通过，待安排警力；4审核通过，已安排警力';
Comment added
SQL> comment on column DM_DEPLOY_HOLIDAY.SUB_TYPE
  2    is '岗位提交类型 0手动提交；1自动提交（000-111，个位表示中队；十位表示大队；百位表示支队）';
Comment added
SQL> comment on column DM_DEPLOY_HOLIDAY.CREATOR
  2    is '创建人';
Comment added
SQL> comment on column DM_DEPLOY_HOLIDAY.CREATOR_TIME
  2    is '创建时间';
Comment added
SQL> comment on column DM_DEPLOY_HOLIDAY.UPDATER
  2    is '更新人';
Comment added
SQL> comment on column DM_DEPLOY_HOLIDAY.UPDATE_TIME
  2    is '更新时间';
Comment added
SQL> comment on column DM_DEPLOY_HOLIDAY.DEL_FLAG
  2    is '删除标识 0未删除；1删除';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table DM_DEPLOY_HOLIDAY
  2    add constraint PK_DM_DEPLOY_HOLIDAY primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> -- Create/Recreate indexes
SQL> create index PK_DM_DEPLOY_H_DELPK on DM_DEPLOY_HOLIDAY (DEL_FLAG)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> create index PK_DM_DEPLOY_H_POSITIONID on DM_DEPLOY_HOLIDAY (POSITION_ID)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> -- Create table
SQL> create table DM_CHECK_APPEAL
  2  (
  3    ID                          VARCHAR2(32) not null,
  4    DM_COMPREHENSIVE_MONITOR_ID VARCHAR2(32),
  5    STATUS                      CHAR(1) default 0,
  6    PIC_URL                     VARCHAR2(4000),
  7    REASON                      NVARCHAR2(1000),
  8    CREATE_TIME                 DATE,
  9    UPDATE_TIME                 DATE
 10  )
 11  tablespace HIATMPTS
 12    pctfree 10
 13    initrans 1
 14    maxtrans 255
 15    storage
 16    (
 17      initial 16
 18      next 8
 19      minextents 1
 20      maxextents unlimited
 21    );
Table created
SQL> -- Add comments to the table
SQL> comment on table DM_CHECK_APPEAL
  2    is '考核申诉表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column DM_CHECK_APPEAL.ID
  2    is '主键';
Comment added
SQL> comment on column DM_CHECK_APPEAL.DM_COMPREHENSIVE_MONITOR_ID
  2    is '综合监控表主键';
Comment added
SQL> comment on column DM_CHECK_APPEAL.STATUS
  2    is '申诉状态 0未审核； 1通过；2驳回';
Comment added
SQL> comment on column DM_CHECK_APPEAL.PIC_URL
  2    is '图片路径，多个路径用#号隔开';
Comment added
SQL> comment on column DM_CHECK_APPEAL.REASON
  2    is '申诉原因';
Comment added
SQL> comment on column DM_CHECK_APPEAL.CREATE_TIME
  2    is '创建时间';
Comment added
SQL> comment on column DM_CHECK_APPEAL.UPDATE_TIME
  2    is '更新时间';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table DM_CHECK_APPEAL
  2    add constraint PRI_APPEAL_ID primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> prompt

SQL> prompt Creating table DM_ASSESS_RESULT
Creating table DM_ASSESS_RESULT
SQL> prompt ===============================
===============================
SQL> prompt

SQL> create table DM_ASSESS_RESULT
  2  (
  3    RESULTID   VARCHAR2(32) not null,
  4    SYMBOL     VARCHAR2(32),
  5    SYMBOLTYPE VARCHAR2(2),
  6    RECORDTIME DATE,
  7    GROUP_TYPE VARCHAR2(2),
  8    SCOPE_TYPE VARCHAR2(2),
  9    BUSINESS   VARCHAR2(2)
 10  )
 11  tablespace HIATMPTS
 12    pctfree 10
 13    initrans 1
 14    maxtrans 255
 15    storage
 16    (
 17      initial 64K
 18      next 1M
 19      minextents 1
 20      maxextents unlimited
 21    );
Table created
SQL> comment on table DM_ASSESS_RESULT
  2    is '考核结果记录表';
Comment added
SQL> comment on column DM_ASSESS_RESULT.RESULTID
  2    is '考核结果唯一标识';
Comment added
SQL> comment on column DM_ASSESS_RESULT.SYMBOL
  2    is '考核对象';
Comment added
SQL> comment on column DM_ASSESS_RESULT.SYMBOLTYPE
  2    is '考核对象类型 3大队；4中队；5个人(待作废，SCOPE_TYPE字段代替)';
Comment added
SQL> comment on column DM_ASSESS_RESULT.RECORDTIME
  2    is '考核记录时间 格式yyyy-mm-dd 00:00:01';
Comment added
SQL> comment on column DM_ASSESS_RESULT.GROUP_TYPE
  2    is '分组类型 枚举 DUTY_GROUP_TYPE';
Comment added
SQL> comment on column DM_ASSESS_RESULT.SCOPE_TYPE
  2    is '范围类型 枚举DUTY_SCOPE_TYPE';
Comment added
SQL> comment on column DM_ASSESS_RESULT.BUSINESS
  2    is '业务类型 枚举DUTY_BUSINESS_TYPE';
Comment added
SQL> alter table DM_ASSESS_RESULT
  2    add constraint PK_ASSESS_ID primary key (RESULTID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> prompt

SQL> prompt Creating table DM_ASSESS_RESULT_HEAP
Creating table DM_ASSESS_RESULT_HEAP
SQL> prompt ====================================
====================================
SQL> prompt

SQL> create table DM_ASSESS_RESULT_HEAP
  2  (
  3    RESULTID   VARCHAR2(32) not null,
  4    SYMBOL     VARCHAR2(32),
  5    RECORDTIME DATE,
  6    GROUP_TYPE VARCHAR2(2),
  7    SCOPE_TYPE VARCHAR2(2),
  8    BUSINESS   VARCHAR2(2)
  9  )
 10  tablespace HIATMPTS
 11    pctfree 10
 12    initrans 1
 13    maxtrans 255
 14    storage
 15    (
 16      initial 16K
 17      next 8K
 18      minextents 1
 19      maxextents unlimited
 20    );
Table created
SQL> comment on table DM_ASSESS_RESULT_HEAP
  2    is '考核结果-月累计得分记录表';
Comment added
SQL> comment on column DM_ASSESS_RESULT_HEAP.RESULTID
  2    is '考核结果唯一标识';
Comment added
SQL> comment on column DM_ASSESS_RESULT_HEAP.SYMBOL
  2    is '考核对象';
Comment added
SQL> comment on column DM_ASSESS_RESULT_HEAP.RECORDTIME
  2    is '考核记录时间 格式yyyy-mm-dd 00:00:01';
Comment added
SQL> comment on column DM_ASSESS_RESULT_HEAP.GROUP_TYPE
  2    is '分组类型 枚举 DUTY_GROUP_TYPE';
Comment added
SQL> comment on column DM_ASSESS_RESULT_HEAP.SCOPE_TYPE
  2    is '范围类型 枚举DUTY_SCOPE_TYPE';
Comment added
SQL> comment on column DM_ASSESS_RESULT_HEAP.BUSINESS
  2    is '业务类型 枚举DUTY_BUSINESS_TYPE';
Comment added
SQL> alter table DM_ASSESS_RESULT_HEAP
  2    add constraint PK_ASSESS_DAY_ID primary key (RESULTID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> prompt

SQL> prompt Creating table DM_ASSESS_RESULT_HISTORY
Creating table DM_ASSESS_RESULT_HISTORY
SQL> prompt =======================================
=======================================
SQL> prompt

SQL> create table DM_ASSESS_RESULT_HISTORY
  2  (
  3    RESULTID          VARCHAR2(32) not null,
  4    SYMBOL            VARCHAR2(32),
  5    SYMBOLTYPE        VARCHAR2(2),
  6    RECORDTIME        DATE,
  7    CITY_RANK         VARCHAR2(4),
  8    BIG_RANK          VARCHAR2(4),
  9    ZHO_RANK          VARCHAR2(4),
 10    POLICE_STAR_LEVEL VARCHAR2(2),
 11    GROUP_TYPE        VARCHAR2(2),
 12    SCOPE_TYPE        VARCHAR2(2),
 13    BUSINESS          VARCHAR2(2)
 14  )
 15  tablespace HIATMPTS
 16    pctfree 10
 17    initrans 1
 18    maxtrans 255
 19    storage
 20    (
 21      initial 64K
 22      next 8K
 23      minextents 1
 24      maxextents unlimited
 25    );
Table created
SQL> comment on column DM_ASSESS_RESULT_HISTORY.SYMBOLTYPE
  2    is '考核对象类型 3大队；4中队；5个人(待作废，SCOPE_TYPE字段代替)';
Comment added
SQL> comment on column DM_ASSESS_RESULT_HISTORY.RECORDTIME
  2    is '考核月份的起始日期';
Comment added
SQL> comment on column DM_ASSESS_RESULT_HISTORY.CITY_RANK
  2    is '全市排名';
Comment added
SQL> comment on column DM_ASSESS_RESULT_HISTORY.BIG_RANK
  2    is '大队排名';
Comment added
SQL> comment on column DM_ASSESS_RESULT_HISTORY.ZHO_RANK
  2    is '中队排名';
Comment added
SQL> comment on column DM_ASSESS_RESULT_HISTORY.POLICE_STAR_LEVEL
  2    is '警员星级 枚举DUTY_POLICE_STAR_LEVEL';
Comment added
SQL> comment on column DM_ASSESS_RESULT_HISTORY.GROUP_TYPE
  2    is '分组类型 枚举 DUTY_GROUP_TYPE';
Comment added
SQL> comment on column DM_ASSESS_RESULT_HISTORY.SCOPE_TYPE
  2    is '范围类型 枚举DUTY_SCOPE_TYPE';
Comment added
SQL> comment on column DM_ASSESS_RESULT_HISTORY.BUSINESS
  2    is '业务类型 枚举DUTY_BUSINESS_TYPE';
Comment added
SQL> prompt

SQL> prompt Creating table DM_ASSESS_RESULT_SCORE
Creating table DM_ASSESS_RESULT_SCORE
SQL> prompt =====================================
=====================================
SQL> prompt

SQL> create table DM_ASSESS_RESULT_SCORE
  2  (
  3    UUID     VARCHAR2(32) not null,
  4    RESULTID VARCHAR2(32) not null,
  5    INDEXID  VARCHAR2(32) not null,
  6    SCORE    VARCHAR2(10)
  7  )
  8  tablespace HIATMPTS
  9    pctfree 10
 10    initrans 1
 11    maxtrans 255
 12    storage
 13    (
 14      initial 64K
 15      next 1M
 16      minextents 1
 17      maxextents unlimited
 18    );
Table created
SQL> comment on table DM_ASSESS_RESULT_SCORE
  2    is '考核结果分数表';
Comment added
SQL> comment on column DM_ASSESS_RESULT_SCORE.UUID
  2    is '主键UUID';
Comment added
SQL> comment on column DM_ASSESS_RESULT_SCORE.RESULTID
  2    is '考核结果唯一标识';
Comment added
SQL> comment on column DM_ASSESS_RESULT_SCORE.INDEXID
  2    is '指标ID';
Comment added
SQL> comment on column DM_ASSESS_RESULT_SCORE.SCORE
  2    is '考核对象类型 3大队；4中队；5个人';
Comment added
SQL> alter table DM_ASSESS_RESULT_SCORE
  2    add constraint PK_SCORE_ID primary key (UUID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> prompt

SQL> prompt Creating table DM_ASSESS_RESULT_SCORE_HEAP
Creating table DM_ASSESS_RESULT_SCORE_HEAP
SQL> prompt ==========================================
==========================================
SQL> prompt

SQL> create table DM_ASSESS_RESULT_SCORE_HEAP
  2  (
  3    UUID     VARCHAR2(32) not null,
  4    RESULTID VARCHAR2(32) not null,
  5    INDEXID  VARCHAR2(32) not null,
  6    SCORE    VARCHAR2(10)
  7  )
  8  tablespace HIATMPTS
  9    pctfree 10
 10    initrans 1
 11    maxtrans 255
 12    storage
 13    (
 14      initial 16K
 15      next 8K
 16      minextents 1
 17      maxextents unlimited
 18    );
Table created
SQL> comment on table DM_ASSESS_RESULT_SCORE_HEAP
  2    is '考核结果-月累计分数表';
Comment added
SQL> comment on column DM_ASSESS_RESULT_SCORE_HEAP.UUID
  2    is '主键UUID';
Comment added
SQL> comment on column DM_ASSESS_RESULT_SCORE_HEAP.RESULTID
  2    is '考核结果唯一标识';
Comment added
SQL> comment on column DM_ASSESS_RESULT_SCORE_HEAP.INDEXID
  2    is '指标ID';
Comment added
SQL> comment on column DM_ASSESS_RESULT_SCORE_HEAP.SCORE
  2    is '考核对象类型 3大队；4中队；5个人';
Comment added
SQL> alter table DM_ASSESS_RESULT_SCORE_HEAP
  2    add constraint PK_SCORE_DAY_ID primary key (UUID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> prompt

SQL> prompt Creating table DM_ASSESS_RESULT_SCORE_HISTORY
Creating table DM_ASSESS_RESULT_SCORE_HISTORY
SQL> prompt =============================================
=============================================
SQL> prompt

SQL> create table DM_ASSESS_RESULT_SCORE_HISTORY
  2  (
  3    UUID     VARCHAR2(32) not null,
  4    RESULTID VARCHAR2(32) not null,
  5    INDEXID  VARCHAR2(32) not null,
  6    SCORE    VARCHAR2(10)
  7  )
  8  tablespace HIATMPTS
  9    pctfree 10
 10    initrans 1
 11    maxtrans 255
 12    storage
 13    (
 14      initial 64K
 15      next 1M
 16      minextents 1
 17      maxextents unlimited
 18    );
Table created
SQL> prompt

SQL> prompt Creating table DM_CHECK_MANAGE
Creating table DM_CHECK_MANAGE
SQL> prompt ==============================
==============================
SQL> prompt

SQL> create table DM_CHECK_MANAGE
  2  (
  3    ID            VARCHAR2(32) default sys_guid() not null,
  4    SYMBOL        VARCHAR2(32),
  5    SCOPE_TYPE    VARCHAR2(2),
  6    BUSINESS_TYPE VARCHAR2(2),
  7    GROUP_TYPE    VARCHAR2(2)
  8  )
  9  tablespace HIATMPTS
 10    pctfree 10
 11    initrans 1
 12    maxtrans 255
 13    storage
 14    (
 15      initial 16K
 16      next 8K
 17      minextents 1
 18      maxextents unlimited
 19    );
Table created
SQL> comment on table DM_CHECK_MANAGE
  2    is '考核对象管理表';
Comment added
SQL> comment on column DM_CHECK_MANAGE.SYMBOL
  2    is '考核对象ID（部门编号或警员ID）';
Comment added
SQL> comment on column DM_CHECK_MANAGE.SCOPE_TYPE
  2    is '范围类型 枚举DUTY_SCOPE_TYPE';
Comment added
SQL> comment on column DM_CHECK_MANAGE.BUSINESS_TYPE
  2    is '业务类型 枚举DUTY_BUSINESS_TYPE';
Comment added
SQL> comment on column DM_CHECK_MANAGE.GROUP_TYPE
  2    is '分组类型 枚举 DUTY_GROUP_TYPE';
Comment added
SQL> alter table DM_CHECK_MANAGE
  2    add constraint PK_DM_CHECK_MANAGE primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> prompt

SQL> prompt Creating table DM_COMPREHENSIVE_MONITOR
Creating table DM_COMPREHENSIVE_MONITOR
SQL> prompt =======================================
=======================================
SQL> prompt

SQL> create table DM_COMPREHENSIVE_MONITOR
  2  (
  3    ID           VARCHAR2(32) default sys_guid() not null,
  4    DEPLOY_ID    VARCHAR2(32),
  5    INPUT_PERSON VARCHAR2(20),
  6    INPUT_TIME   DATE,
  7    INPUT_IP     VARCHAR2(100),
  8    INPUT_TYPE   VARCHAR2(2),
  9    POLICEID     VARCHAR2(10),
 10    POLICE_UUID  VARCHAR2(32),
 11    DATA_TYPE    VARCHAR2(10),
 12    BEGIN_TIME   DATE,
 13    END_TIME     DATE,
 14    DURATION     VARCHAR2(10),
 15    REMARK       VARCHAR2(300),
 16    STATUS       VARCHAR2(2),
 17    SCORE        VARCHAR2(4),
 18    UPDATER      VARCHAR2(15),
 19    UPDATE_TIME  DATE,
 20    DELETE_FLAG  VARCHAR2(2) default 0,
 21    UPDATE_IP    VARCHAR2(100),
 22    SERVICE_TYPE VARCHAR2(2)
 23  )
 24  tablespace HIATMPTS
 25    pctfree 10
 26    initrans 1
 27    maxtrans 255
 28    storage
 29    (
 30      initial 16K
 31      next 8K
 32      minextents 1
 33      maxextents unlimited
 34    );
Table created
SQL> comment on table DM_COMPREHENSIVE_MONITOR
  2    is '综合监控表';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR.ID
  2    is '主键';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR.DEPLOY_ID
  2    is '排班ID';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR.INPUT_PERSON
  2    is '录入人';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR.INPUT_TIME
  2    is '录入时间/报备时间';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR.INPUT_IP
  2    is '录入IP';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR.INPUT_TYPE
  2    is '录入方式 1人工；2适配器录入';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR.POLICEID
  2    is '警员ID';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR.POLICE_UUID
  2    is '警员主键';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR.DATA_TYPE
  2    is '数据类型 1执勤状态（迟到、早退、脱岗、旷工等）2指令执行 3路面抽查 4综合计分 5报备6驻留';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR.BEGIN_TIME
  2    is '开始时间';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR.END_TIME
  2    is '结束时间';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR.DURATION
  2    is '持续时长 单位：秒';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR.REMARK
  2    is '备注';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR.STATUS
  2    is '1迟到 2早退 3脱岗 4旷工 5离线 6指令不执行 7指令执行不力 8综合加分 9综合扣分 10上岗报备 11撤岗报备 12驻留超时';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR.SCORE
  2    is '综合计分数';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR.UPDATER
  2    is '修改人';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR.UPDATE_TIME
  2    is '修改时间';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR.DELETE_FLAG
  2    is '删除标识 0否1是';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR.UPDATE_IP
  2    is '修改人IP';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR.SERVICE_TYPE
  2    is '勤务类型';
Comment added
SQL> alter table DM_COMPREHENSIVE_MONITOR
  2    add constraint DM_COMPREHENSIVE_MONITOR_PK primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> create index DM_COMPREHENSIVE_DEPLOY_PK on DM_COMPREHENSIVE_MONITOR (DEPLOY_ID)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> create index DM_COMPREHENSIVE_MONITOR_DELPK on DM_COMPREHENSIVE_MONITOR (DELETE_FLAG)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> prompt

SQL> prompt Creating table DM_COMPREHENSIVE_MONITOR_DAY
Creating table DM_COMPREHENSIVE_MONITOR_DAY
SQL> prompt ===========================================
===========================================
SQL> prompt

SQL> create table DM_COMPREHENSIVE_MONITOR_DAY
  2  (
  3    ID           VARCHAR2(32) default sys_guid() not null,
  4    DEPLOY_ID    VARCHAR2(32),
  5    INPUT_PERSON VARCHAR2(20),
  6    INPUT_TIME   DATE,
  7    INPUT_IP     VARCHAR2(100),
  8    INPUT_TYPE   VARCHAR2(2),
  9    POLICEID     VARCHAR2(10),
 10    POLICE_UUID  VARCHAR2(32),
 11    DATA_TYPE    VARCHAR2(10),
 12    BEGIN_TIME   DATE,
 13    END_TIME     DATE,
 14    DURATION     VARCHAR2(10),
 15    REMARK       VARCHAR2(300),
 16    STATUS       VARCHAR2(2),
 17    SCORE        VARCHAR2(4),
 18    UPDATER      VARCHAR2(15),
 19    UPDATE_TIME  DATE,
 20    DELETE_FLAG  VARCHAR2(2) default 0,
 21    UPDATE_IP    VARCHAR2(100),
 22    SERVICE_TYPE VARCHAR2(2)
 23  )
 24  tablespace HIATMPTS
 25    pctfree 10
 26    initrans 1
 27    maxtrans 255
 28    storage
 29    (
 30      initial 16K
 31      next 8K
 32      minextents 1
 33      maxextents unlimited
 34    );
Table created
SQL> comment on table DM_COMPREHENSIVE_MONITOR_DAY
  2    is '每日实时综合监控表';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR_DAY.ID
  2    is '主键';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR_DAY.DEPLOY_ID
  2    is '排班ID';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR_DAY.INPUT_PERSON
  2    is '录入人';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR_DAY.INPUT_TIME
  2    is '录入时间/报备时间';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR_DAY.INPUT_IP
  2    is '录入IP';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR_DAY.INPUT_TYPE
  2    is '录入方式 1人工；2适配器录入';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR_DAY.POLICEID
  2    is '警员ID';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR_DAY.POLICE_UUID
  2    is '警员主键';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR_DAY.DATA_TYPE
  2    is '数据类型 1执勤状态（迟到、早退、脱岗、旷工等）2指令执行 3路面抽查 4综合计分 5报备6驻留';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR_DAY.BEGIN_TIME
  2    is '开始时间';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR_DAY.END_TIME
  2    is '结束时间';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR_DAY.DURATION
  2    is '持续时长 单位：秒';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR_DAY.REMARK
  2    is '备注';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR_DAY.STATUS
  2    is '1迟到 2早退 3脱岗 4旷工 5离线 6指令不执行 7指令执行不力 8综合加分 9综合扣分 10上岗报备 11撤岗报备 12驻留超时';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR_DAY.SCORE
  2    is '综合计分数';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR_DAY.UPDATER
  2    is '修改人';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR_DAY.UPDATE_TIME
  2    is '修改时间';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR_DAY.DELETE_FLAG
  2    is '删除标识 0否1是';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR_DAY.UPDATE_IP
  2    is '修改人IP';
Comment added
SQL> comment on column DM_COMPREHENSIVE_MONITOR_DAY.SERVICE_TYPE
  2    is '勤务类型';
Comment added
SQL> alter table DM_COMPREHENSIVE_MONITOR_DAY
  2    add constraint DM_MONITOR_DAY_PK primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> prompt

SQL> prompt Creating table DM_DEPLOY
Creating table DM_DEPLOY
SQL> prompt ========================
========================
SQL> prompt

SQL> create table DM_DEPLOY
  2  (
  3    ID           VARCHAR2(32) default sys_guid() not null,
  4    POSITION_ID  VARCHAR2(32),
  5    BEGIN_TIME   DATE,
  6    END_TIME     DATE,
  7    SUB_STATUS   VARCHAR2(2),
  8    SUB_TYPE     VARCHAR2(3),
  9    CREATOR      VARCHAR2(10),
 10    CREATOR_TIME DATE,
 11    UPDATER      VARCHAR2(10),
 12    UPDATE_TIME  DATE,
 13    DEL_FLAG     VARCHAR2(2) default 0,
 14    CONTINUITY   VARCHAR2(2) default 1
 15  )
 16  tablespace HIATMPTS
 17    pctfree 10
 18    initrans 1
 19    maxtrans 255
 20    storage
 21    (
 22      initial 64K
 23      next 8K
 24      minextents 1
 25      maxextents unlimited
 26    );
Table created
SQL> comment on table DM_DEPLOY
  2    is '岗位排班表';
Comment added
SQL> comment on column DM_DEPLOY.ID
  2    is '主键';
Comment added
SQL> comment on column DM_DEPLOY.POSITION_ID
  2    is '岗位主键';
Comment added
SQL> comment on column DM_DEPLOY.BEGIN_TIME
  2    is '上岗时间 YYYY-MM-DD HH:MM:SS';
Comment added
SQL> comment on column DM_DEPLOY.END_TIME
  2    is '撤岗时间 YYYY-MM-DD HH:MM:SS';
Comment added
SQL> comment on column DM_DEPLOY.SUB_STATUS
  2    is '岗位提交状态 0 中队待提交；1大队待审核；2支队待审核；3审核通过，待安排警力；4审核通过，已安排警力';
Comment added
SQL> comment on column DM_DEPLOY.SUB_TYPE
  2    is '岗位提交类型 0手动提交；1自动提交（000-111，个位表示中队；十位表示大队；百位表示支队）';
Comment added
SQL> comment on column DM_DEPLOY.CREATOR
  2    is '创建人';
Comment added
SQL> comment on column DM_DEPLOY.CREATOR_TIME
  2    is '创建时间';
Comment added
SQL> comment on column DM_DEPLOY.UPDATER
  2    is '更新人';
Comment added
SQL> comment on column DM_DEPLOY.UPDATE_TIME
  2    is '更新时间';
Comment added
SQL> comment on column DM_DEPLOY.DEL_FLAG
  2    is '删除标识 0未删除；1删除';
Comment added
SQL> comment on column DM_DEPLOY.CONTINUITY
  2    is '岗位班次连续标识 0连续 1非连续';
Comment added
SQL> alter table DM_DEPLOY
  2    add constraint PK_DM_DEPLOY primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> create index PK_DM_DEPLOY_DELPK on DM_DEPLOY (DEL_FLAG)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> create index PK_DM_DEPLOY_POSITIONID on DM_DEPLOY (POSITION_ID)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> prompt

SQL> prompt Creating table DM_DEPLOY_CYCLE
Creating table DM_DEPLOY_CYCLE
SQL> prompt ==============================
==============================
SQL> prompt

SQL> create table DM_DEPLOY_CYCLE
  2  (
  3    ID     VARCHAR2(32) not null,
  4    TYPE   VARCHAR2(32),
  5    STATUS VARCHAR2(32)
  6  )
  7  tablespace HIATMPTS
  8    pctfree 10
  9    initrans 1
 10    maxtrans 255
 11    storage
 12    (
 13      initial 64K
 14      next 1M
 15      minextents 1
 16      maxextents unlimited
 17    );
Table created
SQL> comment on column DM_DEPLOY_CYCLE.ID
  2    is '';
Comment added
SQL> comment on column DM_DEPLOY_CYCLE.TYPE
  2    is '';
Comment added
SQL> comment on column DM_DEPLOY_CYCLE.STATUS
  2    is '';
Comment added
SQL> prompt

SQL> prompt Creating table DM_DEPLOY_POLICE
Creating table DM_DEPLOY_POLICE
SQL> prompt ===============================
===============================
SQL> prompt

SQL> create table DM_DEPLOY_POLICE
  2  (
  3    ID               VARCHAR2(32) default sys_guid() not null,
  4    DEPLOY_ID        VARCHAR2(32),
  5    TOOL_ID          VARCHAR2(32) default 1,
  6    POLICE_ID        VARCHAR2(32),
  7    DUTY_STATUS      VARCHAR2(2) default 0,
  8    WORK_STATUS      VARCHAR2(2) default 0,
  9    DUTY_RATIO       VARCHAR2(5),
 10    CREATOR          VARCHAR2(10),
 11    CREATOR_TIME     DATE,
 12    UPDATER          VARCHAR2(10),
 13    UPDATE_TIME      DATE,
 14    DEL_FLAG         VARCHAR2(2) default 0,
 15    POLICE_UUID      VARCHAR2(32),
 16    ABSENT_STATUS    VARCHAR2(2) default 0,
 17    MILEAGE          VARCHAR2(10) default 0,
 18    PATROL_DURATION  VARCHAR2(10) default 0,
 19    ON_DUTY_DURATION VARCHAR2(5) default 0,
 20    ON_DUTY_MILEAGE  VARCHAR2(10) default 0
 21  )
 22  tablespace HIATMPTS
 23    pctfree 10
 24    initrans 1
 25    maxtrans 255
 26    storage
 27    (
 28      initial 64K
 29      next 8K
 30      minextents 1
 31      maxextents unlimited
 32    );
Table created
SQL> comment on table DM_DEPLOY_POLICE
  2    is '警力安排表';
Comment added
SQL> comment on column DM_DEPLOY_POLICE.ID
  2    is '主键';
Comment added
SQL> comment on column DM_DEPLOY_POLICE.DEPLOY_ID
  2    is '岗位排班主键';
Comment added
SQL> comment on column DM_DEPLOY_POLICE.TOOL_ID
  2    is '交通工具主键';
Comment added
SQL> comment on column DM_DEPLOY_POLICE.POLICE_ID
  2    is '警员表主键';
Comment added
SQL> comment on column DM_DEPLOY_POLICE.DUTY_STATUS
  2    is '在岗情况 0正常；1旷工（未上岗）；2脱岗（中途离开且GPS点位数不达标）';
Comment added
SQL> comment on column DM_DEPLOY_POLICE.WORK_STATUS
  2    is '迟到早退情况 0正常；1迟到；2早退；3既迟到又早退';
Comment added
SQL> comment on column DM_DEPLOY_POLICE.DUTY_RATIO
  2    is '在岗率 小数制，保留3位，例0.001';
Comment added
SQL> comment on column DM_DEPLOY_POLICE.CREATOR
  2    is '创建人';
Comment added
SQL> comment on column DM_DEPLOY_POLICE.CREATOR_TIME
  2    is '创建时间';
Comment added
SQL> comment on column DM_DEPLOY_POLICE.UPDATER
  2    is '更新人';
Comment added
SQL> comment on column DM_DEPLOY_POLICE.UPDATE_TIME
  2    is '更新时间';
Comment added
SQL> comment on column DM_DEPLOY_POLICE.DEL_FLAG
  2    is '删除标识 0未删除；1已删除';
Comment added
SQL> comment on column DM_DEPLOY_POLICE.POLICE_UUID
  2    is '警员表数据主键';
Comment added
SQL> comment on column DM_DEPLOY_POLICE.ABSENT_STATUS
  2    is '是否旷工 0否；1是';
Comment added
SQL> comment on column DM_DEPLOY_POLICE.MILEAGE
  2    is '该班次巡逻里程（有GPS就算），单位：千米';
Comment added
SQL> comment on column DM_DEPLOY_POLICE.PATROL_DURATION
  2    is '该班次巡逻时长（有GPS就算），单位：分钟';
Comment added
SQL> comment on column DM_DEPLOY_POLICE.ON_DUTY_DURATION
  2    is '在岗时长，单位：分钟';
Comment added
SQL> comment on column DM_DEPLOY_POLICE.ON_DUTY_MILEAGE
  2    is '在岗巡逻里程，单位：米';
Comment added
SQL> alter table DM_DEPLOY_POLICE
  2    add constraint PK_DM_DEPLOY_POLICE primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> create index PK_DM_DEPLOY_POLICE_DEL on DM_DEPLOY_POLICE (DEL_FLAG)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> create index PK_DM_DEPLOY_POLICE_ID on DM_DEPLOY_POLICE (DEPLOY_ID)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> prompt

SQL> prompt Creating table DM_DEPLOY_SELECT
Creating table DM_DEPLOY_SELECT
SQL> prompt ===============================
===============================
SQL> prompt

SQL> create table DM_DEPLOY_SELECT
  2  (
  3    ID          VARCHAR2(32) not null,
  4    CYCLE_ID    VARCHAR2(32),
  5    SELECT_DATE VARCHAR2(32)
  6  )
  7  tablespace HIATMPTS
  8    pctfree 10
  9    initrans 1
 10    maxtrans 255
 11    storage
 12    (
 13      initial 64K
 14      next 1M
 15      minextents 1
 16      maxextents unlimited
 17    );
Table created
SQL> comment on column DM_DEPLOY_SELECT.CYCLE_ID
  2    is 'dm_deploy_cycle';
Comment added
SQL> prompt

SQL> prompt Creating table DM_DURATION
Creating table DM_DURATION
SQL> prompt ==========================
==========================
SQL> prompt

SQL> create table DM_DURATION
  2  (
  3    ID        VARCHAR2(32) not null,
  4    SYMBOL_ID VARCHAR2(32),
  5    DURA_TYPE VARCHAR2(2),
  6    DURATION  VARCHAR2(2)
  7  )
  8  tablespace HIATMPTS
  9    pctfree 10
 10    initrans 1
 11    maxtrans 255;
Table created
SQL> comment on table DM_DURATION
  2    is '执勤时长限制表';
Comment added
SQL> comment on column DM_DURATION.ID
  2    is '主键';
Comment added
SQL> comment on column DM_DURATION.SYMBOL_ID
  2    is '单一岗位或岗位类型主键';
Comment added
SQL> comment on column DM_DURATION.DURA_TYPE
  2    is '时长类型 1最短；2最长';
Comment added
SQL> comment on column DM_DURATION.DURATION
  2    is '时长限制 单位：分钟';
Comment added
SQL> alter table DM_DURATION
  2    add constraint PK_DM_DURATION primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255;
Table altered
SQL> prompt

SQL> prompt Creating table DM_DUTY_TIME
Creating table DM_DUTY_TIME
SQL> prompt ===========================
===========================
SQL> prompt

SQL> create table DM_DUTY_TIME
  2  (
  3    ID          VARCHAR2(32) default sys_guid() not null,
  4    RELATION_ID VARCHAR2(32),
  5    BEGIN_TIME  VARCHAR2(20),
  6    END_TIME    VARCHAR2(20),
  7    TYPE        VARCHAR2(2)
  8  )
  9  tablespace HIATMPTS
 10    pctfree 10
 11    initrans 1
 12    maxtrans 255
 13    storage
 14    (
 15      initial 64K
 16      next 8K
 17      minextents 1
 18      maxextents unlimited
 19    );
Table created
SQL> comment on table DM_DUTY_TIME
  2    is '勤务或重点时段管理表';
Comment added
SQL> comment on column DM_DUTY_TIME.ID
  2    is '主键';
Comment added
SQL> comment on column DM_DUTY_TIME.RELATION_ID
  2    is '岗位或岗位类型主键';
Comment added
SQL> comment on column DM_DUTY_TIME.BEGIN_TIME
  2    is '开始时间 HH:MM';
Comment added
SQL> comment on column DM_DUTY_TIME.END_TIME
  2    is '结束时间 HH:MM';
Comment added
SQL> comment on column DM_DUTY_TIME.TYPE
  2    is '时间类型 1勤务时段；2重点时段';
Comment added
SQL> alter table DM_DUTY_TIME
  2    add constraint PK_DM_DUTY_TIME primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> prompt

SQL> prompt Creating table DM_GPS_MONITOR
Creating table DM_GPS_MONITOR
SQL> prompt =============================
=============================
SQL> prompt

SQL> create table DM_GPS_MONITOR
  2  (
  3    ID                VARCHAR2(32) default sys_guid() not null,
  4    POLICE_ID         VARCHAR2(6),
  5    THIRD_SYSTEM_CODE VARCHAR2(32),
  6    DEPLOY_ID         VARCHAR2(32) not null,
  7    MONITOR_TIME      DATE,
  8    STATUS            VARCHAR2(2),
  9    COOR              VARCHAR2(1000),
 10    DEPLOY_DEPTID     VARCHAR2(12),
 11    POLICE_UUID       VARCHAR2(32) default 0 not null
 12  )
 13  tablespace HIATMPTS
 14    pctfree 10
 15    initrans 1
 16    maxtrans 255
 17    storage
 18    (
 19      initial 16K
 20      next 8K
 21      minextents 1
 22      maxextents unlimited
 23    );
Table created
SQL> comment on table DM_GPS_MONITOR
  2    is 'GPS状态监视表';
Comment added
SQL> comment on column DM_GPS_MONITOR.ID
  2    is '32位UUID';
Comment added
SQL> comment on column DM_GPS_MONITOR.POLICE_ID
  2    is '警员表ID';
Comment added
SQL> comment on column DM_GPS_MONITOR.THIRD_SYSTEM_CODE
  2    is '第三方设备编号';
Comment added
SQL> comment on column DM_GPS_MONITOR.DEPLOY_ID
  2    is '排班表ID';
Comment added
SQL> comment on column DM_GPS_MONITOR.MONITOR_TIME
  2    is '监测时间';
Comment added
SQL> comment on column DM_GPS_MONITOR.STATUS
  2    is ' 0 离线; 1 在线且在岗; 2 在线但不在岗';
Comment added
SQL> comment on column DM_GPS_MONITOR.COOR
  2    is '坐标(经、纬度)';
Comment added
SQL> comment on column DM_GPS_MONITOR.DEPLOY_DEPTID
  2    is '执勤岗位所属部门';
Comment added
SQL> comment on column DM_GPS_MONITOR.POLICE_UUID
  2    is '警员表uuid';
Comment added
SQL> alter table DM_GPS_MONITOR
  2    add constraint PRI_DM_GPS_MONITOR primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> create index IDX_DM_GPS_MONITOR_DE_PO on DM_GPS_MONITOR (DEPLOY_ID, POLICE_UUID)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> create index IDX_DM_GPS_MONITOR_TIME on DM_GPS_MONITOR (MONITOR_TIME)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> prompt

SQL> prompt Creating table DM_GRADE_DUTY
Creating table DM_GRADE_DUTY
SQL> prompt ============================
============================
SQL> prompt

SQL> create table DM_GRADE_DUTY
  2  (
  3    ID          VARCHAR2(32) not null,
  4    DEPTID      VARCHAR2(32),
  5    DUTY_LEVEL  VARCHAR2(2) default 3,
  6    DUTY_TYPE   VARCHAR2(2) default 2,
  7    TOTAL_RATIO VARCHAR2(5) default 0,
  8    BEGIN_TIME  DATE,
  9    END_TIME    DATE,
 10    CREATOR     VARCHAR2(10),
 11    CREATE_TIME DATE,
 12    UPDATER     VARCHAR2(10),
 13    UPDATE_TIME DATE,
 14    DEL_FLAG    VARCHAR2(2) default 0,
 15    BIG_DEPTID  VARCHAR2(32)
 16  )
 17  tablespace HIATMPTS
 18    pctfree 10
 19    initrans 1
 20    maxtrans 255
 21    storage
 22    (
 23      initial 64K
 24      next 8K
 25      minextents 1
 26      maxextents unlimited
 27    );
Table created
SQL> comment on table DM_GRADE_DUTY
  2    is '等级勤务管理表';
Comment added
SQL> comment on column DM_GRADE_DUTY.ID
  2    is '主键';
Comment added
SQL> comment on column DM_GRADE_DUTY.DEPTID
  2    is '中队部门ID';
Comment added
SQL> comment on column DM_GRADE_DUTY.DUTY_LEVEL
  2    is '勤务等级 3级；2级；1级';
Comment added
SQL> comment on column DM_GRADE_DUTY.DUTY_TYPE
  2    is '勤务等级类型 3大队勤务等级；4中队勤务等级 参考枚举DUTY_GRADE_TYPE';
Comment added
SQL> comment on column DM_GRADE_DUTY.TOTAL_RATIO
  2    is '总上勤比例要求';
Comment added
SQL> comment on column DM_GRADE_DUTY.BEGIN_TIME
  2    is '勤务启动日期 yyyy-mm-dd hh24:mi:ss';
Comment added
SQL> comment on column DM_GRADE_DUTY.END_TIME
  2    is '勤务结束日期 yyyy-mm-dd hh24:mi:ss';
Comment added
SQL> comment on column DM_GRADE_DUTY.CREATOR
  2    is '创建人';
Comment added
SQL> comment on column DM_GRADE_DUTY.CREATE_TIME
  2    is '创建时间 yyyy-mm-dd hh24:mi:ss';
Comment added
SQL> comment on column DM_GRADE_DUTY.UPDATER
  2    is '更新人';
Comment added
SQL> comment on column DM_GRADE_DUTY.UPDATE_TIME
  2    is '更新时间 yyyy-mm-dd hh24:mi:ss';
Comment added
SQL> comment on column DM_GRADE_DUTY.DEL_FLAG
  2    is '删除标识 0未删除；1删除';
Comment added
SQL> comment on column DM_GRADE_DUTY.BIG_DEPTID
  2    is '大队部门ID';
Comment added
SQL> alter table DM_GRADE_DUTY
  2    add constraint PK_DM_GRADE_DUTY primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> prompt

SQL> prompt Creating table DM_GRADE_DUTY_RATIO
Creating table DM_GRADE_DUTY_RATIO
SQL> prompt ==================================
==================================
SQL> prompt

SQL> create table DM_GRADE_DUTY_RATIO
  2  (
  3    ID            VARCHAR2(32) not null,
  4    GRADE_DUTY_ID VARCHAR2(32),
  5    POLICE_TYPE   VARCHAR2(2),
  6    DUTY_RATIO    VARCHAR2(5) default 0
  7  )
  8  tablespace HIATMPTS
  9    pctfree 10
 10    initrans 1
 11    maxtrans 255
 12    storage
 13    (
 14      initial 64K
 15      next 1M
 16      minextents 1
 17      maxextents unlimited
 18    );
Table created
SQL> comment on table DM_GRADE_DUTY_RATIO
  2    is '等级勤务警种上勤比例表';
Comment added
SQL> comment on column DM_GRADE_DUTY_RATIO.ID
  2    is '主键';
Comment added
SQL> comment on column DM_GRADE_DUTY_RATIO.GRADE_DUTY_ID
  2    is '等级勤务表主键';
Comment added
SQL> comment on column DM_GRADE_DUTY_RATIO.POLICE_TYPE
  2    is '警员类型';
Comment added
SQL> comment on column DM_GRADE_DUTY_RATIO.DUTY_RATIO
  2    is '上勤比率';
Comment added
SQL> alter table DM_GRADE_DUTY_RATIO
  2    add constraint PK_DM_GRADE_DUTY_RATIO primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> prompt

SQL> prompt Creating table DM_IMPORTANT_POSITION
Creating table DM_IMPORTANT_POSITION
SQL> prompt ====================================
====================================
SQL> prompt

SQL> create table DM_IMPORTANT_POSITION
  2  (
  3    ID            VARCHAR2(32) not null,
  4    GRADE_DUTY_ID VARCHAR2(32),
  5    POSITION_ID   VARCHAR2(32)
  6  )
  7  tablespace HIATMPTS
  8    pctfree 10
  9    initrans 1
 10    maxtrans 255
 11    storage
 12    (
 13      initial 64K
 14      next 1M
 15      minextents 1
 16      maxextents unlimited
 17    );
Table created
SQL> comment on table DM_IMPORTANT_POSITION
  2    is '等级勤务重点岗位';
Comment added
SQL> comment on column DM_IMPORTANT_POSITION.ID
  2    is '主键';
Comment added
SQL> comment on column DM_IMPORTANT_POSITION.GRADE_DUTY_ID
  2    is '等级勤务表主键';
Comment added
SQL> comment on column DM_IMPORTANT_POSITION.POSITION_ID
  2    is '岗位主键';
Comment added
SQL> alter table DM_IMPORTANT_POSITION
  2    add constraint PK_DM_IMPORT_POSITION primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> prompt

SQL> prompt Creating table DM_INDEXTREE_CONFIG
Creating table DM_INDEXTREE_CONFIG
SQL> prompt ==================================
==================================
SQL> prompt

SQL> create table DM_INDEXTREE_CONFIG
  2  (
  3    ID            VARCHAR2(32) not null,
  4    INDEX_ID      VARCHAR2(32) not null,
  5    PARENT_ID     VARCHAR2(32) not null,
  6    GROUP_TYPE    VARCHAR2(2),
  7    SCOPE_TYPE    VARCHAR2(2),
  8    BUSINESS_TYPE VARCHAR2(2),
  9    SERVICE_TYPE  VARCHAR2(2),
 10    NODE_ORDER    VARCHAR2(2),
 11    NODE_LEVEL    VARCHAR2(2)
 12  )
 13  tablespace HIATMPTS
 14    pctfree 10
 15    initrans 1
 16    maxtrans 255
 17    storage
 18    (
 19      initial 16K
 20      next 8K
 21      minextents 1
 22      maxextents unlimited
 23    );
Table created
SQL> comment on table DM_INDEXTREE_CONFIG
  2    is '考核指标数结构配置';
Comment added
SQL> comment on column DM_INDEXTREE_CONFIG.ID
  2    is '指标树主键';
Comment added
SQL> comment on column DM_INDEXTREE_CONFIG.INDEX_ID
  2    is '指标变量ID';
Comment added
SQL> comment on column DM_INDEXTREE_CONFIG.PARENT_ID
  2    is '上级指标树ID';
Comment added
SQL> comment on column DM_INDEXTREE_CONFIG.GROUP_TYPE
  2    is '所属分组类型';
Comment added
SQL> comment on column DM_INDEXTREE_CONFIG.SCOPE_TYPE
  2    is '所属范围类型';
Comment added
SQL> comment on column DM_INDEXTREE_CONFIG.BUSINESS_TYPE
  2    is '所属业务类型';
Comment added
SQL> comment on column DM_INDEXTREE_CONFIG.SERVICE_TYPE
  2    is '勤务类型';
Comment added
SQL> comment on column DM_INDEXTREE_CONFIG.NODE_ORDER
  2    is '树节点序号,用于规范表头显示位置';
Comment added
SQL> comment on column DM_INDEXTREE_CONFIG.NODE_LEVEL
  2    is '节点层级 顶层1；二层2；三层3....';
Comment added
SQL> alter table DM_INDEXTREE_CONFIG
  2    add constraint PK_CONFIG_ID primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> create index NODE_LEVEL_PK on DM_INDEXTREE_CONFIG (NODE_LEVEL)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> prompt

SQL> prompt Creating table DM_INDEX_CALCULATE
Creating table DM_INDEX_CALCULATE
SQL> prompt =================================
=================================
SQL> prompt

SQL> create table DM_INDEX_CALCULATE
  2  (
  3    ID                VARCHAR2(32) not null,
  4    INDEX_TREE_ID     VARCHAR2(32),
  5    CALCULATE_FORMULA VARCHAR2(2048)
  6  )
  7  tablespace HIATMPTS
  8    pctfree 10
  9    initrans 1
 10    maxtrans 255
 11    storage
 12    (
 13      initial 64K
 14      next 8K
 15      minextents 1
 16      maxextents unlimited
 17    );
Table created
SQL> comment on table DM_INDEX_CALCULATE
  2    is '节点下级指标组合计算表';
Comment added
SQL> comment on column DM_INDEX_CALCULATE.ID
  2    is '主键';
Comment added
SQL> comment on column DM_INDEX_CALCULATE.INDEX_TREE_ID
  2    is '指标树ID';
Comment added
SQL> comment on column DM_INDEX_CALCULATE.CALCULATE_FORMULA
  2    is '下级指标组成计算公式';
Comment added
SQL> alter table DM_INDEX_CALCULATE
  2    add constraint PK_DM_INDEX_CALCULATE_ID primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> prompt

SQL> prompt Creating table DM_INDEX_STRATEGY
Creating table DM_INDEX_STRATEGY
SQL> prompt ================================
================================
SQL> prompt

SQL> create table DM_INDEX_STRATEGY
  2  (
  3    ID              VARCHAR2(32) not null,
  4    INDEX_TREE_ID   VARCHAR2(32),
  5    STRATEGY_ID     VARCHAR2(32),
  6    CALCULATE_ORDER VARCHAR2(2)
  7  )
  8  tablespace HIATMPTS
  9    pctfree 10
 10    initrans 1
 11    maxtrans 255
 12    storage
 13    (
 14      initial 16K
 15      next 8K
 16      minextents 1
 17      maxextents unlimited
 18    );
Table created
SQL> comment on table DM_INDEX_STRATEGY
  2    is '节点策略配置表';
Comment added
SQL> comment on column DM_INDEX_STRATEGY.ID
  2    is '主键';
Comment added
SQL> comment on column DM_INDEX_STRATEGY.INDEX_TREE_ID
  2    is '树节点主键';
Comment added
SQL> comment on column DM_INDEX_STRATEGY.STRATEGY_ID
  2    is '策略主键';
Comment added
SQL> comment on column DM_INDEX_STRATEGY.CALCULATE_ORDER
  2    is '规则计算顺序';
Comment added
SQL> alter table DM_INDEX_STRATEGY
  2    add constraint PK_DM_STRATEGY_CONFIG_ID primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> prompt

SQL> prompt Creating table DM_INDEX_STRATEGY_CONFIG
Creating table DM_INDEX_STRATEGY_CONFIG
SQL> prompt =======================================
=======================================
SQL> prompt

SQL> create table DM_INDEX_STRATEGY_CONFIG
  2  (
  3    ID                 VARCHAR2(32) not null,
  4    INDEX_STRATEGY_ID  VARCHAR2(32),
  5    STRATEGY_ID        VARCHAR2(32),
  6    CALCULATE_FORMULA  VARCHAR2(250),
  7    SORT_TYPE          VARCHAR2(2),
  8    SORT_VALUE_TYPE    VARCHAR2(2),
  9    DIVI_TYPE          VARCHAR2(2),
 10    MAX_VALUE          VARCHAR2(5) default 0,
 11    MIN_VALUE          VARCHAR2(5) default 0,
 12    MAX_INTERVAL_VALUE VARCHAR2(5),
 13    MIN_INTERVAL_VALUE VARCHAR2(5),
 14    STRATEGY_FLAG      VARCHAR2(50),
 15    SORT_SCORE         VARCHAR2(3)
 16  )
 17  tablespace HIATMPTS
 18    pctfree 10
 19    initrans 1
 20    maxtrans 255
 21    storage
 22    (
 23      initial 16K
 24      next 8K
 25      minextents 1
 26      maxextents unlimited
 27    );
Table created
SQL> comment on table DM_INDEX_STRATEGY_CONFIG
  2    is '节点策略计算公式配置表';
Comment added
SQL> comment on column DM_INDEX_STRATEGY_CONFIG.ID
  2    is '主键';
Comment added
SQL> comment on column DM_INDEX_STRATEGY_CONFIG.INDEX_STRATEGY_ID
  2    is '节点策略配置表主键';
Comment added
SQL> comment on column DM_INDEX_STRATEGY_CONFIG.STRATEGY_ID
  2    is '策略表主键';
Comment added
SQL> comment on column DM_INDEX_STRATEGY_CONFIG.CALCULATE_FORMULA
  2    is '策略计算公式';
Comment added
SQL> comment on column DM_INDEX_STRATEGY_CONFIG.SORT_TYPE
  2    is '排序规则 1升序；2降序';
Comment added
SQL> comment on column DM_INDEX_STRATEGY_CONFIG.SORT_VALUE_TYPE
  2    is '排序值类型 1排序最小值；2排序最大值';
Comment added
SQL> comment on column DM_INDEX_STRATEGY_CONFIG.DIVI_TYPE
  2    is '排序值除数类型 1除数；2被除数';
Comment added
SQL> comment on column DM_INDEX_STRATEGY_CONFIG.MAX_VALUE
  2    is '策略计算结果值上限';
Comment added
SQL> comment on column DM_INDEX_STRATEGY_CONFIG.MIN_VALUE
  2    is '策略计算结果值下限';
Comment added
SQL> comment on column DM_INDEX_STRATEGY_CONFIG.MAX_INTERVAL_VALUE
  2    is '区间大值';
Comment added
SQL> comment on column DM_INDEX_STRATEGY_CONFIG.MIN_INTERVAL_VALUE
  2    is '区间小值';
Comment added
SQL> comment on column DM_INDEX_STRATEGY_CONFIG.STRATEGY_FLAG
  2    is '策略唯一标识';
Comment added
SQL> comment on column DM_INDEX_STRATEGY_CONFIG.SORT_SCORE
  2    is '排序策略的满分值';
Comment added
SQL> alter table DM_INDEX_STRATEGY_CONFIG
  2    add constraint PK_DM_INDEX_STRATEGY_CONFIG primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> prompt

SQL> prompt Creating table DM_INDEX_VARIABLE
Creating table DM_INDEX_VARIABLE
SQL> prompt ================================
================================
SQL> prompt

SQL> create table DM_INDEX_VARIABLE
  2  (
  3    ID             VARCHAR2(32) not null,
  4    INDEX_NAME     NVARCHAR2(32),
  5    INDEX_DESC     NVARCHAR2(256),
  6    IS_BASE_FLAG   VARCHAR2(2) default 0,
  7    IS_SHOW_FLAG   VARCHAR2(2) default 0,
  8    SERVICE_TYPE   VARCHAR2(2),
  9    INDEX_TYPE     VARCHAR2(2) default 0,
 10    INDEX_IMPL     VARCHAR2(50),
 11    DETAILS_IMPL   VARCHAR2(50),
 12    CALCULATE_TYPE VARCHAR2(2) default 0,
 13    LEVEL_TYPE     VARCHAR2(2),
 14    DELETE_FLAG    VARCHAR2(2) default 0,
 15    INDEX_MARK     VARCHAR2(200)
 16  )
 17  tablespace HIATMPTS
 18    pctfree 10
 19    initrans 1
 20    maxtrans 255
 21    storage
 22    (
 23      initial 16K
 24      next 8K
 25      minextents 1
 26      maxextents unlimited
 27    );
Table created
SQL> comment on table DM_INDEX_VARIABLE
  2    is '指标变量维护表';
Comment added
SQL> comment on column DM_INDEX_VARIABLE.ID
  2    is '主键';
Comment added
SQL> comment on column DM_INDEX_VARIABLE.INDEX_NAME
  2    is '指标名称';
Comment added
SQL> comment on column DM_INDEX_VARIABLE.INDEX_DESC
  2    is '指标描述';
Comment added
SQL> comment on column DM_INDEX_VARIABLE.IS_BASE_FLAG
  2    is '废弃';
Comment added
SQL> comment on column DM_INDEX_VARIABLE.IS_SHOW_FLAG
  2    is '是否展示在考核查询界面 1是0否';
Comment added
SQL> comment on column DM_INDEX_VARIABLE.SERVICE_TYPE
  2    is '指标勤务类型';
Comment added
SQL> comment on column DM_INDEX_VARIABLE.INDEX_TYPE
  2    is '节点类型 0非指标节点；1基础指标节点；2考核指标节点';
Comment added
SQL> comment on column DM_INDEX_VARIABLE.INDEX_IMPL
  2    is '指标具体实现方式';
Comment added
SQL> comment on column DM_INDEX_VARIABLE.DETAILS_IMPL
  2    is '指标详情具体实现方式（类名@方法名）';
Comment added
SQL> comment on column DM_INDEX_VARIABLE.CALCULATE_TYPE
  2    is '是否单日计算 1是0否';
Comment added
SQL> comment on column DM_INDEX_VARIABLE.LEVEL_TYPE
  2    is '节点所属层级 1代表分组（市区、高速等）；2代表范围（大队、中队、等）；3代表业务（行政、业务、一线民警等）';
Comment added
SQL> comment on column DM_INDEX_VARIABLE.DELETE_FLAG
  2    is '删除标识 1是0否';
Comment added
SQL> comment on column DM_INDEX_VARIABLE.INDEX_MARK
  2    is '指标唯一标识，用于前后端形成指标关联关系，规则是unicode编码(去掉\u)';
Comment added
SQL> alter table DM_INDEX_VARIABLE
  2    add constraint PK_DM_INDEX_VARIABLE_ID primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> prompt

SQL> prompt Creating table DM_INTERSECTION
Creating table DM_INTERSECTION
SQL> prompt ==============================
==============================
SQL> prompt

SQL> create table DM_INTERSECTION
  2  (
  3    ID                VARCHAR2(32) not null,
  4    POSITION_ID       VARCHAR2(32),
  5    INTERSECTION_CODE VARCHAR2(32)
  6  )
  7  tablespace HIATMPTS
  8    pctfree 10
  9    initrans 1
 10    maxtrans 255;
Table created
SQL> comment on table DM_INTERSECTION
  2    is '路口岗位信息表';
Comment added
SQL> comment on column DM_INTERSECTION.ID
  2    is '主键';
Comment added
SQL> comment on column DM_INTERSECTION.POSITION_ID
  2    is '岗位信息表主键';
Comment added
SQL> comment on column DM_INTERSECTION.INTERSECTION_CODE
  2    is '路口代码';
Comment added
SQL> alter table DM_INTERSECTION
  2    add constraint PK_DM_INTERSECTION primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255;
Table altered
SQL> prompt

SQL> prompt Creating table DM_LEAVE
Creating table DM_LEAVE
SQL> prompt =======================
=======================
SQL> prompt

SQL> create table DM_LEAVE
  2  (
  3    ID           VARCHAR2(32) not null,
  4    POLICE_UUID  VARCHAR2(32),
  5    POLICE_ID    VARCHAR2(10),
  6    BEGIN_DATE   DATE,
  7    END_DATE     DATE,
  8    INPUT_PERSON VARCHAR2(20),
  9    INPUT_TIME   DATE,
 10    AUDITOR      VARCHAR2(20),
 11    AUDITE_TIME  DATE,
 12    STATUS       VARCHAR2(2),
 13    INSTRUCTION  VARCHAR2(300),
 14    TYPE         VARCHAR2(2),
 15    DEL_FLAG     VARCHAR2(2)
 16  )
 17  tablespace HIATMPTS
 18    pctfree 10
 19    initrans 1
 20    maxtrans 255
 21    storage
 22    (
 23      initial 64K
 24      next 1M
 25      minextents 1
 26      maxextents unlimited
 27    );
Table created
SQL> comment on table DM_LEAVE
  2    is '警力请销假表';
Comment added
SQL> comment on column DM_LEAVE.ID
  2    is '主键';
Comment added
SQL> comment on column DM_LEAVE.POLICE_UUID
  2    is '警员主键';
Comment added
SQL> comment on column DM_LEAVE.POLICE_ID
  2    is '警员ID';
Comment added
SQL> comment on column DM_LEAVE.BEGIN_DATE
  2    is '请假开始日期';
Comment added
SQL> comment on column DM_LEAVE.END_DATE
  2    is '请假结束日期';
Comment added
SQL> comment on column DM_LEAVE.INPUT_PERSON
  2    is '录入人';
Comment added
SQL> comment on column DM_LEAVE.INPUT_TIME
  2    is '录入时间';
Comment added
SQL> comment on column DM_LEAVE.AUDITOR
  2    is '审核人';
Comment added
SQL> comment on column DM_LEAVE.AUDITE_TIME
  2    is '审核时间';
Comment added
SQL> comment on column DM_LEAVE.STATUS
  2    is '审核状态 0待提交；1待审核；2审核通过；3审核驳回';
Comment added
SQL> comment on column DM_LEAVE.INSTRUCTION
  2    is '请假说明';
Comment added
SQL> comment on column DM_LEAVE.TYPE
  2    is '请假类型 枚举DUTY_LEAVE_TYPE';
Comment added
SQL> comment on column DM_LEAVE.DEL_FLAG
  2    is '删除标识 0否；1已删除';
Comment added
SQL> alter table DM_LEAVE
  2    add constraint PK_DM_LEAVE primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> prompt

SQL> prompt Creating table DM_MONITOR
Creating table DM_MONITOR
SQL> prompt =========================
=========================
SQL> prompt

SQL> create table DM_MONITOR
  2  (
  3    ID                VARCHAR2(32) default sys_guid() not null,
  4    DEPLOY_ID         VARCHAR2(32),
  5    MONITOR_PERSON_ID VARCHAR2(10),
  6    MONITOR_TIME      DATE,
  7    IP                VARCHAR2(100),
  8    POLICE_UUID       VARCHAR2(32),
  9    STATUS            VARCHAR2(10)
 10  )
 11  tablespace HIATMPTS
 12    pctfree 10
 13    initrans 1
 14    maxtrans 255
 15    storage
 16    (
 17      initial 64K
 18      next 8K
 19      minextents 1
 20      maxextents unlimited
 21    );
Table created
SQL> comment on table DM_MONITOR
  2    is '综合监控表';
Comment added
SQL> comment on column DM_MONITOR.ID
  2    is '数据主键';
Comment added
SQL> comment on column DM_MONITOR.DEPLOY_ID
  2    is '岗位部署(DM_DEPLOY数据主键)id';
Comment added
SQL> comment on column DM_MONITOR.MONITOR_PERSON_ID
  2    is '监督人id';
Comment added
SQL> comment on column DM_MONITOR.MONITOR_TIME
  2    is '监督时间';
Comment added
SQL> comment on column DM_MONITOR.IP
  2    is '监督人ip';
Comment added
SQL> comment on column DM_MONITOR.POLICE_UUID
  2    is '警员Police数据主键';
Comment added
SQL> comment on column DM_MONITOR.STATUS
  2    is ' 0 离线; 1 在线且在岗; 2 在线但不在岗';
Comment added
SQL> alter table DM_MONITOR
  2    add constraint DM_MONIOTR_PK primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> create index DM_MONIOTR_DEPLOY_PK on DM_MONITOR (DEPLOY_ID, POLICE_UUID)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> prompt

SQL> prompt Creating table DM_PARAM_DEFINE
Creating table DM_PARAM_DEFINE
SQL> prompt ==============================
==============================
SQL> prompt

SQL> create table DM_PARAM_DEFINE
  2  (
  3    ID                VARCHAR2(32) default sys_guid() not null,
  4    PARAM_DEFINE_CODE VARCHAR2(100),
  5    PARAM_VALUE       VARCHAR2(100),
  6    DESCRIPTION       VARCHAR2(300)
  7  )
  8  tablespace HIATMPTS
  9    pctfree 10
 10    initrans 1
 11    maxtrans 255
 12    storage
 13    (
 14      initial 64K
 15      next 1M
 16      minextents 1
 17      maxextents unlimited
 18    );
Table created
SQL> comment on table DM_PARAM_DEFINE
  2    is '参数管理定义表';
Comment added
SQL> comment on column DM_PARAM_DEFINE.ID
  2    is '主键';
Comment added
SQL> comment on column DM_PARAM_DEFINE.PARAM_DEFINE_CODE
  2    is '参数定义代码';
Comment added
SQL> comment on column DM_PARAM_DEFINE.PARAM_VALUE
  2    is '参数值';
Comment added
SQL> comment on column DM_PARAM_DEFINE.DESCRIPTION
  2    is '描述';
Comment added
SQL> alter table DM_PARAM_DEFINE
  2    add constraint PK_DM_PARAM_DEFINE primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> prompt

SQL> prompt Creating table DM_PARAM_VALUE
Creating table DM_PARAM_VALUE
SQL> prompt =============================
=============================
SQL> prompt

SQL> create table DM_PARAM_VALUE
  2  (
  3    ID              VARCHAR2(32) default sys_guid() not null,
  4    PARAM_DEFINE_ID VARCHAR2(100),
  5    PARAM_TYPE_CODE VARCHAR2(100),
  6    PARAM_VALUE     VARCHAR2(100),
  7    DESCRIPTION     VARCHAR2(500)
  8  )
  9  tablespace HIATMPTS
 10    pctfree 10
 11    initrans 1
 12    maxtrans 255
 13    storage
 14    (
 15      initial 64K
 16      next 1M
 17      minextents 1
 18      maxextents unlimited
 19    );
Table created
SQL> comment on table DM_PARAM_VALUE
  2    is '参数管理设置表';
Comment added
SQL> comment on column DM_PARAM_VALUE.ID
  2    is '主键';
Comment added
SQL> comment on column DM_PARAM_VALUE.PARAM_DEFINE_ID
  2    is '参数定义主键';
Comment added
SQL> comment on column DM_PARAM_VALUE.PARAM_TYPE_CODE
  2    is '参数定义码';
Comment added
SQL> comment on column DM_PARAM_VALUE.PARAM_VALUE
  2    is '参数值';
Comment added
SQL> comment on column DM_PARAM_VALUE.DESCRIPTION
  2    is '描述';
Comment added
SQL> alter table DM_PARAM_VALUE
  2    add constraint PK_DM_PARAM_VALUE primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> prompt

SQL> prompt Creating table DM_POLICE_ASSIGN
Creating table DM_POLICE_ASSIGN
SQL> prompt ===============================
===============================
SQL> prompt

SQL> create table DM_POLICE_ASSIGN
  2  (
  3    ID              VARCHAR2(32) not null,
  4    FROM_BIG_DEPTID VARCHAR2(12),
  5    TO_BIG_DEPTID   VARCHAR2(12),
  6    POLICE_UUID     VARCHAR2(32),
  7    POLICE_ID       VARCHAR2(10),
  8    BEGIN_DATE      DATE,
  9    END_DATE        DATE,
 10    CREATOR         VARCHAR2(10),
 11    CREATE_TIME     DATE,
 12    UPDATER         VARCHAR2(10),
 13    UPDATE_TIME     DATE,
 14    DEL_FLAG        VARCHAR2(2) default 0,
 15    FROM_MID_DEPTID VARCHAR2(12),
 16    TO_MID_DEPTID   VARCHAR2(12)
 17  )
 18  tablespace HIATMPTS
 19    pctfree 10
 20    initrans 1
 21    maxtrans 255
 22    storage
 23    (
 24      initial 16K
 25      next 8K
 26      minextents 1
 27      maxextents unlimited
 28    );
Table created
SQL> comment on table DM_POLICE_ASSIGN
  2    is '警力派发';
Comment added
SQL> comment on column DM_POLICE_ASSIGN.ID
  2    is '主键';
Comment added
SQL> comment on column DM_POLICE_ASSIGN.FROM_BIG_DEPTID
  2    is '所属部门 大队';
Comment added
SQL> comment on column DM_POLICE_ASSIGN.TO_BIG_DEPTID
  2    is '派发至部门 大队';
Comment added
SQL> comment on column DM_POLICE_ASSIGN.POLICE_UUID
  2    is '警员表主键';
Comment added
SQL> comment on column DM_POLICE_ASSIGN.POLICE_ID
  2    is '警员ID';
Comment added
SQL> comment on column DM_POLICE_ASSIGN.BEGIN_DATE
  2    is '派发开始日期';
Comment added
SQL> comment on column DM_POLICE_ASSIGN.END_DATE
  2    is '派发结束日期';
Comment added
SQL> comment on column DM_POLICE_ASSIGN.CREATOR
  2    is '创建人';
Comment added
SQL> comment on column DM_POLICE_ASSIGN.CREATE_TIME
  2    is '创建时间';
Comment added
SQL> comment on column DM_POLICE_ASSIGN.UPDATER
  2    is '更新人';
Comment added
SQL> comment on column DM_POLICE_ASSIGN.UPDATE_TIME
  2    is '更新时间';
Comment added
SQL> comment on column DM_POLICE_ASSIGN.DEL_FLAG
  2    is '删除标识 0未删除；1删除';
Comment added
SQL> comment on column DM_POLICE_ASSIGN.FROM_MID_DEPTID
  2    is '所属部门 中队';
Comment added
SQL> comment on column DM_POLICE_ASSIGN.TO_MID_DEPTID
  2    is '派发至部门 中队';
Comment added
SQL> alter table DM_POLICE_ASSIGN
  2    add constraint PK_PRI_ID primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> prompt

SQL> prompt Creating table DM_POLICE_CAR_MANAGE
Creating table DM_POLICE_CAR_MANAGE
SQL> prompt ===================================
===================================
SQL> prompt

SQL> create table DM_POLICE_CAR_MANAGE
  2  (
  3    ID             VARCHAR2(32) default sys_guid() not null,
  4    BIG_DEPTID     VARCHAR2(12),
  5    DEPTID         VARCHAR2(12),
  6    CAR_NUM        VARCHAR2(15),
  7    CAR_BRAND      VARCHAR2(50),
  8    CAR_TYPE       VARCHAR2(2),
  9    CAR_MODEL      VARCHAR2(2),
 10    ZHI_DEPTID     VARCHAR2(12),
 11    CAR_PERSON_NUM VARCHAR2(3) default 0
 12  )
 13  tablespace HIATMPTS
 14    pctfree 10
 15    initrans 1
 16    maxtrans 255
 17    storage
 18    (
 19      initial 16K
 20      next 8K
 21      minextents 1
 22      maxextents unlimited
 23    );
Table created
SQL> comment on table DM_POLICE_CAR_MANAGE
  2    is '警员车辆管理表';
Comment added
SQL> comment on column DM_POLICE_CAR_MANAGE.ID
  2    is '主键';
Comment added
SQL> comment on column DM_POLICE_CAR_MANAGE.BIG_DEPTID
  2    is '大队部门';
Comment added
SQL> comment on column DM_POLICE_CAR_MANAGE.DEPTID
  2    is '中队部门';
Comment added
SQL> comment on column DM_POLICE_CAR_MANAGE.CAR_NUM
  2    is '车牌号';
Comment added
SQL> comment on column DM_POLICE_CAR_MANAGE.CAR_BRAND
  2    is '品牌 枚举 DUTY_CAR_BRAND';
Comment added
SQL> comment on column DM_POLICE_CAR_MANAGE.CAR_TYPE
  2    is '车辆分类 枚举 DUTY_CAR_TYPE';
Comment added
SQL> comment on column DM_POLICE_CAR_MANAGE.CAR_MODEL
  2    is '车辆类型 枚举 DUTY_CAR_MODEL';
Comment added
SQL> comment on column DM_POLICE_CAR_MANAGE.CAR_PERSON_NUM
  2    is '车辆最大荷载量';
Comment added
SQL> alter table DM_POLICE_CAR_MANAGE
  2    add constraint PK_DM_POLICE_CAR_MANAGE primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> prompt

SQL> prompt Creating table DM_POLICE_CASE
Creating table DM_POLICE_CASE
SQL> prompt =============================
=============================
SQL> prompt

SQL> create table DM_POLICE_CASE
  2  (
  3    ID                 VARCHAR2(32) default sys_guid() not null,
  4    RECEIVE_POLICE     VARCHAR2(10),
  5    HANDLER_POLICE     VARCHAR2(10),
  6    OUT_POLICE         VARCHAR2(10),
  7    ACCIDENT_TIME      DATE,
  8    RECEIVE_TIME       DATE,
  9    HANDLER_TIME       DATE,
 10    OUT_TIME           DATE,
 11    ARRIVE_TIME        DATE,
 12    FINISH_TIME        DATE,
 13    DURATION           VARCHAR2(5),
 14    CASE_TYPE          VARCHAR2(2),
 15    CASE_LEVEL         VARCHAR2(2),
 16    CASE_STATUS        VARCHAR2(2),
 17    CASE_ADDRESS       VARCHAR2(300),
 18    INJURED_NUM        VARCHAR2(3),
 19    DEATH_NUM          VARCHAR2(3),
 20    REMARK             NVARCHAR2(500),
 21    ACCIDENT_CAR_ONE   VARCHAR2(20),
 22    ACCIDENT_CAR_TWO   VARCHAR2(20),
 23    ACCIDENT_CAR_THREE VARCHAR2(20),
 24    ACCIDENT_CAR_FOUR  VARCHAR2(20),
 25    ACCIDENT_CAR_FIVE  VARCHAR2(20),
 26    CASE_NAME          VARCHAR2(100),
 27    ADDRESS_DESC       NVARCHAR2(500),
 28    DISTRICT_ID        VARCHAR2(12)
 29  )
 30  tablespace HIATMPTS
 31    pctfree 10
 32    initrans 1
 33    maxtrans 255
 34    storage
 35    (
 36      initial 16K
 37      next 8K
 38      minextents 1
 39      maxextents unlimited
 40    );
Table created
SQL> comment on table DM_POLICE_CASE
  2    is '实时警情接入表';
Comment added
SQL> comment on column DM_POLICE_CASE.RECEIVE_POLICE
  2    is '接警人警号';
Comment added
SQL> comment on column DM_POLICE_CASE.HANDLER_POLICE
  2    is '处警人警号';
Comment added
SQL> comment on column DM_POLICE_CASE.OUT_POLICE
  2    is '出警人警号';
Comment added
SQL> comment on column DM_POLICE_CASE.ACCIDENT_TIME
  2    is '事故发生时间';
Comment added
SQL> comment on column DM_POLICE_CASE.RECEIVE_TIME
  2    is '接警时间';
Comment added
SQL> comment on column DM_POLICE_CASE.HANDLER_TIME
  2    is '处警时间';
Comment added
SQL> comment on column DM_POLICE_CASE.OUT_TIME
  2    is '出警时间';
Comment added
SQL> comment on column DM_POLICE_CASE.ARRIVE_TIME
  2    is '到现场时间';
Comment added
SQL> comment on column DM_POLICE_CASE.FINISH_TIME
  2    is '处置完成时间';
Comment added
SQL> comment on column DM_POLICE_CASE.DURATION
  2    is '处置时长';
Comment added
SQL> comment on column DM_POLICE_CASE.CASE_TYPE
  2    is '警情类型（1交通事故、2交通拥堵、3其他）枚举DUTY_POLICE_CASE_TYPE';
Comment added
SQL> comment on column DM_POLICE_CASE.CASE_LEVEL
  2    is '交通事故等级';
Comment added
SQL> comment on column DM_POLICE_CASE.CASE_STATUS
  2    is '当前警情处置状态（1已接警、2已派警、3处理中、4处理完成等）枚举DUTY_POLICE_CASE_STATUS';
Comment added
SQL> comment on column DM_POLICE_CASE.CASE_ADDRESS
  2    is '警情发生地';
Comment added
SQL> comment on column DM_POLICE_CASE.INJURED_NUM
  2    is '受伤人数';
Comment added
SQL> comment on column DM_POLICE_CASE.DEATH_NUM
  2    is '死亡人数';
Comment added
SQL> comment on column DM_POLICE_CASE.REMARK
  2    is '警情描述';
Comment added
SQL> comment on column DM_POLICE_CASE.ACCIDENT_CAR_ONE
  2    is '肇事车辆1';
Comment added
SQL> comment on column DM_POLICE_CASE.ACCIDENT_CAR_TWO
  2    is '肇事车辆2';
Comment added
SQL> comment on column DM_POLICE_CASE.ACCIDENT_CAR_THREE
  2    is '肇事车辆3（备用）';
Comment added
SQL> comment on column DM_POLICE_CASE.ACCIDENT_CAR_FOUR
  2    is '肇事车辆4（备用）';
Comment added
SQL> comment on column DM_POLICE_CASE.ACCIDENT_CAR_FIVE
  2    is '肇事车辆5（备用）';
Comment added
SQL> comment on column DM_POLICE_CASE.CASE_NAME
  2    is '警情事故名称';
Comment added
SQL> comment on column DM_POLICE_CASE.ADDRESS_DESC
  2    is '事故地点描述';
Comment added
SQL> comment on column DM_POLICE_CASE.DISTRICT_ID
  2    is '所属大队辖区';
Comment added
SQL> alter table DM_POLICE_CASE
  2    add constraint PK_DM_POLICE_CASE primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> prompt

SQL> prompt Creating table DM_POLICE_CASE_SYN
Creating table DM_POLICE_CASE_SYN
SQL> prompt =================================
=================================
SQL> prompt

SQL> create table DM_POLICE_CASE_SYN
  2  (
  3    ID          VARCHAR2(32) default sys_guid() not null,
  4    CASE_ID     VARCHAR2(40) not null,
  5    POLICE_UUID VARCHAR2(32) not null,
  6    STATUS      VARCHAR2(4),
  7    RECORD_TIME DATE
  8  )
  9  tablespace HIATMPTS
 10    pctfree 10
 11    initrans 1
 12    maxtrans 255
 13    storage
 14    (
 15      initial 16K
 16      next 8K
 17      minextents 1
 18      maxextents unlimited
 19    );
Table created
SQL> comment on column DM_POLICE_CASE_SYN.ID
  2    is '主键';
Comment added
SQL> comment on column DM_POLICE_CASE_SYN.CASE_ID
  2    is '警情表主键';
Comment added
SQL> comment on column DM_POLICE_CASE_SYN.POLICE_UUID
  2    is '出警人UUID';
Comment added
SQL> comment on column DM_POLICE_CASE_SYN.STATUS
  2    is '警情处理状态（1已签收；2已到现场；5已办结）';
Comment added
SQL> comment on column DM_POLICE_CASE_SYN.RECORD_TIME
  2    is '时间';
Comment added
SQL> alter table DM_POLICE_CASE_SYN
  2    add constraint DM_POLICE_CASE_SYN_ID primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> prompt

SQL> prompt Creating table DM_POSITION
Creating table DM_POSITION
SQL> prompt ==========================
==========================
SQL> prompt

SQL> create table DM_POSITION
  2  (
  3    ID                   VARCHAR2(32) default sys_guid() not null,
  4    POSITION_COMMON_ID   VARCHAR2(32),
  5    ZHI_DEPTID           VARCHAR2(12),
  6    DEPTID               VARCHAR2(12),
  7    MIDDEPTID            VARCHAR2(12),
  8    POSITION_NAME        VARCHAR2(150),
  9    POSITION_CHARACTOR   VARCHAR2(2),
 10    POSITION_TYPE        VARCHAR2(2),
 11    POSITION_LEVEL       VARCHAR2(2),
 12    POSITION_AUDIT_LEVEL VARCHAR2(2) default 3,
 13    COORDINATE           CLOB,
 14    DUTY_TYPE            VARCHAR2(20),
 15    CREATOR              VARCHAR2(10),
 16    CREATE_TIME          DATE default sysdate,
 17    UPDATER              VARCHAR2(10),
 18    UPDATE_TIME          DATE,
 19    MAXDUTYTIME          VARCHAR2(10),
 20    MINDUTYTIME          VARCHAR2(10),
 21    SERVICE_TYPE         VARCHAR2(2),
 22    DRESSING_TYPE        VARCHAR2(10),
 23    EQUIPMENT_TYPE       VARCHAR2(10),
 24    DEL_FLAG             VARCHAR2(2) default 0
 25  )
 26  tablespace HIATMPTS
 27    pctfree 10
 28    initrans 1
 29    maxtrans 255
 30    storage
 31    (
 32      initial 16K
 33      next 8K
 34      minextents 1
 35      maxextents unlimited
 36    );
Table created
SQL> comment on table DM_POSITION
  2    is '岗位信息管理表';
Comment added
SQL> comment on column DM_POSITION.ID
  2    is '主键';
Comment added
SQL> comment on column DM_POSITION.POSITION_COMMON_ID
  2    is '岗位统一标识位';
Comment added
SQL> comment on column DM_POSITION.ZHI_DEPTID
  2    is '支队部门ID';
Comment added
SQL> comment on column DM_POSITION.DEPTID
  2    is '大队部门ID';
Comment added
SQL> comment on column DM_POSITION.MIDDEPTID
  2    is '中队部门ID';
Comment added
SQL> comment on column DM_POSITION.POSITION_NAME
  2    is '岗位名称';
Comment added
SQL> comment on column DM_POSITION.POSITION_CHARACTOR
  2    is '岗位特征 枚举 DUTY_POSITION_CHARACTER';
Comment added
SQL> comment on column DM_POSITION.POSITION_TYPE
  2    is '岗位类型 枚举 DUTY_POSITION_TYPE';
Comment added
SQL> comment on column DM_POSITION.POSITION_LEVEL
  2    is '岗位级别 枚举 DUTY_POSITION_LEVEL';
Comment added
SQL> comment on column DM_POSITION.POSITION_AUDIT_LEVEL
  2    is '审核级别 枚举';
Comment added
SQL> comment on column DM_POSITION.COORDINATE
  2    is '坐标';
Comment added
SQL> comment on column DM_POSITION.DUTY_TYPE
  2    is '执勤方式';
Comment added
SQL> comment on column DM_POSITION.CREATOR
  2    is '创建人';
Comment added
SQL> comment on column DM_POSITION.CREATE_TIME
  2    is '创建时间';
Comment added
SQL> comment on column DM_POSITION.UPDATER
  2    is '更新人';
Comment added
SQL> comment on column DM_POSITION.UPDATE_TIME
  2    is '更新时间';
Comment added
SQL> comment on column DM_POSITION.MAXDUTYTIME
  2    is '岗位最大执勤时长限制(单位:分钟)';
Comment added
SQL> comment on column DM_POSITION.MINDUTYTIME
  2    is '岗位最小执勤时长限制(单位:分钟)';
Comment added
SQL> comment on column DM_POSITION.SERVICE_TYPE
  2    is '勤务类型';
Comment added
SQL> comment on column DM_POSITION.DRESSING_TYPE
  2    is '武装着装';
Comment added
SQL> comment on column DM_POSITION.EQUIPMENT_TYPE
  2    is '装备报备';
Comment added
SQL> comment on column DM_POSITION.DEL_FLAG
  2    is '删除标识 0未删除；1删除';
Comment added
SQL> alter table DM_POSITION
  2    add constraint PK_DM_POSITION primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> create index PK_DM_POSITION_DEL on DM_POSITION (DEL_FLAG)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> prompt

SQL> prompt Creating table DM_POSITION_CAR
Creating table DM_POSITION_CAR
SQL> prompt ==============================
==============================
SQL> prompt

SQL> create table DM_POSITION_CAR
  2  (
  3    ID          VARCHAR2(32) default sys_guid() not null,
  4    RELATION_ID VARCHAR2(32),
  5    POSTCAR_ID  VARCHAR2(32)
  6  )
  7  tablespace HIATMPTS
  8    pctfree 10
  9    initrans 1
 10    maxtrans 255
 11    storage
 12    (
 13      initial 64K
 14      next 8K
 15      minextents 1
 16      maxextents unlimited
 17    );
Table created
SQL> comment on table DM_POSITION_CAR
  2    is '岗位信息关联车辆表';
Comment added
SQL> comment on column DM_POSITION_CAR.ID
  2    is '数据主键';
Comment added
SQL> comment on column DM_POSITION_CAR.RELATION_ID
  2    is '岗位信息主键dm_position';
Comment added
SQL> comment on column DM_POSITION_CAR.POSTCAR_ID
  2    is '岗位车辆管理数据主键dm_police_car_manage';
Comment added
SQL> alter table DM_POSITION_CAR
  2    add constraint DM_POST_CAR_PK primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> prompt

SQL> prompt Creating table DM_POSITION_PERSON
Creating table DM_POSITION_PERSON
SQL> prompt =================================
=================================
SQL> prompt

SQL> create table DM_POSITION_PERSON
  2  (
  3    ID             VARCHAR2(32) default sys_guid() not null,
  4    RELATION_ID    VARCHAR2(32),
  5    PERSONNEL_TYPE VARCHAR2(2),
  6    PERSONNEL_NUM  INTEGER
  7  )
  8  tablespace HIATMPTS
  9    pctfree 10
 10    initrans 1
 11    maxtrans 255
 12    storage
 13    (
 14      initial 64K
 15      next 8K
 16      minextents 1
 17      maxextents unlimited
 18    );
Table created
SQL> comment on table DM_POSITION_PERSON
  2    is '岗位人员数目配置管理表';
Comment added
SQL> comment on column DM_POSITION_PERSON.ID
  2    is '主键';
Comment added
SQL> comment on column DM_POSITION_PERSON.RELATION_ID
  2    is '岗位信息主键';
Comment added
SQL> comment on column DM_POSITION_PERSON.PERSONNEL_TYPE
  2    is '人员类型';
Comment added
SQL> comment on column DM_POSITION_PERSON.PERSONNEL_NUM
  2    is '人员数目';
Comment added
SQL> alter table DM_POSITION_PERSON
  2    add constraint PK_DM_POSITION_PERSON primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> prompt

SQL> prompt Creating table DM_POSITION_RESPONSIBLE
Creating table DM_POSITION_RESPONSIBLE
SQL> prompt ======================================
======================================
SQL> prompt

SQL> create table DM_POSITION_RESPONSIBLE
  2  (
  3    ID          VARCHAR2(32) default sys_guid() not null,
  4    RELATION_ID VARCHAR2(32),
  5    POLICE_ID   VARCHAR2(32)
  6  )
  7  tablespace HIATMPTS
  8    pctfree 10
  9    initrans 1
 10    maxtrans 255
 11    storage
 12    (
 13      initial 64K
 14      next 8K
 15      minextents 1
 16      maxextents unlimited
 17    );
Table created
SQL> comment on table DM_POSITION_RESPONSIBLE
  2    is '岗位负责人管理表';
Comment added
SQL> comment on column DM_POSITION_RESPONSIBLE.ID
  2    is '主键';
Comment added
SQL> comment on column DM_POSITION_RESPONSIBLE.RELATION_ID
  2    is '岗位信息主键';
Comment added
SQL> comment on column DM_POSITION_RESPONSIBLE.POLICE_ID
  2    is '警员ID';
Comment added
SQL> alter table DM_POSITION_RESPONSIBLE
  2    add constraint PK_DM_POSITION_RESPONSIBLE primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> prompt

SQL> prompt Creating table DM_REMIND_MANAGE
Creating table DM_REMIND_MANAGE
SQL> prompt ===============================
===============================
SQL> prompt

SQL> create table DM_REMIND_MANAGE
  2  (
  3    ID             VARCHAR2(32) not null,
  4    POLICE_ID      VARCHAR2(100),
  5    REMIND_TYPE    VARCHAR2(2),
  6    DEPLOY_ID      VARCHAR2(32),
  7    IS_CENCEL      VARCHAR2(2) default 0,
  8    IS_DELAY       VARCHAR2(2) default 0,
  9    DELAY_TIME     DATE default sysdate,
 10    DELAY_DURATION VARCHAR2(4) default 0
 11  )
 12  tablespace HIATMPTS
 13    pctfree 10
 14    initrans 1
 15    maxtrans 255
 16    storage
 17    (
 18      initial 16K
 19      next 8K
 20      minextents 1
 21      maxextents unlimited
 22    );
Table created
SQL> comment on table DM_REMIND_MANAGE
  2    is '勤务消息提醒设置';
Comment added
SQL> comment on column DM_REMIND_MANAGE.ID
  2    is '主键';
Comment added
SQL> comment on column DM_REMIND_MANAGE.POLICE_ID
  2    is '警员ID';
Comment added
SQL> comment on column DM_REMIND_MANAGE.REMIND_TYPE
  2    is '提醒类型';
Comment added
SQL> comment on column DM_REMIND_MANAGE.DEPLOY_ID
  2    is '班次主键';
Comment added
SQL> comment on column DM_REMIND_MANAGE.IS_CENCEL
  2    is '是否取消当班事务提醒 0否 1是';
Comment added
SQL> comment on column DM_REMIND_MANAGE.IS_DELAY
  2    is '是否延迟提醒 0否 1是';
Comment added
SQL> comment on column DM_REMIND_MANAGE.DELAY_TIME
  2    is '启动延迟的时间点';
Comment added
SQL> comment on column DM_REMIND_MANAGE.DELAY_DURATION
  2    is '延迟时长 单位：分钟';
Comment added
SQL> alter table DM_REMIND_MANAGE
  2    add constraint PK_DM_REMIND_MANAGE primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> prompt

SQL> prompt Creating table DM_ROAD
Creating table DM_ROAD
SQL> prompt ======================
======================
SQL> prompt

SQL> create table DM_ROAD
  2  (
  3    ID          VARCHAR2(32) not null,
  4    POSITION_ID VARCHAR2(32),
  5    ROAD_CODE   VARCHAR2(32),
  6    ROAD_LENGTH VARCHAR2(5) default 0
  7  )
  8  tablespace HIATMPTS
  9    pctfree 10
 10    initrans 1
 11    maxtrans 255;
Table created
SQL> comment on table DM_ROAD
  2    is '路段岗位信息表';
Comment added
SQL> comment on column DM_ROAD.ID
  2    is '主键';
Comment added
SQL> comment on column DM_ROAD.POSITION_ID
  2    is '岗位信息主键';
Comment added
SQL> comment on column DM_ROAD.ROAD_CODE
  2    is '路段代码';
Comment added
SQL> comment on column DM_ROAD.ROAD_LENGTH
  2    is '路段长度';
Comment added
SQL> alter table DM_ROAD
  2    add constraint PK_DM_ROAD primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255;
Table altered
SQL> prompt

SQL> prompt Creating table DM_SD_GRID
Creating table DM_SD_GRID
SQL> prompt =========================
=========================
SQL> prompt

SQL> create table DM_SD_GRID
  2  (
  3    ID          VARCHAR2(32) not null,
  4    DEPTID      VARCHAR2(20),
  5    COORDINATE  CLOB,
  6    CREATE_TIME DATE,
  7    INTERVAL    VARCHAR2(100)
  8  )
  9  tablespace HIATMPTS
 10    pctfree 10
 11    initrans 1
 12    maxtrans 255
 13    storage
 14    (
 15      initial 16K
 16      next 8K
 17      minextents 1
 18      maxextents unlimited
 19    );
Table created
SQL> comment on table DM_SD_GRID
  2    is '辖区网格化信息';
Comment added
SQL> comment on column DM_SD_GRID.ID
  2    is '数据主键id';
Comment added
SQL> comment on column DM_SD_GRID.DEPTID
  2    is '部门id';
Comment added
SQL> comment on column DM_SD_GRID.COORDINATE
  2    is '网格坐标';
Comment added
SQL> comment on column DM_SD_GRID.CREATE_TIME
  2    is '创建时间';
Comment added
SQL> comment on column DM_SD_GRID.INTERVAL
  2    is '网格间隔米数';
Comment added
SQL> prompt

SQL> prompt Creating table DM_SD_POLICECASE_RELATION
Creating table DM_SD_POLICECASE_RELATION
SQL> prompt ========================================
========================================
SQL> prompt

SQL> create table DM_SD_POLICECASE_RELATION
  2  (
  3    GRID_ID       VARCHAR2(32) not null,
  4    CASE_ID       VARCHAR2(32) not null,
  5    ANALYSIS_DATE VARCHAR2(20)
  6  )
  7  tablespace HIATMPTS
  8    pctfree 10
  9    initrans 1
 10    maxtrans 255
 11    storage
 12    (
 13      initial 16K
 14      next 8K
 15      minextents 1
 16      maxextents unlimited
 17    );
Table created
SQL> comment on table DM_SD_POLICECASE_RELATION
  2    is '科学布岗问题区域警情关联关系';
Comment added
SQL> comment on column DM_SD_POLICECASE_RELATION.GRID_ID
  2    is '科学布岗网格数据主键';
Comment added
SQL> comment on column DM_SD_POLICECASE_RELATION.CASE_ID
  2    is '警情数据主键';
Comment added
SQL> comment on column DM_SD_POLICECASE_RELATION.ANALYSIS_DATE
  2    is '分析时间';
Comment added
SQL> prompt

SQL> prompt Creating table DM_STRATEGY
Creating table DM_STRATEGY
SQL> prompt ==========================
==========================
SQL> prompt

SQL> create table DM_STRATEGY
  2  (
  3    ID            VARCHAR2(32) not null,
  4    STRATEGY_NAME NVARCHAR2(50),
  5    STRATEGY_DESC NVARCHAR2(255),
  6    STRATEGY_FLAG VARCHAR2(50)
  7  )
  8  tablespace HIATMPTS
  9    pctfree 10
 10    initrans 1
 11    maxtrans 255
 12    storage
 13    (
 14      initial 16K
 15      next 8K
 16      minextents 1
 17      maxextents unlimited
 18    );
Table created
SQL> comment on table DM_STRATEGY
  2    is '规则配置表';
Comment added
SQL> comment on column DM_STRATEGY.ID
  2    is '规则唯一标识';
Comment added
SQL> comment on column DM_STRATEGY.STRATEGY_NAME
  2    is '规则名称';
Comment added
SQL> comment on column DM_STRATEGY.STRATEGY_DESC
  2    is '规则实现类描述';
Comment added
SQL> comment on column DM_STRATEGY.STRATEGY_FLAG
  2    is '策略唯一标识';
Comment added
SQL> alter table DM_STRATEGY
  2    add constraint PK_DM_STRATEGY_ID primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> prompt

SQL> prompt Creating table DM_SYS_DUTY
Creating table DM_SYS_DUTY
SQL> prompt ==========================
==========================
SQL> prompt

SQL> create table DM_SYS_DUTY
  2  (
  3    ID                VARCHAR2(32) not null,
  4    POSITION_ID       VARCHAR2(32),
  5    SYS_RESOURCE_CODE VARCHAR2(32)
  6  )
  7  tablespace HIATMPTS
  8    pctfree 10
  9    initrans 1
 10    maxtrans 255;
Table created
SQL> comment on table DM_SYS_DUTY
  2    is '系统值守岗信息';
Comment added
SQL> comment on column DM_SYS_DUTY.ID
  2    is '主键';
Comment added
SQL> comment on column DM_SYS_DUTY.POSITION_ID
  2    is '岗位信息主键';
Comment added
SQL> comment on column DM_SYS_DUTY.SYS_RESOURCE_CODE
  2    is '系统资源点位代码';
Comment added
SQL> alter table DM_SYS_DUTY
  2    add constraint PK_DM_SYS_DUTY primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255;
Table altered
SQL> prompt

SQL> prompt Creating table DM_TOOL
Creating table DM_TOOL
SQL> prompt ======================
======================
SQL> prompt

SQL> create table DM_TOOL
  2  (
  3    ID          VARCHAR2(32) default sys_guid() not null,
  4    RELATION_ID VARCHAR2(32),
  5    TOOL_MODE   VARCHAR2(2),
  6    TOOL_TYPE   VARCHAR2(2)
  7  )
  8  tablespace HIATMPTS
  9    pctfree 10
 10    initrans 1
 11    maxtrans 255
 12    storage
 13    (
 14      initial 64K
 15      next 8K
 16      minextents 1
 17      maxextents unlimited
 18    );
Table created
SQL> comment on table DM_TOOL
  2    is '装备报备信息';
Comment added
SQL> comment on column DM_TOOL.ID
  2    is '主键';
Comment added
SQL> comment on column DM_TOOL.RELATION_ID
  2    is '岗位信息主键';
Comment added
SQL> comment on column DM_TOOL.TOOL_MODE
  2    is '其他装备方式 1装备报备 2 武装着装';
Comment added
SQL> comment on column DM_TOOL.TOOL_TYPE
  2    is '装备种类（枪支、弹药、武装、非武装，制服、便衣等）';
Comment added
SQL> alter table DM_TOOL
  2    add constraint PK_DM_TOOL primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> prompt

SQL> prompt Creating table WORKLOADSOURCE
Creating table WORKLOADSOURCE
SQL> prompt =============================
=============================
SQL> prompt

SQL> create table WORKLOADSOURCE
  2  (
  3    ID                VARCHAR2(32) default sys_guid() not null,
  4    DATATYPE          VARCHAR2(2) not null,
  5    POLICEID          VARCHAR2(6) not null,
  6    ILLEGALSCORE      VARCHAR2(5),
  7    ILLEGALCODE       VARCHAR2(5),
  8    HANDLETIME        DATE not null,
  9    INSERTTIME        DATE default sysdate,
 10    PUNISH_STATUS     VARCHAR2(2) default 1,
 11    RECONSIDER_STATUS VARCHAR2(2) default 0
 12  )
 13  tablespace HIATMPTS
 14    pctfree 10
 15    initrans 1
 16    maxtrans 255;
Table created
SQL> comment on column WORKLOADSOURCE.ID
  2    is '唯一编号';
Comment added
SQL> comment on column WORKLOADSOURCE.DATATYPE
  2    is '1:现场执法 2:非现场执法 3:简易交通事故 4:强制措施';
Comment added
SQL> comment on column WORKLOADSOURCE.POLICEID
  2    is '警员ID';
Comment added
SQL> comment on column WORKLOADSOURCE.ILLEGALSCORE
  2    is '违法记分';
Comment added
SQL> comment on column WORKLOADSOURCE.ILLEGALCODE
  2    is '违法行为代码';
Comment added
SQL> comment on column WORKLOADSOURCE.HANDLETIME
  2    is '违法时间 / 事故时间 / 强制措施时间';
Comment added
SQL> comment on column WORKLOADSOURCE.INSERTTIME
  2    is '数据入库时间';
Comment added
SQL> comment on column WORKLOADSOURCE.PUNISH_STATUS
  2    is '现场及非现场处罚状态 1有效 0无效';
Comment added
SQL> comment on column WORKLOADSOURCE.RECONSIDER_STATUS
  2    is '现场及非现场复议状态 1复议 0无复议';
Comment added
SQL> alter table WORKLOADSOURCE
  2    add constraint WORKLOADSOURCE_PRIMARY_ID primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255;
Table altered
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑勤务DDM-增量脚本A1 胡越20190129 End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓勤务DDM-增量脚本A2 胡越20190129  Start-----------------------
SQL> -- Alter table
SQL> alter table DM_ASSESS_RESULT_HISTORY
  2    storage
  3    (
  4      next 8
  5    )
  6  ;
Table altered
SQL> -- Add/modify columns
SQL> alter table DM_ASSESS_RESULT_HISTORY add SAVETIME date;
Table altered
SQL> -- Add comments to the columns
SQL> comment on column DM_ASSESS_RESULT_HISTORY.SYMBOL
  2    is '考核对象ID';
Comment added
SQL> comment on column DM_ASSESS_RESULT_HISTORY.SAVETIME
  2    is '入库时间';
Comment added
SQL>   alter table DM_ASSESS_RESULT_HISTORY
  2    add constraint PK_RESULT_HISTORY primary key (RESULTID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> -- Add/modify columns
SQL> alter table DM_ASSESS_RESULT_SCORE modify UUID default sys_guid();
Table altered
SQL> -- Add comments to the columns
SQL> comment on column DM_ASSESS_RESULT_SCORE.SCORE
  2    is '得分';
Comment added
SQL> create index PK_RESULTID on DM_ASSESS_RESULT_SCORE_HISTORY (RESULTID)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL>   create table DM_CHECK_DATE_AGAIN
  2  (
  3    ID         VARCHAR2(32) not null,
  4    CHECK_DATE VARCHAR2(32),
  5    DEL_FLAG   VARCHAR2(2)
  6  )
  7  tablespace HIATMPTS
  8    pctfree 10
  9    initrans 1
 10    maxtrans 255
 11    storage
 12    (
 13      initial 16K
 14      next 8K
 15      minextents 1
 16      maxextents unlimited
 17    );
Table created
SQL> comment on table DM_CHECK_DATE_AGAIN
  2    is '考核重新计算日期表';
Comment added
SQL> comment on column DM_CHECK_DATE_AGAIN.ID
  2    is '主键';
Comment added
SQL> comment on column DM_CHECK_DATE_AGAIN.CHECK_DATE
  2    is '重新计算考核的日期yyyy-mm-dd';
Comment added
SQL> comment on column DM_CHECK_DATE_AGAIN.DEL_FLAG
  2    is '删除标志位 1是；0否';
Comment added
SQL> -- Alter table
SQL> alter table DM_DEPLOY_CYCLE
  2    storage
  3    (
  4      next 8
  5    )
  6  ;
Table altered
SQL> -- Drop columns
SQL> alter table DM_DEPLOY_CYCLE drop column TYPE;
Table altered
SQL> alter table DM_DEPLOY_CYCLE drop column STATUS;
Table altered
SQL>   -- Alter table
SQL> alter table DM_DEPLOY_CYCLE
  2    storage
  3    (
  4      next 1
  5    )
  6  ;
Table altered
SQL> -- Add/modify columns
SQL> alter table DM_DEPLOY_CYCLE add CYCLE_TYPE VARCHAR2(2);
Table altered
SQL> alter table DM_DEPLOY_CYCLE add COPYDATE VARCHAR2(50);
Table altered
SQL> alter table DM_DEPLOY_CYCLE add HOLIDAY_AVOID VARCHAR2(2);
Table altered
SQL> alter table DM_DEPLOY_CYCLE add IS_EFFECTIVE VARCHAR2(2);
Table altered
SQL> alter table DM_DEPLOY_CYCLE add RECORDTIME date;
Table altered
SQL> -- Add comments to the columns
SQL> comment on column DM_DEPLOY_CYCLE.ID
  2    is '主键';
Comment added
SQL> comment on column DM_DEPLOY_CYCLE.CYCLE_TYPE
  2    is '循环方式 1周循环；2日循环';
Comment added
SQL> comment on column DM_DEPLOY_CYCLE.COPYDATE
  2    is '数据被复制日期（年-月-日或1,2,3...，表示周一、周二）';
Comment added
SQL> comment on column DM_DEPLOY_CYCLE.HOLIDAY_AVOID
  2    is '是否规避节假日 1是；0否';
Comment added
SQL> comment on column DM_DEPLOY_CYCLE.IS_EFFECTIVE
  2    is '是否生效 1是；0否';
Comment added
SQL> comment on column DM_DEPLOY_CYCLE.RECORDTIME
  2    is '记录时间';
Comment added
SQL> -- Alter table
SQL> alter table DM_DEPLOY_HOLIDAY
  2    storage
  3    (
  4      next 8
  5    )
  6  ;
Table altered
SQL> -- Add/modify columns
SQL> alter table DM_DEPLOY_HOLIDAY add CONTINUITY VARCHAR2(2) default 1;
Table altered
SQL> -- Add comments to the columns
SQL> comment on column DM_DEPLOY_HOLIDAY.CONTINUITY
  2    is '岗位班次连续标识 0连续 1非连续';
Comment added
SQL> -- Alter table
SQL> alter table DM_DEPLOY_POLICE
  2    storage
  3    (
  4      next 8
  5    )
  6  ;
Table altered
SQL> -- Add/modify columns
SQL> alter table DM_DEPLOY_POLICE modify TOOL_ID default null;
Table altered
SQL> alter table DM_DEPLOY_POLICE modify DUTY_RATIO default 0;
Table altered
SQL> alter table DM_DEPLOY_POLICE modify ON_DUTY_DURATION VARCHAR2(10);
Table altered
SQL> alter table DM_DEPLOY_POLICE modify ON_DUTY_MILEAGE VARCHAR2(20);
Table altered
SQL> -- Add comments to the columns
SQL> comment on column DM_DEPLOY_POLICE.DUTY_STATUS
  2    is '在岗情况 0离线；1在岗；2脱岗（中途离开且GPS点位数不达标）';
Comment added
SQL> comment on column DM_DEPLOY_POLICE.PATROL_DURATION
  2    is '该班次巡逻时长（有GPS就算），单位：小时';
Comment added
SQL> -- Alter table
SQL> alter table DM_DEPLOY_SELECT
  2    storage
  3    (
  4      next 1
  5    )
  6  ;
Table altered
SQL> -- Add comments to the columns
SQL> comment on column DM_DEPLOY_SELECT.CYCLE_ID
  2    is 'dm_deploy_cycle数据主键';
Comment added
SQL> -- Alter table
SQL> alter table DM_INDEX_VARIABLE
  2    storage
  3    (
  4      next 8
  5    )
  6  ;
Table altered
SQL> -- Add comments to the columns
SQL> comment on column DM_INDEX_VARIABLE.IS_BASE_FLAG
  2    is '指标类型 参考枚举DUTY_INDEX_TYPE';
Comment added
SQL> comment on column DM_INDEX_VARIABLE.LEVEL_TYPE
  2    is '指标所属层级 1代表分组（市区、高速等）；2代表范围（大队、中队、等）；3代表业务（行政、业务、一线民警等）';
Comment added
SQL> -- Alter table
SQL> alter table DM_LEAVE
  2    storage
  3    (
  4      next 1
  5    )
  6  ;
Table altered
SQL> -- Add comments to the columns
SQL> comment on column DM_LEAVE.STATUS
  2    is '审核状态 0待提交；1待审核；2审核通过；3审核驳回；4已销假';
Comment added
SQL> -- Alter table
SQL> alter table DM_POLICE_CASE_SYN
  2    storage
  3    (
  4      next 8
  5    )
  6  ;
Table altered
SQL> -- Add comments to the table
SQL> comment on table DM_POLICE_CASE_SYN
  2    is '实时警情接入表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column DM_POLICE_CASE_SYN.STATUS
  2    is '警情处理状态（枚举15005，1已签收，2已到现场；7已办结）';
Comment added
SQL> -- Alter table
SQL> alter table DM_POSITION
  2    storage
  3    (
  4      next 8
  5    )
  6  ;
Table altered
SQL> -- Add/modify columns
SQL> alter table DM_POSITION modify MAXDUTYTIME default 1440;
Table altered
SQL> alter table DM_POSITION modify MINDUTYTIME default 0;
Table altered
SQL> -- Add comments to the columns
SQL> comment on column DM_POSITION.POSITION_AUDIT_LEVEL
  2    is '审核级别 枚举DUTY_AUDIT_PASS_LEVEL';
Comment added
SQL> create table DM_PUSH_RECORD
  2  (
  3    ID               VARCHAR2(32) not null,
  4    PUSH_POLICE_UUID VARCHAR2(8),
  5    PUSH_TYPE        VARCHAR2(2),
  6    BUSINESS_TYPE    VARCHAR2(2),
  7    PUSH_TIME        DATE
  8  )
  9  tablespace HIATMPTS
 10    pctfree 10
 11    initrans 1
 12    maxtrans 255
 13    storage
 14    (
 15      initial 16K
 16      next 8K
 17      minextents 1
 18      maxextents unlimited
 19    );
Table created
SQL> comment on table DM_PUSH_RECORD
  2    is '勤务消息推送记录表';
Comment added
SQL> comment on column DM_PUSH_RECORD.ID
  2    is '主键';
Comment added
SQL> comment on column DM_PUSH_RECORD.PUSH_POLICE_UUID
  2    is '推送对象';
Comment added
SQL> comment on column DM_PUSH_RECORD.PUSH_TYPE
  2    is '推送方式 0 MQ；1 警务通；2 手机短信';
Comment added
SQL> comment on column DM_PUSH_RECORD.BUSINESS_TYPE
  2    is '业务类型（根据业务类型自行添加） 1执勤小结';
Comment added
SQL> comment on column DM_PUSH_RECORD.PUSH_TIME
  2    is '推送时间';
Comment added
SQL> alter table DM_PUSH_RECORD
  2    add constraint PK_PUSH_ID primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> -- Alter table
SQL> alter table DM_STRATEGY
  2    storage
  3    (
  4      next 8
  5    )
  6  ;
Table altered
SQL> -- Add comments to the columns
SQL> comment on column DM_STRATEGY.STRATEGY_FLAG
  2    is '策略唯一标识，采用规则中文名的unicode编码（去掉\u）';
Comment added
SQL> drop table WORKLOADSOURCE;
Table dropped
SQL> create table WORKLOADSOURCE
  2  (
  3    ID                VARCHAR2(32) default sys_guid() not null,
  4    DATATYPE          VARCHAR2(2) not null,
  5    POLICEID          VARCHAR2(6) not null,
  6    ILLEGALSCORE      VARCHAR2(5),
  7    ILLEGALCODE       VARCHAR2(5),
  8    HANDLETIME        DATE not null,
  9    INSERTTIME        DATE default sysdate,
 10    PUNISH_STATUS     VARCHAR2(2) default 1,
 11    RECONSIDER_STATUS VARCHAR2(2) default 0
 12  )
 13  tablespace HIATMPTS
 14    pctfree 10
 15    initrans 1
 16    maxtrans 255
 17    storage
 18    (
 19      initial 16K
 20      next 8K
 21      minextents 1
 22      maxextents unlimited
 23    );
Table created
SQL> comment on column WORKLOADSOURCE.ID
  2    is '唯一编号';
Comment added
SQL> comment on column WORKLOADSOURCE.DATATYPE
  2    is '1:现场执法 2:非现场执法 3:简易交通事故 4:强制措施';
Comment added
SQL> comment on column WORKLOADSOURCE.POLICEID
  2    is '警员ID';
Comment added
SQL> comment on column WORKLOADSOURCE.ILLEGALSCORE
  2    is '违法记分';
Comment added
SQL> comment on column WORKLOADSOURCE.ILLEGALCODE
  2    is '违法行为代码';
Comment added
SQL> comment on column WORKLOADSOURCE.HANDLETIME
  2    is '违法时间 / 事故时间 / 强制措施时间';
Comment added
SQL> comment on column WORKLOADSOURCE.INSERTTIME
  2    is '数据入库时间';
Comment added
SQL> comment on column WORKLOADSOURCE.PUNISH_STATUS
  2    is '现场及非现场处罚状态 1有效 0无效';
Comment added
SQL> comment on column WORKLOADSOURCE.RECONSIDER_STATUS
  2    is '现场及非现场复议状态 1复议 0无复议';
Comment added
SQL> alter table WORKLOADSOURCE
  2    add constraint WORKLOADSOURCE_PRIMARY_ID primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑勤务DDM-增量脚本A2 胡越20190129  End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓勤务DDM-增量脚本A3 胡越20190129  Start-----------------------
SQL> --------------------------------------
SQL> --  Changed table dm_assess_result  --
SQL> --------------------------------------
SQL> -- Add/modify columns
SQL> alter table DM_ASSESS_RESULT modify BUSINESS VARCHAR2(6);
Table altered
SQL> ----------------------------------------------
SQL> --  Changed table dm_assess_result_history  --
SQL> ----------------------------------------------
SQL> -- Add/modify columns
SQL> alter table DM_ASSESS_RESULT_HISTORY modify BUSINESS VARCHAR2(6);
Table altered
SQL> -------------------------------------
SQL> --  Changed table dm_check_appeal  --
SQL> -------------------------------------
SQL> -- Add comments to the columns
SQL> comment on column DM_CHECK_APPEAL.STATUS
  2    is '申诉状态 0未审核； 1大队待审核；2支队待审核；3审核驳回；4审核通过';
Comment added
SQL> -------------------------------------
SQL> --  Changed table dm_check_manage  --
SQL> -------------------------------------
SQL> -- Add/modify columns
SQL> alter table DM_CHECK_MANAGE modify BUSINESS_TYPE VARCHAR2(6);
Table altered
SQL> -------------------------------------
SQL> --  Changed table dm_deploy_cycle  --
SQL> -------------------------------------
SQL> -- Add/modify columns
SQL> alter table DM_DEPLOY_CYCLE add IS_CLOSED CHAR(1) default 0;
Table altered
SQL> alter table DM_DEPLOY_CYCLE add DEPTID VARCHAR2(12);
Table altered
SQL> -- Add comments to the columns
SQL> comment on column DM_DEPLOY_CYCLE.IS_CLOSED
  2    is '是否关闭，1是，0否';
Comment added
SQL> comment on column DM_DEPLOY_CYCLE.DEPTID
  2    is '所属部门';
Comment added
SQL> --------------------------------------
SQL> --  Changed table dm_deploy_police  --
SQL> --------------------------------------
SQL> -- Add comments to the columns
SQL> comment on column DM_DEPLOY_POLICE.DUTY_STATUS
  2    is '在岗情况 0离线；1在岗；4旷工（中途离开且GPS点位数不达标）';
Comment added
SQL> -----------------------------------
SQL> --  Changed table dm_grade_duty  --
SQL> -----------------------------------
SQL> -- Add/modify columns
SQL> alter table DM_GRADE_DUTY add STATUS CHAR(1) default '0';
Table altered
SQL> -- Add comments to the columns
SQL> comment on column DM_GRADE_DUTY.STATUS
  2    is '0未审核；1审核通过';
Comment added
SQL> -----------------------------------------
SQL> --  Changed table dm_indextree_config  --
SQL> -----------------------------------------
SQL> -- Add/modify columns
SQL> alter table DM_INDEXTREE_CONFIG modify BUSINESS_TYPE VARCHAR2(6);
Table altered
SQL> ------------------------------
SQL> --  Changed table dm_leave  --
SQL> ------------------------------
SQL> -- Add/modify columns
SQL> alter table DM_LEAVE add RESUMPTION_DATE DATE;
Table altered
SQL> alter table DM_LEAVE add ABSENT_DAYS VARCHAR2(4);
Table altered
SQL> ------------------------------------
SQL> --  Changed table dm_police_case  --
SQL> ------------------------------------
SQL> -- Add comments to the columns
SQL> comment on column DM_POLICE_CASE.DURATION
  2    is '处置时长(单位：分钟)';
Comment added
SQL> --------------------------------------
SQL> --  Changed table dm_remind_manage  --
SQL> --------------------------------------
SQL> -- Drop columns
SQL> alter table DM_REMIND_MANAGE drop column POLICE_ID;
Table altered
SQL> alter table DM_REMIND_MANAGE drop column DEPLOY_ID;
Table altered
SQL> alter table DM_REMIND_MANAGE drop column IS_CENCEL;
Table altered
SQL> alter table DM_REMIND_MANAGE drop column IS_DELAY;
Table altered
SQL> alter table DM_REMIND_MANAGE drop column DELAY_TIME;
Table altered
SQL> alter table DM_REMIND_MANAGE drop column DELAY_DURATION;
Table altered
SQL> alter table DM_REMIND_MANAGE add POLICE_UUID VARCHAR2(32);
Table altered
SQL> alter table DM_REMIND_MANAGE add QEUIP_TYPE VARCHAR2(10);
Table altered
SQL> alter table DM_REMIND_MANAGE add REMARK VARCHAR2(200);
Table altered
SQL> -- Add comments to the table
SQL> comment on table DM_REMIND_MANAGE
  2    is '勤务消息通知设置';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column DM_REMIND_MANAGE.POLICE_UUID
  2    is '警员ID';
Comment added
SQL> comment on column DM_REMIND_MANAGE.REMIND_TYPE
  2    is '业务通知类型，枚举DUTY_PUSH_BUSINESS_TYPE';
Comment added
SQL> comment on column DM_REMIND_MANAGE.QEUIP_TYPE
  2    is '通知设备类型，枚举DUTY_PUSH_EQUIP_TYPE';
Comment added
SQL> comment on column DM_REMIND_MANAGE.REMARK
  2    is '备注说明';
Comment added
SQL> --------------------------------
SQL> --  Changed table dm_sd_grid  --
SQL> --------------------------------
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table DM_SD_GRID
  2    add constraint PK_SD_GRID primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> -- Create/Recreate indexes
SQL> create index PK_SD_GRID_INTERVAL on DM_SD_GRID (ID, INTERVAL)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑勤务DDM-增量脚本A3 胡越20190129   End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓勤务DDM-增量脚本A4 胡越20190129 Start-----------------------
SQL> --------------------------------------------
SQL> --  Changed table dm_assess_result_score  --
SQL> --------------------------------------------
SQL> -- Add/modify columns
SQL> alter table DM_ASSESS_RESULT_SCORE modify SCORE VARCHAR2(20);
Table altered
SQL> ----------------------------------------------------
SQL> --  Changed table dm_assess_result_score_history  --
SQL> ----------------------------------------------------
SQL> -- Add/modify columns
SQL> alter table DM_ASSESS_RESULT_SCORE_HISTORY modify SCORE VARCHAR2(20);
Table altered
SQL> -- Add comments to the columns
SQL> comment on column DM_ASSESS_RESULT_SCORE_HISTORY.SCORE
  2    is '分数，小数点后15位小数';
Comment added
SQL> -------------------------------------
SQL> --  Changed table dm_check_appeal  --
SQL> -------------------------------------
SQL> -- Add comments to the columns
SQL> comment on column DM_CHECK_APPEAL.STATUS
  2    is '申诉状态 0未审核； 1通过；2驳回';
Comment added
SQL> --------------------------------
SQL> --  Changed table dm_monitor  --
SQL> --------------------------------
SQL> -- Add comments to the columns
SQL> comment on column DM_MONITOR.STATUS
  2    is ' 3脱岗 4离线 5旷工 与DM_COMPREHENSIVE_MONITOR表一致';
Comment added
SQL> ------------------------------------------
SQL> --  Changed table dm_police_car_manage  --
SQL> ------------------------------------------
SQL> -- Add/modify columns
SQL> alter table DM_POLICE_CAR_MANAGE modify CAR_MODEL VARCHAR2(3);
Table altered
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑勤务DDM-增量脚本A4 胡越20190129 End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓勤务DDM-增量脚本A5 胡越20190129 Start-----------------------
SQL> --无
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑勤务DDM-增量脚本A5 胡越20190129 End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓勤务DDM-增量脚本A6 胡越20190129 Start-----------------------
SQL> --------------------------------------
SQL> --  Changed table dm_deploy_police  --
SQL> --------------------------------------
SQL> -- Add/modify columns
SQL> alter table DM_DEPLOY_POLICE add GPS_TOTAL VARCHAR2(10) default 0;
Table altered
SQL> -- Add comments to the columns
SQL> comment on column DM_DEPLOY_POLICE.GPS_TOTAL
  2    is '该班次GPS总量';
Comment added
SQL> -------------------------------------------
SQL> --  Changed table dm_important_position  --
SQL> -------------------------------------------
SQL> -- Create/Recreate indexes
SQL> create index IDX_GRADE_DUTY_ID on DM_IMPORTANT_POSITION (GRADE_DUTY_ID)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> ---------------------------------------
SQL> --  Changed table dm_index_strategy  --
SQL> ---------------------------------------
SQL> -- Create/Recreate indexes
SQL> create index INDEX_TREE_ID_IDX on DM_INDEX_STRATEGY (INDEX_TREE_ID)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> ----------------------------------------------
SQL> --  Changed table dm_index_strategy_config  --
SQL> ----------------------------------------------
SQL> -- Create/Recreate indexes
SQL> create index INDEX_STRATEGY_ID_IDX on DM_INDEX_STRATEGY_CONFIG (INDEX_STRATEGY_ID)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> --------------------------------
SQL> --  New table dm_info_record  --
SQL> --------------------------------
SQL> -- Create table
SQL> create table DM_INFO_RECORD
  2  (
  3    ID           VARCHAR2(32) not null,
  4    POLICE_UUID  VARCHAR2(32),
  5    DEPLOY_ID    VARCHAR2(32),
  6    REBUILD_DATE DATE,
  7    IS_HANDLER   VARCHAR2(2),
  8    TYPE         VARCHAR2(2),
  9    RECORDTIME   DATE
 10  )
 11  tablespace HIATMPTS
 12    pctfree 10
 13    initrans 1
 14    maxtrans 255
 15    storage
 16    (
 17      initial 16K
 18      next 8K
 19      minextents 1
 20      maxextents unlimited
 21    );
Table created
SQL> -- Add comments to the table
SQL> comment on table DM_INFO_RECORD
  2    is '信息记录表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column DM_INFO_RECORD.ID
  2    is '主键';
Comment added
SQL> comment on column DM_INFO_RECORD.POLICE_UUID
  2    is '警员UUID';
Comment added
SQL> comment on column DM_INFO_RECORD.DEPLOY_ID
  2    is '排班主键';
Comment added
SQL> comment on column DM_INFO_RECORD.REBUILD_DATE
  2    is 'GPS重建日期';
Comment added
SQL> comment on column DM_INFO_RECORD.IS_HANDLER
  2    is '是否已处理 1是；0否';
Comment added
SQL> comment on column DM_INFO_RECORD.TYPE
  2    is '数据类型(根据业务自行定义) 1 GPS重建信息记录';
Comment added
SQL> comment on column DM_INFO_RECORD.RECORDTIME
  2    is '数据记录时间';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table DM_INFO_RECORD
  2    add constraint PK_INFO_ID primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> ------------------------------------
SQL> --  Changed table dm_police_case  --
SQL> ------------------------------------
SQL> -- Add/modify columns
SQL> alter table DM_POLICE_CASE modify DURATION VARCHAR2(10);
Table altered
SQL> -- Create/Recreate indexes
SQL> create index RECEIVE_POLICE_IDX on DM_POLICE_CASE (RECEIVE_POLICE)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑勤务DDM-增量脚本A6 胡越20190129 End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓勤务DDM-增量脚本A7 胡越20190129 Start-----------------------
SQL> -- rem Differences between HIATMP58@HIATMP58 and DDMTEST@HIATMP58, created on 2019/3/23
SQL> -- rem Press Apply button, or run in Command Window or SQL*Plus connected as DDMTEST@HIATMP58
SQL> -----------------------------------------
SQL> --  Changed table dm_grade_duty_ratio  --
SQL> -----------------------------------------
SQL> -- Add/modify columns
SQL> alter table DM_GRADE_DUTY_RATIO modify DUTY_RATIO VARCHAR2(8);
Table altered
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑勤务DDM-增量脚本A7 胡越20190129 End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓HiATMP-DB-HRV-DDL.5.8.0.0.A8.sql Start-----------------------
SQL> CREATE OR REPLACE VIEW HRV_GPS_VIEW_LASTED AS
  2  SELECT I.DEVICEID AS ID,
  3         I.DEVICENAME,
  4         G.CVEHID,
  5         TO_CHAR(G.DECARLONG) AS LONGITUDE,
  6         TO_CHAR(G.DECARLAT) AS LATITUDE,
  7         TO_CHAR(G.NDIRECTION) AS NDIRECTION,
  8         TO_CHAR(G.DTRECORDTIME, 'yyyy-mm-dd hh24:mi:ss') AS DTRECORDTIME,
  9         I.GPSTYPE,
 10         E1.ENUMNAME AS GPSTYPENAME,
 11         T.DEPTSHORTNAME,
 12         I.GPSRADIONO,
 13         I.GPSCARNO,
 14         I.THIRDSYSCODE,
 15         T.CDEPARTMENTID,
 16         CASE OKR.REPORTSTATE
 17           WHEN '1' THEN
 18            '2'
 19           ELSE
 20            NVL2(G.CVEHID, '1', '0')
 21         END STATUS
 22         FROM EQUIPMENT_INFO I
 23    LEFT JOIN (SELECT E1.ENUMNAME, E1.ENUMVALUE
 24                 FROM ENUM_TYPE E1
 25                WHERE E1.ENUMTYPEID = '734') E1
 26      ON E1.ENUMVALUE = I.GPSTYPE
 27    JOIN GPS_DATA G
 28      ON G.CVEHID = I.THIRDSYSCODE
 29    LEFT JOIN DEPARTMENT T
 30      ON T.CDEPARTMENTID = I.DEPARTMENTID
 31     LEFT JOIN (SELECT CARCODE, REPORTSTATE, MAX(REPORTTIME) AS REPORTTIME
 32                 FROM ONEKEYREADY T
 33                WHERE T.REPORTTIME > TRUNC(SYSDATE)
 34                  AND NOT EXISTS/*È¥ÖØ£¬±£Áô×îÐÂµÄ*/
 35                (SELECT 1
 36                         FROM ONEKEYREADY R
 37                        WHERE R.CARCODE = T.CARCODE
 38                          AND R.REPORTTIME > TRUNC(SYSDATE)
 39                          AND R.REPORTTIME > T.REPORTTIME)
 40                GROUP BY CARCODE, REPORTSTATE) OKR
 41      ON OKR.CARCODE = SUBSTR(I.THIRDSYSCODE, 6)
 42   WHERE G.DTRECORDTIME >= /*GPS_ONLINE_TIME_INTERVAL ·ÖÖÓÄÚµÄ*/
 43         SYSDATE -
 44         (SELECT NVL2(PARAM.PARAMVALUE, PARAM.PARAMVALUE, '5')
 45            FROM (SELECT T.PARAMVALUE
 46                    FROM SYSPARAMS T
 47                   WHERE T.PARAMCODE = 'GPS_ONLINE_TIME_INTERVAL') PARAM) / 1440
 48   AND (G.CVEHID || TO_CHAR(G.DTRECORDTIME, 'yyyy-mm-dd hh24:mi:ss')) IN
 49         ((SELECT GD.CVEHID ||
 50                 TO_CHAR(MAX(GD.DTRECORDTIME), 'yyyy-mm-dd hh24:mi:ss')
 51            FROM GPS_DATA GD
 52           WHERE GD.DTRECORDTIME >
 53                 SYSDATE -
 54                 (SELECT NVL2(PARAM.PARAMVALUE, PARAM.PARAMVALUE, '5')
 55                    FROM (SELECT T.PARAMVALUE
 56                            FROM SYSPARAMS T
 57                           WHERE T.PARAMCODE = 'GPS_ONLINE_TIME_INTERVAL') PARAM) / 1440
 58           GROUP BY GD.CVEHID));
View created
SQL> CREATE OR REPLACE VIEW HRV_GPS_VIEW AS
  2  SELECT P.POLICENAME,
  3         CAST(P.POLICEID AS VARCHAR(6)) AS POLICEID,
  4         P.POLICENAME AS TITLE,
  5         P.PHONE,
  6         P.DEVICEID,
  7         P.DEVICEID2,
  8         P.DEVICEID3,
  9         P.DEVICEID4,
 10         h."ID",
 11         h."DEVICENAME",
 12         h."CVEHID",
 13         h."LONGITUDE",
 14         h."LATITUDE",
 15         h."NDIRECTION",
 16         h."DTRECORDTIME",
 17         h."GPSTYPE",
 18         h."GPSTYPENAME",
 19         h."DEPTSHORTNAME",
 20         h."GPSRADIONO",
 21         h."GPSCARNO",
 22         h."THIRDSYSCODE",
 23         h."CDEPARTMENTID",
 24         h."STATUS",
 25         '1' AS DEVICENUM,
 26         '1' AS EQUIPSOURCE
 27    FROM HRV_GPS_VIEW_LASTED H
 28    LEFT JOIN POLICE P
 29      ON P.DEVICEID = H.ID
 30   WHERE P.ISCLOSED = 1
 31     AND P.AUDITSTATE = '1'
 32     AND P.IS_EFFECTIVE = '1'
 33  UNION ALL
 34  SELECT P.POLICENAME,
 35         CAST(P.POLICEID AS VARCHAR(6)) AS POLICEID,
 36         P.POLICENAME AS TITLE,
 37         P.PHONE,
 38         P.DEVICEID,
 39         P.DEVICEID2,
 40         P.DEVICEID3,
 41         P.DEVICEID4,
 42         h."ID",
 43         h."DEVICENAME",
 44         h."CVEHID",
 45         h."LONGITUDE",
 46         h."LATITUDE",
 47         h."NDIRECTION",
 48         h."DTRECORDTIME",
 49         h."GPSTYPE",
 50         h."GPSTYPENAME",
 51         h."DEPTSHORTNAME",
 52         h."GPSRADIONO",
 53         h."GPSCARNO",
 54         h."THIRDSYSCODE",
 55         h."CDEPARTMENTID",
 56         h."STATUS",
 57         '2' AS DEVICENUM,
 58         '2' AS EQUIPSOURCE
 59    FROM HRV_GPS_VIEW_LASTED H
 60    LEFT JOIN POLICE P
 61      ON P.DEVICEID2 = H.ID
 62   WHERE P.ISCLOSED = 1
 63     AND P.AUDITSTATE = '1'
 64     AND P.IS_EFFECTIVE = '1'
 65  UNION ALL
 66  SELECT P.POLICENAME,
 67         CAST(P.POLICEID AS VARCHAR(6)) AS POLICEID,
 68         P.POLICENAME AS TITLE,
 69         P.PHONE,
 70         P.DEVICEID,
 71         P.DEVICEID2,
 72         P.DEVICEID3,
 73         P.DEVICEID4,
 74         h."ID",
 75         h."DEVICENAME",
 76         h."CVEHID",
 77         h."LONGITUDE",
 78         h."LATITUDE",
 79         h."NDIRECTION",
 80         h."DTRECORDTIME",
 81         h."GPSTYPE",
 82         h."GPSTYPENAME",
 83         h."DEPTSHORTNAME",
 84         h."GPSRADIONO",
 85         h."GPSCARNO",
 86         h."THIRDSYSCODE",
 87         h."CDEPARTMENTID",
 88         h."STATUS",
 89         '3' AS DEVICENUM,
 90         '2' AS EQUIPSOURCE
 91    FROM HRV_GPS_VIEW_LASTED H
 92    LEFT JOIN POLICE P
 93      ON P.DEVICEID3 = H.ID
 94   WHERE P.ISCLOSED = 1
 95     AND P.AUDITSTATE = '1'
 96     AND P.IS_EFFECTIVE = '1'
 97  UNION ALL
 98  SELECT P.POLICENAME,
 99         CAST(P.POLICEID AS VARCHAR(6)) AS POLICEID,
100         P.POLICENAME AS TITLE,
101         P.PHONE,
102         P.DEVICEID,
103         P.DEVICEID2,
104         P.DEVICEID3,
105         P.DEVICEID4,
106         h."ID",
107         h."DEVICENAME",
108         h."CVEHID",
109         h."LONGITUDE",
110         h."LATITUDE",
111         h."NDIRECTION",
112         h."DTRECORDTIME",
113         h."GPSTYPE",
114         h."GPSTYPENAME",
115         h."DEPTSHORTNAME",
116         h."GPSRADIONO",
117         h."GPSCARNO",
118         h."THIRDSYSCODE",
119         h."CDEPARTMENTID",
120         h."STATUS",
121         '4' AS DEVICENUM,
122         '2' AS EQUIPSOURCE
123    FROM HRV_GPS_VIEW_LASTED H
124    LEFT JOIN POLICE P
125      ON P.DEVICEID4 = H.ID
126   WHERE P.ISCLOSED = 1
127     AND P.AUDITSTATE = '1'
128     AND P.IS_EFFECTIVE = '1';
View created
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑HiATMP-DB-HRV-DDL.5.8.0.0.A8.sql End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓勤务DDM-增量脚本A8 胡越20190129 Start-----------------------
SQL> -- rem Differences between HIATMP58@HIATMP58 and DDMTEST@HIATMP58, created on 2019/3/29
SQL> -- rem Press Apply button, or run in Command Window or SQL*Plus connected as DDMTEST@HIATMP58
SQL> --------------------------------------
SQL> --  Changed table dm_assess_result  --
SQL> --------------------------------------
SQL> -- Create/Recreate indexes
SQL> create index IDX_BSG on DM_ASSESS_RESULT (BUSINESS, SCOPE_TYPE, GROUP_TYPE)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> create index IDX_RECORD on DM_ASSESS_RESULT (RECORDTIME)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> ----------------------------------------------
SQL> --  Changed table dm_assess_result_history  --
SQL> ----------------------------------------------
SQL> -- Create/Recreate indexes
SQL> create index IDX_SYMBOL on DM_ASSESS_RESULT_HISTORY (SYMBOL)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> -------------------------------
SQL> --  Changed table dm_deploy  --
SQL> -------------------------------
SQL> -- Create/Recreate indexes
SQL> create index PK_END_TIME on DM_DEPLOY (END_TIME)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> --------------------------------
SQL> --  Changed table dm_sd_grid  --
SQL> --------------------------------
SQL> -- Add/modify columns
SQL> alter table DM_SD_GRID add GEOMETRY MDSYS.SDO_GEOMETRY;
Table altered
SQL> -- Create/Recreate indexes
SQL> drop index PK_SD_GRID_INTERVAL;
Index dropped
SQL> create index PK_SD_GRID_INTERVAL on DM_SD_GRID (INTERVAL)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑勤务DDM-增量脚本A8 胡越20190129 End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓勤务DDM-增量脚本A9 胡越20190129 Start-----------------------
SQL> -- rem Differences between HIATMP58@HIATMP58 and DDMTEST@HIATMP58, created on 2019/4/9
SQL> -- rem Press Apply button, or run in Command Window or SQL*Plus connected as DDMTEST@HIATMP58
SQL> ------------------------------------
SQL> --  Changed table workloadsource  --
SQL> ------------------------------------
SQL> -- Create/Recreate indexes
SQL> -- drop index IDX_DP;
SQL> create index IDX_DP on DM_COMPREHENSIVE_MONITOR (POLICE_UUID, DEPLOY_ID)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> -- drop index IDX_POLICEUUID;
SQL> create index IDX_POLICEUUID on DM_COMPREHENSIVE_MONITOR (POLICE_UUID)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> -- Add/modify columns
SQL> alter table WORKLOADSOURCE add DATASOURCE VARCHAR2(2) default 1;
Table altered
SQL> -- Add comments to the columns
SQL> comment on column WORKLOADSOURCE.DATASOURCE
  2    is '数据来源 1六合一库；2执法记录仪';
Comment added
SQL> CREATE OR REPLACE VIEW HRV_GPS_DDM_VIEW AS
  2  SELECT P.POLICENAME,
  3         CAST(P.POLICEID AS VARCHAR(6)) AS POLICEID,
  4        trim(p.uuid) policeuuid,
  5         P.POLICENAME AS TITLE,
  6         P.PHONE,
  7         P.DEVICEID,
  8         P.DEVICEID2,
  9         P.DEVICEID3,
 10         P.DEVICEID4,
 11      --   h."ID" deviceid,
 12         h."DEVICENAME",
 13         h."CVEHID",
 14         h."LONGITUDE",
 15         h."LATITUDE",
 16         to_char(h.LONGITUDE) || ',' || to_char(h.LATITUDE) as coordinate,
 17         h."NDIRECTION",
 18         h."DTRECORDTIME",
 19         h."GPSTYPE",
 20         h."GPSTYPENAME",
 21         h."DEPTSHORTNAME",
 22         h."GPSRADIONO",
 23         h."GPSCARNO",
 24         h."THIRDSYSCODE",
 25         h."CDEPARTMENTID",
 26         h."STATUS",
 27         '1' AS DEVICENUM,
 28         '1' AS EQUIPSOURCE,
 29         D.PARENTDEPARTMENT,
 30         D.NLEVEL
 31    FROM HRV_GPS_VIEW_LASTED H
 32    LEFT JOIN DEPARTMENT D ON H.CDEPARTMENTID=D.CDEPARTMENTID
 33    LEFT JOIN POLICE P
 34      ON P.DEVICEID = H.ID
 35   WHERE P.ISCLOSED = 1
 36     AND P.AUDITSTATE = '1'
 37     AND P.IS_EFFECTIVE = '1'
 38  UNION ALL
 39  SELECT P.POLICENAME,
 40         CAST(P.POLICEID AS VARCHAR(6)) AS POLICEID,
 41        trim(p.uuid) policeuuid,
 42         P.POLICENAME AS TITLE,
 43         P.PHONE,
 44         P.DEVICEID,
 45         P.DEVICEID2,
 46         P.DEVICEID3,
 47         P.DEVICEID4,
 48        -- h."ID" deviceid,
 49         h."DEVICENAME",
 50         h."CVEHID",
 51         h."LONGITUDE",
 52         h."LATITUDE",
 53         to_char(h.LONGITUDE) || ',' || to_char(h.LATITUDE) as coordinate,
 54         h."NDIRECTION",
 55         h."DTRECORDTIME",
 56         h."GPSTYPE",
 57         h."GPSTYPENAME",
 58         h."DEPTSHORTNAME",
 59         h."GPSRADIONO",
 60         h."GPSCARNO",
 61         h."THIRDSYSCODE",
 62         h."CDEPARTMENTID",
 63         h."STATUS",
 64         '2' AS DEVICENUM,
 65         '1' AS EQUIPSOURCE,
 66          D.PARENTDEPARTMENT,
 67         D.NLEVEL
 68    FROM HRV_GPS_VIEW_LASTED H
 69    LEFT JOIN DEPARTMENT D ON H.CDEPARTMENTID=D.CDEPARTMENTID
 70    LEFT JOIN POLICE P
 71      ON P.DEVICEID2 = H.ID
 72   WHERE P.ISCLOSED = 1
 73     AND P.AUDITSTATE = '1'
 74     AND P.IS_EFFECTIVE = '1'
 75  UNION ALL
 76  SELECT P.POLICENAME,
 77         CAST(P.POLICEID AS VARCHAR(6)) AS POLICEID,
 78        trim(p.uuid) policeuuid,
 79         P.POLICENAME AS TITLE,
 80         P.PHONE,
 81         P.DEVICEID,
 82         P.DEVICEID2,
 83         P.DEVICEID3,
 84         P.DEVICEID4,
 85      --   h."ID" deviceid,
 86         h."DEVICENAME",
 87         h."CVEHID",
 88         h."LONGITUDE",
 89         h."LATITUDE",
 90          to_char(h.LONGITUDE) || ',' || to_char(h.LATITUDE) as coordinate,
 91         h."NDIRECTION",
 92         h."DTRECORDTIME",
 93         h."GPSTYPE",
 94         h."GPSTYPENAME",
 95         h."DEPTSHORTNAME",
 96         h."GPSRADIONO",
 97         h."GPSCARNO",
 98         h."THIRDSYSCODE",
 99         h."CDEPARTMENTID",
100         h."STATUS",
101         '3' AS DEVICENUM,
102         '1' AS EQUIPSOURCE,
103           D.PARENTDEPARTMENT,
104         D.NLEVEL
105    FROM HRV_GPS_VIEW_LASTED H
106    LEFT JOIN DEPARTMENT D ON H.CDEPARTMENTID=D.CDEPARTMENTID
107    LEFT JOIN POLICE P
108      ON P.DEVICEID3 = H.ID
109   WHERE P.ISCLOSED = 1
110     AND P.AUDITSTATE = '1'
111     AND P.IS_EFFECTIVE = '1'
112  UNION ALL
113  SELECT P.POLICENAME,
114         CAST(P.POLICEID AS VARCHAR(6)) AS POLICEID,
115        trim(p.uuid) policeuuid,
116         P.POLICENAME AS TITLE,
117         P.PHONE,
118         P.DEVICEID,
119         P.DEVICEID2,
120         P.DEVICEID3,
121         P.DEVICEID4,
122     --    h."ID" deviceid,
123         h."DEVICENAME",
124         h."CVEHID",
125         h."LONGITUDE",
126         h."LATITUDE",
127          to_char(h.LONGITUDE) || ',' || to_char(h.LATITUDE) as coordinate,
128         h."NDIRECTION",
129         h."DTRECORDTIME",
130         h."GPSTYPE",
131         h."GPSTYPENAME",
132         h."DEPTSHORTNAME",
133         h."GPSRADIONO",
134         h."GPSCARNO",
135         h."THIRDSYSCODE",
136         h."CDEPARTMENTID",
137         h."STATUS",
138         '4' AS DEVICENUM,
139         '1' AS EQUIPSOURCE,
140           D.PARENTDEPARTMENT,
141         D.NLEVEL
142    FROM HRV_GPS_VIEW_LASTED H
143    LEFT JOIN DEPARTMENT D ON H.CDEPARTMENTID=D.CDEPARTMENTID
144    LEFT JOIN POLICE P
145      ON P.DEVICEID4 = H.ID
146   WHERE P.ISCLOSED = 1
147     AND P.AUDITSTATE = '1'
148     AND P.IS_EFFECTIVE = '1';
View created
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑勤务DDM-增量脚本A9 胡越20190129 End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓勤务DDM-增量脚本A10 胡越20190129 Start-----------------------
SQL> -- rem Differences between HIATMP58@HIATMP58 and DDMTEST@HIATMP58, created on 2019/4/19
SQL> -- rem Press Apply button, or run in Command Window or SQL*Plus connected as DDMTEST@HIATMP58
SQL> -------------------------------------
SQL> --  Changed table dm_check_appeal  --
SQL> -------------------------------------
SQL> -- Add comments to the columns
SQL> comment on column DM_CHECK_APPEAL.STATUS
  2    is '申诉状态 0未审核； 1大队待审核；2支队待审核；3审核驳回；4审核通过';
Comment added
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑勤务DDM-增量脚本A10 胡越20190129 End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓勤务DDM-增量脚本A11 胡越20190129 Start-----------------------
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑勤务DDM-增量脚本A11 胡越20190129 End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓勤务DDM-增量脚本B1 胡越20190129 Start-----------------------
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑勤务DDM-增量脚本B1 胡越20190129 End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓勤务DDM-增量脚本B2 胡越20190129 Start-----------------------
SQL> -- Create table
SQL> create table DM_DEPLOY_POLICE_DURATION
  2  (
  3    ID               VARCHAR2(32) default sys_guid() not null,
  4    DEPLOY_POLICE_ID VARCHAR2(32),
  5    SHOULD_DURATION  VARCHAR2(7) default 0,
  6    REAL_DURATION    VARCHAR2(7) default 0,
  7    ARRIVE_TIME      VARCHAR2(7),
  8    LEAVE_TIME       VARCHAR2(7),
  9    OFF_DURATION     VARCHAR2(7) default 0,
 10    ABSENT_DURATIOIN VARCHAR2(7) default 0,
 11    RECORDTIME       DATE
 12  )
 13  tablespace HIATMPTS
 14    pctfree 10
 15    initrans 1
 16    maxtrans 255
 17    storage
 18    (
 19      initial 16
 20      next 8
 21      minextents 1
 22      maxextents unlimited
 23    );
Table created
SQL> -- Add comments to the table
SQL> comment on table DM_DEPLOY_POLICE_DURATION
  2    is '警力执勤信息表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column DM_DEPLOY_POLICE_DURATION.ID
  2    is '主键';
Comment added
SQL> comment on column DM_DEPLOY_POLICE_DURATION.DEPLOY_POLICE_ID
  2    is '警力安排表主键';
Comment added
SQL> comment on column DM_DEPLOY_POLICE_DURATION.SHOULD_DURATION
  2    is '应到时长,单位：分钟';
Comment added
SQL> comment on column DM_DEPLOY_POLICE_DURATION.REAL_DURATION
  2    is '实到时长,单位：分钟';
Comment added
SQL> comment on column DM_DEPLOY_POLICE_DURATION.ARRIVE_TIME
  2    is '到岗时长,单位：分钟';
Comment added
SQL> comment on column DM_DEPLOY_POLICE_DURATION.LEAVE_TIME
  2    is '撤岗时长,单位：分钟';
Comment added
SQL> comment on column DM_DEPLOY_POLICE_DURATION.OFF_DURATION
  2    is '脱岗时长,单位：分钟';
Comment added
SQL> comment on column DM_DEPLOY_POLICE_DURATION.ABSENT_DURATIOIN
  2    is '旷工时长,单位：分钟';
Comment added
SQL> comment on column DM_DEPLOY_POLICE_DURATION.RECORDTIME
  2    is '录入时间';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table DM_DEPLOY_POLICE_DURATION
  2    add constraint DDPD_ID primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑勤务DDM-增量脚本B2 胡越20190129 End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓HiATMP-PSD5.8.0.5915.A1 胡越20190129 Start-----------------------
SQL> -- Create table
SQL> create table PSD_DUTY
  2  (
  3    id             VARCHAR2(32) not null,
  4    duty_sender    VARCHAR2(12),
  5    duty_receiver  VARCHAR2(12),
  6    duty_note      VARCHAR2(256),
  7    begin_time     DATE,
  8    duty_time      DATE default Sysdate,
  9    police_case_id VARCHAR2(32)
 10  )
 11  tablespace HIATMPTS
 12    pctfree 10
 13    initrans 1
 14    maxtrans 255
 15    storage
 16    (
 17      initial 64
 18      next 8
 19      minextents 1
 20      maxextents unlimited
 21    );
Table created
SQL> -- Add comments to the table
SQL> comment on table PSD_DUTY
  2    is '警情交接班表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column PSD_DUTY.id
  2    is '主键，交接班id，';
Comment added
SQL> comment on column PSD_DUTY.duty_sender
  2    is '交班人';
Comment added
SQL> comment on column PSD_DUTY.duty_receiver
  2    is '接班人';
Comment added
SQL> comment on column PSD_DUTY.duty_note
  2    is '备注';
Comment added
SQL> comment on column PSD_DUTY.begin_time
  2    is '值班开始时间';
Comment added
SQL> comment on column PSD_DUTY.duty_time
  2    is '交班时间';
Comment added
SQL> comment on column PSD_DUTY.police_case_id
  2    is '警情主流程id';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table PSD_DUTY
  2    add constraint PK_PSD_DUTY_PK primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> -- Create table
SQL> create table PSD_ORDER
  2  (
  3    id               VARCHAR2(32) not null,
  4    order_type       VARCHAR2(2),
  5    response_type    VARCHAR2(1),
  6    order_sender     VARCHAR2(32),
  7    receiver_type    VARCHAR2(1),
  8    order_content    NVARCHAR2(500),
  9    order_attachment VARCHAR2(32),
 10    order_date       DATE default sysdate,
 11    police_case_id   VARCHAR2(32),
 12    note_type        VARCHAR2(8),
 13    contacter        NVARCHAR2(8),
 14    position         NVARCHAR2(32),
 15    telephone        VARCHAR2(15),
 16    is_read          VARCHAR2(1),
 17    order_rule       NVARCHAR2(32),
 18    process_id       VARCHAR2(32) default 0
 19  )
 20  tablespace HIATMPTS
 21    pctfree 10
 22    initrans 1
 23    maxtrans 255
 24    storage
 25    (
 26      initial 64K
 27      next 8K
 28      minextents 1
 29      maxextents unlimited
 30    );
Table created
SQL> -- Add comments to the columns
SQL> comment on column PSD_ORDER.id
  2    is 'UUID';
Comment added
SQL> comment on column PSD_ORDER.order_type
  2    is '指令类型';
Comment added
SQL> comment on column PSD_ORDER.response_type
  2    is '1发送2反馈';
Comment added
SQL> comment on column PSD_ORDER.order_sender
  2    is '指令发送人';
Comment added
SQL> comment on column PSD_ORDER.receiver_type
  2    is '接收人类型1个人2部门3角色';
Comment added
SQL> comment on column PSD_ORDER.order_content
  2    is '指令内容';
Comment added
SQL> comment on column PSD_ORDER.order_attachment
  2    is '附件id(psd_order_attachment表id)';
Comment added
SQL> comment on column PSD_ORDER.order_date
  2    is '指令发送时间';
Comment added
SQL> comment on column PSD_ORDER.police_case_id
  2    is '警情id';
Comment added
SQL> comment on column PSD_ORDER.note_type
  2    is '1手机短信2系统消息3警务通';
Comment added
SQL> comment on column PSD_ORDER.contacter
  2    is '联系人';
Comment added
SQL> comment on column PSD_ORDER.position
  2    is '职务';
Comment added
SQL> comment on column PSD_ORDER.telephone
  2    is '联系电话';
Comment added
SQL> comment on column PSD_ORDER.is_read
  2    is '是否已读0未读1已读';
Comment added
SQL> comment on column PSD_ORDER.order_rule
  2    is '指令规则';
Comment added
SQL> comment on column PSD_ORDER.process_id
  2    is '子流程ID';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table PSD_ORDER
  2    add constraint PK_PSD_ORDER primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> -- Create table
SQL> create table PSD_ORDER_ATTACHMENT
  2  (
  3    order_id VARCHAR2(32),
  4    ftp_url  VARCHAR2(128)
  5  )
  6  tablespace HIATMPTS
  7    pctfree 10
  8    initrans 1
  9    maxtrans 255
 10    storage
 11    (
 12      initial 64
 13      next 1
 14      minextents 1
 15      maxextents unlimited
 16    );
Table created
SQL> -- Add comments to the columns
SQL> comment on column PSD_ORDER_ATTACHMENT.order_id
  2    is '指令id（psd_order表的主键）';
Comment added
SQL> comment on column PSD_ORDER_ATTACHMENT.ftp_url
  2    is 'ftp路段ID';
Comment added
SQL> -- Create table
SQL> create table PSD_ORDER_RECEIVER
  2  (
  3    order_id       VARCHAR2(32),
  4    order_receiver VARCHAR2(32)
  5  )
  6  tablespace HIATMPTS
  7    pctfree 10
  8    initrans 1
  9    maxtrans 255
 10    storage
 11    (
 12      initial 64
 13      next 8
 14      minextents 1
 15      maxextents unlimited
 16    );
Table created
SQL> -- Add comments to the columns
SQL> comment on column PSD_ORDER_RECEIVER.order_id
  2    is '指令id';
Comment added
SQL> comment on column PSD_ORDER_RECEIVER.order_receiver
  2    is '接收人';
Comment added
SQL> -- Create table
SQL> create table PSD_POLICECASE_LOG
  2  (
  3    id            VARCHAR2(32) not null,
  4    log_content   NVARCHAR2(256),
  5    log_user      VARCHAR2(12),
  6    log_time      DATE default sysdate,
  7    policecase_id VARCHAR2(32)
  8  )
  9  tablespace HIATMPTS
 10    pctfree 10
 11    initrans 1
 12    maxtrans 255
 13    storage
 14    (
 15      initial 64
 16      next 1
 17      minextents 1
 18      maxextents unlimited
 19    );
Table created
SQL> -- Add comments to the table
SQL> comment on table PSD_POLICECASE_LOG
  2    is '警情日志表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column PSD_POLICECASE_LOG.id
  2    is 'UUID';
Comment added
SQL> comment on column PSD_POLICECASE_LOG.log_content
  2    is '日志内容';
Comment added
SQL> comment on column PSD_POLICECASE_LOG.log_user
  2    is '操作人';
Comment added
SQL> comment on column PSD_POLICECASE_LOG.log_time
  2    is '日志时间';
Comment added
SQL> comment on column PSD_POLICECASE_LOG.policecase_id
  2    is '警情ID';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table PSD_POLICECASE_LOG
  2    add constraint PSD_POLICECASE_LOG_ID primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> -- Create table
SQL> create table PSD_POST_RESOURCE
  2  (
  3    id          VARCHAR2(32) not null,
  4    post_name   VARCHAR2(1),
  5    dept_id     VARCHAR2(12),
  6    role_id     VARCHAR2(32),
  7    manage_dept VARCHAR2(600)
  8  )
  9  tablespace HIATMPTS
 10    pctfree 10
 11    initrans 1
 12    maxtrans 255
 13    storage
 14    (
 15      initial 64
 16      next 8
 17      minextents 1
 18      maxextents unlimited
 19    );
Table created
SQL> -- Add comments to the columns
SQL> comment on column PSD_POST_RESOURCE.id
  2    is 'uuid唯一标识';
Comment added
SQL> comment on column PSD_POST_RESOURCE.post_name
  2    is '岗位名称，枚举值16001';
Comment added
SQL> comment on column PSD_POST_RESOURCE.dept_id
  2    is '所属大队';
Comment added
SQL> comment on column PSD_POST_RESOURCE.role_id
  2    is '关联角色id';
Comment added
SQL> comment on column PSD_POST_RESOURCE.manage_dept
  2    is '分管大队';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table PSD_POST_RESOURCE
  2    add constraint PK_PSD_POST_RESOURCE primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> -- Create table
SQL> create table PSD_PRESET
  2  (
  3    id                VARCHAR2(32) not null,
  4    police_case_type  VARCHAR2(5),
  5    police_case_level VARCHAR2(2),
  6    use_flag          VARCHAR2(1) default 0
  7  )
  8  tablespace HIATMPTS
  9    pctfree 10
 10    initrans 1
 11    maxtrans 255
 12    storage
 13    (
 14      initial 64
 15      next 1
 16      minextents 1
 17      maxextents unlimited
 18    );
Table created
SQL> -- Add comments to the columns
SQL> comment on column PSD_PRESET.id
  2    is 'UUID';
Comment added
SQL> comment on column PSD_PRESET.police_case_type
  2    is '警情类型';
Comment added
SQL> comment on column PSD_PRESET.police_case_level
  2    is '警情级别';
Comment added
SQL> comment on column PSD_PRESET.use_flag
  2    is '0停用1启动';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table PSD_PRESET
  2    add constraint PK_PSD_PRESET primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> -- Create table
SQL> create table PSD_PRESET_DETAIL
  2  (
  3    id               VARCHAR2(32) not null,
  4    order_type       VARCHAR2(1),
  5    receiver_type    VARCHAR2(1),
  6    order_content    NVARCHAR2(500),
  7    order_attachment VARCHAR2(32),
  8    note_type        VARCHAR2(5),
  9    order_rule       NVARCHAR2(65),
 10    preset_id        VARCHAR2(32),
 11    contacter        NVARCHAR2(8),
 12    position         NVARCHAR2(32),
 13    telephone        VARCHAR2(15)
 14  )
 15  tablespace HIATMPTS
 16    pctfree 10
 17    initrans 1
 18    maxtrans 255
 19    storage
 20    (
 21      initial 64
 22      next 8
 23      minextents 1
 24      maxextents unlimited
 25    );
Table created
SQL> -- Add comments to the columns
SQL> comment on column PSD_PRESET_DETAIL.id
  2    is 'UUID';
Comment added
SQL> comment on column PSD_PRESET_DETAIL.order_type
  2    is '指令类型';
Comment added
SQL> comment on column PSD_PRESET_DETAIL.receiver_type
  2    is '接收人类型1个人2部门3角色';
Comment added
SQL> comment on column PSD_PRESET_DETAIL.order_content
  2    is '指令内容';
Comment added
SQL> comment on column PSD_PRESET_DETAIL.order_attachment
  2    is '附件id(psd_order_attachment表id)';
Comment added
SQL> comment on column PSD_PRESET_DETAIL.note_type
  2    is '1手机短信2系统消息3警务通';
Comment added
SQL> comment on column PSD_PRESET_DETAIL.order_rule
  2    is '指令规则';
Comment added
SQL> comment on column PSD_PRESET_DETAIL.preset_id
  2    is '所属预案ID';
Comment added
SQL> comment on column PSD_PRESET_DETAIL.contacter
  2    is '联系人';
Comment added
SQL> comment on column PSD_PRESET_DETAIL.position
  2    is '职务';
Comment added
SQL> comment on column PSD_PRESET_DETAIL.telephone
  2    is '联系电话';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table PSD_PRESET_DETAIL
  2    add constraint PK_PSD_PRESET_DETAIL primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> -- Create table
SQL> create table PSD_PROCESS
  2  (
  3    id                   VARCHAR2(32) not null,
  4    police_case_receiver VARCHAR2(32),
  5    receive_type         VARCHAR2(1),
  6    begin_time           DATE,
  7    end_time             DATE,
  8    police_case_id       VARCHAR2(32),
  9    create_time          DATE default sysdate,
 10    process_type         VARCHAR2(2),
 11    order_id             VARCHAR2(32)
 12  )
 13  tablespace HIATMPTS
 14    pctfree 10
 15    initrans 1
 16    maxtrans 255
 17    storage
 18    (
 19      initial 64
 20      next 1
 21      minextents 1
 22      maxextents unlimited
 23    );
Table created
SQL> -- Add comments to the columns
SQL> comment on column PSD_PROCESS.id
  2    is 'UUID';
Comment added
SQL> comment on column PSD_PROCESS.police_case_receiver
  2    is '警情处置人';
Comment added
SQL> comment on column PSD_PROCESS.receive_type
  2    is '处置人类型1个人2部门3角色';
Comment added
SQL> comment on column PSD_PROCESS.begin_time
  2    is '开始时间';
Comment added
SQL> comment on column PSD_PROCESS.end_time
  2    is '结束时间';
Comment added
SQL> comment on column PSD_PROCESS.police_case_id
  2    is '警情ID';
Comment added
SQL> comment on column PSD_PROCESS.create_time
  2    is '创建时间';
Comment added
SQL> comment on column PSD_PROCESS.process_type
  2    is '子流程类型，枚举16000';
Comment added
SQL> comment on column PSD_PROCESS.order_id
  2    is '所属指令ID';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table PSD_PROCESS
  2    add constraint PK_PSD_PROCESS primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> -- Create table
SQL> create table PSD_SYS_PARAMS
  2  (
  3    paramcode    NVARCHAR2(32) not null,
  4    paramname    NVARCHAR2(100) not null,
  5    paramvalue   NVARCHAR2(2000) not null,
  6    paramcontent NVARCHAR2(250)
  7  )
  8  tablespace HIATMPTS
  9    pctfree 10
 10    initrans 1
 11    maxtrans 255
 12    storage
 13    (
 14      initial 64
 15      next 1
 16      minextents 1
 17      maxextents unlimited
 18    );
Table created
SQL> -- Add comments to the table
SQL> comment on table PSD_SYS_PARAMS
  2    is '警情处置参数配置';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column PSD_SYS_PARAMS.paramcode
  2    is '参数CODE';
Comment added
SQL> comment on column PSD_SYS_PARAMS.paramname
  2    is '参数名称';
Comment added
SQL> comment on column PSD_SYS_PARAMS.paramvalue
  2    is '参数值';
Comment added
SQL> comment on column PSD_SYS_PARAMS.paramcontent
  2    is '参数描述';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table PSD_SYS_PARAMS
  2    add constraint PSD_PARAMS_KEY primary key (PARAMCODE)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> -- Create table
SQL> create table PSD_TEMPLATE
  2  (
  3    order_type       VARCHAR2(2),
  4    template_content NVARCHAR2(1500),
  5    id               VARCHAR2(32) not null
  6  )
  7  tablespace HIATMPTS
  8    pctfree 10
  9    initrans 1
 10    maxtrans 255
 11    storage
 12    (
 13      initial 64
 14      next 1
 15      minextents 1
 16      maxextents unlimited
 17    );
Table created
SQL> -- Add comments to the columns
SQL> comment on column PSD_TEMPLATE.order_type
  2    is '指令类型';
Comment added
SQL> comment on column PSD_TEMPLATE.template_content
  2    is '模板内容';
Comment added
SQL> comment on column PSD_TEMPLATE.id
  2    is '主键';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table PSD_TEMPLATE
  2    add constraint PSD_TEMPLATE_ID primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> --以下重复  start-----------
SQL> /*
  2  -- Create table
  3  create table PEH_POLICE_VMS_INFO
  4  (
  5    id            VARCHAR2(32) not null,
  6    userid        VARCHAR2(6),
  7    starttime     DATE,
  8    endtime       DATE,
  9    processmode   INTEGER,
 10    status        INTEGER default 1 not null,
 11    username      VARCHAR2(100),
 12    controlstatus INTEGER default 100 not null
 13  )
 14  tablespace HIATMPTS
 15    pctfree 10
 16    initrans 1
 17    maxtrans 255
 18    storage
 19    (
 20      initial 64
 21      next 1
 22      minextents 1
 23      maxextents unlimited
 24    );
 25  -- Add comments to the table
 26  comment on table PEH_POLICE_VMS_INFO
 27    is '信息服务诱导发布警情信息表';
 28  -- Add comments to the columns
 29  comment on column PEH_POLICE_VMS_INFO.id
 30    is '警情ID';
 31  comment on column PEH_POLICE_VMS_INFO.userid
 32    is '处理人id';
 33  comment on column PEH_POLICE_VMS_INFO.starttime
 34    is '开始时间';
 35  comment on column PEH_POLICE_VMS_INFO.endtime
 36    is '结束时间';
 37  comment on column PEH_POLICE_VMS_INFO.processmode
 38    is '处理方式';
 39  comment on column PEH_POLICE_VMS_INFO.status
 40    is '处理状态1未处理2处理中3已处理完成';
 41  comment on column PEH_POLICE_VMS_INFO.username
 42    is '处理人名字';
 43  comment on column PEH_POLICE_VMS_INFO.controlstatus
 44    is '控制状态100;';
 45  */
 46  --以上重复  end-----------
SQL> -- Create table
SQL> create table PSD_ACCIDENT_CARS
  2  (
  3    case_id            VARCHAR2(32) not null,
  4    license_plate_num  VARCHAR2(20) not null,
  5    license_plate_type VARCHAR2(2) not null,
  6    collision_part     VARCHAR2(32),
  7    happened_time      VARCHAR2(20)
  8  )
  9  tablespace HIATMPTS
 10    pctfree 10
 11    initrans 1
 12    maxtrans 255
 13    storage
 14    (
 15      initial 64
 16      next 8
 17      minextents 1
 18      maxextents unlimited
 19    );
Table created
SQL> -- Add comments to the table
SQL> comment on table PSD_ACCIDENT_CARS
  2    is '事故车辆信息';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column PSD_ACCIDENT_CARS.case_id
  2    is '警情单号UUID';
Comment added
SQL> comment on column PSD_ACCIDENT_CARS.license_plate_num
  2    is '号牌号码';
Comment added
SQL> comment on column PSD_ACCIDENT_CARS.license_plate_type
  2    is '号牌类型';
Comment added
SQL> comment on column PSD_ACCIDENT_CARS.collision_part
  2    is '碰撞部位';
Comment added
SQL> comment on column PSD_ACCIDENT_CARS.happened_time
  2    is '事发时间';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table PSD_ACCIDENT_CARS
  2    add constraint PK_PSD_ACCIDENT_CARS primary key (LICENSE_PLATE_NUM, CASE_ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> -- Create table
SQL> create table PSD_ACCIDENT_INFO
  2  (
  3    case_id       VARCHAR2(32) not null,
  4    injery_num    VARCHAR2(2) default 0,
  5    death_num     VARCHAR2(2) default 0,
  6    happened_time VARCHAR2(20)
  7  )
  8  tablespace HIATMPTS
  9    pctfree 10
 10    initrans 1
 11    maxtrans 255
 12    storage
 13    (
 14      initial 64
 15      next 8
 16      minextents 1
 17      maxextents unlimited
 18    );
Table created
SQL> -- Add comments to the table
SQL> comment on table PSD_ACCIDENT_INFO
  2    is '事故详情表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column PSD_ACCIDENT_INFO.case_id
  2    is '警情单号UUID';
Comment added
SQL> comment on column PSD_ACCIDENT_INFO.injery_num
  2    is '受伤数量';
Comment added
SQL> comment on column PSD_ACCIDENT_INFO.death_num
  2    is '死亡人数';
Comment added
SQL> comment on column PSD_ACCIDENT_INFO.happened_time
  2    is '事发时长';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table PSD_ACCIDENT_INFO
  2    add constraint PK_PSD_ACCIDENT_INFO primary key (CASE_ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> -- Create table
SQL> create table PEH_POLICE_EMERGENCY
  2  (
  3    case_id                VARCHAR2(32) not null,
  4    source                 VARCHAR2(2),
  5    case_category          VARCHAR2(2),
  6    concrete_type          VARCHAR2(4),
  7    nlevel                 CHAR(1),
  8    status                 VARCHAR2(2) default 1 not null,
  9    department_id          VARCHAR2(18),
 10    brief                  NVARCHAR2(150),
 11    detail                 NVARCHAR2(300),
 12    start_time             DATE,
 13    end_time               DATE,
 14    point_id               VARCHAR2(12),
 15    location_name          NVARCHAR2(150),
 16    longitude              VARCHAR2(200),
 17    latitude               VARCHAR2(200),
 18    area_id                NVARCHAR2(20),
 19    road_id                VARCHAR2(12),
 20    road_name              NVARCHAR2(50),
 21    pic_url                VARCHAR2(200),
 22    video_url              VARCHAR2(200),
 23    report_usrname         NVARCHAR2(20),
 24    create_time            DATE default SYSDATE,
 25    remark                 NVARCHAR2(150),
 26    cartype                VARCHAR2(2),
 27    carnumber              VARCHAR2(16),
 28    recordline             CLOB,
 29    last_modify_time       DATE,
 30    delete_flag            VARCHAR2(2),
 31    source_super           VARCHAR2(2),
 32    phone_num              VARCHAR2(20),
 33    sex                    VARCHAR2(2),
 34    case_type              VARCHAR2(2),
 35    isauto                 VARCHAR2(2) default 0,
 36    checkflag              VARCHAR2(2) default 0,
 37    up_and_down            VARCHAR2(2),
 38    dldm                   VARCHAR2(5),
 39    lkdm                   VARCHAR2(5),
 40    meter                  VARCHAR2(10),
 41    pile_num               VARCHAR2(10),
 42    similar_case_id        VARCHAR2(32) default 0,
 43    additional_information VARCHAR2(100),
 44    third_case_id          VARCHAR2(100),
 45    receiver               VARCHAR2(6),
 46    handler                NVARCHAR2(10),
 47    note                   VARCHAR2(300),
 48    direction              VARCHAR2(4),
 49    terminator             VARCHAR2(6),
 50    receiver_phone         VARCHAR2(20),
 51    receiver_type          VARCHAR2(2),
 52    report_type            VARCHAR2(2),
 53    report_id              VARCHAR2(6),
 54    disappear_time         DATE,
 55    jamover                VARCHAR2(2),
 56    msgpk                  NVARCHAR2(200),
 57    point_name             NVARCHAR2(50),
 58    invalidflag            VARCHAR2(2) default 0,
 59    invaliduser            NVARCHAR2(50),
 60    orderid122             NVARCHAR2(50),
 61    oldcaseid              VARCHAR2(32),
 62    cancletime             DATE,
 63    poidesc                VARCHAR2(20)
 64  )
 65  tablespace HIATMPTS
 66    pctfree 10
 67    initrans 1
 68    maxtrans 255
 69    storage
 70    (
 71      initial 16
 72      next 8
 73      minextents 1
 74      maxextents unlimited
 75    );
Table created
SQL> -- Add comments to the columns
SQL> comment on column PEH_POLICE_EMERGENCY.case_id
  2    is '警情单号UUID';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.source
  2    is '来源2级（枚举1118）';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.case_category
  2    is '警情种类(枚举1110)';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.concrete_type
  2    is '具体类别(枚举1120)';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.nlevel
  2    is '警情级别（枚举1139）';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.status
  2    is '警情状态(枚举15003）';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.department_id
  2    is '处警部门编号';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.brief
  2    is '简要警情描述';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.detail
  2    is '详细描述';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.start_time
  2    is '开始时间';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.end_time
  2    is '结束时间';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.point_id
  2    is '地点编号（平台）';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.location_name
  2    is '地点名称';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.longitude
  2    is '经度';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.latitude
  2    is '纬度';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.area_id
  2    is '辖区编号（枚举值180)';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.road_id
  2    is '路段编码';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.road_name
  2    is '路段名称';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.pic_url
  2    is '图片URL';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.video_url
  2    is '视频URL';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.report_usrname
  2    is '报警人';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.create_time
  2    is '创建时间';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.remark
  2    is '备注';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.cartype
  2    is '号牌类型';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.carnumber
  2    is '号牌号码';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.recordline
  2    is '备案路线';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.source_super
  2    is '来源1级（枚举15001）';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.phone_num
  2    is '联系电话';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.sex
  2    is '性别：0，男 1，女';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.case_type
  2    is '报警类别：0，实时警情 1，信息调度';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.isauto
  2    is '0手动，1自动';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.checkflag
  2    is '0未查看的警情,1已查看的警情';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.up_and_down
  2    is '上下行标识（枚举值1302：0上行，1下行）';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.dldm
  2    is '道路代码（5位数字）';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.lkdm
  2    is '路口代码（5位数字）';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.meter
  2    is '米数';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.pile_num
  2    is '桩号(前四位代表公里，后三位代表米)';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.similar_case_id
  2    is '与之关联的相似警情id';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.additional_information
  2    is '附加信息';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.third_case_id
  2    is '第三方警情ID';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.receiver
  2    is '接警人id';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.handler
  2    is '处理警情人员';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.note
  2    is '备注';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.direction
  2    is '方向';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.terminator
  2    is '结警人';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.receiver_phone
  2    is '接警人电话';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.receiver_type
  2    is '接警人类型';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.report_type
  2    is '报警人类型  0 执法民警 1 普通民警 2 群众';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.report_id
  2    is '报警人id';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.disappear_time
  2    is '信号自主检测拥堵警情消散时间';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.jamover
  2    is '信号自主检测拥堵警情消散状态';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.msgpk
  2    is '信号自主检测拥堵警情唯一标识';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.point_name
  2    is '地点名称（设备安装点名称）';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.invalidflag
  2    is '0：有效 1：已作废无效';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.invaliduser
  2    is '警情无效操作人员';
Comment added
SQL> comment on column PEH_POLICE_EMERGENCY.orderid122
  2    is '指令单编号122';
Comment added
SQL> -- Create/Recreate indexes
SQL> create bitmap index IDX_PEH_ENERGENCY_STATUS on PEH_POLICE_EMERGENCY (STATUS)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> create index IDX_PEH_POLICE_EMERGENCY on PEH_POLICE_EMERGENCY (LOCATION_NAME)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table PEH_POLICE_EMERGENCY
  2    add constraint PK_PEH_POLICE_EMERGENCY primary key (CASE_ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> -- Create table
SQL> create table LEG_WRECKER_POINT
  2  (
  3    id              VARCHAR2(32) not null,
  4    sn              VARCHAR2(32),
  5    name            NVARCHAR2(50),
  6    point_x         VARCHAR2(20),
  7    area_range_desc NVARCHAR2(100),
  8    charge_people   NVARCHAR2(32),
  9    charge_phone    VARCHAR2(32),
 10    creator         NVARCHAR2(32),
 11    create_time     DATE default sysdate,
 12    updater         VARCHAR2(32),
 13    update_time     DATE default sysdate,
 14    point_y         VARCHAR2(20),
 15    belong_area     VARCHAR2(20),
 16    remark          NVARCHAR2(100)
 17  )
 18  tablespace HIATMPTS
 19    pctfree 10
 20    initrans 1
 21    maxtrans 255
 22    storage
 23    (
 24      initial 16K
 25      next 8K
 26      minextents 1
 27      maxextents unlimited
 28    );
Table created
SQL> -- Add comments to the table
SQL> comment on table LEG_WRECKER_POINT
  2    is '清障车点表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column LEG_WRECKER_POINT.id
  2    is '主键';
Comment added
SQL> comment on column LEG_WRECKER_POINT.sn
  2    is '编号';
Comment added
SQL> comment on column LEG_WRECKER_POINT.name
  2    is '名称';
Comment added
SQL> comment on column LEG_WRECKER_POINT.point_x
  2    is '经度';
Comment added
SQL> comment on column LEG_WRECKER_POINT.area_range_desc
  2    is '区域描述';
Comment added
SQL> comment on column LEG_WRECKER_POINT.charge_people
  2    is '负责人';
Comment added
SQL> comment on column LEG_WRECKER_POINT.charge_phone
  2    is '负责人电话';
Comment added
SQL> comment on column LEG_WRECKER_POINT.creator
  2    is '创建者';
Comment added
SQL> comment on column LEG_WRECKER_POINT.create_time
  2    is '创建时间';
Comment added
SQL> comment on column LEG_WRECKER_POINT.updater
  2    is '更新者';
Comment added
SQL> comment on column LEG_WRECKER_POINT.update_time
  2    is '更新时间';
Comment added
SQL> comment on column LEG_WRECKER_POINT.point_y
  2    is '纬度';
Comment added
SQL> comment on column LEG_WRECKER_POINT.belong_area
  2    is '区域id（枚举180）';
Comment added
SQL> comment on column LEG_WRECKER_POINT.remark
  2    is '备注';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table LEG_WRECKER_POINT
  2    add constraint PK_LEG_WRECKER_POINT primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> -- Create table
SQL> create table PSD_AUTORIZATION_CONFIG_DETAIL
  2  (
  3    department_type      VARCHAR2(1),
  4    modes                VARCHAR2(1),
  5    autorization_entries VARCHAR2(20),
  6    detail               VARCHAR2(32)
  7  )
  8  tablespace HIATMPTS
  9    pctfree 10
 10    initrans 1
 11    maxtrans 255
 12    storage
 13    (
 14      initial 64K
 15      next 1M
 16      minextents 1
 17      maxextents unlimited
 18    );
Table created
SQL> -- Create table
SQL> create table PSD_AUTORIZATION_CONFIG
  2  (
  3    department_type      VARCHAR2(1) not null,
  4    modes                VARCHAR2(1),
  5    autorization_entries VARCHAR2(20)
  6  )
  7  tablespace HIATMPTS
  8    pctfree 10
  9    initrans 1
 10    maxtrans 255
 11    storage
 12    (
 13      initial 64K
 14      next 1M
 15      minextents 1
 16      maxextents unlimited
 17    );
Table created
SQL> -- Add comments to the columns
SQL> comment on column PSD_AUTORIZATION_CONFIG.department_type
  2    is '部门类型0为支队，1为大队';
Comment added
SQL> comment on column PSD_AUTORIZATION_CONFIG.modes
  2    is '指挥方式0为集中式 ，1为两级式';
Comment added
SQL> comment on column PSD_AUTORIZATION_CONFIG.autorization_entries
  2    is '拥有的权限';
Comment added
SQL> -- Create table
SQL> create table PEH_POLICE_FOG_PLAN
  2  (
  3    ID        VARCHAR2(32) not null,
  4    MODELTYPE VARCHAR2(16),
  5    MODELNAME VARCHAR2(128),
  6    MODELID   VARCHAR2(32),
  7    RELATEID  VARCHAR2(80)
  8  )
  9  tablespace HIATMPTS
 10    pctfree 10
 11    initrans 1
 12    maxtrans 255
 13    storage
 14    (
 15      initial 16
 16      next 8
 17      minextents 1
 18      maxextents unlimited
 19    );
Table created
SQL> -- Add comments to the columns
SQL> comment on column PEH_POLICE_FOG_PLAN.ID
  2    is 'ID';
Comment added
SQL> comment on column PEH_POLICE_FOG_PLAN.MODELTYPE
  2    is '模式类型';
Comment added
SQL> comment on column PEH_POLICE_FOG_PLAN.MODELNAME
  2    is '模式名称';
Comment added
SQL> comment on column PEH_POLICE_FOG_PLAN.MODELID
  2    is '模式ID';
Comment added
SQL> comment on column PEH_POLICE_FOG_PLAN.RELATEID
  2    is '设备关联ID';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table PEH_POLICE_FOG_PLAN
  2    add constraint XPKPEH_POLICE_FOG_PLAN primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL>   -- Create table
SQL> create table PEH_POLICE_PROPAGANDA_ELEMENT
  2  (
  3    ELEMENT_ID    VARCHAR2(32) not null,
  4    ELEMENT_TITLE VARCHAR2(128),
  5    ELEMENT_TEXT  VARCHAR2(2048),
  6    PROGRAM_TYPE  VARCHAR2(32),
  7    EXTCOL        VARCHAR2(512)
  8  )
  9  tablespace HIATMPTS
 10    pctfree 10
 11    initrans 1
 12    maxtrans 255
 13    storage
 14    (
 15      initial 16
 16      next 8
 17      minextents 1
 18      maxextents unlimited
 19    );
Table created
SQL> -- Add comments to the columns
SQL> comment on column PEH_POLICE_PROPAGANDA_ELEMENT.ELEMENT_ID
  2    is '节目ID';
Comment added
SQL> comment on column PEH_POLICE_PROPAGANDA_ELEMENT.ELEMENT_TITLE
  2    is '节目名称';
Comment added
SQL> comment on column PEH_POLICE_PROPAGANDA_ELEMENT.ELEMENT_TEXT
  2    is '节目内容';
Comment added
SQL> comment on column PEH_POLICE_PROPAGANDA_ELEMENT.PROGRAM_TYPE
  2    is '节目类别';
Comment added
SQL> comment on column PEH_POLICE_PROPAGANDA_ELEMENT.EXTCOL
  2    is '扩展字段';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table PEH_POLICE_PROPAGANDA_ELEMENT
  2    add constraint PEH_POLICE_PRO_ELEMENT_KEY primary key (ELEMENT_ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255;
Table altered
SQL>   -- Create table
SQL> create table PEH_POLICE_VMS_PLAN
  2  (
  3    ID         VARCHAR2(32) not null,
  4    VMSCASEID  VARCHAR2(32),
  5    RELATEID   VARCHAR2(80),
  6    ELEMENTIDS VARCHAR2(2000)
  7  )
  8  tablespace HIATMPTS
  9    pctfree 10
 10    initrans 1
 11    maxtrans 255
 12    storage
 13    (
 14      initial 16
 15      next 8
 16      minextents 1
 17      maxextents unlimited
 18    );
Table created
SQL> -- Add comments to the columns
SQL> comment on column PEH_POLICE_VMS_PLAN.ID
  2    is 'ID';
Comment added
SQL> comment on column PEH_POLICE_VMS_PLAN.VMSCASEID
  2    is '诱导发布计划id';
Comment added
SQL> comment on column PEH_POLICE_VMS_PLAN.RELATEID
  2    is '设备关联ID';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table PEH_POLICE_VMS_PLAN
  2    add constraint XPKPEH_POLICE_VMS_PLAN primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL>   -- Create table
SQL> create table PEH_POLICEEXPRESSWAY_VMS_PLAN
  2  (
  3    ID             VARCHAR2(32) not null,
  4    VMSPLANID      VARCHAR2(32),
  5    GROUPTYPE      VARCHAR2(8),
  6    GROUPNAMES     VARCHAR2(128),
  7    PLAYCOUNT      NUMBER,
  8    CAR_DIRECTION  VARCHAR2(20),
  9    ROAD_NUMBER    NUMBER(2),
 10    RELATEID       VARCHAR2(80),
 11    ELEMENTGROUPID VARCHAR2(2000),
 12    DEVICEID       VARCHAR2(32),
 13    ELEMENTIDS     VARCHAR2(2000)
 14  )
 15  tablespace HIATMPTS
 16    pctfree 10
 17    initrans 1
 18    maxtrans 255
 19    storage
 20    (
 21      initial 16K
 22      next 8K
 23      minextents 1
 24      maxextents unlimited
 25    );
Table created
SQL> -- Add comments to the columns
SQL> comment on column PEH_POLICEEXPRESSWAY_VMS_PLAN.ID
  2    is 'ID';
Comment added
SQL> comment on column PEH_POLICEEXPRESSWAY_VMS_PLAN.VMSPLANID
  2    is '节目组计划id';
Comment added
SQL> comment on column PEH_POLICEEXPRESSWAY_VMS_PLAN.GROUPTYPE
  2    is '诱导组类型';
Comment added
SQL> comment on column PEH_POLICEEXPRESSWAY_VMS_PLAN.GROUPNAMES
  2    is '诱导组名称';
Comment added
SQL> comment on column PEH_POLICEEXPRESSWAY_VMS_PLAN.PLAYCOUNT
  2    is '播放次数';
Comment added
SQL> comment on column PEH_POLICEEXPRESSWAY_VMS_PLAN.CAR_DIRECTION
  2    is '行车方向';
Comment added
SQL> comment on column PEH_POLICEEXPRESSWAY_VMS_PLAN.ROAD_NUMBER
  2    is '车道数量';
Comment added
SQL> comment on column PEH_POLICEEXPRESSWAY_VMS_PLAN.RELATEID
  2    is '设备关联ID';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table PEH_POLICEEXPRESSWAY_VMS_PLAN
  2    add constraint PEH_POLICE_EXP_VMS_PLAN_KEY primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255;
Table altered
SQL>   -- Create table
SQL> create table PEH_POLICE_VMS_INFO
  2  (
  3    ID            VARCHAR2(32) not null,
  4    USERID        VARCHAR2(6),
  5    STARTTIME     DATE,
  6    ENDTIME       DATE,
  7    PROCESSMODE   INTEGER,
  8    STATUS        INTEGER default 1 not null,
  9    USERNAME      VARCHAR2(100),
 10    CONTROLSTATUS INTEGER default 100 not null
 11  )
 12  tablespace HIATMPTS
 13    pctfree 10
 14    initrans 1
 15    maxtrans 255
 16    storage
 17    (
 18      initial 64
 19      next 1
 20      minextents 1
 21      maxextents unlimited
 22    );
Table created
SQL> -- Add comments to the table
SQL> comment on table PEH_POLICE_VMS_INFO
  2    is '信息服务诱导发布警情信息表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column PEH_POLICE_VMS_INFO.ID
  2    is '警情ID';
Comment added
SQL> comment on column PEH_POLICE_VMS_INFO.USERID
  2    is '处理人id';
Comment added
SQL> comment on column PEH_POLICE_VMS_INFO.STARTTIME
  2    is '开始时间';
Comment added
SQL> comment on column PEH_POLICE_VMS_INFO.ENDTIME
  2    is '结束时间';
Comment added
SQL> comment on column PEH_POLICE_VMS_INFO.PROCESSMODE
  2    is '处理方式';
Comment added
SQL> comment on column PEH_POLICE_VMS_INFO.STATUS
  2    is '处理状态1未处理2处理中3已处理完成';
Comment added
SQL> comment on column PEH_POLICE_VMS_INFO.USERNAME
  2    is '处理人名字';
Comment added
SQL> comment on column PEH_POLICE_VMS_INFO.CONTROLSTATUS
  2    is '控制状态100;';
Comment added
SQL>   -- Create table
SQL> create table PEH_POLICEFOG_MODELS
  2  (
  3    MODELID      VARCHAR2(32) not null,
  4    MODELTYPE    VARCHAR2(16),
  5    MODELNAME    VARCHAR2(128),
  6    THIRDSYSCODE VARCHAR2(32),
  7    ZLCDMS       VARCHAR2(32),
  8    YJDPL        VARCHAR2(32),
  9    YDDPL        VARCHAR2(32),
 10    YJDLD        VARCHAR2(32),
 11    YDDLD        VARCHAR2(32),
 12    WJCD         VARCHAR2(32),
 13    KQDD         VARCHAR2(32),
 14    WJSJ         VARCHAR2(32),
 15    CJQ          VARCHAR2(32),
 16    UPDATETIME   DATE,
 17    UPDATEUSER   VARCHAR2(32)
 18  )
 19  tablespace HIATMPTS
 20    pctfree 10
 21    initrans 1
 22    maxtrans 255
 23    storage
 24    (
 25      initial 16
 26      next 8
 27      minextents 1
 28      maxextents unlimited
 29    );
Table created
SQL> -- Add comments to the columns
SQL> comment on column PEH_POLICEFOG_MODELS.MODELID
  2    is '模式ID';
Comment added
SQL> comment on column PEH_POLICEFOG_MODELS.MODELTYPE
  2    is '模式类型';
Comment added
SQL> comment on column PEH_POLICEFOG_MODELS.MODELNAME
  2    is '模式名称';
Comment added
SQL> comment on column PEH_POLICEFOG_MODELS.THIRDSYSCODE
  2    is '第三方编号';
Comment added
SQL> comment on column PEH_POLICEFOG_MODELS.ZLCDMS
  2    is '指令传递模式';
Comment added
SQL> comment on column PEH_POLICEFOG_MODELS.YJDPL
  2    is '预警灯频率';
Comment added
SQL> comment on column PEH_POLICEFOG_MODELS.YDDPL
  2    is '诱导灯频率';
Comment added
SQL> comment on column PEH_POLICEFOG_MODELS.YJDLD
  2    is '预警灯亮度';
Comment added
SQL> comment on column PEH_POLICEFOG_MODELS.YDDLD
  2    is '诱导灯亮度';
Comment added
SQL> comment on column PEH_POLICEFOG_MODELS.WJCD
  2    is '尾迹长度';
Comment added
SQL> comment on column PEH_POLICEFOG_MODELS.KQDD
  2    is '开启道钉';
Comment added
SQL> comment on column PEH_POLICEFOG_MODELS.WJSJ
  2    is '尾迹时间';
Comment added
SQL> comment on column PEH_POLICEFOG_MODELS.CJQ
  2    is '车检器';
Comment added
SQL> comment on column PEH_POLICEFOG_MODELS.UPDATETIME
  2    is '更新时间';
Comment added
SQL> comment on column PEH_POLICEFOG_MODELS.UPDATEUSER
  2    is '创建用户';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table PEH_POLICEFOG_MODELS
  2    add constraint XPKPEH_POLICEFOG_MODELS primary key (MODELID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL>   -- Create table
SQL> create table PEH_POLICE_VMS_CONFIG
  2  (
  3    ID             VARCHAR2(32) not null,
  4    CASEID         VARCHAR2(32),
  5    DEVICEID       VARCHAR2(32),
  6    DEVICENAME     VARCHAR2(512),
  7    THIRDSYSCODE   VARCHAR2(32),
  8    DEVICETYPE     VARCHAR2(2),
  9    USERID         VARCHAR2(6),
 10    CHANGEID       VARCHAR2(6),
 11    REPORTID       VARCHAR2(6),
 12    VMSTYPE        VARCHAR2(16),
 13    VMSSIZE        VARCHAR2(16),
 14    DIRECTION      VARCHAR2(16),
 15    PROVIDER       VARCHAR2(16),
 16    STATUS         VARCHAR2(16),
 17    DEVICESTATE    VARCHAR2(16),
 18    DEPARTMENTID   VARCHAR2(32),
 19    CREATETIME     DATE,
 20    POINTID        VARCHAR2(32),
 21    UPVMSROAD      VARCHAR2(128),
 22    DOWNVMSROAD    VARCHAR2(128),
 23    CONFIGSTATE    VARCHAR2(4) default 0,
 24    COORDINATE     VARCHAR2(32),
 25    DEPARTMENTNAME VARCHAR2(128),
 26    POINTNAME      VARCHAR2(128),
 27    ELEMENTIDBF    VARCHAR2(32),
 28    ELEMENTIDNOW   VARCHAR2(32),
 29    COMMANDFLAG    VARCHAR2(2) default 0,
 30    PLAYTYPE       VARCHAR2(2) default 1,
 31    HANDLEDATE     DATE default sysdate,
 32    COMMANDTIME    DATE default sysdate,
 33    VIDEOTYPE      VARCHAR2(16),
 34    ISGROUP        VARCHAR2(2),
 35    ISLIMITED      VARCHAR2(1)
 36  )
 37  tablespace HIATMPTS
 38    pctfree 10
 39    initrans 1
 40    maxtrans 255
 41    storage
 42    (
 43      initial 64
 44      next 8
 45      minextents 1
 46      maxextents unlimited
 47    );
Table created
SQL> -- Add comments to the table
SQL> comment on table PEH_POLICE_VMS_CONFIG
  2    is '诱导发布警情信息处理配置表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column PEH_POLICE_VMS_CONFIG.ID
  2    is 'ID';
Comment added
SQL> comment on column PEH_POLICE_VMS_CONFIG.CASEID
  2    is '当前警情ID';
Comment added
SQL> comment on column PEH_POLICE_VMS_CONFIG.DEVICEID
  2    is '设备ID';
Comment added
SQL> comment on column PEH_POLICE_VMS_CONFIG.DEVICENAME
  2    is '设备名称';
Comment added
SQL> comment on column PEH_POLICE_VMS_CONFIG.THIRDSYSCODE
  2    is '第三方编号';
Comment added
SQL> comment on column PEH_POLICE_VMS_CONFIG.DEVICETYPE
  2    is '设备配置类型 枚举1704';
Comment added
SQL> comment on column PEH_POLICE_VMS_CONFIG.USERID
  2    is '处理人ID';
Comment added
SQL> comment on column PEH_POLICE_VMS_CONFIG.CHANGEID
  2    is '交接员ID';
Comment added
SQL> comment on column PEH_POLICE_VMS_CONFIG.REPORTID
  2    is '上报员ID';
Comment added
SQL> comment on column PEH_POLICE_VMS_CONFIG.VMSTYPE
  2    is '诱导屏类型（枚举186）';
Comment added
SQL> comment on column PEH_POLICE_VMS_CONFIG.VMSSIZE
  2    is '诱导屏尺寸';
Comment added
SQL> comment on column PEH_POLICE_VMS_CONFIG.DIRECTION
  2    is '诱导屏方向（枚举149）';
Comment added
SQL> comment on column PEH_POLICE_VMS_CONFIG.PROVIDER
  2    is '诱导屏厂商（枚举902）';
Comment added
SQL> comment on column PEH_POLICE_VMS_CONFIG.STATUS
  2    is '执行状态（0未执行1成功2失败）';
Comment added
SQL> comment on column PEH_POLICE_VMS_CONFIG.DEVICESTATE
  2    is '设备状态（枚举100）';
Comment added
SQL> comment on column PEH_POLICE_VMS_CONFIG.DEPARTMENTID
  2    is '所属部门';
Comment added
SQL> comment on column PEH_POLICE_VMS_CONFIG.CREATETIME
  2    is '制作时间';
Comment added
SQL> comment on column PEH_POLICE_VMS_CONFIG.POINTID
  2    is '安装点';
Comment added
SQL> comment on column PEH_POLICE_VMS_CONFIG.UPVMSROAD
  2    is '雾区防撞上行诱导路段';
Comment added
SQL> comment on column PEH_POLICE_VMS_CONFIG.DOWNVMSROAD
  2    is '雾区防撞下行诱导路段';
Comment added
SQL> comment on column PEH_POLICE_VMS_CONFIG.CONFIGSTATE
  2    is '节目配置状态 0未配置 1已配置';
Comment added
SQL> comment on column PEH_POLICE_VMS_CONFIG.COORDINATE
  2    is '设备安装点坐标';
Comment added
SQL> comment on column PEH_POLICE_VMS_CONFIG.DEPARTMENTNAME
  2    is '所属部门名称';
Comment added
SQL> comment on column PEH_POLICE_VMS_CONFIG.POINTNAME
  2    is '安装点名称';
Comment added
SQL> comment on column PEH_POLICE_VMS_CONFIG.ELEMENTIDBF
  2    is '该设备配置前节目ID';
Comment added
SQL> comment on column PEH_POLICE_VMS_CONFIG.ELEMENTIDNOW
  2    is '设备配置节目ID';
Comment added
SQL> comment on column PEH_POLICE_VMS_CONFIG.COMMANDFLAG
  2    is '0:指令未下发 1：指令下发';
Comment added
SQL> comment on column PEH_POLICE_VMS_CONFIG.PLAYTYPE
  2    is '1X:诱导（独占）';
Comment added
SQL> comment on column PEH_POLICE_VMS_CONFIG.HANDLEDATE
  2    is '当前配置处理时间';
Comment added
SQL> comment on column PEH_POLICE_VMS_CONFIG.COMMANDTIME
  2    is '指令下发时间';
Comment added
SQL> comment on column PEH_POLICE_VMS_CONFIG.VIDEOTYPE
  2    is '视频类型';
Comment added
SQL> comment on column PEH_POLICE_VMS_CONFIG.ISGROUP
  2    is '0 是限速设备组 1 非限速设备组信息';
Comment added
SQL> comment on column PEH_POLICE_VMS_CONFIG.ISLIMITED
  2    is '是否发限速消息（1：发，0：不发）';
Comment added
SQL>   -- Create table
SQL> create table EMERGENCY_RESOURCES_MANAGE
  2  (
  3    id                VARCHAR2(32) not null,
  4    department_name   VARCHAR2(100),
  5    resource_type     VARCHAR2(2),
  6    department_level  VARCHAR2(2),
  7    linkman           VARCHAR2(40),
  8    telephone         VARCHAR2(13),
  9    address           VARCHAR2(200),
 10    equip_status      VARCHAR2(1000),
 11    longandlatitude   VARCHAR2(50),
 12    createuserid      VARCHAR2(32),
 13    createdate        DATE,
 14    edituserid        VARCHAR2(6),
 15    editdate          DATE,
 16    create_department VARCHAR2(12)
 17  )
 18  tablespace HIATMPTS
 19    pctfree 10
 20    initrans 1
 21    maxtrans 255
 22    storage
 23    (
 24      initial 64K
 25      next 1M
 26      minextents 1
 27      maxextents unlimited
 28    );
Table created
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table EMERGENCY_RESOURCES_MANAGE
  2    add constraint RESOURCES_MANAGE_ID_PK primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> -- Add/modify columns
SQL> alter table PSD_ORDER add disposal_state varchar2(32);
Table altered
SQL> -- Add comments to the columns
SQL> comment on column PSD_ORDER.disposal_state
  2    is '警情处置状态(枚举值15005)';
Comment added
SQL> -- Add/modify columns
SQL> alter table PSD_ORDER add deviceid varchar2(32);
Table altered
SQL> alter table PSD_ORDER add response_code varchar2(32);
Table altered
SQL> alter table PSD_ORDER add response_message nvarchar2(300);
Table altered
SQL> alter table PSD_ORDER add response_time date;
Table altered
SQL> -- Add comments to the columns
SQL> comment on column PSD_ORDER. deviceid
  2    is '处置设备ID';
Comment added
SQL> comment on column PSD_ORDER.response_code
  2    is '响应编码(枚举值178)';
Comment added
SQL> comment on column PSD_ORDER.response_message
  2    is '响应信息';
Comment added
SQL> comment on column PSD_ORDER.response_time
  2    is '响应时间';
Comment added
SQL> alter table PSD_ORDER_ATTACHMENT add attachment_type varchar2(2);
Table altered
SQL> -- Add comments to the columns
SQL> comment on column PSD_ORDER_ATTACHMENT.attachment_type
  2    is '附件类型(1、图片 2、视频)';
Comment added
SQL> commit;
Commit complete
SQL> -- Add/modify columns
SQL> alter table PEH_POLICE_EMERGENCY modify brief NVARCHAR2(150);
Table altered
SQL> commit;
Commit complete
SQL> --以下重复  start-----------
SQL> /*
  2  -- Create table
  3  create table DM_POSITION
  4  (
  5    ID                   VARCHAR2(32) default sys_guid() not null,
  6    POSITION_COMMON_ID   VARCHAR2(32),
  7    ZHI_DEPTID           VARCHAR2(12) default -1,
  8    DEPTID               VARCHAR2(12) default -1,
  9    MIDDEPTID            VARCHAR2(12) default -1,
 10    POSITION_NAME        VARCHAR2(50),
 11    POSITION_CHARACTOR   VARCHAR2(2),
 12    POSITION_TYPE        VARCHAR2(2),
 13    POSITION_LEVEL       VARCHAR2(2),
 14    POSITION_AUDIT_LEVEL VARCHAR2(2) default 3,
 15    COORDINATE           CLOB,
 16    DUTY_TYPE            VARCHAR2(20),
 17    CREATOR              VARCHAR2(10),
 18    CREATE_TIME          DATE default sysdate,
 19    UPDATER              VARCHAR2(10),
 20    UPDATE_TIME          DATE,
 21    MAXDUTYTIME          VARCHAR2(10),
 22    MINDUTYTIME          VARCHAR2(10),
 23    SERVICE_TYPE         VARCHAR2(2),
 24    DRESSING_TYPE        VARCHAR2(10),
 25    EQUIPMENT_TYPE       VARCHAR2(10),
 26    DEL_FLAG             VARCHAR2(2) default 0
 27  )
 28  tablespace HIATMPTS
 29    pctfree 10
 30    initrans 1
 31    maxtrans 255
 32    storage
 33    (
 34      initial 16
 35      next 8
 36      minextents 1
 37      maxextents unlimited
 38    );
 39  -- Add comments to the table
 40  comment on table DM_POSITION
 41    is '岗位信息管理表';
 42  -- Add comments to the columns
 43  comment on column DM_POSITION.ID
 44    is '主键';
 45  comment on column DM_POSITION.POSITION_COMMON_ID
 46    is '岗位统一标识位';
 47  comment on column DM_POSITION.ZHI_DEPTID
 48    is '支队部门ID';
 49  comment on column DM_POSITION.DEPTID
 50    is '大队部门ID';
 51  comment on column DM_POSITION.MIDDEPTID
 52    is '中队部门ID';
 53  comment on column DM_POSITION.POSITION_NAME
 54    is '岗位名称';
 55  comment on column DM_POSITION.POSITION_CHARACTOR
 56    is '岗位特征 枚举 DUTY_POSITION_CHARACTER';
 57  comment on column DM_POSITION.POSITION_TYPE
 58    is '岗位类型 枚举 DUTY_POSITION_TYPE';
 59  comment on column DM_POSITION.POSITION_LEVEL
 60    is '岗位级别 枚举 DUTY_POSITION_LEVEL';
 61  comment on column DM_POSITION.POSITION_AUDIT_LEVEL
 62    is '审核级别 枚举';
 63  comment on column DM_POSITION.COORDINATE
 64    is '坐标';
 65  comment on column DM_POSITION.DUTY_TYPE
 66    is '执勤方式';
 67  comment on column DM_POSITION.CREATOR
 68    is '创建人';
 69  comment on column DM_POSITION.CREATE_TIME
 70    is '创建时间';
 71  comment on column DM_POSITION.UPDATER
 72    is '更新人';
 73  comment on column DM_POSITION.UPDATE_TIME
 74    is '更新时间';
 75  comment on column DM_POSITION.MAXDUTYTIME
 76    is '岗位最大执勤时长限制(单位:分钟)';
 77  comment on column DM_POSITION.MINDUTYTIME
 78    is '岗位最小执勤时长限制(单位:分钟)';
 79  comment on column DM_POSITION.SERVICE_TYPE
 80    is '勤务类型';
 81  comment on column DM_POSITION.DRESSING_TYPE
 82    is '武装着装';
 83  comment on column DM_POSITION.EQUIPMENT_TYPE
 84    is '装备报备';
 85  comment on column DM_POSITION.DEL_FLAG
 86    is '删除标识 0未删除；1删除';
 87  -- Create/Recreate primary, unique and foreign key constraints
 88  alter table DM_POSITION
 89    add constraint PK_DM_POSITION primary key (ID)
 90    using index
 91    tablespace HIATMPTS
 92    pctfree 10
 93    initrans 2
 94    maxtrans 255
 95    storage
 96    (
 97      initial 64K
 98      next 1M
 99      minextents 1
100      maxextents unlimited
101    );
102  -- Create/Recreate indexes
103  create index PK_DM_POSITION_DEL on DM_POSITION (DEL_FLAG)
104    tablespace HIATMPTS
105    pctfree 10
106    initrans 2
107    maxtrans 255
108    storage
109    (
110      initial 64K
111      next 1M
112      minextents 1
113      maxextents unlimited
114    );
115    */
116  --以上重复  end-----------
SQL>   --以下重复  start-----------
SQL> /*
  2  -- Create table
  3  create table DM_DEPLOY
  4  (
  5    ID           VARCHAR2(32) default sys_guid() not null,
  6    POSITION_ID  VARCHAR2(32),
  7    BEGIN_TIME   DATE,
  8    END_TIME     DATE,
  9    SUB_STATUS   VARCHAR2(2),
 10    SUB_TYPE     VARCHAR2(3),
 11    CREATOR      VARCHAR2(10),
 12    CREATOR_TIME DATE,
 13    UPDATER      VARCHAR2(10),
 14    UPDATE_TIME  DATE,
 15    DEL_FLAG     VARCHAR2(2) default 0,
 16    CONTINUITY   VARCHAR2(2) default 1
 17  )
 18  tablespace HIATMPTS
 19    pctfree 10
 20    initrans 1
 21    maxtrans 255
 22    storage
 23    (
 24      initial 64
 25      next 8
 26      minextents 1
 27      maxextents unlimited
 28    );
 29  -- Add comments to the table
 30  comment on table DM_DEPLOY
 31    is '岗位排班表';
 32  -- Add comments to the columns
 33  comment on column DM_DEPLOY.ID
 34    is '主键';
 35  comment on column DM_DEPLOY.POSITION_ID
 36    is '岗位主键';
 37  comment on column DM_DEPLOY.BEGIN_TIME
 38    is '上岗时间 YYYY-MM-DD HH:MM:SS';
 39  comment on column DM_DEPLOY.END_TIME
 40    is '撤岗时间 YYYY-MM-DD HH:MM:SS';
 41  comment on column DM_DEPLOY.SUB_STATUS
 42    is '岗位提交状态 0 中队待提交；1大队待审核；2支队待审核；3审核通过，待安排警力；4审核通过，已安排警力';
 43  comment on column DM_DEPLOY.SUB_TYPE
 44    is '岗位提交类型 0手动提交；1自动提交（000-111，个位表示中队；十位表示大队；百位表示支队）';
 45  comment on column DM_DEPLOY.CREATOR
 46    is '创建人';
 47  comment on column DM_DEPLOY.CREATOR_TIME
 48    is '创建时间';
 49  comment on column DM_DEPLOY.UPDATER
 50    is '更新人';
 51  comment on column DM_DEPLOY.UPDATE_TIME
 52    is '更新时间';
 53  comment on column DM_DEPLOY.DEL_FLAG
 54    is '删除标识 0未删除；1删除';
 55  comment on column DM_DEPLOY.CONTINUITY
 56    is '岗位班次连续标识 0连续 1非连续';
 57  -- Create/Recreate primary, unique and foreign key constraints
 58  alter table DM_DEPLOY
 59    add constraint PK_DM_DEPLOY primary key (ID)
 60    using index
 61    tablespace HIATMPTS
 62    pctfree 10
 63    initrans 2
 64    maxtrans 255
 65    storage
 66    (
 67      initial 64K
 68      next 1M
 69      minextents 1
 70      maxextents unlimited
 71    );
 72  -- Create/Recreate indexes
 73  create index PK_DM_DEPLOY_DELPK on DM_DEPLOY (DEL_FLAG)
 74    tablespace HIATMPTS
 75    pctfree 10
 76    initrans 2
 77    maxtrans 255
 78    storage
 79    (
 80      initial 64K
 81      next 1M
 82      minextents 1
 83      maxextents unlimited
 84    );
 85  create index PK_DM_DEPLOY_POSITIONID on DM_DEPLOY (POSITION_ID)
 86    tablespace HIATMPTS
 87    pctfree 10
 88    initrans 2
 89    maxtrans 255
 90    storage
 91    (
 92      initial 64K
 93      next 1M
 94      minextents 1
 95      maxextents unlimited
 96    );
 97    */
 98  --以上重复  end-----------
SQL>   --以下重复  start-----------
SQL> /*
  2  -- Create table
  3  create table DM_DEPLOY_POLICE
  4  (
  5    ID               VARCHAR2(32) default sys_guid() not null,
  6    DEPLOY_ID        VARCHAR2(32),
  7    TOOL_ID          VARCHAR2(32) default 1,
  8    POLICE_ID        VARCHAR2(32),
  9    DUTY_STATUS      VARCHAR2(2) default 0,
 10    WORK_STATUS      VARCHAR2(2) default 0,
 11    DUTY_RATIO       VARCHAR2(5),
 12    CREATOR          VARCHAR2(10),
 13    CREATOR_TIME     DATE,
 14    UPDATER          VARCHAR2(10),
 15    UPDATE_TIME      DATE,
 16    DEL_FLAG         VARCHAR2(2) default 0,
 17    POLICE_UUID      VARCHAR2(32),
 18    ABSENT_STATUS    VARCHAR2(2) default 0,
 19    MILEAGE          VARCHAR2(5) default 0,
 20    PATROL_DURATION  VARCHAR2(3) default 0,
 21    ON_DUTY_DURATION VARCHAR2(5) default 0
 22  )
 23  tablespace HIATMPTS
 24    pctfree 10
 25    initrans 1
 26    maxtrans 255
 27    storage
 28    (
 29      initial 64
 30      next 8
 31      minextents 1
 32      maxextents unlimited
 33    );
 34  -- Add comments to the table
 35  comment on table DM_DEPLOY_POLICE
 36    is '警力安排表';
 37  -- Add comments to the columns
 38  comment on column DM_DEPLOY_POLICE.ID
 39    is '主键';
 40  comment on column DM_DEPLOY_POLICE.DEPLOY_ID
 41    is '岗位排班主键';
 42  comment on column DM_DEPLOY_POLICE.TOOL_ID
 43    is '交通工具主键';
 44  comment on column DM_DEPLOY_POLICE.POLICE_ID
 45    is '警员表主键';
 46  comment on column DM_DEPLOY_POLICE.DUTY_STATUS
 47    is '在岗情况 0正常；1旷工（未上岗）；2脱岗（中途离开且GPS点位数不达标）';
 48  comment on column DM_DEPLOY_POLICE.WORK_STATUS
 49    is '迟到早退情况 0正常；1迟到；2早退；3既迟到又早退';
 50  comment on column DM_DEPLOY_POLICE.DUTY_RATIO
 51    is '在岗率 小数制，保留4位，例0.0001';
 52  comment on column DM_DEPLOY_POLICE.CREATOR
 53    is '创建人';
 54  comment on column DM_DEPLOY_POLICE.CREATOR_TIME
 55    is '创建时间';
 56  comment on column DM_DEPLOY_POLICE.UPDATER
 57    is '更新人';
 58  comment on column DM_DEPLOY_POLICE.UPDATE_TIME
 59    is '更新时间';
 60  comment on column DM_DEPLOY_POLICE.DEL_FLAG
 61    is '删除标识 0未删除；1已删除';
 62  comment on column DM_DEPLOY_POLICE.POLICE_UUID
 63    is '警员表数据主键';
 64  comment on column DM_DEPLOY_POLICE.ABSENT_STATUS
 65    is '是否旷工 0否；1是';
 66  comment on column DM_DEPLOY_POLICE.MILEAGE
 67    is '该班次巡逻里程，单位：千米';
 68  comment on column DM_DEPLOY_POLICE.PATROL_DURATION
 69    is '该班次巡逻时长，单位：小时';
 70  comment on column DM_DEPLOY_POLICE.ON_DUTY_DURATION
 71    is '在岗时长，单位：分钟';
 72  -- Create/Recreate primary, unique and foreign key constraints
 73  alter table DM_DEPLOY_POLICE
 74    add constraint PK_DM_DEPLOY_POLICE primary key (ID)
 75    using index
 76    tablespace HIATMPTS
 77    pctfree 10
 78    initrans 2
 79    maxtrans 255
 80    storage
 81    (
 82      initial 64K
 83      next 1M
 84      minextents 1
 85      maxextents unlimited
 86    );
 87  -- Create/Recreate indexes
 88  create index PK_DM_DEPLOY_POLICE_DEL on DM_DEPLOY_POLICE (DEL_FLAG)
 89    tablespace HIATMPTS
 90    pctfree 10
 91    initrans 2
 92    maxtrans 255
 93    storage
 94    (
 95      initial 64K
 96      next 1M
 97      minextents 1
 98      maxextents unlimited
 99    );
100  create index PK_DM_DEPLOY_POLICE_ID on DM_DEPLOY_POLICE (DEPLOY_ID)
101    tablespace HIATMPTS
102    pctfree 10
103    initrans 2
104    maxtrans 255
105    storage
106    (
107      initial 64K
108      next 1M
109      minextents 1
110      maxextents unlimited
111    );
112    */
113  --以上重复  end-----------
SQL> alter table PEH_POLICE_EMERGENCY modify area_id NVARCHAR2(20);
Table altered
SQL> comment on column PEH_POLICE_EMERGENCY.area_id
  2    is '辖区编号（枚举值180）（修改为部门代码）';
Comment added
SQL> -- Add/modify columns
SQL> alter table PSD_ORDER_ATTACHMENT modify attachment_type default 1;
Table altered
SQL> alter table PSD_PRESET add nlevel VARCHAR2(1) default 2;
Table altered
SQL>  -- Add comments to the columns
SQL>  comment on column PSD_PRESET.nlevel
  2     is '3大队，2支队';
Comment added
SQL> alter table PSD_ORDER_RECEIVER add create_time DATE default sysdate;
Table altered
SQL> comment on column PSD_ORDER_RECEIVER.create_time
  2    is '创建时间';
Comment added
SQL> alter table PEH_POLICE_VMS_INFO add create_time DATE default sysdate;
Table altered
SQL> comment on column PEH_POLICE_VMS_INFO.create_time
  2    is '创建时间';
Comment added
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑HiATMP-PSD5.8.0.5915.A1 胡越20190129  End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓HiATMP-PSD5.8.0.5915.A3 胡越20190129 Start-----------------------
SQL> -- Alter table
SQL> alter table PSD_ACCIDENT_CARS
  2    storage
  3    (
  4      next 8
  5    )
  6  ;
Table altered
SQL> -- Add comments to the columns
SQL> comment on column PSD_ACCIDENT_CARS.license_plate_type
  2    is '号牌类型(枚举值 170)';
Comment added
SQL> comment on column PSD_ACCIDENT_CARS.collision_part
  2    is '碰撞部位(枚举值 13013暂用前8个)';
Comment added
SQL> -- Create table
SQL> create table PEH_POLICE_PROPAGANDA_PLAN
  2  (
  3    ID             VARCHAR2(32) not null,
  4    PLAY_TYPE      VARCHAR2(8),
  5    MACID          VARCHAR2(32),
  6    MACNAME        VARCHAR2(128),
  7    AUDIOELEMENTID VARCHAR2(32),
  8    VOICENAME      VARCHAR2(2000),
  9    VOICEPATH      VARCHAR2(128),
 10    METHOD         VARCHAR2(16),
 11    DURATION       NUMBER(10),
 12    FREQUENCY      NUMBER(3),
 13    ELEMENT_ID     VARCHAR2(32),
 14    RELATEID       VARCHAR2(80)
 15  )
 16  tablespace HIATMPTS
 17    pctfree 10
 18    initrans 1
 19    maxtrans 255
 20    storage
 21    (
 22      initial 16
 23      next 8
 24      minextents 1
 25      maxextents unlimited
 26    );
Table created
SQL> -- Add comments to the columns
SQL> comment on column PEH_POLICE_PROPAGANDA_PLAN.ID
  2    is 'ID';
Comment added
SQL> comment on column PEH_POLICE_PROPAGANDA_PLAN.PLAY_TYPE
  2    is '播放模式(1麦克2音频3文字)';
Comment added
SQL> comment on column PEH_POLICE_PROPAGANDA_PLAN.MACID
  2    is '喊话mac';
Comment added
SQL> comment on column PEH_POLICE_PROPAGANDA_PLAN.MACNAME
  2    is '喊话麦克名称';
Comment added
SQL> comment on column PEH_POLICE_PROPAGANDA_PLAN.AUDIOELEMENTID
  2    is '音频设备id';
Comment added
SQL> comment on column PEH_POLICE_PROPAGANDA_PLAN.VOICENAME
  2    is '音频文件名称';
Comment added
SQL> comment on column PEH_POLICE_PROPAGANDA_PLAN.VOICEPATH
  2    is '音频文件路径';
Comment added
SQL> comment on column PEH_POLICE_PROPAGANDA_PLAN.METHOD
  2    is '持续方式';
Comment added
SQL> comment on column PEH_POLICE_PROPAGANDA_PLAN.DURATION
  2    is '持续时长';
Comment added
SQL> comment on column PEH_POLICE_PROPAGANDA_PLAN.FREQUENCY
  2    is '频率';
Comment added
SQL> comment on column PEH_POLICE_PROPAGANDA_PLAN.ELEMENT_ID
  2    is '节目ID';
Comment added
SQL> comment on column PEH_POLICE_PROPAGANDA_PLAN.RELATEID
  2    is '设备关联ID';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table PEH_POLICE_PROPAGANDA_PLAN
  2    add constraint XPKPEH_POLICE_PROPAGANDA_PLAN primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> -- Add/modify columns
SQL> alter table PSD_DUTY modify duty_sender NVARCHAR2(20);
Table altered
SQL> alter table PSD_DUTY modify duty_receiver NVARCHAR2(20);
Table altered
SQL> -- Add/modify columns
SQL> alter table PSD_PRESET_DETAIL modify order_rule NVARCHAR2(1000);
Table altered
SQL> commit;
Commit complete
SQL> -- Add/modify columns
SQL> alter table PSD_ORDER modify order_rule NVARCHAR2(500);
Table altered
SQL> commit;
Commit complete
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑HiATMP-PSD5.8.0.5915.A3 胡越20190129 End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓HiATMP-PSD5.8.0.5915.A4 胡越20190129 Start-----------------------
SQL> alter table PSD_DUTY add SHIFT_ID VARCHAR2(32);
Table altered
SQL> comment on column PSD_DUTY.SHIFT_ID
  2  is '交接班ID';
Comment added
SQL> alter table PSD_DUTY add FINISH_FLAG NUMBER(1);
Table altered
SQL> comment on column PSD_DUTY.FINISH_FLAG
  2  is '完成标志位 0：已完成 1：未完成';
Comment added
SQL> create table PSD_SHIFT
  2  (
  3    id             VARCHAR2(32) not null,
  4    duty_sender    NVARCHAR2(20),
  5    duty_receiver  NVARCHAR2(20),
  6    duty_note      VARCHAR2(256),
  7    finished_num     NUMBER(6),
  8    ongoing_num   NUMBER(6),
  9    begin_time     DATE,
 10    duty_time      DATE default Sysdate
 11  )
 12  tablespace HIATMPTS
 13    pctfree 10
 14    initrans 1
 15    maxtrans 255
 16    storage
 17    (
 18      initial 16K
 19      next 8K
 20      minextents 1
 21      maxextents unlimited
 22    );
Table created
SQL> -- Add comments to the table
SQL> comment on table PSD_SHIFT
  2    is '警情交接班记录表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column PSD_SHIFT.id
  2    is '主键，交接班记录id，';
Comment added
SQL> comment on column PSD_SHIFT.duty_sender
  2    is '交班人';
Comment added
SQL> comment on column PSD_SHIFT.duty_receiver
  2    is '接班人';
Comment added
SQL> comment on column PSD_SHIFT.duty_note
  2    is '备注';
Comment added
SQL> comment on column PSD_SHIFT.begin_time
  2    is '值班开始时间';
Comment added
SQL> comment on column PSD_SHIFT.duty_time
  2    is '交班时间';
Comment added
SQL> comment on column PSD_SHIFT.finished_num
  2    is '完成警情数目';
Comment added
SQL> comment on column PSD_SHIFT.ongoing_num
  2    is '进行中警情数目';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table PSD_SHIFT
  2    add constraint PK_PSD_SHIFT_PK primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> -- Add/modify columns jira30098
SQL> -- Alter table
SQL> alter table PSD_ACCIDENT_CARS
  2    storage
  3    (
  4      next 8
  5    )
  6  ;
Table altered
SQL> -- Add/modify columns
SQL> alter table PSD_ACCIDENT_CARS add id varchar2(32);
Table altered
SQL> -- Add comments to the columns
SQL> comment on column PSD_ACCIDENT_CARS.id
  2    is '主键';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table PSD_ACCIDENT_CARS
  2    drop constraint PK_PSD_ACCIDENT_CARS cascade;
Table altered
SQL> alter table PSD_ACCIDENT_CARS
  2    add constraint PK_PSD_ACCIDENT_CARS primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> alter table PSD_ACCIDENT_CARS modify license_plate_num null;
Table altered
SQL> alter table peh_police_vms_config add sendid VARCHAR2(32);
Table altered
SQL> comment on column peh_police_vms_config.sendid
  2  is '发送的节目计划ID';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column PSD_ORDER.receiver_type
  2    is '接收人类型1个人2部门3角色4岗位';
Comment added
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑HiATMP-PSD5.8.0.5915.A1 胡越20190129 End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓HiATMP-DB-SCS-DDL 刘晓冰20190129 Start-----------------------
SQL> --以下重复  start-----------
SQL> /*
  2  alter table BLACK_ALERT_FEEDBACK modify COERCIVECODE NVARCHAR2(20);
  3  
  4  begin
  5    sys.dbms_scheduler.create_job(job_name            => 'JOB_INSPECTACCOUNTMIDDLEDATA',
  6                                  job_type            => 'STORED_PROCEDURE',
  7                                  job_action          => 'INSPECTACCOUNTMIDDLEDATA',
  8                                  start_date          => to_date('16-08-2016 00:00:30', 'dd-mm-yyyy hh24:mi:ss'),
  9                                  repeat_interval     => 'TRUNC(SYSDATE+1)+3/24',
 10                                  end_date            => to_date(null),
 11                                  job_class           => 'DEFAULT_JOB_CLASS',
 12                                  enabled             => true,
 13                                  auto_drop           => false,
 14                                  comments            => '');
 15  end;
 16  /
 17  
 18  begin
 19    sys.dbms_scheduler.create_job(job_name            => 'JOB_IMPORTBLACKLIST',
 20                                  job_type            => 'STORED_PROCEDURE',
 21                                  job_action          => 'ImportBLackList',
 22                                  start_date          => to_date('16-08-2016 00:00:30', 'dd-mm-yyyy hh24:mi:ss'),
 23                                  repeat_interval     => 'TRUNC(sysdate)+1+2/(24)',
 24                                  end_date            => to_date(null),
 25                                  job_class           => 'DEFAULT_JOB_CLASS',
 26                                  enabled             => true,
 27                                  auto_drop           => false,
 28                                  comments            => '');
 29  end;
 30  /
 31  
 32  begin
 33    sys.dbms_scheduler.create_job(job_name            => 'JOB_arrange_alert_point_count',
 34                                  job_type            => 'STORED_PROCEDURE',
 35                                  job_action          => 'arrange_alert_point_count',
 36                                  start_date          => to_date('16-08-2016 00:00:30', 'dd-mm-yyyy hh24:mi:ss'),
 37                                  repeat_interval     =>'TRUNC(SYSDATE+1)+3/24',
 38                                  end_date            => to_date(null),
 39                                  job_class           => 'DEFAULT_JOB_CLASS',
 40                                  enabled             => true,
 41                                  auto_drop           => false,
 42                                  comments            => '');
 43  end;
 44  /
 45  
 46  
 47  begin
 48    sys.dbms_scheduler.create_job(job_name            => 'JOB_arrange_black_alert_count',
 49                                  job_type            => 'STORED_PROCEDURE',
 50                                  job_action          => 'arrange_black_alert_count',
 51                                  start_date          => to_date('16-08-2016 00:00:30', 'dd-mm-yyyy hh24:mi:ss'),
 52                                  repeat_interval     =>'TRUNC(SYSDATE+1)+3/24',
 53                                  end_date            => to_date(null),
 54                                  job_class           => 'DEFAULT_JOB_CLASS',
 55                                  enabled             => true,
 56                                  auto_drop           => false,
 57                                  comments            => '');
 58  end;
 59  /
 60  
 61  
 62  
 63  alter table BLACK_ALERT_FEEDBACK modify COERCIVECODE NVARCHAR2(20);
 64  alter table BLACK_LIST_MANAGE modify COERCIVECODE NVARCHAR2(20); */
 65  --以上重复  end-----------
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑HiATMP-DB-SCS-DDL 刘晓冰20190129 End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓HiATMP-DB-TPM-DDL 刘晓冰20190129 Start-----------------------
SQL> ----------------------------------------------
SQL> -- Export file for user HIATMP58            --
SQL> -- Created by liuxiaobing on 2018/8/20, 14:41:01 --
SQL> ----------------------------------------------
SQL> create table TPMS_AREA
  2  (
  3    ID          VARCHAR2(32) not null,
  4    ADVANCEID   VARCHAR2(32),
  5    COORDINATE  VARCHAR2(4000),
  6    AREATYPE    VARCHAR2(16),
  7    DESCRIPTION VARCHAR2(1024),
  8    CREATETIME  DATE,
  9    CREATEUSER  VARCHAR2(16),
 10    AREANAME    VARCHAR2(1000)
 11  )
 12  ;
Table created
SQL> comment on column TPMS_AREA.ID
  2    is '影响区域编号';
Comment added
SQL> comment on column TPMS_AREA.ADVANCEID
  2    is '预案编号';
Comment added
SQL> comment on column TPMS_AREA.COORDINATE
  2    is '区域坐标';
Comment added
SQL> comment on column TPMS_AREA.AREATYPE
  2    is '区域类型，枚举1117';
Comment added
SQL> comment on column TPMS_AREA.DESCRIPTION
  2    is '区域描述';
Comment added
SQL> comment on column TPMS_AREA.CREATETIME
  2    is '创建时间';
Comment added
SQL> comment on column TPMS_AREA.CREATEUSER
  2    is '创建人';
Comment added
SQL> comment on column TPMS_AREA.AREANAME
  2    is '区域名称';
Comment added
SQL> alter table TPMS_AREA
  2    add constraint XPKTPMS_AREA primary key (ID);
Table altered
SQL> create table TPMS_DUTY
  2  (
  3    ID               VARCHAR2(32) not null,
  4    ADVANCEID        VARCHAR2(32),
  5    POSITION_NAME    VARCHAR2(128),
  6    POSITION_TYPE    VARCHAR2(16),
  7    POSITION_ADDRESS VARCHAR2(256),
  8    PEOPLENUM        NUMBER,
  9    RESPONSIBILITY   VARCHAR2(1024),
 10    COORDINATE       VARCHAR2(4000),
 11    DEPT_ID          VARCHAR2(32),
 12    CREATE_TIME      DATE
 13  )
 14  ;
Table created
SQL> comment on column TPMS_DUTY.ID
  2    is '岗位编号';
Comment added
SQL> comment on column TPMS_DUTY.ADVANCEID
  2    is '预案编号';
Comment added
SQL> comment on column TPMS_DUTY.POSITION_NAME
  2    is '岗位名称';
Comment added
SQL> comment on column TPMS_DUTY.POSITION_TYPE
  2    is '岗位类型，枚举1123';
Comment added
SQL> comment on column TPMS_DUTY.POSITION_ADDRESS
  2    is '岗位地点';
Comment added
SQL> comment on column TPMS_DUTY.PEOPLENUM
  2    is '岗位人数';
Comment added
SQL> comment on column TPMS_DUTY.RESPONSIBILITY
  2    is '岗位职责';
Comment added
SQL> comment on column TPMS_DUTY.COORDINATE
  2    is '岗位坐标';
Comment added
SQL> comment on column TPMS_DUTY.DEPT_ID
  2    is '岗位部门';
Comment added
SQL> comment on column TPMS_DUTY.CREATE_TIME
  2    is '创建时间';
Comment added
SQL> alter table TPMS_DUTY
  2    add constraint XPKTPMS_DUTY primary key (ID);
Table altered
SQL> create table TPMS_DUTY_POLICE
  2  (
  3    ID         VARCHAR2(32) not null,
  4    DUTYID     VARCHAR2(32) not null,
  5    POLICEID   VARCHAR2(16),
  6    STARTTIME  DATE,
  7    ENDTIME    DATE,
  8    CREATEUSER VARCHAR2(16),
  9    CREATETIME DATE
 10  )
 11  ;
Table created
SQL> comment on column TPMS_DUTY_POLICE.ID
  2    is '岗位警员编号';
Comment added
SQL> comment on column TPMS_DUTY_POLICE.DUTYID
  2    is '岗位编号';
Comment added
SQL> comment on column TPMS_DUTY_POLICE.POLICEID
  2    is '警员编号';
Comment added
SQL> comment on column TPMS_DUTY_POLICE.STARTTIME
  2    is '岗位开始时间';
Comment added
SQL> comment on column TPMS_DUTY_POLICE.ENDTIME
  2    is '岗位结束时间';
Comment added
SQL> comment on column TPMS_DUTY_POLICE.CREATEUSER
  2    is '创建用户';
Comment added
SQL> comment on column TPMS_DUTY_POLICE.CREATETIME
  2    is '创建时间';
Comment added
SQL> alter table TPMS_DUTY_POLICE
  2    add constraint XPKTPMS_DUTY_POLICE primary key (ID);
Table altered
SQL> create table TPMS_EVALUATION
  2  (
  3    ID          VARCHAR2(32) not null,
  4    ADVANCEID   VARCHAR2(32),
  5    USERID      VARCHAR2(16),
  6    DESCRIPTION VARCHAR2(1024),
  7    EXECUTETIME DATE
  8  )
  9  ;
Table created
SQL> comment on column TPMS_EVALUATION.ID
  2    is '评价编号';
Comment added
SQL> comment on column TPMS_EVALUATION.ADVANCEID
  2    is '预案编号';
Comment added
SQL> comment on column TPMS_EVALUATION.USERID
  2    is '评价人';
Comment added
SQL> comment on column TPMS_EVALUATION.DESCRIPTION
  2    is '评价内容';
Comment added
SQL> comment on column TPMS_EVALUATION.EXECUTETIME
  2    is '评价时间';
Comment added
SQL> alter table TPMS_EVALUATION
  2    add constraint XPKTPMS_EVALUATION primary key (ID);
Table altered
SQL> create table TPMS_EXCT
  2  (
  3    EXCTID    VARCHAR2(32) not null,
  4    ADVANCENO VARCHAR2(32) not null,
  5    STARTTIME DATE not null,
  6    ENDTIME   DATE,
  7    USERID    VARCHAR2(20),
  8    USERIP    VARCHAR2(32),
  9    USERNAME  VARCHAR2(20)
 10  )
 11  ;
Table created
SQL> comment on column TPMS_EXCT.EXCTID
  2    is '执行编号';
Comment added
SQL> comment on column TPMS_EXCT.ADVANCENO
  2    is '预案编号';
Comment added
SQL> comment on column TPMS_EXCT.STARTTIME
  2    is '开始时间';
Comment added
SQL> comment on column TPMS_EXCT.ENDTIME
  2    is '结束时间';
Comment added
SQL> comment on column TPMS_EXCT.USERID
  2    is '执行人';
Comment added
SQL> comment on column TPMS_EXCT.USERIP
  2    is '执行ip';
Comment added
SQL> comment on column TPMS_EXCT.USERNAME
  2    is '执行人名称';
Comment added
SQL> alter table TPMS_EXCT
  2    add constraint XPKTPMS_EXCT primary key (EXCTID);
Table altered
SQL> create table TPMS_EXCT_CMD
  2  (
  3    CMDID          VARCHAR2(32) not null,
  4    EXCTSCENEID    VARCHAR2(32) not null,
  5    CONTENT        VARCHAR2(1024),
  6    USERID         VARCHAR2(20),
  7    CREATETIME     DATE,
  8    FEEDBACKSTATUS VARCHAR2(16) default 0 not null,
  9    RECEIVER       VARCHAR2(20) not null
 10  )
 11  ;
Table created
SQL> comment on table TPMS_EXCT_CMD
  2    is '指令记录表';
Comment added
SQL> comment on column TPMS_EXCT_CMD.CMDID
  2    is '指令编号';
Comment added
SQL> comment on column TPMS_EXCT_CMD.EXCTSCENEID
  2    is '执行场景编号';
Comment added
SQL> comment on column TPMS_EXCT_CMD.CONTENT
  2    is '指令内容';
Comment added
SQL> comment on column TPMS_EXCT_CMD.USERID
  2    is '发布人';
Comment added
SQL> comment on column TPMS_EXCT_CMD.CREATETIME
  2    is '发布时间';
Comment added
SQL> comment on column TPMS_EXCT_CMD.FEEDBACKSTATUS
  2    is '反馈情况(0未反馈，1已执行，2暂不执行)';
Comment added
SQL> comment on column TPMS_EXCT_CMD.RECEIVER
  2    is '接收岗位';
Comment added
SQL> alter table TPMS_EXCT_CMD
  2    add constraint XPKTPMS_EXCT_CMD primary key (CMDID);
Table altered
SQL> create table TPMS_EXCT_OPER
  2  (
  3    OPERID        VARCHAR2(32) not null,
  4    EXCTSCENEID   VARCHAR2(32) not null,
  5    CREATETIME    DATE,
  6    USERID        VARCHAR2(20),
  7    ISDELETE      VARCHAR2(4),
  8    DEVICETYPE    VARCHAR2(20) not null,
  9    OPERATIONTYPE VARCHAR2(16) not null,
 10    USERIP        VARCHAR2(32)
 11  )
 12  ;
Table created
SQL> comment on table TPMS_EXCT_OPER
  2    is '预案操作日志表';
Comment added
SQL> comment on column TPMS_EXCT_OPER.OPERID
  2    is '操作编号';
Comment added
SQL> comment on column TPMS_EXCT_OPER.EXCTSCENEID
  2    is '执行场景编号';
Comment added
SQL> comment on column TPMS_EXCT_OPER.CREATETIME
  2    is '创建时间';
Comment added
SQL> comment on column TPMS_EXCT_OPER.USERID
  2    is '创建人id';
Comment added
SQL> comment on column TPMS_EXCT_OPER.ISDELETE
  2    is '是否删除';
Comment added
SQL> comment on column TPMS_EXCT_OPER.DEVICETYPE
  2    is '操作设备类型 枚举1704';
Comment added
SQL> comment on column TPMS_EXCT_OPER.OPERATIONTYPE
  2    is '操作类型 0 批量撤销 1批量执行 2单个撤销 3单个执行';
Comment added
SQL> comment on column TPMS_EXCT_OPER.USERIP
  2    is '操作ip';
Comment added
SQL> alter table TPMS_EXCT_OPER
  2    add constraint XPKTPMS_EXCT_OPER primary key (OPERID);
Table altered
SQL> create table TPMS_EXCT_OPER_DETAIL
  2  (
  3    DETAILID VARCHAR2(32) not null,
  4    OPERID   VARCHAR2(32),
  5    DEVICEID VARCHAR2(32),
  6    STATUS   VARCHAR2(2),
  7    CONTENT  NVARCHAR2(2000)
  8  )
  9  ;
Table created
SQL> comment on table TPMS_EXCT_OPER_DETAIL
  2    is '预案操作日志详情表';
Comment added
SQL> comment on column TPMS_EXCT_OPER_DETAIL.DETAILID
  2    is '设备日志编号';
Comment added
SQL> comment on column TPMS_EXCT_OPER_DETAIL.OPERID
  2    is '操作编号';
Comment added
SQL> comment on column TPMS_EXCT_OPER_DETAIL.DEVICEID
  2    is '设备id';
Comment added
SQL> comment on column TPMS_EXCT_OPER_DETAIL.STATUS
  2    is '执行状态,0执行失败 1 执行成功 2撤销失败 3撤销成功';
Comment added
SQL> comment on column TPMS_EXCT_OPER_DETAIL.CONTENT
  2    is '操作描述';
Comment added
SQL> alter table TPMS_EXCT_OPER_DETAIL
  2    add constraint XPKTPMS_EXCT_OPER_DETAIL primary key (DETAILID);
Table altered
SQL> create table TPMS_EXCT_SCENE
  2  (
  3    EXCTSCENEID VARCHAR2(32) not null,
  4    EXCTID      VARCHAR2(32) not null,
  5    STARTTIME   DATE,
  6    ENDTIME     DATE,
  7    SCENEID     VARCHAR2(32) not null,
  8    USERID      VARCHAR2(20),
  9    EXECUTETYPE VARCHAR2(16)
 10  )
 11  ;
Table created
SQL> comment on column TPMS_EXCT_SCENE.EXCTSCENEID
  2    is '执行场景编号';
Comment added
SQL> comment on column TPMS_EXCT_SCENE.EXCTID
  2    is '执行编号';
Comment added
SQL> comment on column TPMS_EXCT_SCENE.STARTTIME
  2    is '开始时间';
Comment added
SQL> comment on column TPMS_EXCT_SCENE.ENDTIME
  2    is '结束时间';
Comment added
SQL> comment on column TPMS_EXCT_SCENE.SCENEID
  2    is '场景编号';
Comment added
SQL> comment on column TPMS_EXCT_SCENE.USERID
  2    is '执行人';
Comment added
SQL> comment on column TPMS_EXCT_SCENE.EXECUTETYPE
  2    is '执行类型（手动或自动）';
Comment added
SQL> alter table TPMS_EXCT_SCENE
  2    add constraint XPKTPMS_EXCT_SCENE primary key (EXCTSCENEID);
Table altered
SQL> create table TPMS_EXPRESSWAY_VMS_PLAN
  2  (
  3    ID             VARCHAR2(32) not null,
  4    VMSPLANID      VARCHAR2(32),
  5    GROUPTYPE      VARCHAR2(8),
  6    GROUPNAMES     VARCHAR2(128),
  7    PLAYCOUNT      NUMBER,
  8    CAR_DIRECTION  VARCHAR2(20),
  9    ROAD_NUMBER    NUMBER(2),
 10    RELATEID       VARCHAR2(80),
 11    ELEMENTGROUPID VARCHAR2(2000),
 12    DEVICEID       VARCHAR2(32),
 13    ELEMENTIDS     VARCHAR2(2000)
 14  )
 15  ;
Table created
SQL> comment on column TPMS_EXPRESSWAY_VMS_PLAN.ID
  2    is 'ID';
Comment added
SQL> comment on column TPMS_EXPRESSWAY_VMS_PLAN.VMSPLANID
  2    is '节目组计划id';
Comment added
SQL> comment on column TPMS_EXPRESSWAY_VMS_PLAN.GROUPTYPE
  2    is '诱导组类型';
Comment added
SQL> comment on column TPMS_EXPRESSWAY_VMS_PLAN.GROUPNAMES
  2    is '诱导组名称';
Comment added
SQL> comment on column TPMS_EXPRESSWAY_VMS_PLAN.PLAYCOUNT
  2    is '播放次数';
Comment added
SQL> comment on column TPMS_EXPRESSWAY_VMS_PLAN.CAR_DIRECTION
  2    is '行车方向';
Comment added
SQL> comment on column TPMS_EXPRESSWAY_VMS_PLAN.ROAD_NUMBER
  2    is '车道数量';
Comment added
SQL> comment on column TPMS_EXPRESSWAY_VMS_PLAN.RELATEID
  2    is '设备关联ID';
Comment added
SQL> alter table TPMS_EXPRESSWAY_VMS_PLAN
  2    add constraint XPKTPMS_EXPRESSWAY_VMS_PLAN primary key (ID);
Table altered
SQL> create table TPMS_FIELD
  2  (
  3    FIELDID         VARCHAR2(32) not null,
  4    FIELDNAME       VARCHAR2(128),
  5    FIELDCOORDINATE VARCHAR2(4000),
  6    FIELDTYPE       VARCHAR2(16)
  7  )
  8  ;
Table created
SQL> comment on column TPMS_FIELD.FIELDID
  2    is '场地编号';
Comment added
SQL> comment on column TPMS_FIELD.FIELDNAME
  2    is '场地名称';
Comment added
SQL> comment on column TPMS_FIELD.FIELDCOORDINATE
  2    is '场地坐标';
Comment added
SQL> comment on column TPMS_FIELD.FIELDTYPE
  2    is '场地类型';
Comment added
SQL> alter table TPMS_FIELD
  2    add constraint XPKTPMS_FIELD primary key (FIELDID);
Table altered
SQL> create table TPMS_FILE
  2  (
  3    ID          VARCHAR2(32) not null,
  4    ADVANCEID   VARCHAR2(32),
  5    FILETYPE    VARCHAR2(16),
  6    FILENAME    VARCHAR2(128),
  7    FILEURL     VARCHAR2(128),
  8    COORDINATE  VARCHAR2(64),
  9    DESCRIPTION VARCHAR2(1024)
 10  )
 11  ;
Table created
SQL> comment on column TPMS_FILE.ID
  2    is '资料编号';
Comment added
SQL> comment on column TPMS_FILE.ADVANCEID
  2    is '预案编号';
Comment added
SQL> comment on column TPMS_FILE.FILETYPE
  2    is '资料类型';
Comment added
SQL> comment on column TPMS_FILE.FILENAME
  2    is '资料名称';
Comment added
SQL> comment on column TPMS_FILE.FILEURL
  2    is '资料路径';
Comment added
SQL> comment on column TPMS_FILE.COORDINATE
  2    is '坐标';
Comment added
SQL> comment on column TPMS_FILE.DESCRIPTION
  2    is '描述';
Comment added
SQL> alter table TPMS_FILE
  2    add constraint XPKTPMS_FILE primary key (ID);
Table altered
SQL> create table TPMS_FOG_MODELS
  2  (
  3    MODELID      VARCHAR2(32) not null,
  4    MODELTYPE    VARCHAR2(16),
  5    MODELNAME    VARCHAR2(128),
  6    THIRDSYSCODE VARCHAR2(32),
  7    ZLCDMS       VARCHAR2(32),
  8    YJDPL        VARCHAR2(32),
  9    YDDPL        VARCHAR2(32),
 10    YJDLD        VARCHAR2(32),
 11    YDDLD        VARCHAR2(32),
 12    WJCD         VARCHAR2(32),
 13    KQDD         VARCHAR2(32),
 14    WJSJ         VARCHAR2(32),
 15    CJQ          VARCHAR2(32),
 16    UPDATETIME   DATE,
 17    UPDATEUSER   VARCHAR2(32)
 18  )
 19  ;
Table created
SQL> comment on column TPMS_FOG_MODELS.MODELID
  2    is '模式ID';
Comment added
SQL> comment on column TPMS_FOG_MODELS.MODELTYPE
  2    is '模式类型';
Comment added
SQL> comment on column TPMS_FOG_MODELS.MODELNAME
  2    is '模式名称';
Comment added
SQL> comment on column TPMS_FOG_MODELS.THIRDSYSCODE
  2    is '第三方编号';
Comment added
SQL> comment on column TPMS_FOG_MODELS.ZLCDMS
  2    is '指令传递模式';
Comment added
SQL> comment on column TPMS_FOG_MODELS.YJDPL
  2    is '预警灯频率';
Comment added
SQL> comment on column TPMS_FOG_MODELS.YDDPL
  2    is '诱导灯频率';
Comment added
SQL> comment on column TPMS_FOG_MODELS.YJDLD
  2    is '预警灯亮度';
Comment added
SQL> comment on column TPMS_FOG_MODELS.YDDLD
  2    is '诱导灯亮度';
Comment added
SQL> comment on column TPMS_FOG_MODELS.WJCD
  2    is '尾迹长度';
Comment added
SQL> comment on column TPMS_FOG_MODELS.KQDD
  2    is '开启道钉';
Comment added
SQL> comment on column TPMS_FOG_MODELS.WJSJ
  2    is '尾迹时间';
Comment added
SQL> comment on column TPMS_FOG_MODELS.CJQ
  2    is '车检器';
Comment added
SQL> comment on column TPMS_FOG_MODELS.UPDATETIME
  2    is '更新时间';
Comment added
SQL> comment on column TPMS_FOG_MODELS.UPDATEUSER
  2    is '创建用户';
Comment added
SQL> alter table TPMS_FOG_MODELS
  2    add constraint XPKTPMS_FOG_MODELS primary key (MODELID);
Table altered
SQL> create table TPMS_FOG_MODELS_BACKUP
  2  (
  3    MODELID      VARCHAR2(32) not null,
  4    MODELTYPE    VARCHAR2(16),
  5    MODELNAME    VARCHAR2(128),
  6    THIRDSYSCODE VARCHAR2(32),
  7    ZLCDMS       VARCHAR2(32),
  8    YJDPL        VARCHAR2(32),
  9    YDDPL        VARCHAR2(32),
 10    YJDLD        VARCHAR2(32),
 11    YDDLD        VARCHAR2(32),
 12    WJCD         VARCHAR2(32),
 13    KQDD         VARCHAR2(32),
 14    WJSJ         VARCHAR2(32),
 15    CJQ          VARCHAR2(32),
 16    UPDATETIME   DATE,
 17    UPDATEUSER   VARCHAR2(32)
 18  )
 19  ;
Table created
SQL> comment on column TPMS_FOG_MODELS_BACKUP.MODELID
  2    is '模式ID';
Comment added
SQL> comment on column TPMS_FOG_MODELS_BACKUP.MODELTYPE
  2    is '模式类型';
Comment added
SQL> comment on column TPMS_FOG_MODELS_BACKUP.MODELNAME
  2    is '模式名称';
Comment added
SQL> comment on column TPMS_FOG_MODELS_BACKUP.THIRDSYSCODE
  2    is '第三方编号';
Comment added
SQL> comment on column TPMS_FOG_MODELS_BACKUP.ZLCDMS
  2    is '指令传递模式';
Comment added
SQL> comment on column TPMS_FOG_MODELS_BACKUP.YJDPL
  2    is '预警灯频率';
Comment added
SQL> comment on column TPMS_FOG_MODELS_BACKUP.YDDPL
  2    is '诱导灯频率';
Comment added
SQL> comment on column TPMS_FOG_MODELS_BACKUP.YJDLD
  2    is '预警灯亮度';
Comment added
SQL> comment on column TPMS_FOG_MODELS_BACKUP.YDDLD
  2    is '诱导灯亮度';
Comment added
SQL> comment on column TPMS_FOG_MODELS_BACKUP.WJCD
  2    is '尾迹长度';
Comment added
SQL> comment on column TPMS_FOG_MODELS_BACKUP.KQDD
  2    is '开启道钉';
Comment added
SQL> comment on column TPMS_FOG_MODELS_BACKUP.WJSJ
  2    is '尾迹时间';
Comment added
SQL> comment on column TPMS_FOG_MODELS_BACKUP.CJQ
  2    is '车检器';
Comment added
SQL> comment on column TPMS_FOG_MODELS_BACKUP.UPDATETIME
  2    is '更新时间';
Comment added
SQL> comment on column TPMS_FOG_MODELS_BACKUP.UPDATEUSER
  2    is '创建用户';
Comment added
SQL> alter table TPMS_FOG_MODELS_BACKUP
  2    add constraint XPKTPMS_FOG_MODELS_BACKUP primary key (MODELID);
Table altered
SQL> create table TPMS_FOG_PLAN
  2  (
  3    ID        VARCHAR2(32) not null,
  4    MODELTYPE VARCHAR2(16),
  5    MODELNAME VARCHAR2(128),
  6    MODELID   VARCHAR2(32),
  7    RELATEID  VARCHAR2(80)
  8  )
  9  ;
Table created
SQL> comment on column TPMS_FOG_PLAN.ID
  2    is 'ID';
Comment added
SQL> comment on column TPMS_FOG_PLAN.MODELTYPE
  2    is '模式类型';
Comment added
SQL> comment on column TPMS_FOG_PLAN.MODELNAME
  2    is '模式名称';
Comment added
SQL> comment on column TPMS_FOG_PLAN.MODELID
  2    is '模式ID';
Comment added
SQL> comment on column TPMS_FOG_PLAN.RELATEID
  2    is '设备关联ID';
Comment added
SQL> alter table TPMS_FOG_PLAN
  2    add constraint XPKTPMS_FOG_PLAN primary key (ID);
Table altered
SQL> create table TPMS_PLAN_INFO
  2  (
  3    PLANID        VARCHAR2(32) not null,
  4    PLANTYPE      VARCHAR2(16),
  5    PLANSUBTYPE   VARCHAR2(16),
  6    PLANNAME      VARCHAR2(128),
  7    PLANLEVEL     VARCHAR2(16),
  8    ADVANCEDETAIL VARCHAR2(1024),
  9    EXRANGE       VARCHAR2(16),
 10    CREATETIME    DATE,
 11    CREATEUSER    VARCHAR2(16),
 12    EXSTATUS      VARCHAR2(16) default 0,
 13    TPLID         VARCHAR2(32),
 14    FIELDID       VARCHAR2(32),
 15    CONFIGTYPE    VARCHAR2(32)
 16  )
 17  ;
Table created
SQL> comment on column TPMS_PLAN_INFO.PLANID
  2    is '预案编号';
Comment added
SQL> comment on column TPMS_PLAN_INFO.PLANTYPE
  2    is '预案类型,枚举1700';
Comment added
SQL> comment on column TPMS_PLAN_INFO.PLANSUBTYPE
  2    is '预案子类型 枚举410';
Comment added
SQL> comment on column TPMS_PLAN_INFO.PLANNAME
  2    is '预案名称';
Comment added
SQL> comment on column TPMS_PLAN_INFO.PLANLEVEL
  2    is '预案级别 枚举1028';
Comment added
SQL> comment on column TPMS_PLAN_INFO.ADVANCEDETAIL
  2    is '预案描述';
Comment added
SQL> comment on column TPMS_PLAN_INFO.EXRANGE
  2    is '影响范围';
Comment added
SQL> comment on column TPMS_PLAN_INFO.CREATETIME
  2    is '创建时间';
Comment added
SQL> comment on column TPMS_PLAN_INFO.CREATEUSER
  2    is '创建人';
Comment added
SQL> comment on column TPMS_PLAN_INFO.EXSTATUS
  2    is '预案执行状态 0 未执行 1待执行 2执行中';
Comment added
SQL> comment on column TPMS_PLAN_INFO.TPLID
  2    is '模板编号';
Comment added
SQL> comment on column TPMS_PLAN_INFO.FIELDID
  2    is '场地编号 枚举1705';
Comment added
SQL> comment on column TPMS_PLAN_INFO.CONFIGTYPE
  2    is '可配置设备项，逗号分隔  枚举1704';
Comment added
SQL> alter table TPMS_PLAN_INFO
  2    add constraint XPKTPMS_PLAN_INFO primary key (PLANID);
Table altered
SQL> create table TPMS_POLICE_SUPERVISION
  2  (
  3    SUPERVISIONID  VARCHAR2(32) not null,
  4    DUTY_POLICE_ID VARCHAR2(32),
  5    WORKSTATUS     VARCHAR2(16),
  6    GPSRADIONO     VARCHAR2(16),
  7    TELPHONE       VARCHAR2(16),
  8    USERID         VARCHAR2(16),
  9    MONITORTIME    DATE,
 10    FLAG           VARCHAR2(4),
 11    EXCTID         VARCHAR2(32),
 12    URL            VARCHAR2(1000)
 13  )
 14  ;
Table created
SQL> comment on column TPMS_POLICE_SUPERVISION.SUPERVISIONID
  2    is '警力监督主键';
Comment added
SQL> comment on column TPMS_POLICE_SUPERVISION.DUTY_POLICE_ID
  2    is '岗位警员编号';
Comment added
SQL> comment on column TPMS_POLICE_SUPERVISION.WORKSTATUS
  2    is '状态,枚举1127';
Comment added
SQL> comment on column TPMS_POLICE_SUPERVISION.GPSRADIONO
  2    is 'GPS呼号';
Comment added
SQL> comment on column TPMS_POLICE_SUPERVISION.TELPHONE
  2    is '电话';
Comment added
SQL> comment on column TPMS_POLICE_SUPERVISION.USERID
  2    is '监督人';
Comment added
SQL> comment on column TPMS_POLICE_SUPERVISION.MONITORTIME
  2    is '监督时间';
Comment added
SQL> comment on column TPMS_POLICE_SUPERVISION.FLAG
  2    is '标识 1人工监督2自动计算';
Comment added
SQL> comment on column TPMS_POLICE_SUPERVISION.EXCTID
  2    is '预案执行编号';
Comment added
SQL> comment on column TPMS_POLICE_SUPERVISION.URL
  2    is 'ftp地址';
Comment added
SQL> alter table TPMS_POLICE_SUPERVISION
  2    add constraint XPKTPMS_POLICE_SUPERVISION primary key (SUPERVISIONID);
Table altered
SQL> create table TPMS_PRESETCMD
  2  (
  3    PRESETID VARCHAR2(32) not null,
  4    CONTENT  VARCHAR2(1024)
  5  )
  6  ;
Table created
SQL> comment on column TPMS_PRESETCMD.PRESETID
  2    is '指令编号';
Comment added
SQL> comment on column TPMS_PRESETCMD.CONTENT
  2    is '指令内容';
Comment added
SQL> alter table TPMS_PRESETCMD
  2    add constraint XPKTPMS_PRESETCMD primary key (PRESETID);
Table altered
SQL> create table TPMS_PROPAGANDA_ELEMENT
  2  (
  3    ELEMENT_ID    VARCHAR2(32) not null,
  4    ELEMENT_TITLE VARCHAR2(128),
  5    ELEMENT_TEXT  VARCHAR2(2048),
  6    PROGRAM_TYPE  VARCHAR2(32),
  7    EXTCOL        VARCHAR2(512)
  8  )
  9  ;
Table created
SQL> comment on column TPMS_PROPAGANDA_ELEMENT.ELEMENT_ID
  2    is '节目ID';
Comment added
SQL> comment on column TPMS_PROPAGANDA_ELEMENT.ELEMENT_TITLE
  2    is '节目名称';
Comment added
SQL> comment on column TPMS_PROPAGANDA_ELEMENT.ELEMENT_TEXT
  2    is '节目内容';
Comment added
SQL> comment on column TPMS_PROPAGANDA_ELEMENT.PROGRAM_TYPE
  2    is '节目类别';
Comment added
SQL> comment on column TPMS_PROPAGANDA_ELEMENT.EXTCOL
  2    is '扩展字段';
Comment added
SQL> alter table TPMS_PROPAGANDA_ELEMENT
  2    add constraint XPKTPMS_PROPAGANDA_ELEMENT primary key (ELEMENT_ID);
Table altered
SQL> create table TPMS_PROPAGANDA_PLAN
  2  (
  3    ID             VARCHAR2(32) not null,
  4    PLAY_TYPE      VARCHAR2(8),
  5    MACID          VARCHAR2(32),
  6    MACNAME        VARCHAR2(128),
  7    AUDIOELEMENTID VARCHAR2(32),
  8    VOICENAME      VARCHAR2(2000),
  9    VOICEPATH      VARCHAR2(128),
 10    METHOD         VARCHAR2(16),
 11    DURATION       NUMBER(10),
 12    FREQUENCY      NUMBER(3),
 13    ELEMENT_ID     VARCHAR2(32),
 14    RELATEID       VARCHAR2(80)
 15  )
 16  ;
Table created
SQL> comment on column TPMS_PROPAGANDA_PLAN.ID
  2    is 'ID';
Comment added
SQL> comment on column TPMS_PROPAGANDA_PLAN.PLAY_TYPE
  2    is '播放模式(1麦克2音频3文字)';
Comment added
SQL> comment on column TPMS_PROPAGANDA_PLAN.MACID
  2    is '喊话mac';
Comment added
SQL> comment on column TPMS_PROPAGANDA_PLAN.MACNAME
  2    is '喊话麦克名称';
Comment added
SQL> comment on column TPMS_PROPAGANDA_PLAN.AUDIOELEMENTID
  2    is '音频设备id';
Comment added
SQL> comment on column TPMS_PROPAGANDA_PLAN.VOICENAME
  2    is '音频文件名称';
Comment added
SQL> comment on column TPMS_PROPAGANDA_PLAN.VOICEPATH
  2    is '音频文件路径';
Comment added
SQL> comment on column TPMS_PROPAGANDA_PLAN.METHOD
  2    is '持续方式';
Comment added
SQL> comment on column TPMS_PROPAGANDA_PLAN.DURATION
  2    is '持续时长';
Comment added
SQL> comment on column TPMS_PROPAGANDA_PLAN.FREQUENCY
  2    is '频率';
Comment added
SQL> comment on column TPMS_PROPAGANDA_PLAN.ELEMENT_ID
  2    is '节目ID';
Comment added
SQL> comment on column TPMS_PROPAGANDA_PLAN.RELATEID
  2    is '设备关联ID';
Comment added
SQL> alter table TPMS_PROPAGANDA_PLAN
  2    add constraint XPKTPMS_PROPAGANDA_PLAN primary key (ID);
Table altered
SQL> create table TPMS_RELATE_DEVICE
  2  (
  3    ID             VARCHAR2(80) not null,
  4    SCENEID        VARCHAR2(32) not null,
  5    DEVICEID       VARCHAR2(32) not null,
  6    DEVICENAME     VARCHAR2(512),
  7    DEVICETYPE     VARCHAR2(16),
  8    THIRDSYSCODE   VARCHAR2(32),
  9    ORDERNUM       NUMBER,
 10    VMS_TYPE       VARCHAR2(16),
 11    VMS_SIZE       VARCHAR2(16),
 12    VMS_DIRECTION  VARCHAR2(16),
 13    PROVIDER       VARCHAR2(16),
 14    STATUS         VARCHAR2(16),
 15    DEVICESTATE    VARCHAR2(16),
 16    USERID         VARCHAR2(16),
 17    CREATETIME     DATE,
 18    DEPARTMENTID   VARCHAR2(32),
 19    POINTID        VARCHAR2(32),
 20    UPVMSROAD      VARCHAR2(128),
 21    DOWNVMSROAD    VARCHAR2(128),
 22    CONFIGSTATE    VARCHAR2(4) default 0,
 23    VIDEOTYPE      VARCHAR2(16),
 24    COORDINATE     VARCHAR2(32),
 25    DEPARTMENTNAME VARCHAR2(128),
 26    POINTNAME      VARCHAR2(128)
 27  )
 28  ;
Table created
SQL> comment on column TPMS_RELATE_DEVICE.ID
  2    is '设备关联ID';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.SCENEID
  2    is '场景编号';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.DEVICEID
  2    is '设备编号';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.DEVICENAME
  2    is '设备名称';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.DEVICETYPE
  2    is '设备配置类型 枚举1704';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.THIRDSYSCODE
  2    is '第三方编号';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.ORDERNUM
  2    is '视频序号';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.VMS_TYPE
  2    is '诱导屏类型（枚举186）';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.VMS_SIZE
  2    is '诱导屏尺寸';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.VMS_DIRECTION
  2    is '诱导屏方向（枚举149）';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.PROVIDER
  2    is '诱导屏厂商（枚举902）';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.STATUS
  2    is '执行状态（0未执行1成功2失败）';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.DEVICESTATE
  2    is '设备状态（枚举100）';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.USERID
  2    is '制作人';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.CREATETIME
  2    is '制作时间';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.DEPARTMENTID
  2    is '所属部门';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.POINTID
  2    is '安装点';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.UPVMSROAD
  2    is '雾区防撞上行诱导路段';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.DOWNVMSROAD
  2    is '雾区防撞下行诱导路段';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.CONFIGSTATE
  2    is '节目配置状态 0未配置 1已配置';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.VIDEOTYPE
  2    is '视频类型';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.COORDINATE
  2    is '设备安装点坐标';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.DEPARTMENTNAME
  2    is '所属部门名称';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.POINTNAME
  2    is '安装点名称';
Comment added
SQL> alter table TPMS_RELATE_DEVICE
  2    add constraint XPKTPMS_RELATE_DEVICE primary key (ID);
Table altered
SQL> create table TPMS_SCENE
  2  (
  3    SCENEID          VARCHAR2(32) not null,
  4    ADVANCEID        VARCHAR2(32),
  5    SCENENAME        VARCHAR2(256),
  6    VMSCONFIG        VARCHAR2(4),
  7    VIDEOCONFIG      VARCHAR2(4),
  8    UTCCONFIG        VARCHAR2(4),
  9    PROPAGANDACONFIG VARCHAR2(4),
 10    FOGSETCONFIG     VARCHAR2(4),
 11    EXPWAYVMSCONFIG  VARCHAR2(4),
 12    DUTYCONFIG       VARCHAR2(4),
 13    VIDEOSTATUS      VARCHAR2(4),
 14    UTCSTATUS        VARCHAR2(4),
 15    VMSSTATUS        VARCHAR2(4),
 16    EXPWAYVMSSTATUS  VARCHAR2(4),
 17    FOGSTATUS        VARCHAR2(4),
 18    PROPAGANDASTATUS VARCHAR2(4),
 19    ORDERNUM         NUMBER,
 20    STARTTIME        DATE,
 21    ENDTIME          DATE,
 22    STARTCONFLAG     VARCHAR2(4),
 23    TIGTYPE          VARCHAR2(16),
 24    COORDINATE       VARCHAR2(4000),
 25    STARTFLAG        VARCHAR2(4),
 26    ACCIDENT         VARCHAR2(16),
 27    EVENTTYPE        VARCHAR2(16),
 28    EVENTLEVEL       VARCHAR2(16),
 29    SCENESTATUS      VARCHAR2(2) default 0
 30  )
 31  ;
Table created
SQL> comment on table TPMS_SCENE
  2    is '预案场景表';
Comment added
SQL> comment on column TPMS_SCENE.SCENEID
  2    is '场景编号';
Comment added
SQL> comment on column TPMS_SCENE.ADVANCEID
  2    is '预案编号';
Comment added
SQL> comment on column TPMS_SCENE.SCENENAME
  2    is '场景名称';
Comment added
SQL> comment on column TPMS_SCENE.VMSCONFIG
  2    is '诱导配置状态';
Comment added
SQL> comment on column TPMS_SCENE.VIDEOCONFIG
  2    is '视频配置状态';
Comment added
SQL> comment on column TPMS_SCENE.UTCCONFIG
  2    is '信号配置状态';
Comment added
SQL> comment on column TPMS_SCENE.PROPAGANDACONFIG
  2    is '喊话系统配置状态';
Comment added
SQL> comment on column TPMS_SCENE.FOGSETCONFIG
  2    is '雾区防撞配置状态';
Comment added
SQL> comment on column TPMS_SCENE.EXPWAYVMSCONFIG
  2    is '可变限速诱导配置状态';
Comment added
SQL> comment on column TPMS_SCENE.DUTYCONFIG
  2    is '岗位配置状态';
Comment added
SQL> comment on column TPMS_SCENE.VIDEOSTATUS
  2    is '视频执行状态';
Comment added
SQL> comment on column TPMS_SCENE.UTCSTATUS
  2    is '信号执行状态';
Comment added
SQL> comment on column TPMS_SCENE.VMSSTATUS
  2    is '诱导执行状态';
Comment added
SQL> comment on column TPMS_SCENE.EXPWAYVMSSTATUS
  2    is '连续诱导执行状态';
Comment added
SQL> comment on column TPMS_SCENE.FOGSTATUS
  2    is '雾区防撞执行状态';
Comment added
SQL> comment on column TPMS_SCENE.PROPAGANDASTATUS
  2    is '喊话执行状态';
Comment added
SQL> comment on column TPMS_SCENE.ORDERNUM
  2    is '场景序号排序';
Comment added
SQL> comment on column TPMS_SCENE.STARTTIME
  2    is '启动时间';
Comment added
SQL> comment on column TPMS_SCENE.ENDTIME
  2    is '结束时间';
Comment added
SQL> comment on column TPMS_SCENE.STARTCONFLAG
  2    is '启动条件标志,弃用';
Comment added
SQL> comment on column TPMS_SCENE.TIGTYPE
  2    is '触发条件，0手动 1按时间 2按事件';
Comment added
SQL> comment on column TPMS_SCENE.COORDINATE
  2    is '事件触发区域坐标';
Comment added
SQL> comment on column TPMS_SCENE.STARTFLAG
  2    is '启动提示';
Comment added
SQL> comment on column TPMS_SCENE.ACCIDENT
  2    is '事件种类，弃用';
Comment added
SQL> comment on column TPMS_SCENE.EVENTTYPE
  2    is '事件类型，枚举1703';
Comment added
SQL> comment on column TPMS_SCENE.EVENTLEVEL
  2    is '事件级别，1-4';
Comment added
SQL> comment on column TPMS_SCENE.SCENESTATUS
  2    is '场景执行状态（0:未执行，1:执行）默认未执行';
Comment added
SQL> alter table TPMS_SCENE
  2    add constraint XPKTPMS_SCENE primary key (SCENEID);
Table altered
SQL> create table TPMS_TEMPLATE
  2  (
  3    TPLID         VARCHAR2(32) not null,
  4    TPLTYPE       VARCHAR2(16),
  5    TPLSUBTYPE    VARCHAR2(16),
  6    TPLNAME       VARCHAR2(128),
  7    TPLLEVEL      VARCHAR2(16),
  8    ADVANCEDETAIL VARCHAR2(1024),
  9    EXRANGE       VARCHAR2(16),
 10    CREATETIME    DATE,
 11    CREATEUSER    VARCHAR2(16),
 12    FIELDID       VARCHAR2(32),
 13    CONFIGTYPE    VARCHAR2(32)
 14  )
 15  ;
Table created
SQL> comment on column TPMS_TEMPLATE.TPLID
  2    is '模板编号';
Comment added
SQL> comment on column TPMS_TEMPLATE.TPLTYPE
  2    is '预案模板类型';
Comment added
SQL> comment on column TPMS_TEMPLATE.TPLSUBTYPE
  2    is '预案模板子类型';
Comment added
SQL> comment on column TPMS_TEMPLATE.TPLNAME
  2    is '模板名称';
Comment added
SQL> comment on column TPMS_TEMPLATE.TPLLEVEL
  2    is '预案级别';
Comment added
SQL> comment on column TPMS_TEMPLATE.ADVANCEDETAIL
  2    is '预案描述';
Comment added
SQL> comment on column TPMS_TEMPLATE.EXRANGE
  2    is '影响范围';
Comment added
SQL> comment on column TPMS_TEMPLATE.CREATETIME
  2    is '创建时间';
Comment added
SQL> comment on column TPMS_TEMPLATE.CREATEUSER
  2    is '创建人';
Comment added
SQL> comment on column TPMS_TEMPLATE.FIELDID
  2    is '场地编号';
Comment added
SQL> comment on column TPMS_TEMPLATE.CONFIGTYPE
  2    is '可配置设备项   1视频2信号3诱导4连续诱导5雾区6喊话7岗位   使用1,2,3代表可配置视频、信号、诱导';
Comment added
SQL> alter table TPMS_TEMPLATE
  2    add constraint XPKTPMS_TEMPLATE primary key (TPLID);
Table altered
SQL> create table TPMS_UTC_PLAN
  2  (
  3    ID           VARCHAR2(32) not null,
  4    UTC_PLANNO   VARCHAR2(16),
  5    UTC_PLANNAME VARCHAR2(128),
  6    RELATEID     VARCHAR2(80)
  7  )
  8  ;
Table created
SQL> comment on column TPMS_UTC_PLAN.ID
  2    is 'ID';
Comment added
SQL> comment on column TPMS_UTC_PLAN.UTC_PLANNO
  2    is '信号方案编号';
Comment added
SQL> comment on column TPMS_UTC_PLAN.UTC_PLANNAME
  2    is '信号方案名称';
Comment added
SQL> comment on column TPMS_UTC_PLAN.RELATEID
  2    is '设备关联ID';
Comment added
SQL> alter table TPMS_UTC_PLAN
  2    add constraint XPKTPMS_UTC_PLAN primary key (ID);
Table altered
SQL> create table TPMS_VIDEO_PLAN
  2  (
  3    ID       VARCHAR2(32) not null,
  4    PRESET   VARCHAR2(16),
  5    RELATEID VARCHAR2(80)
  6  )
  7  ;
Table created
SQL> comment on column TPMS_VIDEO_PLAN.ID
  2    is 'ID';
Comment added
SQL> comment on column TPMS_VIDEO_PLAN.PRESET
  2    is '预置位编号';
Comment added
SQL> comment on column TPMS_VIDEO_PLAN.RELATEID
  2    is '设备关联ID';
Comment added
SQL> alter table TPMS_VIDEO_PLAN
  2    add constraint XPKTPMS_VIDEO_PLAN primary key (ID);
Table altered
SQL> create table TPMS_VMS_PLAN
  2  (
  3    ID         VARCHAR2(32) not null,
  4    VMSPLANID  VARCHAR2(32),
  5    RELATEID   VARCHAR2(80),
  6    ELEMENTIDS VARCHAR2(2000)
  7  )
  8  ;
Table created
SQL> comment on column TPMS_VMS_PLAN.ID
  2    is 'ID';
Comment added
SQL> comment on column TPMS_VMS_PLAN.VMSPLANID
  2    is '诱导发布计划id';
Comment added
SQL> comment on column TPMS_VMS_PLAN.RELATEID
  2    is '设备关联ID';
Comment added
SQL> alter table TPMS_VMS_PLAN
  2    add constraint XPKTPMS_VMS_PLAN primary key (ID);
Table altered
SQL> create table TPMS_VMS_PLAN_BACKUP
  2  (
  3    ID         VARCHAR2(32) not null,
  4    VMSID      VARCHAR2(32),
  5    VMSTYPE    VARCHAR2(16) not null,
  6    VMSPLANID  VARCHAR2(32),
  7    CREATEDATE DATE
  8  )
  9  ;
Table created
SQL> comment on column TPMS_VMS_PLAN_BACKUP.ID
  2    is 'ID';
Comment added
SQL> comment on column TPMS_VMS_PLAN_BACKUP.VMSID
  2    is '诱导设备id';
Comment added
SQL> comment on column TPMS_VMS_PLAN_BACKUP.VMSTYPE
  2    is '诱导屏类型';
Comment added
SQL> comment on column TPMS_VMS_PLAN_BACKUP.VMSPLANID
  2    is '诱导发布计划id';
Comment added
SQL> comment on column TPMS_VMS_PLAN_BACKUP.CREATEDATE
  2    is '备份时间';
Comment added
SQL> alter table TPMS_VMS_PLAN_BACKUP
  2    add constraint XPKTPMS_VMS_PLAN_BACKUP primary key (ID);
Table altered
SQL> --以下重复  start-----------
SQL> /*
  2  
  3  create table EMERGENCY_RESOURCES_MANAGE
  4  (
  5    ID                VARCHAR2(32) not null,
  6    DEPARTMENT_NAME   VARCHAR2(100),
  7    RESOURCE_TYPE     VARCHAR2(2),
  8    DEPARTMENT_LEVEL  VARCHAR2(2),
  9    LINKMAN           VARCHAR2(40),
 10    TELEPHONE         VARCHAR2(13),
 11    ADDRESS           VARCHAR2(200),
 12    EQUIP_STATUS      VARCHAR2(1000),
 13    LONGANDLATITUDE   VARCHAR2(50),
 14    CREATEUSERID      VARCHAR2(32),
 15    CREATEDATE        DATE,
 16    EDITUSERID        VARCHAR2(6),
 17    EDITDATE          DATE,
 18    CREATE_DEPARTMENT VARCHAR2(12)
 19  )
 20  ;
 21  alter table EMERGENCY_RESOURCES_MANAGE
 22    add constraint RESOURCES_MANAGE_ID_PK primary key (ID);
 23    */
 24  --以上重复  end-----------
SQL> alter table tpms_file add filerealname varchar2(500) ;
Table altered
SQL> comment on column tpms_file.filerealname
  2  is '文件真实名称';
Comment added
SQL> commit;
Commit complete
SQL> alter table TPMS_EXCT  modify username  NVARCHAR2(100);
Table altered
SQL> commit;
Commit complete
SQL> alter table tpms_scene modify TIGTYPE varchar2(16) ;
Table altered
SQL> comment on column tpms_scene.TIGTYPE is '触发条件，1手动 2按时间 3按事件';
Comment added
SQL> commit;
Commit complete
SQL> alter table TPMS_DUTY_POLICE add policeuuid VARCHAR2(32) ;
Table altered
SQL> comment on column TPMS_DUTY_POLICE.policeuuid
  2  is '警员表主键';
Comment added
SQL> commit;
Commit complete
SQL> alter table Tpms_Duty add tpmslevel VARCHAR2(2);
Table altered
SQL> comment on column Tpms_Duty.tpmslevel
  2  is '预案级别';
Comment added
SQL> commit;
Commit complete
SQL> alter table TPMS_POLICE_SUPERVISION  modify GPSRADIONO  VARCHAR2(50);
Table altered
SQL> commit;
Commit complete
SQL> alter table emergency_resources_manage  modify DEPARTMENT_NAME  NVARCHAR2(100);
Table altered
SQL> commit;
Commit complete
SQL> alter table emergency_resources_manage  modify ADDRESS  NVARCHAR2(200);
Table altered
SQL> commit;
Commit complete
SQL> alter table emergency_resources_manage  modify EQUIP_STATUS  NVARCHAR2(1000);
Table altered
SQL> commit;
Commit complete
SQL> create or replace view tpms_police_device as
  2  select t1.uuid,t1.policeid,t1.deviceid deviceid,4 lv from police t1 where t1.deviceid is not null
  3  union all
  4  select t2.uuid,t2.policeid,t2.deviceid2 deviceid,3 lv from police t2 where t2.deviceid2 is not null
  5  union all
  6  select t3.uuid,t3.policeid,t3.deviceid3 deviceid,2 lv from police t3 where t3.deviceid3 is not null
  7  union all
  8  select t4.uuid,t4.policeid,t4.deviceid4 deviceid,1 lv from police t4 where t4.deviceid4 is not null;
View created
SQL> delete from menu m where m.id='020202';
0 rows deleted
SQL> comment on column TPMS_AREA.ID is '区域编号';
Comment added
SQL> comment on column TPMS_AREA.ADVANCEID is '预案编号';
Comment added
SQL> comment on column TPMS_AREA.COORDINATE is '区域坐标';
Comment added
SQL> comment on column TPMS_AREA.AREATYPE is '区域类型(枚举1117)';
Comment added
SQL> comment on column TPMS_AREA.DESCRIPTION is '区域描述';
Comment added
SQL> comment on column TPMS_AREA.CREATETIME is '创建时间';
Comment added
SQL> comment on column TPMS_AREA.CREATEUSER is '创建人';
Comment added
SQL> comment on column TPMS_AREA.AREANAME is '区域名称';
Comment added
SQL> comment on column TPMS_DUTY.ID is '岗位编号';
Comment added
SQL> comment on column TPMS_DUTY.ADVANCEID is '预案编号';
Comment added
SQL> comment on column TPMS_DUTY.POSITION_NAME is '岗位名称';
Comment added
SQL> comment on column TPMS_DUTY.POSITION_TYPE is '岗位类型(枚举1123)';
Comment added
SQL> comment on column TPMS_DUTY.POSITION_ADDRESS is '岗位地点';
Comment added
SQL> comment on column TPMS_DUTY.PEOPLENUM is '岗位人数';
Comment added
SQL> comment on column TPMS_DUTY.RESPONSIBILITY is '岗位职责';
Comment added
SQL> comment on column TPMS_DUTY.COORDINATE is '岗位坐标';
Comment added
SQL> comment on column TPMS_DUTY.DEPT_ID is '岗位部门';
Comment added
SQL> comment on column TPMS_DUTY.CREATE_TIME is '创建时间';
Comment added
SQL> comment on column TPMS_DUTY.TPMSLEVEL is '预案级别';
Comment added
SQL> comment on column TPMS_DUTY_POLICE.ID is '岗位警员编号';
Comment added
SQL> comment on column TPMS_DUTY_POLICE.DUTYID is '岗位编号';
Comment added
SQL> comment on column TPMS_DUTY_POLICE.POLICEID is '警员编号';
Comment added
SQL> comment on column TPMS_DUTY_POLICE.STARTTIME is '岗位开始时间';
Comment added
SQL> comment on column TPMS_DUTY_POLICE.ENDTIME is '岗位结束时间';
Comment added
SQL> comment on column TPMS_DUTY_POLICE.CREATEUSER is '创建用户';
Comment added
SQL> comment on column TPMS_DUTY_POLICE.CREATETIME is '创建时间';
Comment added
SQL> comment on column TPMS_DUTY_POLICE.POLICEUUID is '警员表主键';
Comment added
SQL> comment on column TPMS_EXCT_CMD.CMDID is '指令编号';
Comment added
SQL> comment on column TPMS_EXCT_CMD.EXCTSCENEID is '执行场景编号';
Comment added
SQL> comment on column TPMS_EXCT_CMD.CONTENT is '指令内容';
Comment added
SQL> comment on column TPMS_EXCT_CMD.USERID is '发布人';
Comment added
SQL> comment on column TPMS_EXCT_CMD.CREATETIME is '发布时间';
Comment added
SQL> comment on column TPMS_EXCT_CMD.FEEDBACKSTATUS is '反馈情况(0:未反馈,1:已执行,2:暂不执行)';
Comment added
SQL> comment on column TPMS_EXCT_CMD.RECEIVER is '接收岗位';
Comment added
SQL> comment on column TPMS_EXPRESSWAY_VMS_PLAN.ELEMENTGROUPID is '节目组编号';
Comment added
SQL> comment on column TPMS_EXPRESSWAY_VMS_PLAN.DEVICEID is '设备编号';
Comment added
SQL> comment on column TPMS_EXPRESSWAY_VMS_PLAN.ELEMENTIDS is '节目编号';
Comment added
SQL> comment on column TPMS_EXPRESSWAY_VMS_PLAN.ID is 'ID';
Comment added
SQL> comment on column TPMS_EXPRESSWAY_VMS_PLAN.VMSPLANID is '节目组计划id';
Comment added
SQL> comment on column TPMS_EXPRESSWAY_VMS_PLAN.GROUPTYPE is '诱导组类型';
Comment added
SQL> comment on column TPMS_EXPRESSWAY_VMS_PLAN.GROUPNAMES is '诱导组名称';
Comment added
SQL> comment on column TPMS_EXPRESSWAY_VMS_PLAN.PLAYCOUNT is '播放次数';
Comment added
SQL> comment on column TPMS_EXPRESSWAY_VMS_PLAN.CAR_DIRECTION is '行车方向';
Comment added
SQL> comment on column TPMS_EXPRESSWAY_VMS_PLAN.ROAD_NUMBER is '车道数量';
Comment added
SQL> comment on column TPMS_EXPRESSWAY_VMS_PLAN.RELATEID is '设备关联ID';
Comment added
SQL> comment on column TPMS_FILE.FILEREALNAME is '文件真实名称';
Comment added
SQL> comment on column TPMS_FILE.DESCRIPTION is '描述';
Comment added
SQL> comment on column TPMS_FILE.ID is '资料编号';
Comment added
SQL> comment on column TPMS_FILE.ADVANCEID is '预案编号';
Comment added
SQL> comment on column TPMS_FILE.FILETYPE is '资料类型';
Comment added
SQL> comment on column TPMS_FILE.FILENAME is '资料名称';
Comment added
SQL> comment on column TPMS_FILE.FILEURL is '资料路径';
Comment added
SQL> comment on column TPMS_FILE.COORDINATE is '坐标';
Comment added
SQL> comment on column TPMS_FOG_PLAN.ID is 'ID';
Comment added
SQL> comment on column TPMS_FOG_PLAN.MODELTYPE is '模式类型';
Comment added
SQL> comment on column TPMS_FOG_PLAN.MODELNAME is '模式名称';
Comment added
SQL> comment on column TPMS_FOG_PLAN.MODELID is '模式ID';
Comment added
SQL> comment on column TPMS_FOG_PLAN.RELATEID is '设备关联ID';
Comment added
SQL> comment on column TPMS_PLAN_INFO.PLANID is '预案编号';
Comment added
SQL> comment on column TPMS_PLAN_INFO.PLANTYPE is '预案类型(枚举1700)';
Comment added
SQL> comment on column TPMS_PLAN_INFO.PLANSUBTYPE is '预案子类型(枚举410)';
Comment added
SQL> comment on column TPMS_PLAN_INFO.PLANNAME is '预案名称';
Comment added
SQL> comment on column TPMS_PLAN_INFO.PLANLEVEL is '预案级别(枚举1028)';
Comment added
SQL> comment on column TPMS_PLAN_INFO.ADVANCEDETAIL is '预案描述';
Comment added
SQL> comment on column TPMS_PLAN_INFO.EXRANGE is '影响范围(枚举1701）';
Comment added
SQL> comment on column TPMS_PLAN_INFO.CREATETIME is '创建时间';
Comment added
SQL> comment on column TPMS_PLAN_INFO.CREATEUSER is '创建人';
Comment added
SQL> comment on column TPMS_PLAN_INFO.EXSTATUS is '预案执行状态(0:未执行, 1:待执行, 2:执行中)';
Comment added
SQL> comment on column TPMS_PLAN_INFO.TPLID is '模板编号';
Comment added
SQL> comment on column TPMS_PLAN_INFO.FIELDID is '预案场地(枚举1705)';
Comment added
SQL> comment on column TPMS_PLAN_INFO.CONFIGTYPE is '可配置设备项( 枚举1704)';
Comment added
SQL> comment on column TPMS_PROPAGANDA_PLAN.ID is 'ID';
Comment added
SQL> comment on column TPMS_PROPAGANDA_PLAN.PLAY_TYPE is '播放模式(1:麦克,2:音频,3:文字)';
Comment added
SQL> comment on column TPMS_PROPAGANDA_PLAN.MACID is '喊话麦克编号';
Comment added
SQL> comment on column TPMS_PROPAGANDA_PLAN.MACNAME is '喊话麦克名称';
Comment added
SQL> comment on column TPMS_PROPAGANDA_PLAN.AUDIOELEMENTID is '音频设备编号';
Comment added
SQL> comment on column TPMS_PROPAGANDA_PLAN.VOICENAME is '音频文件名称';
Comment added
SQL> comment on column TPMS_PROPAGANDA_PLAN.VOICEPATH is '音频文件路径';
Comment added
SQL> comment on column TPMS_PROPAGANDA_PLAN.METHOD is '持续方式';
Comment added
SQL> comment on column TPMS_PROPAGANDA_PLAN.DURATION is '持续时长';
Comment added
SQL> comment on column TPMS_PROPAGANDA_PLAN.FREQUENCY is '频率';
Comment added
SQL> comment on column TPMS_PROPAGANDA_PLAN.ELEMENT_ID is '节目编号';
Comment added
SQL> comment on column TPMS_PROPAGANDA_PLAN.RELATEID is '设备关联编号';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.ID is '设备关联ID';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.SCENEID is '场景编号';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.DEVICEID is '设备编号';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.DEVICENAME is '设备名称';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.DEVICETYPE is '设备配置类型(枚举1704)';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.THIRDSYSCODE is '第三方编号';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.ORDERNUM is '视频序号';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.VMS_TYPE is '诱导屏类型（枚举186）';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.VMS_SIZE is '诱导屏尺寸';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.VMS_DIRECTION is '诱导屏方向（枚举149）';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.PROVIDER is '诱导屏厂商（枚举902）';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.STATUS is '执行状态（-1:未执行, 0:执行失败, 1: 执行成功, 2:撤销失败, 3:撤销成功）';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.DEVICESTATE is '设备状态（枚举100）';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.USERID is '制作人';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.CREATETIME is '制作时间';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.DEPARTMENTID is '所属部门';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.POINTID is '安装点';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.UPVMSROAD is '雾区防撞上行诱导路段';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.DOWNVMSROAD is '雾区防撞下行诱导路段';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.CONFIGSTATE is '节目配置状态( 0:未配置, 1:已配置)';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.VIDEOTYPE is '视频类型';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.COORDINATE is '设备安装点坐标';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.DEPARTMENTNAME is '所属部门名称';
Comment added
SQL> comment on column TPMS_RELATE_DEVICE.POINTNAME is '安装点名称';
Comment added
SQL> comment on column TPMS_SCENE.SCENESTATUS is '场景执行状态（0:未执行，1:执行中）';
Comment added
SQL> comment on column TPMS_SCENE.SCENEID is '场景编号';
Comment added
SQL> comment on column TPMS_SCENE.ADVANCEID is '预案编号';
Comment added
SQL> comment on column TPMS_SCENE.SCENENAME is '场景名称';
Comment added
SQL> comment on column TPMS_SCENE.VMSCONFIG is '诱导配置状态(0:未配置,1:已配置)';
Comment added
SQL> comment on column TPMS_SCENE.VIDEOCONFIG is '视频配置状态(0:未配置,1:已配置)';
Comment added
SQL> comment on column TPMS_SCENE.UTCCONFIG is '信号配置状态(0:未配置,1:已配置)';
Comment added
SQL> comment on column TPMS_SCENE.PROPAGANDACONFIG is '喊话系统配置状态(0:未配置,1:已配置)';
Comment added
SQL> comment on column TPMS_SCENE.FOGSETCONFIG is '雾区防撞配置状态(0:未配置,1:已配置)';
Comment added
SQL> comment on column TPMS_SCENE.EXPWAYVMSCONFIG is '限速诱导配置状态(0:未配置,1:已配置)';
Comment added
SQL> comment on column TPMS_SCENE.DUTYCONFIG is '岗位配置状态(0:未配置,1:已配置)';
Comment added
SQL> comment on column TPMS_SCENE.VIDEOSTATUS is '视频执行状态(0:未执行,1:已执行)';
Comment added
SQL> comment on column TPMS_SCENE.UTCSTATUS is '信号执行状态(0:未执行,1:已执行)';
Comment added
SQL> comment on column TPMS_SCENE.VMSSTATUS is '诱导执行状态(0:未执行,1:已执行)';
Comment added
SQL> comment on column TPMS_SCENE.EXPWAYVMSSTATUS is '限速诱导执行状态(0:未执行,1:已执行)';
Comment added
SQL> comment on column TPMS_SCENE.FOGSTATUS is '雾区防撞执行状态(0:未执行,1:已执行)';
Comment added
SQL> comment on column TPMS_SCENE.PROPAGANDASTATUS is '喊话执行状态(0:未执行,1:已执行)';
Comment added
SQL> comment on column TPMS_SCENE.ORDERNUM is '场景序号排序';
Comment added
SQL> comment on column TPMS_SCENE.STARTTIME is '启动时间';
Comment added
SQL> comment on column TPMS_SCENE.ENDTIME is '结束时间';
Comment added
SQL> comment on column TPMS_SCENE.STARTCONFLAG is '启动条件标志(弃用)';
Comment added
SQL> comment on column TPMS_SCENE.TIGTYPE is '触发条件(1:手动, 2:按时间, 3:按事件)';
Comment added
SQL> comment on column TPMS_SCENE.COORDINATE is '事件触发区域坐标';
Comment added
SQL> comment on column TPMS_SCENE.STARTFLAG is '启动提示';
Comment added
SQL> comment on column TPMS_SCENE.ACCIDENT is '事件种类(弃用)';
Comment added
SQL> comment on column TPMS_SCENE.EVENTTYPE is '事件类型(枚举1110)';
Comment added
SQL> comment on column TPMS_SCENE.EVENTLEVEL is '事件级别（弃用）';
Comment added
SQL> comment on column TPMS_UTC_PLAN.ID is 'ID';
Comment added
SQL> comment on column TPMS_UTC_PLAN.UTC_PLANNO is '信号方案编号';
Comment added
SQL> comment on column TPMS_UTC_PLAN.UTC_PLANNAME is '信号方案名称';
Comment added
SQL> comment on column TPMS_UTC_PLAN.RELATEID is '设备关联ID';
Comment added
SQL> comment on column TPMS_VIDEO_PLAN.ID is 'ID';
Comment added
SQL> comment on column TPMS_VIDEO_PLAN.PRESET is '预置位编号';
Comment added
SQL> comment on column TPMS_VIDEO_PLAN.RELATEID is '设备关联ID';
Comment added
SQL> comment on column TPMS_VMS_PLAN.VMSPLANID is '诱导发布计划编号';
Comment added
SQL> comment on column TPMS_VMS_PLAN.RELATEID is '设备关联编号';
Comment added
SQL> comment on column TPMS_VMS_PLAN.ELEMENTIDS is '节目编号';
Comment added
SQL> comment on column TPMS_VMS_PLAN.ID is 'ID';
Comment added
SQL> commit;
Commit complete
SQL> comment on column EMERGENCY_RESOURCES_MANAGE.ID is '编号';
Comment added
SQL> comment on column EMERGENCY_RESOURCES_MANAGE.DEPARTMENT_NAME is '单位名称';
Comment added
SQL> comment on column EMERGENCY_RESOURCES_MANAGE.RESOURCE_TYPE is '单位分类(枚举1320)';
Comment added
SQL> comment on column EMERGENCY_RESOURCES_MANAGE.DEPARTMENT_LEVEL is '单位级别(枚举1321）';
Comment added
SQL> comment on column EMERGENCY_RESOURCES_MANAGE.LINKMAN is '联系人';
Comment added
SQL> comment on column EMERGENCY_RESOURCES_MANAGE.TELEPHONE is '联系电话';
Comment added
SQL> comment on column EMERGENCY_RESOURCES_MANAGE.ADDRESS is '单位地址';
Comment added
SQL> comment on column EMERGENCY_RESOURCES_MANAGE.EQUIP_STATUS is '装备情况';
Comment added
SQL> comment on column EMERGENCY_RESOURCES_MANAGE.LONGANDLATITUDE is '经纬度';
Comment added
SQL> comment on column EMERGENCY_RESOURCES_MANAGE.CREATEUSERID is '创建人';
Comment added
SQL> comment on column EMERGENCY_RESOURCES_MANAGE.CREATEDATE is '创建时间';
Comment added
SQL> comment on column EMERGENCY_RESOURCES_MANAGE.EDITUSERID is '更新人';
Comment added
SQL> comment on column EMERGENCY_RESOURCES_MANAGE.EDITDATE is '更新时间';
Comment added
SQL> comment on column EMERGENCY_RESOURCES_MANAGE.CREATE_DEPARTMENT is '创建部门';
Comment added
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑HiATMP-DB-TPM-DDL 刘晓冰20190129 End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓HiATMP-DB-HRV-DDL.5.8.0.0.A1.sql Start-----------------------
SQL> -- Create table
SQL> create table ILLEGAL_SUM_DAY
  2  (
  3    id                  VARCHAR2(32) not null,
  4    coffense            VARCHAR2(6),
  5    caddresscode        VARCHAR2(12),
  6    ccollectionagencies VARCHAR2(12),
  7    syxz                VARCHAR2(2),
  8    countrange          DATE not null,
  9    zffs                VARCHAR2(2) not null,
 10    countnum            VARCHAR2(10) not null,
 11    syr                 NVARCHAR2(128),
 12    zqmj                VARCHAR2(10),
 13    forcetype           VARCHAR2(1),
 14    fineinfo            NVARCHAR2(500),
 15    dsr                 NVARCHAR2(50),
 16    clicensetype        VARCHAR2(2),
 17    ccarnumber          NVARCHAR2(16)
 18  );
Table created
SQL> -- Add comments to the table
SQL> comment on table ILLEGAL_SUM_DAY
  2    is '违法数量汇总表（天）';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column ILLEGAL_SUM_DAY.id
  2    is '唯一编号';
Comment added
SQL> comment on column ILLEGAL_SUM_DAY.coffense
  2    is '违法行为';
Comment added
SQL> comment on column ILLEGAL_SUM_DAY.caddresscode
  2    is '违法地点代码';
Comment added
SQL> comment on column ILLEGAL_SUM_DAY.ccollectionagencies
  2    is '采集机关';
Comment added
SQL> comment on column ILLEGAL_SUM_DAY.syxz
  2    is '使用性质';
Comment added
SQL> comment on column ILLEGAL_SUM_DAY.countrange
  2    is '统计周期';
Comment added
SQL> comment on column ILLEGAL_SUM_DAY.zffs
  2    is '执法方式(0 非现场执法1 现场执法)';
Comment added
SQL> comment on column ILLEGAL_SUM_DAY.countnum
  2    is '违法数量';
Comment added
SQL> comment on column ILLEGAL_SUM_DAY.syr
  2    is '机动车所有人';
Comment added
SQL> comment on column ILLEGAL_SUM_DAY.zqmj
  2    is '执勤民警（警号）';
Comment added
SQL> comment on column ILLEGAL_SUM_DAY.forcetype
  2    is '现场执法种类（简易处罚：1；强制处罚：2）';
Comment added
SQL> comment on column ILLEGAL_SUM_DAY.fineinfo
  2    is '处罚情况';
Comment added
SQL> comment on column ILLEGAL_SUM_DAY.dsr
  2    is '当事人';
Comment added
SQL> comment on column ILLEGAL_SUM_DAY.clicensetype
  2    is '号牌种类';
Comment added
SQL> comment on column ILLEGAL_SUM_DAY.ccarnumber
  2    is '号牌号码';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table ILLEGAL_SUM_DAY
  2    add constraint PK_ILLEGAL_SUM_DAY primary key (ID);
Table altered
SQL> -- Create table
SQL> create table ILLEGAL_SUM_HOURS
  2  (
  3    id                  VARCHAR2(32) not null,
  4    coffense            VARCHAR2(6),
  5    caddresscode        VARCHAR2(12),
  6    ccollectionagencies VARCHAR2(12),
  7    syxz                VARCHAR2(2),
  8    countrange          DATE not null,
  9    zffs                VARCHAR2(2) not null,
 10    countnum            VARCHAR2(10) not null
 11  );
Table created
SQL> -- Add comments to the table
SQL> comment on table ILLEGAL_SUM_HOURS
  2    is '违法数量汇总表（天）';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column ILLEGAL_SUM_HOURS.id
  2    is '唯一编号';
Comment added
SQL> comment on column ILLEGAL_SUM_HOURS.coffense
  2    is '违法行为';
Comment added
SQL> comment on column ILLEGAL_SUM_HOURS.caddresscode
  2    is '违法地点代码';
Comment added
SQL> comment on column ILLEGAL_SUM_HOURS.ccollectionagencies
  2    is '采集机关';
Comment added
SQL> comment on column ILLEGAL_SUM_HOURS.syxz
  2    is '使用性质';
Comment added
SQL> comment on column ILLEGAL_SUM_HOURS.countrange
  2    is '统计周期';
Comment added
SQL> comment on column ILLEGAL_SUM_HOURS.zffs
  2    is '执法方式(0 非现场执法1 现场执法)';
Comment added
SQL> comment on column ILLEGAL_SUM_HOURS.countnum
  2    is '违法数量';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table ILLEGAL_SUM_HOURS
  2    add constraint PK_ILLEGAL_SUM_HOURS primary key (ID);
Table altered
SQL>   -- Create table
SQL> create table ILLEGAL_SYXZGROUP
  2  (
  3    id        VARCHAR2(32) not null,
  4    groupname NVARCHAR2(200) not null,
  5    syxz      VARCHAR2(200) not null
  6  );
Table created
SQL> -- Add comments to the table
SQL> comment on table ILLEGAL_SYXZGROUP
  2    is '重点车辆类型配置表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column ILLEGAL_SYXZGROUP.id
  2    is '重点车辆分组编号';
Comment added
SQL> comment on column ILLEGAL_SYXZGROUP.groupname
  2    is '分组名称';
Comment added
SQL> comment on column ILLEGAL_SYXZGROUP.syxz
  2    is '使用性质(多条用逗号分隔)';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table ILLEGAL_SYXZGROUP
  2    add constraint PK_ILLEGAL_SYXZGROUP primary key (ID);
Table altered
SQL> -- Create table
SQL> create table ILLEGAL_DEVICE_WARNING
  2  (
  3    nid          VARCHAR2(32) not null,
  4    deviceid     VARCHAR2(18) not null,
  5    warningvalue NVARCHAR2(100) not null,
  6    warningname  NVARCHAR2(200),
  7    warningtime  DATE not null,
  8    prenum       NUMBER,
  9    nownum       NUMBER,
 10    warningdept  VARCHAR2(12)
 11  );
Table created
SQL> -- Add comments to the table
SQL> comment on table ILLEGAL_DEVICE_WARNING
  2    is '违法设备突变预警';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column ILLEGAL_DEVICE_WARNING.nid
  2    is 'uuid';
Comment added
SQL> comment on column ILLEGAL_DEVICE_WARNING.deviceid
  2    is '设备编号';
Comment added
SQL> comment on column ILLEGAL_DEVICE_WARNING.warningvalue
  2    is '预警数值';
Comment added
SQL> comment on column ILLEGAL_DEVICE_WARNING.warningname
  2    is '预警名称';
Comment added
SQL> comment on column ILLEGAL_DEVICE_WARNING.warningtime
  2    is '预警时间';
Comment added
SQL> comment on column ILLEGAL_DEVICE_WARNING.prenum
  2    is '历史作废率';
Comment added
SQL> comment on column ILLEGAL_DEVICE_WARNING.nownum
  2    is '当前作废率';
Comment added
SQL> comment on column ILLEGAL_DEVICE_WARNING.warningdept
  2    is '预警部门';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table ILLEGAL_DEVICE_WARNING
  2    add constraint PK_ILLEGAL_DEVICE_WARNING primary key (NID);
Table altered
SQL> -- Create table
SQL> create table ILLEGAL_ENFORCE
  2  (
  3    id                  VARCHAR2(32) not null,
  4    coffense            VARCHAR2(6),
  5    caddresscode        VARCHAR2(12),
  6    ccollectionagencies VARCHAR2(12),
  7    syxz                VARCHAR2(2),
  8    wfsj                DATE not null,
  9    syr                 NVARCHAR2(128),
 10    zqmj                VARCHAR2(10),
 11    forcetype           VARCHAR2(1),
 12    fineinfo            NVARCHAR2(500),
 13    dsr                 NVARCHAR2(50),
 14    clicensetype        VARCHAR2(2),
 15    ccarnumber          NVARCHAR2(16)
 16  );
Table created
SQL> -- Add comments to the table
SQL> comment on table ILLEGAL_ENFORCE
  2    is '现场执法表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column ILLEGAL_ENFORCE.id
  2    is '唯一编号';
Comment added
SQL> comment on column ILLEGAL_ENFORCE.coffense
  2    is '违法行为';
Comment added
SQL> comment on column ILLEGAL_ENFORCE.caddresscode
  2    is '违法地点代码';
Comment added
SQL> comment on column ILLEGAL_ENFORCE.ccollectionagencies
  2    is '采集机关';
Comment added
SQL> comment on column ILLEGAL_ENFORCE.syxz
  2    is '使用性质';
Comment added
SQL> comment on column ILLEGAL_ENFORCE.wfsj
  2    is '违法时间';
Comment added
SQL> comment on column ILLEGAL_ENFORCE.syr
  2    is '机动车所有人';
Comment added
SQL> comment on column ILLEGAL_ENFORCE.zqmj
  2    is '执勤民警（警号）';
Comment added
SQL> comment on column ILLEGAL_ENFORCE.forcetype
  2    is '现场执法种类（简易处罚：1；强制处罚：2）';
Comment added
SQL> comment on column ILLEGAL_ENFORCE.fineinfo
  2    is '处罚情况';
Comment added
SQL> comment on column ILLEGAL_ENFORCE.dsr
  2    is '当事人';
Comment added
SQL> comment on column ILLEGAL_ENFORCE.clicensetype
  2    is '号牌种类';
Comment added
SQL> comment on column ILLEGAL_ENFORCE.ccarnumber
  2    is '号牌号码';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table ILLEGAL_ENFORCE
  2    add constraint PK_ILLEGAL_ENFORCE primary key (ID);
Table altered
SQL> insert into sysparams (PARAMCODE, PARAMNAME, PARAMVALUE, PARAMCONTENT, PARAMSTATE)
  2  values ('JTZF_WARN_INCREMENT', '突变预警增量阈值', '30%', '违法数量突变预警的阈值', '0');
1 row inserted
SQL> insert into sysparams (PARAMCODE, PARAMNAME, PARAMVALUE, PARAMCONTENT, PARAMSTATE)
  2  values ('JTZF_WARN_SCRAPRATE', '非现场执法设备的作废率', '10%', '执法设备异常预警的阈值', '0');
1 row inserted
SQL> commit;
Commit complete
SQL> -- Create table
SQL> create table ILLEGAL_COFENCE_WARNING
  2  (
  3    nid          VARCHAR2(32) not null,
  4    cofence      VARCHAR2(6) not null,
  5    warningvalue NVARCHAR2(100) not null,
  6    warningname  NVARCHAR2(60) not null,
  7    warningtime  DATE not null,
  8    prenum       NUMBER,
  9    nownum       NUMBER,
 10    warningdept  VARCHAR2(12)
 11  );
Table created
SQL> -- Add comments to the table
SQL> comment on table ILLEGAL_COFENCE_WARNING
  2    is '违法数据突变预警';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column ILLEGAL_COFENCE_WARNING.nid
  2    is 'uuid';
Comment added
SQL> comment on column ILLEGAL_COFENCE_WARNING.cofence
  2    is '违法行为';
Comment added
SQL> comment on column ILLEGAL_COFENCE_WARNING.warningvalue
  2    is '预警数值';
Comment added
SQL> comment on column ILLEGAL_COFENCE_WARNING.warningname
  2    is '预警名称';
Comment added
SQL> comment on column ILLEGAL_COFENCE_WARNING.warningtime
  2    is '预警时间';
Comment added
SQL> comment on column ILLEGAL_COFENCE_WARNING.prenum
  2    is '历史值';
Comment added
SQL> comment on column ILLEGAL_COFENCE_WARNING.nownum
  2    is '当前值';
Comment added
SQL> comment on column ILLEGAL_COFENCE_WARNING.warningdept
  2    is '预警部门';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table ILLEGAL_COFENCE_WARNING
  2    add constraint PK_ILLEGAL_COFENCE_WARNING primary key (NID);
Table altered
SQL> alter table ILLEGAL_COFENCE_WARNING modify cofence null;
Table altered
SQL> commit;
Commit complete
SQL> insert into sysparams (PARAMCODE, PARAMNAME, PARAMVALUE, PARAMCONTENT, PARAMSTATE)
  2  values ('JTZF_JM_HRV', '即墨高分可视化执法分析', '13450,12080,16250,13010', '即墨高分可视化执法分析', '0');
1 row inserted
SQL> insert into sysparams (PARAMCODE, PARAMNAME, PARAMVALUE, PARAMCONTENT, PARAMSTATE)
  2  values ('INSPECT_ALERTCOUNT_ENUM', '报警量统计关键报警类型枚举（高分可视化）', '01,02,03,04', '报警量统计关键报警类型枚举(高分可视化),通过,分隔', '0');
1 row inserted
SQL> insert into sysparams (PARAMCODE, PARAMNAME, PARAMVALUE, PARAMCONTENT, PARAMSTATE)
  2  values ('INSPECT_ALERTRANK_ENUM', '专项整治关键报警类型枚举（高分可视化)', '01,02,03,04', '专项整治关键报警类型枚举(高分可视化),通过,分隔', '0');
1 row inserted
SQL> commit;
Commit complete
SQL> --勤务
SQL> drop table dm_police_case;
Table dropped
SQL> -- Create table
SQL> create table DM_POLICE_CASE
  2  (
  3    id                 VARCHAR2(32) default sys_guid() not null,
  4    receive_police     VARCHAR2(32),
  5    handler_police     VARCHAR2(32),
  6    out_police         VARCHAR2(32),
  7    accident_time      DATE,
  8    receive_time       DATE,
  9    handler_time       DATE,
 10    out_time           DATE,
 11    arrive_time        DATE,
 12    finish_time        DATE,
 13    duration           VARCHAR2(5),
 14    case_type          VARCHAR2(2),
 15    case_level         VARCHAR2(2),
 16    case_status        VARCHAR2(2),
 17    case_address       VARCHAR2(300),
 18    injured_num        VARCHAR2(3),
 19    death_num          VARCHAR2(3),
 20    remark             NVARCHAR2(500),
 21    accident_car_one   VARCHAR2(20),
 22    accident_car_two   VARCHAR2(20),
 23    accident_car_three VARCHAR2(20),
 24    accident_car_four  VARCHAR2(20),
 25    accident_car_five  VARCHAR2(20),
 26    case_name          VARCHAR2(100),
 27    address_desc       NVARCHAR2(500),
 28    district_id        VARCHAR2(12),
 29    case_id            VARCHAR2(40)
 30  )
 31  tablespace HIATMPTS
 32    pctfree 10
 33    initrans 1
 34    maxtrans 255
 35    storage
 36    (
 37      initial 16K
 38      next 8K
 39      minextents 1
 40      maxextents unlimited
 41    );
Table created
SQL> -- Add comments to the table
SQL> comment on table DM_POLICE_CASE
  2    is '警情考核接入表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column DM_POLICE_CASE.id
  2    is '主键';
Comment added
SQL> comment on column DM_POLICE_CASE.receive_police
  2    is '接警人UUID';
Comment added
SQL> comment on column DM_POLICE_CASE.handler_police
  2    is '处警人UUID';
Comment added
SQL> comment on column DM_POLICE_CASE.out_police
  2    is '出警人UUID';
Comment added
SQL> comment on column DM_POLICE_CASE.accident_time
  2    is '事故发生时间';
Comment added
SQL> comment on column DM_POLICE_CASE.receive_time
  2    is '接警时间';
Comment added
SQL> comment on column DM_POLICE_CASE.handler_time
  2    is '处警时间';
Comment added
SQL> comment on column DM_POLICE_CASE.out_time
  2    is '出警时间';
Comment added
SQL> comment on column DM_POLICE_CASE.arrive_time
  2    is '到现场时间';
Comment added
SQL> comment on column DM_POLICE_CASE.finish_time
  2    is '处置完成时间';
Comment added
SQL> comment on column DM_POLICE_CASE.duration
  2    is '处置时长';
Comment added
SQL> comment on column DM_POLICE_CASE.case_type
  2    is '警情类型（01交通拥堵、03交通事故）枚举1110';
Comment added
SQL> comment on column DM_POLICE_CASE.case_level
  2    is '交通事故等级';
Comment added
SQL> comment on column DM_POLICE_CASE.case_status
  2    is '当前警情处置状态（1未处理、5处理中、7处理完成）枚举15003';
Comment added
SQL> comment on column DM_POLICE_CASE.case_address
  2    is '警情发生地';
Comment added
SQL> comment on column DM_POLICE_CASE.injured_num
  2    is '受伤人数';
Comment added
SQL> comment on column DM_POLICE_CASE.death_num
  2    is '死亡人数';
Comment added
SQL> comment on column DM_POLICE_CASE.remark
  2    is '警情描述';
Comment added
SQL> comment on column DM_POLICE_CASE.accident_car_one
  2    is '肇事车辆1';
Comment added
SQL> comment on column DM_POLICE_CASE.accident_car_two
  2    is '肇事车辆2';
Comment added
SQL> comment on column DM_POLICE_CASE.accident_car_three
  2    is '肇事车辆3（备用）';
Comment added
SQL> comment on column DM_POLICE_CASE.accident_car_four
  2    is '肇事车辆4（备用）';
Comment added
SQL> comment on column DM_POLICE_CASE.accident_car_five
  2    is '肇事车辆5（备用）';
Comment added
SQL> comment on column DM_POLICE_CASE.case_name
  2    is '警情事故名称';
Comment added
SQL> comment on column DM_POLICE_CASE.address_desc
  2    is '事故地点描述';
Comment added
SQL> comment on column DM_POLICE_CASE.district_id
  2    is '所属大队辖区';
Comment added
SQL> comment on column DM_POLICE_CASE.case_id
  2    is '警情ID';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table DM_POLICE_CASE
  2    add constraint PK_DM_POLICE_CASE primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> -- Create table  前方已建立 前方已建立 --勤务DDM-增量脚本A1  胡越20190129
SQL> /*
  2  create table DM_CHECK_APPEAL
  3  (
  4    id                          VARCHAR2(32) not null,
  5    dm_comprehensive_monitor_id VARCHAR2(32),
  6    status                      CHAR(1) default 0,
  7    pic_url                     VARCHAR2(4000),
  8    reason                      NVARCHAR2(1000),
  9    create_time                 DATE,
 10    update_time                 DATE
 11  )
 12  tablespace HIATMPTS
 13    pctfree 10
 14    initrans 1
 15    maxtrans 255
 16    storage
 17    (
 18      initial 16K
 19      next 8K
 20      minextents 1
 21      maxextents unlimited
 22    );
 23  -- Add comments to the table
 24  comment on table DM_CHECK_APPEAL
 25    is '考核申诉表';
 26  -- Add comments to the columns
 27  comment on column DM_CHECK_APPEAL.id
 28    is '主键';
 29  comment on column DM_CHECK_APPEAL.dm_comprehensive_monitor_id
 30    is '综合监控表主键';
 31  comment on column DM_CHECK_APPEAL.status
 32    is '申诉状态 0未审核； 1通过；2驳回';
 33  comment on column DM_CHECK_APPEAL.pic_url
 34    is '图片路径，多个路径用#号隔开';
 35  comment on column DM_CHECK_APPEAL.reason
 36    is '申诉原因';
 37  comment on column DM_CHECK_APPEAL.create_time
 38    is '创建时间';
 39  comment on column DM_CHECK_APPEAL.update_time
 40    is '更新时间';
 41  -- Create/Recreate primary, unique and foreign key constraints
 42  alter table DM_CHECK_APPEAL
 43    add constraint PRI_APPEAL_ID primary key (ID)
 44    using index
 45    tablespace HIATMPTS
 46    pctfree 10
 47    initrans 2
 48    maxtrans 255
 49    storage
 50    (
 51      initial 64K
 52      next 1M
 53      minextents 1
 54      maxextents unlimited
 55    );
 56  */
SQL> -- Create table  前方已建立 --勤务DDM-增量脚本A1  胡越20190129
SQL> /*
  2  create table DM_DEPLOY_HOLIDAY
  3  (
  4    id           VARCHAR2(32) default sys_guid() not null,
  5    position_id  VARCHAR2(32),
  6    begin_time   DATE,
  7    end_time     DATE,
  8    sub_status   VARCHAR2(2),
  9    sub_type     VARCHAR2(3),
 10    creator      VARCHAR2(10),
 11    creator_time DATE,
 12    updater      VARCHAR2(10),
 13    update_time  DATE,
 14    del_flag     VARCHAR2(2) default 0
 15  )
 16  tablespace HIATMPTS
 17    pctfree 10
 18    initrans 1
 19    maxtrans 255
 20    storage
 21    (
 22      initial 16K
 23      next 8K
 24      minextents 1
 25      maxextents unlimited
 26    );
 27  -- Add comments to the table
 28  comment on table DM_DEPLOY_HOLIDAY
 29    is '岗位假日排班表';
 30  -- Add comments to the columns
 31  comment on column DM_DEPLOY_HOLIDAY.id
 32    is '主键';
 33  comment on column DM_DEPLOY_HOLIDAY.position_id
 34    is '岗位主键';
 35  comment on column DM_DEPLOY_HOLIDAY.begin_time
 36    is '上岗时间 YYYY-MM-DD HH:MM:SS';
 37  comment on column DM_DEPLOY_HOLIDAY.end_time
 38    is '撤岗时间 YYYY-MM-DD HH:MM:SS';
 39  comment on column DM_DEPLOY_HOLIDAY.sub_status
 40    is '岗位提交状态 0 中队待提交；1大队待审核；2支队待审核；3审核通过，待安排警力；4审核通过，已安排警力';
 41  comment on column DM_DEPLOY_HOLIDAY.sub_type
 42    is '岗位提交类型 0手动提交；1自动提交（000-111，个位表示中队；十位表示大队；百位表示支队）';
 43  comment on column DM_DEPLOY_HOLIDAY.creator
 44    is '创建人';
 45  comment on column DM_DEPLOY_HOLIDAY.creator_time
 46    is '创建时间';
 47  comment on column DM_DEPLOY_HOLIDAY.updater
 48    is '更新人';
 49  comment on column DM_DEPLOY_HOLIDAY.update_time
 50    is '更新时间';
 51  comment on column DM_DEPLOY_HOLIDAY.del_flag
 52    is '删除标识 0未删除；1删除';
 53  -- Create/Recreate indexes
 54  create index PK_DM_DEPLOY_H_DELPK on DM_DEPLOY_HOLIDAY (DEL_FLAG)
 55    tablespace HIATMPTS
 56    pctfree 10
 57    initrans 2
 58    maxtrans 255
 59    storage
 60    (
 61      initial 64K
 62      next 1M
 63      minextents 1
 64      maxextents unlimited
 65    );
 66  create index PK_DM_DEPLOY_H_POSITIONID on DM_DEPLOY_HOLIDAY (POSITION_ID)
 67    tablespace HIATMPTS
 68    pctfree 10
 69    initrans 2
 70    maxtrans 255
 71    storage
 72    (
 73      initial 64K
 74      next 1M
 75      minextents 1
 76      maxextents unlimited
 77    );
 78  -- Create/Recreate primary, unique and foreign key constraints
 79  
 80  alter table DM_DEPLOY_HOLIDAY
 81    add constraint PK_DM_DEPLOY_HOLIDAY primary key (ID)
 82    using index
 83    tablespace HIATMPTS
 84    pctfree 10
 85    initrans 2
 86    maxtrans 255
 87    storage
 88    (
 89      initial 64K
 90      next 1M
 91      minextents 1
 92      maxextents unlimited
 93    );
 94  
 95   */
SQL> --高分
SQL> --韩征↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓
SQL> ------------------------------------------------------
SQL> -- Export file for user HIATMP58                    --
SQL> -- Created by Administrator on 2018-11-13, 16:48:41 --
SQL> ------------------------------------------------------
SQL> prompt

SQL> prompt Creating table SECTION_FLOW_DATA_SUM5
Creating table SECTION_FLOW_DATA_SUM5
SQL> prompt =====================================
=====================================
SQL> prompt

SQL> create table SECTION_FLOW_DATA_SUM5
  2  (
  3    SECTIONID   VARCHAR2(32) not null,
  4    TRAFFICFLOW NUMBER not null,
  5    COMPUTEDATE DATE not null
  6  )
  7  tablespace HIATMPTS
  8    pctfree 10
  9    initrans 1
 10    maxtrans 255
 11    storage
 12    (
 13      initial 64K
 14      next 8K
 15      minextents 1
 16      maxextents unlimited
 17    );
Table created
SQL> comment on column SECTION_FLOW_DATA_SUM5.SECTIONID
  2    is '路段id';
Comment added
SQL> comment on column SECTION_FLOW_DATA_SUM5.TRAFFICFLOW
  2    is '交通流量';
Comment added
SQL> comment on column SECTION_FLOW_DATA_SUM5.COMPUTEDATE
  2    is '计算时间';
Comment added
SQL> alter table SECTION_FLOW_DATA_SUM5
  2    add constraint SYS_SECTION_FLOW_DATA_SUM5 primary key (SECTIONID, COMPUTEDATE)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> --韩征↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑
SQL> --于明浩↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓
SQL> ------------------------------------------------
SQL> -- Export file for user HIATMP58@HIATMPDB     --
SQL> -- Created by Hisense on 2018/11/13, 17:14:47 --
SQL> ------------------------------------------------
SQL> set define off
SQL> prompt

SQL> prompt Creating table TD_TRAVELSPEED_RESULT_NEW
Creating table TD_TRAVELSPEED_RESULT_NEW
SQL> prompt ========================================
========================================
SQL> prompt

SQL> create table TD_TRAVELSPEED_RESULT_NEW
  2  (
  3    id         VARCHAR2(32),
  4    route_id   VARCHAR2(30),
  5    cal_time   DATE,
  6    velocity   NUMBER(11,2),
  7    samplesize NUMBER
  8  )
  9  tablespace HIATMPTS
 10    pctfree 10
 11    initrans 1
 12    maxtrans 255
 13    storage
 14    (
 15      initial 64K
 16      next 1M
 17      minextents 1
 18      maxextents unlimited
 19    );
Table created
SQL> comment on table TD_TRAVELSPEED_RESULT_NEW
  2    is '行程车速结果表';
Comment added
SQL> comment on column TD_TRAVELSPEED_RESULT_NEW.route_id
  2    is '路段id';
Comment added
SQL> comment on column TD_TRAVELSPEED_RESULT_NEW.cal_time
  2    is '计算时间';
Comment added
SQL> comment on column TD_TRAVELSPEED_RESULT_NEW.velocity
  2    is '平均速度';
Comment added
SQL> comment on column TD_TRAVELSPEED_RESULT_NEW.samplesize
  2    is '样本量';
Comment added
SQL> prompt

SQL> prompt Creating table TS_SPEED_HIERARCHY_DEVICE
Creating table TS_SPEED_HIERARCHY_DEVICE
SQL> prompt ========================================
========================================
SQL> prompt

SQL> create table TS_SPEED_HIERARCHY_DEVICE
  2  (
  3    node_id   VARCHAR2(50) not null,
  4    device_id VARCHAR2(100) not null,
  5    length    NUMBER(5,3),
  6    position  VARCHAR2(1),
  7    node_name VARCHAR2(40),
  8    lon       NUMBER(10,6),
  9    lat       NUMBER(10,6)
 10  )
 11  tablespace HIATMPTS
 12    pctfree 10
 13    initrans 1
 14    maxtrans 255
 15    storage
 16    (
 17      initial 64K
 18      next 1M
 19      minextents 1
 20      maxextents unlimited
 21    );
Table created
SQL> comment on column TS_SPEED_HIERARCHY_DEVICE.node_id
  2    is '路段id';
Comment added
SQL> comment on column TS_SPEED_HIERARCHY_DEVICE.device_id
  2    is '设备id';
Comment added
SQL> comment on column TS_SPEED_HIERARCHY_DEVICE.length
  2    is '路段长度';
Comment added
SQL> comment on column TS_SPEED_HIERARCHY_DEVICE.position
  2    is '0:开始，1:结束';
Comment added
SQL> comment on column TS_SPEED_HIERARCHY_DEVICE.node_name
  2    is '路段名称';
Comment added
SQL> comment on column TS_SPEED_HIERARCHY_DEVICE.lon
  2    is '经度';
Comment added
SQL> comment on column TS_SPEED_HIERARCHY_DEVICE.lat
  2    is '纬度';
Comment added
SQL> prompt

SQL> prompt Creating sequence SEQ_TD_TRAVELSPEED_RESULT_NEW
Creating sequence SEQ_TD_TRAVELSPEED_RESULT_NEW
SQL> prompt ===============================================
===============================================
SQL> prompt

SQL> create sequence SEQ_TD_TRAVELSPEED_RESULT_NEW
  2  minvalue 1
  3  maxvalue 9999999999999999999999999999
  4  start with 31
  5  increment by 1
  6  cache 10;
Sequence created
SQL> --于明浩↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑
SQL> --运行监管建表↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓孟范超
SQL> -- Create table
SQL> create table HRV_SECTION_BASE
  2  (
  3    sectionid     VARCHAR2(32) not null,
  4    saturatedflow NUMBER not null,
  5    updater       VARCHAR2(32) not null,
  6    updatetdate   DATE not null,
  7    speedlimit    NUMBER not null,
  8    freeflowspeed NUMBER(11,2)
  9  )
 10  tablespace HIATMPTS
 11    pctfree 10
 12    initrans 1
 13    maxtrans 255
 14    storage
 15    (
 16      initial 64K
 17      next 8K
 18      minextents 1
 19      maxextents unlimited
 20    );
Table created
SQL> -- Add comments to the table
SQL> comment on table HRV_SECTION_BASE
  2    is '路段基础信息表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column HRV_SECTION_BASE.sectionid
  2    is '路段id';
Comment added
SQL> comment on column HRV_SECTION_BASE.saturatedflow
  2    is '饱和流量    人工录入';
Comment added
SQL> comment on column HRV_SECTION_BASE.updater
  2    is '更新人';
Comment added
SQL> comment on column HRV_SECTION_BASE.updatetdate
  2    is '更新时间';
Comment added
SQL> comment on column HRV_SECTION_BASE.speedlimit
  2    is '路段限速值   人工录入';
Comment added
SQL> comment on column HRV_SECTION_BASE.freeflowspeed
  2    is '自由流速度    自动计算  定时更新（默认一个月更新一次）';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table HRV_SECTION_BASE
  2    add constraint HRV_SECTION_SATURATED_CONFIG_1 primary key (SECTIONID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> -- Create table
SQL> create table HRV_SECTION_STATUS
  2  (
  3    sectionid     VARCHAR2(32) not null,
  4    delaytime     NUMBER(11,2) not null,
  5    avspeed       NUMBER(11,2) not null,
  6    delaytimerito NUMBER(11,2) not null,
  7    computedate   DATE default sysdate not null,
  8    insertdate    DATE default sysdate not null
  9  )
 10  tablespace HIATMPTS
 11    pctfree 10
 12    initrans 1
 13    maxtrans 255
 14    storage
 15    (
 16      initial 64K
 17      next 1M
 18      minextents 1
 19      maxextents unlimited
 20    );
Table created
SQL> -- Add comments to the table
SQL> comment on table HRV_SECTION_STATUS
  2    is '路段交通状态表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column HRV_SECTION_STATUS.sectionid
  2    is '路段id';
Comment added
SQL> comment on column HRV_SECTION_STATUS.delaytime
  2    is '延误时间';
Comment added
SQL> comment on column HRV_SECTION_STATUS.avspeed
  2    is '平均行程速度';
Comment added
SQL> comment on column HRV_SECTION_STATUS.delaytimerito
  2    is '延误时间比';
Comment added
SQL> comment on column HRV_SECTION_STATUS.computedate
  2    is '计算时间';
Comment added
SQL> comment on column HRV_SECTION_STATUS.insertdate
  2    is '入库时间';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table HRV_SECTION_STATUS
  2    add constraint SYS_HRV_SECTION_STATUS_1 primary key (SECTIONID, COMPUTEDATE)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> -- Create table
SQL> create table HRV_MONITOR_AREA_REGULAR_NUM
  2  (
  3    regularnum   NUMBER not null,
  4    unregularnum NUMBER not null,
  5    areaid       VARCHAR2(20) not null,
  6    computedate  DATE not null,
  7    insertdate   DATE not null
  8  )
  9  tablespace HIATMPTS
 10    pctfree 10
 11    initrans 1
 12    maxtrans 255
 13    storage
 14    (
 15      initial 64K
 16      next 1M
 17      minextents 1
 18      maxextents unlimited
 19    );
Table created
SQL> -- Add comments to the table
SQL> comment on table HRV_MONITOR_AREA_REGULAR_NUM
  2    is '高分可视化区域通勤车流量表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column HRV_MONITOR_AREA_REGULAR_NUM.regularnum
  2    is '通勤车数';
Comment added
SQL> comment on column HRV_MONITOR_AREA_REGULAR_NUM.unregularnum
  2    is '非通勤车数';
Comment added
SQL> comment on column HRV_MONITOR_AREA_REGULAR_NUM.areaid
  2    is '区域编号';
Comment added
SQL> comment on column HRV_MONITOR_AREA_REGULAR_NUM.computedate
  2    is '计算时间';
Comment added
SQL> comment on column HRV_MONITOR_AREA_REGULAR_NUM.insertdate
  2    is '入库时间';
Comment added
SQL> -- Create table
SQL> create table REGULAR_CAR
  2  (
  3    carnumber VARCHAR2(16) not null
  4  )
  5  tablespace HIATMPTS
  6    pctfree 10
  7    initrans 1
  8    maxtrans 255;
Table created
SQL> -- Add comments to the table
SQL> comment on table REGULAR_CAR
  2    is '高分可视化-通勤车表';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table REGULAR_CAR
  2    add constraint CARNUMBER primary key (CARNUMBER)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255;
Table altered
SQL> -- Create table
SQL> create table HRV_MONITOR_CAR_BELONGING
  2  (
  3    allcarnum        NUMBER not null,
  4    otherprovincenum NUMBER not null,
  5    foreignnum       NUMBER not null,
  6    localnum         NUMBER not null,
  7    pointcode        VARCHAR2(20) not null,
  8    computedate      DATE not null,
  9    insertdate       DATE not null
 10  )
 11  tablespace HIATMPTS
 12    pctfree 10
 13    initrans 1
 14    maxtrans 255
 15    storage
 16    (
 17      initial 64K
 18      next 1M
 19      minextents 1
 20      maxextents unlimited
 21    );
Table created
SQL> -- Add comments to the table
SQL> comment on table HRV_MONITOR_CAR_BELONGING
  2    is '高分可视化车辆归属地分析表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column HRV_MONITOR_CAR_BELONGING.allcarnum
  2    is '在途车辆数';
Comment added
SQL> comment on column HRV_MONITOR_CAR_BELONGING.otherprovincenum
  2    is '外省车数';
Comment added
SQL> comment on column HRV_MONITOR_CAR_BELONGING.foreignnum
  2    is '本省外地车数';
Comment added
SQL> comment on column HRV_MONITOR_CAR_BELONGING.localnum
  2    is '本市车';
Comment added
SQL> comment on column HRV_MONITOR_CAR_BELONGING.pointcode
  2    is '点位编号';
Comment added
SQL> comment on column HRV_MONITOR_CAR_BELONGING.computedate
  2    is '计算时间';
Comment added
SQL> comment on column HRV_MONITOR_CAR_BELONGING.insertdate
  2    is '入库时间';
Comment added
SQL> -- Create table
SQL> create table HRV_MONITOR_CAR_ONWAY
  2  (
  3    allcarnum        NUMBER not null,
  4    otherprovincenum NUMBER not null,
  5    foreignnum       NUMBER not null,
  6    localnum         NUMBER not null,
  7    bigcar           NUMBER not null,
  8    computedate      DATE not null,
  9    insertdate       DATE not null,
 10    smallcar         NUMBER not null
 11  )
 12  tablespace HIATMPTS
 13    pctfree 10
 14    initrans 1
 15    maxtrans 255
 16    storage
 17    (
 18      initial 64K
 19      next 1M
 20      minextents 1
 21      maxextents unlimited
 22    );
Table created
SQL> -- Add comments to the table
SQL> comment on table HRV_MONITOR_CAR_ONWAY
  2    is '高分可视化在途车辆表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column HRV_MONITOR_CAR_ONWAY.allcarnum
  2    is '在途车辆数';
Comment added
SQL> comment on column HRV_MONITOR_CAR_ONWAY.otherprovincenum
  2    is '外省车辆数';
Comment added
SQL> comment on column HRV_MONITOR_CAR_ONWAY.foreignnum
  2    is '本省外地车辆数';
Comment added
SQL> comment on column HRV_MONITOR_CAR_ONWAY.localnum
  2    is '本市车辆数';
Comment added
SQL> comment on column HRV_MONITOR_CAR_ONWAY.bigcar
  2    is '大型车数';
Comment added
SQL> comment on column HRV_MONITOR_CAR_ONWAY.computedate
  2    is '计算时间';
Comment added
SQL> comment on column HRV_MONITOR_CAR_ONWAY.insertdate
  2    is '入库时间';
Comment added
SQL> comment on column HRV_MONITOR_CAR_ONWAY.smallcar
  2    is '小型车数';
Comment added
SQL> -- Create table
SQL> create table HRV_CONCERN_SECTION_RELATION
  2  (
  3    concernid VARCHAR2(32) not null,
  4    sectionid VARCHAR2(32) not null,
  5    strcoords CLOB
  6  )
  7  tablespace HIATMPTS
  8    pctfree 10
  9    initrans 1
 10    maxtrans 255
 11    storage
 12    (
 13      initial 64K
 14      next 1M
 15      minextents 1
 16      maxextents unlimited
 17    );
Table created
SQL> -- Add comments to the table
SQL> comment on table HRV_CONCERN_SECTION_RELATION
  2    is '关注点与路段关联表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column HRV_CONCERN_SECTION_RELATION.concernid
  2    is '关注点ID';
Comment added
SQL> comment on column HRV_CONCERN_SECTION_RELATION.sectionid
  2    is '路段ID';
Comment added
SQL> comment on column HRV_CONCERN_SECTION_RELATION.strcoords
  2    is '路段坐标集合';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table HRV_CONCERN_SECTION_RELATION
  2    add constraint CONCERN_SECTION_RELATION_01 primary key (CONCERNID, SECTIONID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> -- Create table
SQL> create table HRV_CONCERN
  2  (
  3    concernid   VARCHAR2(32) not null,
  4    concernname VARCHAR2(100) not null,
  5    concerntype CHAR(1) not null,
  6    creator     VARCHAR2(50) not null,
  7    createtime  DATE not null,
  8    updater     VARCHAR2(50),
  9    updatetime  DATE,
 10    strcoords   CLOB,
 11    description VARCHAR2(300)
 12  )
 13  tablespace HIATMPTS
 14    pctfree 10
 15    initrans 1
 16    maxtrans 255
 17    storage
 18    (
 19      initial 64K
 20      next 8K
 21      minextents 1
 22      maxextents unlimited
 23    );
Table created
SQL> -- Add comments to the table
SQL> comment on table HRV_CONCERN
  2    is '关注点（重点道路、重点区域）表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column HRV_CONCERN.concernid
  2    is '关注点（重点道路、重点区域）ID';
Comment added
SQL> comment on column HRV_CONCERN.concernname
  2    is '关注点名称';
Comment added
SQL> comment on column HRV_CONCERN.concerntype
  2    is '关注点类型';
Comment added
SQL> comment on column HRV_CONCERN.creator
  2    is '创建人';
Comment added
SQL> comment on column HRV_CONCERN.createtime
  2    is '创建时间';
Comment added
SQL> comment on column HRV_CONCERN.updater
  2    is '更新人';
Comment added
SQL> comment on column HRV_CONCERN.updatetime
  2    is '更新时间';
Comment added
SQL> comment on column HRV_CONCERN.strcoords
  2    is '关注点图形坐标集';
Comment added
SQL> comment on column HRV_CONCERN.description
  2    is '备注';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table HRV_CONCERN
  2    add primary key (CONCERNID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> -- Create table
SQL> create table HRV_TRAFFICWARN
  2  (
  3    concernid      VARCHAR2(32) not null,
  4    concerntype    CHAR(1) not null,
  5    concernname    VARCHAR2(100) not null,
  6    warntype       CHAR(1) not null,
  7    value          NUMBER not null,
  8    saturationflow NUMBER not null,
  9    actualflow     NUMBER not null,
 10    caltime        DATE not null,
 11    updatetime     DATE not null
 12  )
 13  tablespace HIATMPTS
 14    pctfree 10
 15    initrans 1
 16    maxtrans 255
 17    storage
 18    (
 19      initial 64K
 20      next 8K
 21      minextents 1
 22      maxextents unlimited
 23    );
Table created
SQL> -- Add comments to the table
SQL> comment on table HRV_TRAFFICWARN
  2    is '流量预警分析结果表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column HRV_TRAFFICWARN.concernid
  2    is '关注点ID';
Comment added
SQL> comment on column HRV_TRAFFICWARN.concerntype
  2    is '关注点类型  1：重点道路 2：重点区域';
Comment added
SQL> comment on column HRV_TRAFFICWARN.concernname
  2    is '关注点名称';
Comment added
SQL> comment on column HRV_TRAFFICWARN.warntype
  2    is '预警类型  1：饱和 2：突变上升 3：突变下降';
Comment added
SQL> comment on column HRV_TRAFFICWARN.value
  2    is '预警值   Type为1时 是饱和度， Type为2 3 时是突变百分比';
Comment added
SQL> comment on column HRV_TRAFFICWARN.saturationflow
  2    is '饱和流量';
Comment added
SQL> comment on column HRV_TRAFFICWARN.actualflow
  2    is '实际流量';
Comment added
SQL> comment on column HRV_TRAFFICWARN.caltime
  2    is '计算时间';
Comment added
SQL> comment on column HRV_TRAFFICWARN.updatetime
  2    is '入库时间';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table HRV_TRAFFICWARN
  2    add constraint SYS_HRV_TRAFFICWARN_P001 primary key (CONCERNID, CALTIME, WARNTYPE)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> --运行监管建表↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑孟范超
SQL> --在途车辆数存储过程及job脚本↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓王黎雁
SQL> create table TRAFFIC_STATISTICS_ROAD_EM
  2  (
  3    AREA_ID   VARCHAR2(12),
  4    LINK_ID   VARCHAR2(12),
  5    AREA_NAME VARCHAR2(20),
  6    LINK_NAME VARCHAR2(200),
  7    SECTIONID VARCHAR2(12)
  8  )
  9  tablespace HIATMPTS
 10    pctfree 10
 11    initrans 1
 12    maxtrans 255
 13    storage
 14    (
 15      initial 64K
 16      next 1M
 17      minextents 1
 18      maxextents unlimited
 19    );
Table created
SQL> create or replace procedure PROC_HRV_CARNUM_ONWAY_SUM(
  2            n_saveDay          in number,
  3            n_intervalMin      in number) IS
  4  
  5    v_table_name  varchar2(20) := 'detect_speed_data';--汇总原表
  6    v_table_sum varchar2(30) := 'hrv_monitor_car_onway';--在途车汇总结果表
  7    v_table_sum_belong varchar2(30) := 'hrv_monitor_car_belonging';--在途车归属地汇总结果表
  8  
  9    v_ins_sql  varchar2(1000);--插入sql
 10    v_ins_sql_belong  varchar2(1000);--在途车归属地插入sql
 11    v_sum_sql_allcar  varchar2(1000);--计算在途机动车总数sql
 12    v_sum_sql_othernums varchar2(1000);--计算外省车、本市车、大型车、小型车
 13    v_sum_sql_belong varchar2(1000);--计算本省车、外省车、本市车及其归属地
 14  
 15    v_sum_sql_from varchar2(1000);
 16    v_sum_sql_where  varchar2(1000);
 17    v_del_sql VARCHAR2(100);--删除sql
 18    v_del_sql_belong VARCHAR2(100);--删除sql
 19    v_sum_sql_shibie varchar2(1000);--计算识别车辆总数sql
 20    v_sum_sql_alldsdnum varchar2(1000);--计算过车总数sql
 21    v_sum_sql_where_all varchar2(1000);
 22  
 23    n_allcarnum number;--在途机动车总数
 24    n_otherprovincenum number;--外省车总数
 25    n_foreignnum number;--本省外地车总数
 26    n_localnum number;--本市车总数
 27    n_bigcarnum number;--大型车总数
 28    n_smallcarnum number;--小型车总数
 29  
 30    n_shibiecarnum number;--识别车辆总数
 31    n_alldsdcarnum number;--过车总数
 32  
 33    d_basicDate  Date;
 34    d_beginDate  Date;
 35    d_endDate    Date;
 36    d_saveMaxDate Date;--小于此日期的数据会被删除
 37  
 38    v_errCode VARCHAR2(100);
 39    v_errMsg  VARCHAR2(1000);
 40  
 41  BEGIN
 42  
 43    d_basicDate := to_date(to_char(sysdate, 'yyyy-mm-dd hh24:mi'), 'yyyy-mm-dd hh24:mi');
 44    d_beginDate := d_basicDate - numtodsinterval(n_intervalMin,'minute');
 45    d_endDate := d_basicDate;
 46    d_saveMaxDate := d_basicDate - numtodsinterval(n_saveDay,'day');
 47  
 48    v_sum_sql_where_all := ' where t.dcollectiondate >= :1 and t.dcollectiondate < :2 ';
 49    v_sum_sql_where := v_sum_sql_where_all || ' and t.clicensetype != '||chr(39)||'41'||chr(39)||' and t.clicensetype != '||chr(39)||'99'||chr(39)||'';
 50    v_sum_sql_from := ' select distinct t.ccarnumber,t.clicensetype from '|| v_table_name ||' t ' || v_sum_sql_where;
 51    v_sum_sql_shibie := ' select count(1) from '|| v_table_name ||' t ' || v_sum_sql_where;
 52    v_sum_sql_alldsdnum := ' select count(1) from '|| v_table_name ||' t ' || v_sum_sql_where_all;
 53  
 54    begin
 55  
 56      /*在途车表hrv_monitor_car_onway汇总数据start*/
 57      v_sum_sql_allcar := 'select count(1) from ( ' || v_sum_sql_from || ')';
 58  
 59      --外省车、本市车、大型车、小型车
 60      v_sum_sql_othernums := ' select nvl(sum(decode(substr(ccarnumber, 1, 1),'||chr(39)||'鲁'||chr(39)||',0,1)),0), ';
 61      v_sum_sql_othernums := v_sum_sql_othernums || ' nvl(sum(decode(substr(ccarnumber, 1, 2),'||chr(39)||'鲁U'||chr(39)||',1,'||chr(39)||'鲁B'||chr(39)||',1,0)),0), ';
 62      v_sum_sql_othernums := v_sum_sql_othernums || ' nvl(sum(decode(clicensetype,'||chr(39)||'01'||chr(39)||',1,0)),0), ';
 63      v_sum_sql_othernums := v_sum_sql_othernums || ' nvl(sum(decode(clicensetype,'||chr(39)||'02'||chr(39)||',1,0)),0) ';
 64      v_sum_sql_othernums := v_sum_sql_othernums || ' from (' || v_sum_sql_from || ') ';
 65  
 66      dbms_output.put_line(v_sum_sql_allcar);
 67      dbms_output.put_line(v_sum_sql_othernums);
 68      dbms_output.put_line(v_sum_sql_shibie);
 69      dbms_output.put_line(v_sum_sql_alldsdnum);
 70  
 71      execute immediate v_sum_sql_allcar into n_allcarnum using d_beginDate, d_endDate;
 72      execute immediate v_sum_sql_othernums into n_otherprovincenum, n_localnum, n_bigcarnum, n_smallcarnum  using d_beginDate, d_endDate;
 73      execute immediate v_sum_sql_shibie into n_shibiecarnum using d_beginDate, d_endDate;
 74      execute immediate v_sum_sql_alldsdnum into n_alldsdcarnum using d_beginDate, d_endDate;
 75      /*在途车表hrv_monitor_car_onway汇总数据end*/
 76  
 77  
 78      /*在途车归属地表hrv_monitor_car_belonging汇总数据start*/
 79  
 80      --计算在途车数、外省车、本省外地车、本市车及其归属地
 81      v_sum_sql_belong := ' select ownprovincenum + otherprovincenum allcarnum, otherprovincenum, ownprovincenum - localnum foreignnum, localnum, pointid,:3,sysdate from (';
 82      v_sum_sql_belong := v_sum_sql_belong || ' select nvl(sum(decode(substr(ccarnumber, 1, 1), '||chr(39)||'鲁'||chr(39)||', 1, 0)), 0) ownprovincenum,';
 83      v_sum_sql_belong := v_sum_sql_belong || ' nvl(sum(decode(substr(ccarnumber, 1, 1), '||chr(39)||'鲁'||chr(39)||', 0, 1)), 0) otherprovincenum,';
 84      v_sum_sql_belong := v_sum_sql_belong || ' nvl(sum(decode(substr(ccarnumber, 1, 2), '||chr(39)||'鲁U'||chr(39)||', 1, '||chr(39)||'鲁B'||chr(39)||', 1, 0)), 0) localnum,';
 85      v_sum_sql_belong := v_sum_sql_belong || ' pointid from (select distinct t.ccarnumber, t.clicensetype, e.pointid from detect_speed_data t';
 86      v_sum_sql_belong := v_sum_sql_belong || ' left join equipment_info e on t.cdevicecode = e.deviceid' || v_sum_sql_where;
 87      v_sum_sql_belong := v_sum_sql_belong || ' ) group by pointid)';
 88  
 89      /*在途车归属地表hrv_monitor_car_belonging汇总数据end*/
 90  
 91      --在途车总数/识别率
 92      if (n_shibiecarnum != 0) then
 93          n_allcarnum := round(n_allcarnum / n_shibiecarnum * n_alldsdcarnum);
 94          n_otherprovincenum := round(n_otherprovincenum / n_shibiecarnum * n_alldsdcarnum);
 95          n_localnum := round(n_localnum / n_shibiecarnum * n_alldsdcarnum);
 96          n_bigcarnum := round(n_bigcarnum / n_shibiecarnum * n_alldsdcarnum);
 97          n_smallcarnum := round(n_smallcarnum / n_shibiecarnum * n_alldsdcarnum);
 98  
 99          --计算在途车数、外省车、本省外地车、本市车及其归属地
100          v_sum_sql_belong := ' select ownprovincenum + otherprovincenum allcarnum, otherprovincenum, ownprovincenum - localnum foreignnum, localnum, pointid,:3,sysdate from (';
101          v_sum_sql_belong := v_sum_sql_belong || ' select round(nvl(sum(decode(substr(ccarnumber, 1, 1), '||chr(39)||'鲁'||chr(39)||', 1, 0)), 0) /'|| n_shibiecarnum||' * '||n_alldsdcarnum||') ownprovincenum,';
102          v_sum_sql_belong := v_sum_sql_belong || ' round(nvl(sum(decode(substr(ccarnumber, 1, 1), '||chr(39)||'鲁'||chr(39)||', 0, 1)), 0) /'|| n_shibiecarnum||' * '||n_alldsdcarnum||') otherprovincenum,';
103          v_sum_sql_belong := v_sum_sql_belong || ' round(nvl(sum(decode(substr(ccarnumber, 1, 2), '||chr(39)||'鲁U'||chr(39)||', 1, '||chr(39)||'鲁B'||chr(39)||', 1, 0)), 0) /'|| n_shibiecarnum||' * '||n_alldsdcarnum||') localnum,';
104          v_sum_sql_belong := v_sum_sql_belong || ' pointid from (select distinct t.ccarnumber, t.clicensetype, e.pointid from detect_speed_data t';
105          v_sum_sql_belong := v_sum_sql_belong || ' left join equipment_info e on t.cdevicecode = e.deviceid' || v_sum_sql_where;
106          v_sum_sql_belong := v_sum_sql_belong || ' ) group by pointid)';
107  
108      end if;
109  
110      --本省外地车=在途车总数-外省车-本市车
111      n_foreignnum := n_allcarnum - n_otherprovincenum - n_localnum;
112  
113      v_ins_sql := 'insert into ' || v_table_sum || '(computedate, allcarnum, otherprovincenum, foreignnum, localnum, bigcar, smallcar,  insertdate)';
114      v_ins_sql := v_ins_sql || ' values(:1, ' || n_allcarnum || ', ' || n_otherprovincenum ||','||n_foreignnum||','|| n_localnum ||','|| n_bigcarnum ||','|| n_smallcarnum ||' ,sysdate)';
115  
116      dbms_output.put_line(v_sum_sql_belong);
117  
118      v_ins_sql_belong := 'insert into ' || v_table_sum_belong || '(allcarnum, otherprovincenum, foreignnum, localnum, pointcode, computedate, insertdate)';
119      v_ins_sql_belong := v_ins_sql_belong || v_sum_sql_belong;
120  
121  
122      --每周一0点删除超期数据
123      if(to_char(d_basicDate,'d')) = 2 then
124        if (to_char(d_basicDate, 'HH24') = '00') then
125             v_del_sql := 'delete from hrv_monitor_car_onway t where t.computedate < :1' ;
126             v_del_sql_belong := 'delete from hrv_monitor_car_belonging where computedate < :1';
127  
128             dbms_output.put_line(v_del_sql);
129             dbms_output.put_line(v_del_sql_belong);
130             execute immediate v_del_sql using d_saveMaxDate;
131             commit;
132             execute immediate v_del_sql_belong using d_saveMaxDate;
133             commit;
134  
135        end if;
136      end if;
137  
138      dbms_output.put_line(v_ins_sql);
139      execute immediate v_ins_sql using d_basicDate;
140      commit;
141  
142      dbms_output.put_line(v_ins_sql_belong);
143      execute immediate v_ins_sql_belong using d_basicDate, d_beginDate, d_endDate;
144      commit;
145  
146      exception
147        when others then
148          v_errCode := TO_CHAR(SQLCODE);
149          v_errMsg := SQLERRM ;
150  
151          dbms_output.put_line(v_errCode||v_errMsg);
152     end;
153  
154  END PROC_HRV_CARNUM_ONWAY_SUM;
155  /
Procedure created
SQL> begin
  2    sys.dbms_scheduler.create_job(job_name            => 'JOB_HRV_CARNUM_ONWAY_SUM',
  3                                  job_type            => 'STORED_PROCEDURE',
  4                                  job_action          => 'PROC_HRV_CARNUM_ONWAY_SUM',
  5                                  number_of_arguments => 2,
  6                                  start_date          => to_date('18-10-2018 9:00:40', 'dd-mm-yyyy hh24:mi:ss'),--根据实际填写，分钟必须是5的整数倍
  7                                  repeat_interval     => 'Freq=Minutely;Interval=5',
  8                                  end_date            => to_date(null),
  9                                  job_class           => 'DEFAULT_JOB_CLASS',
 10                                  enabled             => false,
 11                                  auto_drop           => false,
 12                                  comments            => '');
 13    sys.dbms_scheduler.set_job_argument_value(job_name          => 'JOB_HRV_CARNUM_ONWAY_SUM',
 14                                              argument_position => 1,
 15                                              argument_value    => '10');
 16    sys.dbms_scheduler.set_job_argument_value(job_name          => 'JOB_HRV_CARNUM_ONWAY_SUM',
 17                                              argument_position => 2,
 18                                              argument_value    => '5');
 19    sys.dbms_scheduler.enable(name => 'JOB_HRV_CARNUM_ONWAY_SUM');
 20  end;
 21  /
PL/SQL procedure successfully completed
SQL> create or replace procedure PROC_DVS_INOUTCITY_FLOW_SUM(
  2            n_saveDay          in number,
  3            n_intervalMin      in number) IS
  4  
  5    v_table_name  varchar2(20) := 'detect_speed_data';--卡口换算汇总原表
  6    v_table_sum varchar2(20) := 'DVS_INOUTCITY_FLOW';--汇总结果表
  7  
  8    v_ins_sql  varchar2(1000);--插入sql
  9    v_ins_sql_in  varchar2(1000);--插入sql
 10    v_ins_sql_out  varchar2(1000);--插入sql
 11  
 12    v_sum_sql varchar2(1000);
 13    v_sum_sql_in  varchar2(1000);--进城sql
 14    v_sum_sql_out  varchar2(1000);--出城sql
 15  
 16    v_sum_sql_allin varchar2(1000);--进城车流总数sql
 17    v_sum_sql_allout varchar2(1000);--出城车流总数sql
 18  
 19    v_where varchar2(1000);
 20    v_where_in_comm varchar2(1000);--进城where公用条件
 21    v_where_in  varchar2(1000);--进城where条件
 22    v_where_out_comm varchar2(1000);--出城where公用条件
 23    v_where_out  varchar2(1000);--出城where条件
 24  
 25    v_where_in_forbigcar varchar2(1000);--进城 外地车中的大型车where条件
 26    v_sum_sql_in_forbigcar varchar2(1000);--进城 外地车中的大型车sql
 27    n_in_forbigcarnum number;--进城 外地车中的大型车数
 28  
 29    v_where_out_forbigcar varchar2(1000);--出城 外地车中的大型车where条件
 30    v_sum_sql_out_forbigcar varchar2(1000);--出城 外地车中的大型车sql
 31    n_out_forbigcarnum number;--出城 外地车中的大型车数
 32  
 33    v_where_in_bigforcar varchar2(1000);--进城 大型车中的外地车where条件
 34    v_sum_sql_in_bigforcar varchar2(1000);--进城 大型车中的外地车sql
 35    n_in_bigforcarnum number;--进城 大型车中的外地车数
 36  
 37    v_where_out_bigforcar varchar2(1000);--出城 大型车中的外地车where条件
 38    v_sum_sql_out_bigforcar varchar2(1000);--出城 大型车中的外地车sql
 39    n_out_bigforcarnum number;--出城 大型车中的外地车数
 40  
 41    n_in_allcarnum number;--进城 车流总数
 42    n_in_foreigncarnum number;--进城 外地车总数
 43    n_in_bigcarnum number;--进城 大型车总数
 44    n_in_forothercarnum number;--进城 外地车中的其他车型总数
 45    n_out_forothercarnum number;--出城 外地车中的其他车型总数
 46  
 47    n_out_allcarnum number;--出城 车流总数
 48    n_out_foreigncarnum number;--出城 外地车总数
 49    n_out_bigcarnum number;--出城 大型车总数
 50    n_out_bigloccarnum number;--出城 大型车中的本地车总数
 51    n_in_bigloccarnum number;--进城 大型车中的本地车总数
 52  
 53  
 54    v_del_sql VARCHAR2(100);--删除sql
 55  
 56    d_basicDate  Date;
 57    d_beginDate  Date;
 58    d_endDate    Date;
 59    d_saveMaxDate Date;--小于此日期的数据会被删除
 60  
 61    v_errCode VARCHAR2(100);
 62    v_errMsg  VARCHAR2(1000);
 63  
 64  BEGIN
 65  
 66    d_basicDate := trunc(sysdate, 'mi');
 67    d_beginDate := d_basicDate - numtodsinterval(n_intervalMin,'minute');
 68    d_endDate := d_basicDate;
 69    d_saveMaxDate := d_basicDate - numtodsinterval(n_saveDay,'day');
 70  
 71    v_where := ' and t.clicensetype != '||chr(39)||'41'||chr(39)||' and t.clicensetype != '||chr(39)||'99'||chr(39)||' and t.dcollectiondate >= :1 and t.dcollectiondate < :2 ';
 72    v_where_in_comm := ' where (t.caddresscode,t.nderictrion) in (select pointcode, ninderictrion from anlys_monitor_point_inout) ';
 73    v_where_in := v_where_in_comm || v_where;
 74  
 75    v_where_out_comm := ' where (t.caddresscode,t.nderictrion) in (select pointcode, noutderictrion from anlys_monitor_point_inout) ';
 76    v_where_out := v_where_out_comm || v_where;
 77  
 78    v_where_in_forbigcar := v_where_in || ' and substr(ccarnumber, 1, 2) != '||chr(39)||'鲁U'||chr(39)||' and substr(ccarnumber, 1, 2) != '||chr(39)||'鲁B'||chr(39)||' ';
 79    v_where_out_forbigcar := v_where_out || ' and substr(ccarnumber, 1, 2) != '||chr(39)||'鲁U'||chr(39)||' and substr(ccarnumber, 1, 2) != '||chr(39)||'鲁B'||chr(39)||' ';
 80  
 81    v_where_in_bigforcar := v_where_in_comm || ' and t.clicensetype = '||chr(39)||'01'||chr(39)||' and t.dcollectiondate >= :1 and t.dcollectiondate < :2 ';
 82    v_where_out_bigforcar := v_where_out_comm || ' and t.clicensetype = '||chr(39)||'01'||chr(39)||' and t.dcollectiondate >= :1 and t.dcollectiondate < :2 ';
 83  
 84    begin
 85  
 86      v_sum_sql := ' nvl(sum(decode(substr(ccarnumber, 1, 2),'||chr(39)||'鲁U'||chr(39)||',0,'||chr(39)||'鲁B'||chr(39)||',0,1)),0), nvl(sum(decode(clicensetype,'||chr(39)||'01'||chr(39)||',1,0)),0) ';
 87  
 88      v_sum_sql_in := ' select ' || v_sum_sql || ' from  ' || v_table_name || ' t ' || v_where_in;
 89      v_sum_sql_out :=' select ' || v_sum_sql || ' from  ' || v_table_name || ' t ' || v_where_out;
 90  
 91      v_sum_sql_allin := ' select count(1) from ' || v_table_name || ' t ' || v_where_in_comm || ' and t.dcollectiondate >= :1 and t.dcollectiondate < :2 ';
 92      v_sum_sql_allout := ' select count(1) from ' || v_table_name || ' t ' || v_where_out_comm || ' and t.dcollectiondate >= :1 and t.dcollectiondate < :2 ';
 93  
 94      v_sum_sql_in_forbigcar := 'select nvl(sum(decode(clicensetype,'||chr(39)||'01'||chr(39)||',1,0)),0) from ' || v_table_name || ' t ' || v_where_in_forbigcar;
 95      v_sum_sql_out_forbigcar := 'select nvl(sum(decode(clicensetype,'||chr(39)||'01'||chr(39)||',1,0)),0) from ' || v_table_name || ' t ' || v_where_out_forbigcar;
 96  
 97      v_sum_sql_in_bigforcar := 'select nvl(sum(decode(substr(ccarnumber, 1, 2),'||chr(39)||'鲁U'||chr(39)||',0,'||chr(39)||'鲁B'||chr(39)||',0,1)),0) from '|| v_table_name || ' t ' || v_where_in_bigforcar;
 98      v_sum_sql_out_bigforcar := 'select nvl(sum(decode(substr(ccarnumber, 1, 2),'||chr(39)||'鲁U'||chr(39)||',0,'||chr(39)||'鲁B'||chr(39)||',0,1)),0) from '|| v_table_name || ' t ' || v_where_out_bigforcar;
 99  
100      dbms_output.put_line(v_sum_sql_in);
101      dbms_output.put_line(v_sum_sql_out);
102  
103      dbms_output.put_line(v_sum_sql_allin);
104      dbms_output.put_line(v_sum_sql_allout);
105  
106      dbms_output.put_line(v_sum_sql_in_forbigcar);
107      dbms_output.put_line(v_sum_sql_out_forbigcar);
108  
109      dbms_output.put_line(v_sum_sql_in_bigforcar);
110      dbms_output.put_line(v_sum_sql_out_bigforcar);
111  
112      execute immediate v_sum_sql_in into n_in_foreigncarnum,n_in_bigcarnum using d_beginDate, d_endDate;
113      execute immediate v_sum_sql_out into n_out_foreigncarnum,n_out_bigcarnum using d_beginDate, d_endDate;
114  
115      execute immediate v_sum_sql_allin into n_in_allcarnum using d_beginDate, d_endDate;
116      execute immediate v_sum_sql_allout into n_out_allcarnum using d_beginDate, d_endDate;
117  
118      execute immediate v_sum_sql_in_forbigcar into n_in_forbigcarnum using d_beginDate, d_endDate;
119      execute immediate v_sum_sql_out_forbigcar into n_out_forbigcarnum using d_beginDate, d_endDate;
120  
121      execute immediate v_sum_sql_in_bigforcar into n_in_bigforcarnum using d_beginDate, d_endDate;
122      execute immediate v_sum_sql_out_bigforcar into n_out_bigforcarnum using d_beginDate, d_endDate;
123  
124      n_in_forothercarnum := n_in_foreigncarnum - n_in_forbigcarnum;
125      n_out_forothercarnum := n_out_foreigncarnum - n_out_forbigcarnum;
126      n_in_bigloccarnum := n_in_bigcarnum - n_in_bigforcarnum;
127      n_out_bigloccarnum := n_out_bigcarnum - n_out_bigforcarnum;
128  
129  
130      v_ins_sql := 'insert into ' || v_table_sum || '(Inoutflag,Allcarnum,Foreigncarnum,forbigcarnum, forothercarnum,Bigcarnum,bigloccarnum, bigforcarnum,Computedate)';
131      --v_ins_sql_in := v_ins_sql || v_sum_sql_in;
132      --v_ins_sql_out := v_ins_sql || v_sum_sql_out;
133      v_ins_sql_in := v_ins_sql || ' values('||chr(39)||'0'||chr(39)||','|| n_in_allcarnum ||','|| n_in_foreigncarnum ||','|| n_in_forbigcarnum ||','|| n_in_forothercarnum||','|| n_in_bigcarnum||','|| n_in_bigloccarnum||','|| n_in_bigforcarnum||',:1)';
134      v_ins_sql_out := v_ins_sql || ' values('||chr(39)||'1'||chr(39)||','|| n_out_allcarnum||','|| n_out_foreigncarnum||','|| n_out_forbigcarnum||','|| n_out_forothercarnum||','|| n_out_bigcarnum||','|| n_out_bigloccarnum||','|| n_out_bigforcarnum||',:1)';
135  
136      --每天0点删除超期数据
137      if (to_char(d_basicDate, 'HH24') = '00') then
138           v_del_sql := 'delete from DVS_INOUTCITY_FLOW t where t.computedate < :1' ;
139           dbms_output.put_line(v_del_sql);
140           execute immediate v_del_sql using d_saveMaxDate;
141           commit;
142      end if;
143  
144      dbms_output.put_line(v_ins_sql_in);
145      dbms_output.put_line(v_ins_sql_out);
146     -- execute immediate v_ins_sql_in using d_endDate, d_beginDate, d_endDate;
147     -- execute immediate v_ins_sql_out using d_endDate, d_beginDate, d_endDate;
148     execute immediate v_ins_sql_in using d_endDate;
149      execute immediate v_ins_sql_out using d_endDate;
150      commit;
151  
152      exception
153        when others then
154          v_errCode := TO_CHAR(SQLCODE);
155          v_errMsg := SQLERRM ;
156  
157          dbms_output.put_line(v_errCode||v_errMsg);
158     end;
159  
160  END PROC_DVS_INOUTCITY_FLOW_SUM;
161  /
Procedure created
SQL> begin
  2    sys.dbms_scheduler.create_job(job_name            => 'JOB_DVS_INOUTCITY_FLOW_SUM',
  3                                  job_type            => 'STORED_PROCEDURE',
  4                                  job_action          => 'PROC_DVS_INOUTCITY_FLOW_SUM',
  5                                  number_of_arguments => 2,
  6                                  start_date          => to_date('22-06-2017 16:15:40', 'dd-mm-yyyy hh24:mi:ss'),--根据实际填写，分钟必须是15的整数倍
  7                                  repeat_interval     => 'Freq=Minutely;Interval=15',
  8                                  end_date            => to_date(null),
  9                                  job_class           => 'DEFAULT_JOB_CLASS',
 10                                  enabled             => false,
 11                                  auto_drop           => false,
 12                                  comments            => '');
 13    sys.dbms_scheduler.set_job_argument_value(job_name          => 'JOB_DVS_INOUTCITY_FLOW_SUM',
 14                                              argument_position => 1,
 15                                              argument_value    => '370');
 16    sys.dbms_scheduler.set_job_argument_value(job_name          => 'JOB_DVS_INOUTCITY_FLOW_SUM',
 17                                              argument_position => 2,
 18                                              argument_value    => '15');
 19    sys.dbms_scheduler.enable(name => 'JOB_DVS_INOUTCITY_FLOW_SUM');
 20  end;
 21  /
PL/SQL procedure successfully completed
SQL> CREATE OR REPLACE PROCEDURE Insert_into_traffic_statistics IS BEGIN insert into traffic_statistics
  2  
  3  select sys_guid(),a.area_id,
  4  case when
  5  avg(a.speed)
  6  is null then
  7  0
  8  else
  9  avg(a.speed)
 10  end speed
 11  ,sum(a.length),trunc(sysdate, 'mi') time  from
 12  (
 13   select tt.sectionid,
 14          tt.sectionname,
 15          tt.area_id,
 16          ttt.status,
 17          case
 18            when ttt.status is null or ttt.status <> 3 then
 19             0
 20            else
 21             tt.length
 22          end length,
 23          case when tttt.speed is null then null else tttt.speed end speed
 24     from monitor_section tt
 25  left   join
 26  (
 27  select ttt.section_id,ttt.status from
 28  section_status_compute ttt,traffic_statistics_road tsr where ttt.section_id=tsr.sectionid
 29    and ttt.receivetime > sysdate-5/60/24 and
 30   not exists
 31   (select 1
 32            from section_status_compute ssc1
 33           where ssc1.receivetime > sysdate-5/24/60
 34             and ttt.section_id = ssc1.section_id
 35             and ssc1.receivetime > ttt.receivetime
 36      )
 37  ) ttt
 38  on  tt.sectionid = ttt.section_id
 39  left join
 40  (
 41       select ssd.sectionid,avg(ssd.speed) speed from section_status_data ssd,traffic_statistics_road_em tsr1
 42       where ssd.sectionid=tsr1.sectionid and ssd.stdtime > sysdate-5/24/60 and ssd.speed>0 and
 43       not exists
 44       (select 1
 45            from section_status_data ssd1
 46           where ssd1.stdtime > sysdate-5/24/60
 47             and ssd.sectionid = ssd1.sectionid
 48             and ssd1.stdtime > ssd.stdtime
 49       )
 50       group by ssd.sectionid
 51  ) tttt
 52  on tt.sectionid = tttt.sectionid
 53  
 54  where tt.area_id is not null and tt.length is not null and tt.area_id <> -1
 55  )
 56   a group by a.area_id;
 57  end Insert_into_traffic_statistics;
 58  /
Procedure created
SQL> begin
  2    sys.dbms_scheduler.create_job(job_name            => 'JOB_traffic_statistics',--新建一个JOB名字
  3                                  job_type            => 'STORED_PROCEDURE',
  4                                  job_action          => 'insert_into_traffic_statistics',--要调用的存储过程
  5                                  number_of_arguments => 0,
  6                                  start_date          => to_date('29-04-2019 18:02:25', 'dd-mm-yyyy hh24:mi:ss'),--根据实际填写
  7                                  repeat_interval     => 'Freq=Minutely;Interval=5',
  8                                  end_date            => to_date(null),
  9                                  job_class           => 'DEFAULT_JOB_CLASS',
 10                                  enabled             => false,
 11                                  auto_drop           => false,
 12                                  comments            => '');
 13    sys.dbms_scheduler.enable(name => 'JOB_traffic_statistics');--新建一个JOB名字，与上面保持一致
 14  end;
 15  /
PL/SQL procedure successfully completed
SQL> --在途车辆数存储过程及job脚本↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑王黎雁
SQL> --高分主题框架HDVIEW↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓
SQL> prompt PL/SQL Developer import file
PL/SQL Developer import file
SQL> prompt Created on 2018年11月19日 by sciisc
Created on 2018年11月19日 by sciisc
SQL> set feedback off
SQL> set define off
SQL> prompt Creating HDVIEW_COMPONENT...
Creating HDVIEW_COMPONENT...
SQL> create table HDVIEW_COMPONENT
  2  (
  3    componentid      VARCHAR2(32) not null,
  4    name             VARCHAR2(30),
  5    description      VARCHAR2(300),
  6    type             CHAR(1),
  7    title            VARCHAR2(100),
  8    showborder       CHAR(1),
  9    transparent      VARCHAR2(20),
 10    refresh_interval NUMBER,
 11    datafuc          VARCHAR2(50),
 12    sceneid          VARCHAR2(30) not null,
 13    create_time      DATE,
 14    update_time      DATE,
 15    create_user      VARCHAR2(30),
 16    w                NUMBER,
 17    h                NUMBER,
 18    x                NUMBER,
 19    y                NUMBER,
 20    i                VARCHAR2(30),
 21    isditu           CHAR(1),
 22    basefont         NUMBER
 23  )
 24  ;
SQL> comment on table HDVIEW_COMPONENT
  2    is '组件表';
SQL> comment on column HDVIEW_COMPONENT.name
  2    is '组件名称';
SQL> comment on column HDVIEW_COMPONENT.type
  2    is '1：专题组件
  3  2：地图组件
  4  3：指标组件
  5  ';
SQL> comment on column HDVIEW_COMPONENT.title
  2    is '默认标题';
SQL> comment on column HDVIEW_COMPONENT.showborder
  2    is '是否展示边框';
SQL> comment on column HDVIEW_COMPONENT.transparent
  2    is '背景透明度';
SQL> comment on column HDVIEW_COMPONENT.refresh_interval
  2    is '组件刷新间隔';
SQL> comment on column HDVIEW_COMPONENT.datafuc
  2    is '数据接口';
SQL> comment on column HDVIEW_COMPONENT.sceneid
  2    is '场景';
SQL> comment on column HDVIEW_COMPONENT.w
  2    is '默认宽';
SQL> comment on column HDVIEW_COMPONENT.h
  2    is '默认高';
SQL> comment on column HDVIEW_COMPONENT.x
  2    is '默认x轴';
SQL> comment on column HDVIEW_COMPONENT.y
  2    is '默认y轴';
SQL> comment on column HDVIEW_COMPONENT.i
  2    is '默认 COMPONENTID';
SQL> comment on column HDVIEW_COMPONENT.isditu
  2    is '默认是否底图(地图) 0:否 1 :是   ';
SQL> alter table HDVIEW_COMPONENT
  2    add constraint PK_HDVIEW_COMPONENT primary key (COMPONENTID);
SQL> prompt Creating HDVIEW_SCENE...
Creating HDVIEW_SCENE...
SQL> create table HDVIEW_SCENE
  2  (
  3    sceneid     VARCHAR2(32) not null,
  4    scenename   VARCHAR2(32) not null,
  5    description VARCHAR2(300),
  6    visiable    CHAR(1) default 1,
  7    create_time DATE,
  8    update_time DATE,
  9    create_user VARCHAR2(30)
 10  )
 11  ;
SQL> comment on table HDVIEW_SCENE
  2    is '场景表';
SQL> comment on column HDVIEW_SCENE.visiable
  2    is '1:可见0：不可见';
SQL> alter table HDVIEW_SCENE
  2    add constraint PK_HDVIEW_SCENE primary key (SCENEID);
SQL> prompt Creating HDVIEW_THEME...
Creating HDVIEW_THEME...
SQL> create table HDVIEW_THEME
  2  (
  3    themeid     VARCHAR2(32) not null,
  4    sceneid     VARCHAR2(32) not null,
  5    themename   VARCHAR2(100) not null,
  6    colortheme  VARCHAR2(20),
  7    basefont    NUMBER,
  8    adaptscreen VARCHAR2(10),
  9    isenable    CHAR(1),
 10    create_time DATE not null,
 11    update_time DATE,
 12    create_user VARCHAR2(30)
 13  )
 14  ;
SQL> comment on table HDVIEW_THEME
  2    is '主题表';
SQL> comment on column HDVIEW_THEME.adaptscreen
  2    is 'screen-2k,screen-4k,screen-8k';
SQL> alter table HDVIEW_THEME
  2    add constraint PK_HDVIEW_THEME primary key (THEMEID);
SQL> prompt Creating HDVIEW_THEME_CONFIG...
Creating HDVIEW_THEME_CONFIG...
SQL> create table HDVIEW_THEME_CONFIG
  2  (
  3    themeid     VARCHAR2(32) not null,
  4    componentid VARCHAR2(30) not null,
  5    name        VARCHAR2(40) not null,
  6    page        NUMBER,
  7    basefont    NUMBER,
  8    w           NUMBER,
  9    h           NUMBER,
 10    x           NUMBER,
 11    y           NUMBER,
 12    i           VARCHAR2(30) not null,
 13    status      CHAR(1),
 14    isditu      CHAR(1),
 15    creat_time  DATE,
 16    update_time DATE,
 17    create_user VARCHAR2(30),
 18    sceneid     VARCHAR2(32),
 19    id          VARCHAR2(32) not null
 20  )
 21  ;
SQL> comment on table HDVIEW_THEME_CONFIG
  2    is '场景主题配置表';
SQL> comment on column HDVIEW_THEME_CONFIG.w
  2    is '宽';
SQL> comment on column HDVIEW_THEME_CONFIG.h
  2    is '高';
SQL> comment on column HDVIEW_THEME_CONFIG.x
  2    is 'x轴';
SQL> comment on column HDVIEW_THEME_CONFIG.y
  2    is 'y轴';
SQL> comment on column HDVIEW_THEME_CONFIG.i
  2    is 'COMPONENTID';
SQL> comment on column HDVIEW_THEME_CONFIG.status
  2    is '0:不生效 1';
SQL> comment on column HDVIEW_THEME_CONFIG.isditu
  2    is '0:否 1 :是   是否底图(地图)';
SQL> alter table HDVIEW_THEME_CONFIG
  2    add constraint PK_HDVIEW_THEME_CONFIG primary key (ID);
SQL> alter table HDVIEW_THEME_CONFIG
  2    add constraint UNI_HDVIEW_THEME_CONFIG unique (THEMEID, SCENEID, I, PAGE);
SQL> --高分主题框架HDVIEW↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑
SQL> --路段交通状态视图 mfc
SQL> create or replace view hrv_section_status_view
  2  as
  3  select hss.*,ssc.status,ms.sectionname,ms.length,ms.remark as strcoords,ms.upcrossid,ms.downcrossid,sfds.trafficflow from hrv_section_status hss
  4         left join section_status_compute ssc on hss.sectionid = ssc.section_id and ssc.computetime = hss.computedate
  5         left join monitor_section ms on ms.sectionid = hss.sectionid
  6         left join section_flow_data_sum5 sfds on sfds.sectionid = hss.sectionid and sfds.computedate = hss.computedate;
SQL> create table HRV_MAPLAYER
  2  (
  3    layer_id      VARCHAR2(32) not null,
  4    layer_name    VARCHAR2(100) not null,
  5    layer_visible CHAR(1) default 1 not null,
  6    layer_order   NUMBER,
  7    creator       VARCHAR2(50),
  8    createtime    DATE,
  9    updater       VARCHAR2(50),
 10    updatetime    DATE,
 11    sqlview       CLOB
 12  );
SQL> -- Add comments to the table
SQL> comment on table HRV_MAPLAYER
  2    is '可视化地图图层表';
SQL> -- Add comments to the columns
SQL> comment on column HRV_MAPLAYER.layer_id
  2    is '图层ID';
SQL> comment on column HRV_MAPLAYER.layer_name
  2    is '图层名称';
SQL> comment on column HRV_MAPLAYER.layer_visible
  2    is '是否显示';
SQL> comment on column HRV_MAPLAYER.layer_order
  2    is '图层顺序';
SQL> comment on column HRV_MAPLAYER.creator
  2    is '创建人';
SQL> comment on column HRV_MAPLAYER.createtime
  2    is '创建时间';
SQL> comment on column HRV_MAPLAYER.updater
  2    is '更新人';
SQL> comment on column HRV_MAPLAYER.updatetime
  2    is '更新时间';
SQL> comment on column HRV_MAPLAYER.sqlview
  2    is 'sql视图';
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table HRV_MAPLAYER
  2    add constraint LAYER_ID_KEY primary key (LAYER_ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
SQL>   create table HRV_ECHARTS_TIME
  2  (
  3    timestr VARCHAR2(4) not null
  4  )
  5  ;
SQL> comment on table HRV_ECHARTS_TIME
  2    is 'echarts统计图表';
SQL> comment on column HRV_ECHARTS_TIME.timestr
  2    is '24小时时间';
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑HiATMP-DB-HRV-DDL.5.8.0.0.A1.sql End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓HiATMP-DB-HRV-DDL.5.8.0.11184.A2.sql Start-----------------------
SQL> --孟范超
SQL> alter table hrv_section_base modify saturatedflow null;
SQL> alter table hrv_section_base modify speedlimit null;
SQL> alter table  hrv_concern  add (areaids VARCHAR2(1000)  default 'all' not null );
SQL> --王黎雁
SQL> CREATE OR REPLACE TRIGGER TR_SEC_SSD
  2    AFTER INSERT ON SECTION_STATUS_DATA
  3    FOR EACH ROW
  4  
  5  when (NEW.DATASOURCE != '5' and NEW.LANEID != '0')
  6  BEGIN
  7    insert into section_flow_data
  8      (nid,
  9       sectionid,
 10       sectionname,
 11       pointid,
 12       pointname,
 13       deviceid,
 14       devicename,
 15       directionid,
 16       laneid,
 17       COMMCOUNT,
 18       occupancy,
 19       speed,
 20       volumestate,
 21       occupancystate,
 22       speedstate,
 23       stdtime,
 24       datasource)
 25    VALUES
 26      (:NEW.nid,
 27       :NEW.sectionid,
 28       :NEW.sectionname,
 29       :NEW.pointid,
 30       :NEW.pointname,
 31       :NEW.deviceid,
 32       :NEW.devicename,
 33       :NEW.directionid,
 34       :NEW.laneid,
 35       :NEW.COMMCOUNT,
 36       :NEW.occupancy,
 37       :NEW.speed,
 38       1,
 39       1,
 40       1,
 41       :NEW.stdtime,
 42       :NEW.datasource);
 43  
 44  END;
 45  /
SQL> create table ANLYS_MONITOR_POINT_INOUT
  2  (
  3    pointcode      NVARCHAR2(16) not null,
  4    pointname      NVARCHAR2(64),
  5    ninderictrion  NUMBER(2),
  6    noutderictrion NUMBER(2),
  7    remark         VARCHAR2(200)
  8  )
  9  tablespace HIATMPTS
 10    pctfree 10
 11    initrans 1
 12    maxtrans 255
 13    storage
 14    (
 15      initial 64K
 16      next 1M
 17      minextents 1
 18      maxextents unlimited
 19    );
SQL> comment on table ANLYS_MONITOR_POINT_INOUT
  2    is '进出城检测点位表';
SQL> comment on column ANLYS_MONITOR_POINT_INOUT.pointcode
  2    is '检测点编号';
SQL> comment on column ANLYS_MONITOR_POINT_INOUT.pointname
  2    is '检测点名称';
SQL> comment on column ANLYS_MONITOR_POINT_INOUT.ninderictrion
  2    is '进城方向';
SQL> comment on column ANLYS_MONITOR_POINT_INOUT.noutderictrion
  2    is '出城方向';
SQL> comment on column ANLYS_MONITOR_POINT_INOUT.remark
  2    is '备注';
SQL> alter table ANLYS_MONITOR_POINT_INOUT
  2    add constraint PK_ANLYS_MONITOR_POINT_INOUT primary key (POINTCODE)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
SQL> alter table HRV_SECTION_BASE drop column freeflowspeed;
SQL> -- Create table
SQL> create table HRV_freeflowspeed
  2  (
  3    sectionid     VARCHAR2(32) not null,
  4    updatetdate   DATE default sysdate,
  5    freeflowspeed NUMBER(11,2) not null
  6  );
SQL> -- Add comments to the table
SQL> comment on table HRV_freeflowspeed
  2    is '路段自由流速度表';
SQL> -- Add comments to the columns
SQL> comment on column HRV_freeflowspeed.sectionid
  2    is '路段id';
SQL> comment on column HRV_freeflowspeed.updatetdate
  2    is '更新时间';
SQL> comment on column HRV_freeflowspeed.freeflowspeed
  2    is '自由流速度    自动计算  定时更新（默认一个月更新一次）';
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table HRV_freeflowspeed
  2    add constraint HRV_freeflowspeed_pk primary key (SECTIONID);
SQL> --李楠
SQL> create table HRV_DEPARTMENT
  2  (
  3    cdepartmentid   NVARCHAR2(12) not null,
  4    cdepartmentname NVARCHAR2(12) not null
  5  )
  6  tablespace HIATMPTS
  7    pctfree 10
  8    initrans 1
  9    maxtrans 255
 10    storage
 11    (
 12      initial 64K
 13      next 1M
 14      minextents 1
 15      maxextents unlimited
 16    );
SQL> --需要建立与信息服务的dblink名为hiatis
SQL> create or replace view index_area as
  2  select "ID","AREA_ID","AREA_NAME","TYPE","ORDER_NUMBER","CREATOR","CREATION_TIME","MODIFIER","MODIFICATION_TIME","PANA_CODE","HIATMP_CODE","OPEN_FLG","INDUCTION_FLG" from index_area@hiatis t;
create or replace view index_area as
select "ID","AREA_ID","AREA_NAME","TYPE","ORDER_NUMBER","CREATOR","CREATION_TIME","MODIFIER","MODIFICATION_TIME","PANA_CODE","HIATMP_CODE","OPEN_FLG","INDUCTION_FLG" from index_area@hiatis t
ORA-01017: invalid username/password; logon denied
ORA-02063: 紧接着 line (起自 HIATIS)
ORA-01017: invalid username/password; logon denied
ORA-02063: 紧接着 line (起自 HIATIS)
SQL> --需要建立与信息服务的dblink名为hiatis
SQL> create or replace view index_road_index as
  2  select "ID","ROAD_ID","INDEY","INDEY_FLOAT","SPEED","INSERT_TIME" from index_road_index@hiatis t;
create or replace view index_road_index as
select "ID","ROAD_ID","INDEY","INDEY_FLOAT","SPEED","INSERT_TIME" from index_road_index@hiatis t
ORA-01017: invalid username/password; logon denied
ORA-02063: 紧接着 line (起自 HIATIS)
ORA-01017: invalid username/password; logon denied
ORA-02063: 紧接着 line (起自 HIATIS)
SQL> --需要建立与信息服务的dblink名为hiatis
SQL> create or replace view index_area_index as
  2  select t.area_id,t.indey as exp,t.indey_float,t.speed,t.insert_time as time
  3   from index_area_index@hiatis t order by t.insert_time desc;
create or replace view index_area_index as
select t.area_id,t.indey as exp,t.indey_float,t.speed,t.insert_time as time
 from index_area_index@hiatis t order by t.insert_time desc
ORA-01017: invalid username/password; logon denied
ORA-02063: 紧接着 line (起自 HIATIS)
ORA-01017: invalid username/password; logon denied
ORA-02063: 紧接着 line (起自 HIATIS)
SQL> --于明浩
SQL> set define off
SQL> prompt

SQL> prompt DROP sequence SEQ_TD_TRAVELSPEED_RESULT_NEW
DROP sequence SEQ_TD_TRAVELSPEED_RESULT_NEW
SQL> prompt ===============================================
===============================================
SQL> prompt

SQL> DROP sequence SEQ_TD_TRAVELSPEED_RESULT_NEW
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑HiATMP-DB-HRV-DDL.5.8.0.11184.A2.sql End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓HiATMP-DB-HRV-DDL.5.8.0.0.A3.sql Start-----------------------
SQL> --王黎雁
SQL> create or replace procedure PROC_HRV_CARNUM_ONWAY_SUM(
  2            n_saveDay          in number,
  3            n_intervalMin      in number) IS
  4  
  5    v_table_name  varchar2(20) := 'detect_speed_data';--汇总原表
  6    v_table_sum varchar2(30) := 'hrv_monitor_car_onway';--在途车汇总结果表
  7    v_table_sum_belong varchar2(30) := 'hrv_monitor_car_belonging';--在途车归属地汇总结果表
  8  
  9    v_ins_sql  varchar2(1000);--插入sql
 10    v_ins_sql_belong  varchar2(1000);--在途车归属地插入sql
 11    v_sum_sql_allcar  varchar2(1000);--计算在途机动车总数sql
 12    v_sum_sql_othernums varchar2(1000);--计算外省车、本市车、大型车、小型车
 13    v_sum_sql_belong varchar2(1000);--计算本省车、外省车、本市车及其归属地
 14  
 15    v_sum_sql_from varchar2(1000);
 16    v_sum_sql_where  varchar2(1000);
 17    v_del_sql VARCHAR2(100);--删除sql
 18    v_del_sql_belong VARCHAR2(100);--删除sql
 19    v_sum_sql_shibie varchar2(1000);--计算识别车辆总数sql
 20    v_sum_sql_alldsdnum varchar2(1000);--计算过车总数sql
 21    v_sum_sql_where_all varchar2(1000);
 22  
 23    n_allcarnum number;--在途机动车总数
 24    n_otherprovincenum number;--外省车总数
 25    n_foreignnum number;--本省外地车总数
 26    n_localnum number;--本市车总数
 27    n_bigcarnum number;--大型车总数
 28    n_smallcarnum number;--小型车总数
 29  
 30    n_shibiecarnum number;--识别车辆总数
 31    n_alldsdcarnum number;--过车总数
 32  
 33    d_basicDate  Date;
 34    d_beginDate  Date;
 35    d_endDate    Date;
 36    d_saveMaxDate Date;--小于此日期的数据会被删除
 37  
 38    v_errCode VARCHAR2(100);
 39    v_errMsg  VARCHAR2(1000);
 40  
 41  BEGIN
 42  
 43    d_basicDate := to_date(to_char(sysdate, 'yyyy-mm-dd hh24:mi'), 'yyyy-mm-dd hh24:mi');
 44    d_beginDate := d_basicDate - numtodsinterval(n_intervalMin,'minute');
 45    d_endDate := d_basicDate;
 46    d_saveMaxDate := d_basicDate - numtodsinterval(n_saveDay,'day');
 47  
 48    v_sum_sql_where_all := ' where t.dcollectiondate >= :1 and t.dcollectiondate < :2 ';
 49    v_sum_sql_where := v_sum_sql_where_all || ' and t.clicensetype != '||chr(39)||'41'||chr(39)||' and t.clicensetype != '||chr(39)||'99'||chr(39)||'';
 50    v_sum_sql_from := ' select distinct t.ccarnumber,t.clicensetype from '|| v_table_name ||' t ' || v_sum_sql_where;
 51    v_sum_sql_shibie := ' select count(1) from '|| v_table_name ||' t ' || v_sum_sql_where;
 52    v_sum_sql_alldsdnum := ' select count(1) from '|| v_table_name ||' t ' || v_sum_sql_where_all;
 53  
 54    begin
 55  
 56      /*在途车表hrv_monitor_car_onway汇总数据start*/
 57      v_sum_sql_allcar := 'select count(1) from ( ' || v_sum_sql_from || ')';
 58  
 59      --外省车、本市车、大型车、小型车
 60      v_sum_sql_othernums := ' select nvl(sum(decode(substr(ccarnumber, 1, 1),'||chr(39)||'鲁'||chr(39)||',0,1)),0), ';
 61      v_sum_sql_othernums := v_sum_sql_othernums || ' nvl(sum(decode(substr(ccarnumber, 1, 2),'||chr(39)||'鲁U'||chr(39)||',1,'||chr(39)||'鲁B'||chr(39)||',1,0)),0), ';
 62      v_sum_sql_othernums := v_sum_sql_othernums || ' nvl(sum(decode(clicensetype,'||chr(39)||'01'||chr(39)||',1,0)),0), ';
 63      v_sum_sql_othernums := v_sum_sql_othernums || ' nvl(sum(decode(clicensetype,'||chr(39)||'02'||chr(39)||',1,0)),0) ';
 64      v_sum_sql_othernums := v_sum_sql_othernums || ' from (' || v_sum_sql_from || ') ';
 65  
 66      dbms_output.put_line(v_sum_sql_allcar);
 67      dbms_output.put_line(v_sum_sql_othernums);
 68      dbms_output.put_line(v_sum_sql_shibie);
 69      dbms_output.put_line(v_sum_sql_alldsdnum);
 70  
 71      execute immediate v_sum_sql_allcar into n_allcarnum using d_beginDate, d_endDate;
 72      execute immediate v_sum_sql_othernums into n_otherprovincenum, n_localnum, n_bigcarnum, n_smallcarnum  using d_beginDate, d_endDate;
 73      execute immediate v_sum_sql_shibie into n_shibiecarnum using d_beginDate, d_endDate;
 74      execute immediate v_sum_sql_alldsdnum into n_alldsdcarnum using d_beginDate, d_endDate;
 75      /*在途车表hrv_monitor_car_onway汇总数据end*/
 76  
 77  
 78      /*在途车归属地表hrv_monitor_car_belonging汇总数据start*/
 79  
 80      --计算在途车数、外省车、本省外地车、本市车及其归属地
 81      v_sum_sql_belong := ' select ownprovincenum + otherprovincenum allcarnum, otherprovincenum, ownprovincenum - localnum foreignnum, localnum, pointid,:3,sysdate from (';
 82      v_sum_sql_belong := v_sum_sql_belong || ' select nvl(sum(decode(substr(ccarnumber, 1, 1), '||chr(39)||'鲁'||chr(39)||', 1, 0)), 0) ownprovincenum,';
 83      v_sum_sql_belong := v_sum_sql_belong || ' nvl(sum(decode(substr(ccarnumber, 1, 1), '||chr(39)||'鲁'||chr(39)||', 0, 1)), 0) otherprovincenum,';
 84      v_sum_sql_belong := v_sum_sql_belong || ' nvl(sum(decode(substr(ccarnumber, 1, 2), '||chr(39)||'鲁U'||chr(39)||', 1, '||chr(39)||'鲁B'||chr(39)||', 1, 0)), 0) localnum,';
 85      v_sum_sql_belong := v_sum_sql_belong || ' pointid from (select distinct t.ccarnumber, t.clicensetype, e.pointid from detect_speed_data t';
 86      v_sum_sql_belong := v_sum_sql_belong || ' left join equipment_info e on t.cdevicecode = e.deviceid' || v_sum_sql_where;
 87      v_sum_sql_belong := v_sum_sql_belong || ' and e.pointid is not null ) group by pointid)';
 88  
 89      /*在途车归属地表hrv_monitor_car_belonging汇总数据end*/
 90  
 91      --在途车总数/识别率
 92      if (n_shibiecarnum != 0) then
 93          n_allcarnum := round(n_allcarnum / n_shibiecarnum * n_alldsdcarnum);
 94          n_otherprovincenum := round(n_otherprovincenum / n_shibiecarnum * n_alldsdcarnum);
 95          n_localnum := round(n_localnum / n_shibiecarnum * n_alldsdcarnum);
 96          n_bigcarnum := round(n_bigcarnum / n_shibiecarnum * n_alldsdcarnum);
 97          n_smallcarnum := round(n_smallcarnum / n_shibiecarnum * n_alldsdcarnum);
 98  
 99          --计算在途车数、外省车、本省外地车、本市车及其归属地
100          v_sum_sql_belong := ' select ownprovincenum + otherprovincenum allcarnum, otherprovincenum, ownprovincenum - localnum foreignnum, localnum, pointid,:3,sysdate from (';
101          v_sum_sql_belong := v_sum_sql_belong || ' select round(nvl(sum(decode(substr(ccarnumber, 1, 1), '||chr(39)||'鲁'||chr(39)||', 1, 0)), 0) /'|| n_shibiecarnum||' * '||n_alldsdcarnum||') ownprovincenum,';
102          v_sum_sql_belong := v_sum_sql_belong || ' round(nvl(sum(decode(substr(ccarnumber, 1, 1), '||chr(39)||'鲁'||chr(39)||', 0, 1)), 0) /'|| n_shibiecarnum||' * '||n_alldsdcarnum||') otherprovincenum,';
103          v_sum_sql_belong := v_sum_sql_belong || ' round(nvl(sum(decode(substr(ccarnumber, 1, 2), '||chr(39)||'鲁U'||chr(39)||', 1, '||chr(39)||'鲁B'||chr(39)||', 1, 0)), 0) /'|| n_shibiecarnum||' * '||n_alldsdcarnum||') localnum,';
104          v_sum_sql_belong := v_sum_sql_belong || ' pointid from (select distinct t.ccarnumber, t.clicensetype, e.pointid from detect_speed_data t';
105          v_sum_sql_belong := v_sum_sql_belong || ' left join equipment_info e on t.cdevicecode = e.deviceid' || v_sum_sql_where;
106          v_sum_sql_belong := v_sum_sql_belong || ' and e.pointid is not null ) group by pointid)';
107  
108      end if;
109  
110      --本省外地车=在途车总数-外省车-本市车
111      n_foreignnum := n_allcarnum - n_otherprovincenum - n_localnum;
112  
113      v_ins_sql := 'insert into ' || v_table_sum || '(computedate, allcarnum, otherprovincenum, foreignnum, localnum, bigcar, smallcar,  insertdate)';
114      v_ins_sql := v_ins_sql || ' values(:1, ' || n_allcarnum || ', ' || n_otherprovincenum ||','||n_foreignnum||','|| n_localnum ||','|| n_bigcarnum ||','|| n_smallcarnum ||' ,sysdate)';
115  
116      dbms_output.put_line(v_sum_sql_belong);
117  
118      v_ins_sql_belong := 'insert into ' || v_table_sum_belong || '(allcarnum, otherprovincenum, foreignnum, localnum, pointcode, computedate, insertdate)';
119      v_ins_sql_belong := v_ins_sql_belong || v_sum_sql_belong;
120  
121  
122      --每周一0点删除超期数据
123      if(to_char(d_basicDate,'d')) = 2 then
124        if (to_char(d_basicDate, 'HH24') = '00') then
125             v_del_sql := 'delete from hrv_monitor_car_onway t where t.computedate < :1' ;
126             v_del_sql_belong := 'delete from hrv_monitor_car_belonging where computedate < :1';
127  
128             dbms_output.put_line(v_del_sql);
129             dbms_output.put_line(v_del_sql_belong);
130             execute immediate v_del_sql using d_saveMaxDate;
131             commit;
132             execute immediate v_del_sql_belong using d_saveMaxDate;
133             commit;
134  
135        end if;
136      end if;
137  
138      dbms_output.put_line(v_ins_sql);
139      execute immediate v_ins_sql using d_basicDate;
140      commit;
141  
142      dbms_output.put_line(v_ins_sql_belong);
143      execute immediate v_ins_sql_belong using d_basicDate, d_beginDate, d_endDate;
144      commit;
145  
146      exception
147        when others then
148          v_errCode := TO_CHAR(SQLCODE);
149          v_errMsg := SQLERRM ;
150  
151          dbms_output.put_line(v_errCode||v_errMsg);
152     end;
153  
154  END PROC_HRV_CARNUM_ONWAY_SUM;
155  /
SQL> --荆征驿
SQL> rename   HDVIEW_COMPONENT    to     tmp_HDVIEW_COMPONENT;
SQL> rename   HDVIEW_SCENE        to         tmp_HDVIEW_SCENE;
SQL> rename   HDVIEW_THEME        to         tmp_HDVIEW_THEME;
SQL> rename   HDVIEW_THEME_CONFIG to  tmp_HDVIEW_THEME_CONFIG;
SQL> create table HDVIEW_COMPONENT
  2  (
  3    componentid      VARCHAR2(32) not null,
  4    name             VARCHAR2(60),
  5    description      VARCHAR2(50),
  6    type             CHAR(1),
  7    title            VARCHAR2(30),
  8    showborder       CHAR(1),
  9    transparent      VARCHAR2(20),
 10    refresh_interval NUMBER,
 11    datafuc          VARCHAR2(50),
 12    sceneid          VARCHAR2(30) not null,
 13    create_time      DATE,
 14    update_time      DATE,
 15    create_user      VARCHAR2(30),
 16    w                NUMBER,
 17    h                NUMBER,
 18    x                NUMBER,
 19    y                NUMBER,
 20    i                VARCHAR2(30),
 21    isditu           CHAR(1),
 22    basefont         NUMBER,
 23    maxw             NUMBER,
 24    minw             NUMBER,
 25    minh             NUMBER,
 26    maxh             NUMBER,
 27    border           CHAR(1) default 1
 28  );
SQL> comment on table HDVIEW_COMPONENT
  2    is '组件表';
SQL> comment on column HDVIEW_COMPONENT.name
  2    is '组件名称';
SQL> comment on column HDVIEW_COMPONENT.type
  2    is '1：专题组件
  3  2：地图组件
  4  3：指标组件
  5  ';
SQL> comment on column HDVIEW_COMPONENT.title
  2    is '默认标题';
SQL> comment on column HDVIEW_COMPONENT.showborder
  2    is '是否展示边框';
SQL> comment on column HDVIEW_COMPONENT.transparent
  2    is '背景透明度';
SQL> comment on column HDVIEW_COMPONENT.refresh_interval
  2    is '组件刷新间隔';
SQL> comment on column HDVIEW_COMPONENT.datafuc
  2    is '数据接口';
SQL> comment on column HDVIEW_COMPONENT.sceneid
  2    is '场景';
SQL> comment on column HDVIEW_COMPONENT.w
  2    is '默认宽';
SQL> comment on column HDVIEW_COMPONENT.h
  2    is '默认高';
SQL> comment on column HDVIEW_COMPONENT.x
  2    is '默认x轴';
SQL> comment on column HDVIEW_COMPONENT.y
  2    is '默认y轴';
SQL> comment on column HDVIEW_COMPONENT.i
  2    is '默认 COMPONENTID';
SQL> comment on column HDVIEW_COMPONENT.isditu
  2    is '默认是否底图(地图) 0:否 1 :是   ';
SQL> comment on column HDVIEW_COMPONENT.border
  2    is '默认是否有边框 0:否 1 :是   ';
SQL> alter table HDVIEW_COMPONENT
  2    add constraint PK_HHDVIEW_COMPONENT primary key (COMPONENTID);
SQL> create table HDVIEW_SCENE
  2  (
  3    sceneid     VARCHAR2(32) not null,
  4    scenename   VARCHAR2(60) not null,
  5    description VARCHAR2(100),
  6    visiable    CHAR(1) default 1,
  7    create_time DATE,
  8    update_time DATE,
  9    create_user VARCHAR2(30),
 10    titleflag   CHAR(1) default 0
 11  );
SQL> comment on table HDVIEW_SCENE
  2    is '场景表';
SQL> comment on column HDVIEW_SCENE.visiable
  2    is '1:可见0：不可见';
SQL> comment on column HDVIEW_SCENE.titleflag
  2    is '是否自定义title,默认0不配置,展示的是切的图,要不就是SCENENAME值';
SQL> alter table HDVIEW_SCENE
  2    add constraint PK_HHDVIEW_SCENE primary key (SCENEID);
SQL> create table HDVIEW_THEME
  2  (
  3    themeid     VARCHAR2(32) not null,
  4    sceneid     VARCHAR2(32) not null,
  5    themename   VARCHAR2(45) not null,
  6    colortheme  VARCHAR2(20),
  7    basefont    NUMBER,
  8    adaptscreen VARCHAR2(10),
  9    isenable    CHAR(1),
 10    create_time DATE not null,
 11    update_time DATE,
 12    create_user VARCHAR2(30)
 13  );
SQL> create table HDVIEW_THEME_CONFIG
  2  (
  3    themeid     VARCHAR2(32) not null,
  4    componentid VARCHAR2(30) not null,
  5    name        VARCHAR2(60) not null,
  6    page        NUMBER,
  7    basefont    NUMBER,
  8    w           NUMBER,
  9    h           NUMBER,
 10    x           NUMBER,
 11    y           NUMBER,
 12    i           VARCHAR2(30) not null,
 13    status      CHAR(1),
 14    isditu      CHAR(1),
 15    creat_time  DATE,
 16    update_time DATE,
 17    create_user VARCHAR2(30),
 18    sceneid     VARCHAR2(32),
 19    id          VARCHAR2(32) not null,
 20    border      CHAR(1) default 1,
 21    maxw        NUMBER,
 22    minw        NUMBER,
 23    minh        NUMBER,
 24    maxh        NUMBER
 25  );
SQL> comment on table HDVIEW_THEME_CONFIG
  2    is '场景主题配置表';
SQL> comment on column HDVIEW_THEME_CONFIG.w
  2    is '宽';
SQL> comment on column HDVIEW_THEME_CONFIG.h
  2    is '高';
SQL> comment on column HDVIEW_THEME_CONFIG.x
  2    is 'x轴';
SQL> comment on column HDVIEW_THEME_CONFIG.y
  2    is 'y轴';
SQL> comment on column HDVIEW_THEME_CONFIG.i
  2    is 'COMPONENTID';
SQL> comment on column HDVIEW_THEME_CONFIG.status
  2    is '0:不生效 1';
SQL> comment on column HDVIEW_THEME_CONFIG.isditu
  2    is '0:否 1 :是   是否底图(地图)';
SQL> comment on column HDVIEW_THEME_CONFIG.border
  2    is '默认是否有边框 0:否 1 :是   ';
SQL> alter table HDVIEW_THEME_CONFIG
  2    add constraint PK_HHDVIEW_THEME_CONFIG primary key (ID);
SQL> alter table HDVIEW_THEME_CONFIG
  2    add constraint UNI_HHDVIEW_THEME_CONFIG unique (THEMEID, SCENEID, I, PAGE);
SQL> --于明浩
SQL> drop table TD_TRAVELSPEED_RESULT_NEW;
SQL> drop table TS_SPEED_HIERARCHY_DEVICE;
SQL> create table TD_TRAVELSPEED_RESULT_NEW
  2  (
  3    id         VARCHAR2(32),
  4    route_id   VARCHAR2(30),
  5    cal_time   DATE,
  6    velocity   NUMBER(11,2),
  7    samplesize NUMBER
  8  )
  9  tablespace HIATMPTS
 10    pctfree 10
 11    initrans 1
 12    maxtrans 255
 13    storage
 14    (
 15      initial 64K
 16      next 1M
 17      minextents 1
 18      maxextents unlimited
 19    );
SQL> comment on table TD_TRAVELSPEED_RESULT_NEW
  2    is '行程车速结果表';
SQL> comment on column TD_TRAVELSPEED_RESULT_NEW.route_id
  2    is '路段id';
SQL> comment on column TD_TRAVELSPEED_RESULT_NEW.cal_time
  2    is '计算时间';
SQL> comment on column TD_TRAVELSPEED_RESULT_NEW.velocity
  2    is '平均速度';
SQL> comment on column TD_TRAVELSPEED_RESULT_NEW.samplesize
  2    is '样本量';
SQL> create table TS_SPEED_HIERARCHY_DEVICE
  2  (
  3    node_id   VARCHAR2(50) not null,
  4    device_id VARCHAR2(100) not null,
  5    length    NUMBER(8,3),
  6    position  VARCHAR2(1),
  7    node_name NVARCHAR2(100),
  8    lon       NUMBER(10,6),
  9    lat       NUMBER(10,6)
 10  )
 11  tablespace HIATMPTS
 12    pctfree 10
 13    initrans 1
 14    maxtrans 255
 15    storage
 16    (
 17      initial 64K
 18      next 1M
 19      minextents 1
 20      maxextents unlimited
 21    );
SQL> comment on column TS_SPEED_HIERARCHY_DEVICE.node_id
  2    is '路段id';
SQL> comment on column TS_SPEED_HIERARCHY_DEVICE.device_id
  2    is '设备id';
SQL> comment on column TS_SPEED_HIERARCHY_DEVICE.length
  2    is '路段长度';
SQL> comment on column TS_SPEED_HIERARCHY_DEVICE.position
  2    is '0:开始，1:结束';
SQL> comment on column TS_SPEED_HIERARCHY_DEVICE.node_name
  2    is '路段名称';
SQL> comment on column TS_SPEED_HIERARCHY_DEVICE.lon
  2    is '经度';
SQL> comment on column TS_SPEED_HIERARCHY_DEVICE.lat
  2    is '纬度';
SQL> --孟范超
SQL> --hrv_concern_section_relation 增加外键，防止路段删除出现异常
SQL> alter table hrv_concern_section_relation modify (sectionid nvarchar2(8));
SQL> alter table hrv_concern_section_relation
  2  add constraint fk_hcsr_sectionid foreign key (sectionid)
  3  references monitor_section (sectionid);
SQL> --hrv_section_status_view去重
SQL> create or replace view hrv_section_status_view as
  2  SELECT * FROM (
  3         SELECT ROW_NUMBER() OVER(PARTITION BY SECTIONID,COMPUTEDATE ORDER BY INSERTDATE DESC) RN, T.* FROM (
  4                  select hss.SECTIONID,hss.DELAYTIME,hss.AVSPEED,hss.DELAYTIMERITO,hss.COMPUTEDATE,hss.INSERTDATE,ssc.status,sfds.trafficflow from hrv_section_status hss
  5                  left join section_status_compute ssc on hss.sectionid = ssc.section_id and ssc.computetime = hss.computedate
  6                  left join section_flow_data_sum5 sfds on sfds.sectionid = hss.sectionid and sfds.computedate = hss.computedate
  7                ) T
  8                )
  9  WHERE RN = 1;
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑HiATMP-DB-HRV-DDL.5.8.0.0.A3.sql End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓HiATMP-DB-HRV-DDL.5.8.0.0.A4.sql Start-----------------------
SQL> --李楠
SQL> create or replace view section_status_current as
  2  select t.section_id,
  3         t.status,
  4         t.traveltime,
  5         d.commcount * 60 as volume,
  6         d.speed,
  7         t.computetime,
  8         d.laneid
  9    from section_status_present t
 10    left join (select ssd.sectionid,
 11                      ssd.laneid,
 12                      avg(ssd.commcount) as commcount,
 13                      round(avg(ssd.speed)) as speed
 14                 from section_status_data ssd
 15                where ssd.stdtime > sysdate - 5 / 24 / 60
 16                  and ssd.commcount > 0
 17                  and ssd.speed > 0
 18                  and not exists
 19                (select 1
 20                         from section_status_data s
 21                        where s.stdtime > sysdate - 5 / 24 / 60
 22                          and s.sectionid = ssd.sectionid
 23                          and s.stdtime > ssd.stdtime)
 24                group by ssd.sectionid, ssd.laneid) d
 25      on d.sectionid = t.section_id;
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑HiATMP-DB-HRV-DDL.5.8.0.0.A4.sql End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓HiATMP-DB-TPM5.8.0.13522.A9.sql End-----------------------
SQL> comment on column TPMS_AREA.ID is '区域编号';
SQL> comment on column TPMS_AREA.ADVANCEID is '预案编号';
SQL> comment on column TPMS_AREA.COORDINATE is '区域坐标';
SQL> comment on column TPMS_AREA.AREATYPE is '区域类型(枚举1117)';
SQL> comment on column TPMS_AREA.DESCRIPTION is '区域描述';
SQL> comment on column TPMS_AREA.CREATETIME is '创建时间';
SQL> comment on column TPMS_AREA.CREATEUSER is '创建人';
SQL> comment on column TPMS_AREA.AREANAME is '区域名称';
SQL> comment on column TPMS_DUTY.ID is '岗位编号';
SQL> comment on column TPMS_DUTY.ADVANCEID is '预案编号';
SQL> comment on column TPMS_DUTY.POSITION_NAME is '岗位名称';
SQL> comment on column TPMS_DUTY.POSITION_TYPE is '岗位类型(枚举1123)';
SQL> comment on column TPMS_DUTY.POSITION_ADDRESS is '岗位地点';
SQL> comment on column TPMS_DUTY.PEOPLENUM is '岗位人数';
SQL> comment on column TPMS_DUTY.RESPONSIBILITY is '岗位职责';
SQL> comment on column TPMS_DUTY.COORDINATE is '岗位坐标';
SQL> comment on column TPMS_DUTY.DEPT_ID is '岗位部门(select ''部门名称:''||t.cdepartmentname from department t where t.cdepartmentid=?)';
SQL> comment on column TPMS_DUTY.CREATE_TIME is '创建时间';
SQL> comment on column TPMS_DUTY.TPMSLEVEL is '预案级别(枚举1028)';
SQL> comment on column TPMS_DUTY_POLICE.ID is '岗位警员编号';
SQL> comment on column TPMS_DUTY_POLICE.DUTYID is '岗位编号(select ''岗位名称:''||t.position_name from tpms_duty t where t.id=?)';
SQL> comment on column TPMS_DUTY_POLICE.POLICEID is '警员编号';
SQL> comment on column TPMS_DUTY_POLICE.STARTTIME is '岗位开始时间';
SQL> comment on column TPMS_DUTY_POLICE.ENDTIME is '岗位结束时间';
SQL> comment on column TPMS_DUTY_POLICE.CREATEUSER is '创建用户';
SQL> comment on column TPMS_DUTY_POLICE.CREATETIME is '创建时间';
SQL> comment on column TPMS_DUTY_POLICE.POLICEUUID is '警员表主键(select ''姓名:''||policename from police where uuid=?)';
SQL> comment on column TPMS_EVALUATION.ID is '评价编号';
SQL> comment on column TPMS_EVALUATION.ADVANCEID is '预案编号';
SQL> comment on column TPMS_EVALUATION.USERID is '评价人';
SQL> comment on column TPMS_EVALUATION.DESCRIPTION is '评价内容';
SQL> comment on column TPMS_EVALUATION.EXECUTETIME is '评价时间';
SQL> comment on column TPMS_EXCT.EXCTID is '执行编号';
SQL> comment on column TPMS_EXCT.ADVANCENO is '预案编号';
SQL> comment on column TPMS_EXCT.STARTTIME is '开始时间';
SQL> comment on column TPMS_EXCT.ENDTIME is '结束时间';
SQL> comment on column TPMS_EXCT.USERID is '执行人';
SQL> comment on column TPMS_EXCT.USERIP is '执行ip';
SQL> comment on column TPMS_EXCT.USERNAME is '执行人名称';
SQL> comment on column TPMS_EXCT_CMD.CMDID is '指令编号';
SQL> comment on column TPMS_EXCT_CMD.EXCTSCENEID is '执行场景编号';
SQL> comment on column TPMS_EXCT_CMD.CONTENT is '指令内容';
SQL> comment on column TPMS_EXCT_CMD.USERID is '发布人';
SQL> comment on column TPMS_EXCT_CMD.CREATETIME is '发布时间';
SQL> comment on column TPMS_EXCT_CMD.FEEDBACKSTATUS is '反馈情况(0:未反馈,1:已执行,2:暂不执行)';
SQL> comment on column TPMS_EXCT_CMD.RECEIVER is '接收岗位';
SQL> comment on column TPMS_EXCT_OPER.OPERID is '操作编号';
SQL> comment on column TPMS_EXCT_OPER.EXCTSCENEID is '执行场景编号';
SQL> comment on column TPMS_EXCT_OPER.CREATETIME is '创建时间';
SQL> comment on column TPMS_EXCT_OPER.USERID is '创建人id';
SQL> comment on column TPMS_EXCT_OPER.ISDELETE is '是否删除';
SQL> comment on column TPMS_EXCT_OPER.DEVICETYPE is '操作设备类型 枚举1704';
SQL> comment on column TPMS_EXCT_OPER.OPERATIONTYPE is '操作类型 0 批量撤销 1批量执行 2单个撤销 3单个执行';
SQL> comment on column TPMS_EXCT_OPER.USERIP is '操作ip';
SQL> comment on column TPMS_EXCT_OPER_DETAIL.DETAILID is '设备日志编号';
SQL> comment on column TPMS_EXCT_OPER_DETAIL.OPERID is '操作编号';
SQL> comment on column TPMS_EXCT_OPER_DETAIL.DEVICEID is '设备id';
SQL> comment on column TPMS_EXCT_OPER_DETAIL.STATUS is '执行状态,0执行失败 1 执行成功 2撤销失败 3撤销成功';
SQL> comment on column TPMS_EXCT_OPER_DETAIL.CONTENT is '操作描述';
SQL> comment on column TPMS_EXCT_SCENE.EXCTSCENEID is '执行场景编号';
SQL> comment on column TPMS_EXCT_SCENE.EXCTID is '执行编号';
SQL> comment on column TPMS_EXCT_SCENE.STARTTIME is '开始时间';
SQL> comment on column TPMS_EXCT_SCENE.ENDTIME is '结束时间';
SQL> comment on column TPMS_EXCT_SCENE.SCENEID is '场景编号';
SQL> comment on column TPMS_EXCT_SCENE.USERID is '执行人';
SQL> comment on column TPMS_EXCT_SCENE.EXECUTETYPE is '执行类型（手动或自动）';
SQL> comment on column TPMS_EXPRESSWAY_VMS_PLAN.ELEMENTGROUPID is '节目组编号';
SQL> comment on column TPMS_EXPRESSWAY_VMS_PLAN.DEVICEID is '设备编号';
SQL> comment on column TPMS_EXPRESSWAY_VMS_PLAN.ELEMENTIDS is '节目编号';
SQL> comment on column TPMS_EXPRESSWAY_VMS_PLAN.ID is 'ID';
SQL> comment on column TPMS_EXPRESSWAY_VMS_PLAN.VMSPLANID is '节目组计划id';
SQL> comment on column TPMS_EXPRESSWAY_VMS_PLAN.GROUPTYPE is '诱导组类型';
SQL> comment on column TPMS_EXPRESSWAY_VMS_PLAN.GROUPNAMES is '诱导组名称';
SQL> comment on column TPMS_EXPRESSWAY_VMS_PLAN.PLAYCOUNT is '播放次数';
SQL> comment on column TPMS_EXPRESSWAY_VMS_PLAN.CAR_DIRECTION is '行车方向';
SQL> comment on column TPMS_EXPRESSWAY_VMS_PLAN.ROAD_NUMBER is '车道数量';
SQL> comment on column TPMS_EXPRESSWAY_VMS_PLAN.RELATEID is '设备关联ID(select ''设备名称:''||t.devicename from tpms_relate_device t where t.id=?)';
SQL> comment on column TPMS_FIELD.FIELDID is '场地编号';
SQL> comment on column TPMS_FIELD.FIELDNAME is '场地名称';
SQL> comment on column TPMS_FIELD.FIELDCOORDINATE is '场地坐标';
SQL> comment on column TPMS_FIELD.FIELDTYPE is '场地类型';
SQL> comment on column TPMS_FILE.FILEREALNAME is '文件真实名称';
SQL> comment on column TPMS_FILE.DESCRIPTION is '描述';
SQL> comment on column TPMS_FILE.ID is '资料编号';
SQL> comment on column TPMS_FILE.ADVANCEID is '预案编号';
SQL> comment on column TPMS_FILE.FILETYPE is '资料类型';
SQL> comment on column TPMS_FILE.FILENAME is '资料名称';
SQL> comment on column TPMS_FILE.FILEURL is '资料路径';
SQL> comment on column TPMS_FILE.COORDINATE is '坐标';
SQL> comment on column TPMS_FOG_MODELS.MODELID is '模式ID';
SQL> comment on column TPMS_FOG_MODELS.MODELTYPE is '模式类型';
SQL> comment on column TPMS_FOG_MODELS.MODELNAME is '模式名称';
SQL> comment on column TPMS_FOG_MODELS.THIRDSYSCODE is '第三方编号';
SQL> comment on column TPMS_FOG_MODELS.ZLCDMS is '指令传递模式';
SQL> comment on column TPMS_FOG_MODELS.YJDPL is '预警灯频率';
SQL> comment on column TPMS_FOG_MODELS.YDDPL is '诱导灯频率';
SQL> comment on column TPMS_FOG_MODELS.YJDLD is '预警灯亮度';
SQL> comment on column TPMS_FOG_MODELS.YDDLD is '诱导灯亮度';
SQL> comment on column TPMS_FOG_MODELS.WJCD is '尾迹长度';
SQL> comment on column TPMS_FOG_MODELS.KQDD is '开启道钉';
SQL> comment on column TPMS_FOG_MODELS.WJSJ is '尾迹时间';
SQL> comment on column TPMS_FOG_MODELS.CJQ is '车检器';
SQL> comment on column TPMS_FOG_MODELS.UPDATETIME is '更新时间';
SQL> comment on column TPMS_FOG_MODELS.UPDATEUSER is '创建用户';
SQL> comment on column TPMS_FOG_MODELS_BACKUP.MODELID is '模式ID';
SQL> comment on column TPMS_FOG_MODELS_BACKUP.MODELTYPE is '模式类型';
SQL> comment on column TPMS_FOG_MODELS_BACKUP.MODELNAME is '模式名称';
SQL> comment on column TPMS_FOG_MODELS_BACKUP.THIRDSYSCODE is '第三方编号';
SQL> comment on column TPMS_FOG_MODELS_BACKUP.ZLCDMS is '指令传递模式';
SQL> comment on column TPMS_FOG_MODELS_BACKUP.YJDPL is '预警灯频率';
SQL> comment on column TPMS_FOG_MODELS_BACKUP.YDDPL is '诱导灯频率';
SQL> comment on column TPMS_FOG_MODELS_BACKUP.YJDLD is '预警灯亮度';
SQL> comment on column TPMS_FOG_MODELS_BACKUP.YDDLD is '诱导灯亮度';
SQL> comment on column TPMS_FOG_MODELS_BACKUP.WJCD is '尾迹长度';
SQL> comment on column TPMS_FOG_MODELS_BACKUP.KQDD is '开启道钉';
SQL> comment on column TPMS_FOG_MODELS_BACKUP.WJSJ is '尾迹时间';
SQL> comment on column TPMS_FOG_MODELS_BACKUP.CJQ is '车检器';
SQL> comment on column TPMS_FOG_MODELS_BACKUP.UPDATETIME is '更新时间';
SQL> comment on column TPMS_FOG_MODELS_BACKUP.UPDATEUSER is '创建用户';
SQL> comment on column TPMS_FOG_PLAN.ID is 'ID';
SQL> comment on column TPMS_FOG_PLAN.MODELTYPE is '模式类型(1:预置模式,2:自定义模式）';
SQL> comment on column TPMS_FOG_PLAN.MODELNAME is '模式名称';
SQL> comment on column TPMS_FOG_PLAN.MODELID is '模式ID(select ''模式名称:''||t.modelname from tpms_fog_models t where t.modelid=?)';
SQL> comment on column TPMS_FOG_PLAN.RELATEID is '设备关联ID(select ''设备名称:''||t.devicename from tpms_relate_device t where t.id=?)';
SQL> comment on column TPMS_PLAN_INFO.PLANID is '预案编号';
SQL> comment on column TPMS_PLAN_INFO.PLANTYPE is '预案种类(枚举1700)';
SQL> comment on column TPMS_PLAN_INFO.PLANSUBTYPE is '预案类型(枚举410)';
SQL> comment on column TPMS_PLAN_INFO.PLANNAME is '预案名称';
SQL> comment on column TPMS_PLAN_INFO.PLANLEVEL is '预案级别(枚举1028)';
SQL> comment on column TPMS_PLAN_INFO.ADVANCEDETAIL is '预案描述';
SQL> comment on column TPMS_PLAN_INFO.EXRANGE is '影响范围(枚举1701）';
SQL> comment on column TPMS_PLAN_INFO.CREATETIME is '创建时间';
SQL> comment on column TPMS_PLAN_INFO.CREATEUSER is '创建人(select ''姓名:''||t.cusername from operator t where t.nuserid=?)';
SQL> comment on column TPMS_PLAN_INFO.EXSTATUS is '预案执行状态(0:未执行, 1:待执行, 2:执行中)';
SQL> comment on column TPMS_PLAN_INFO.TPLID is '模板编号';
SQL> comment on column TPMS_PLAN_INFO.FIELDID is '预案场地(枚举1705)';
SQL> comment on column TPMS_PLAN_INFO.CONFIGTYPE is '可配置设备项(枚举1704)';
SQL> comment on column TPMS_POLICE_DEVICE.UUID is '';
SQL> comment on column TPMS_POLICE_DEVICE.POLICEID is '';
SQL> comment on column TPMS_POLICE_DEVICE.DEVICEID is '';
SQL> comment on column TPMS_POLICE_DEVICE.LV is '';
SQL> comment on column TPMS_POLICE_SUPERVISION.FLAG is '标识 1人工监督2自动计算';
SQL> comment on column TPMS_POLICE_SUPERVISION.EXCTID is '预案执行编号';
SQL> comment on column TPMS_POLICE_SUPERVISION.URL is 'ftp地址';
SQL> comment on column TPMS_POLICE_SUPERVISION.SUPERVISIONID is '警力监督主键';
SQL> comment on column TPMS_POLICE_SUPERVISION.DUTY_POLICE_ID is '岗位警员编号';
SQL> comment on column TPMS_POLICE_SUPERVISION.WORKSTATUS is '状态,枚举1127';
SQL> comment on column TPMS_POLICE_SUPERVISION.GPSRADIONO is 'GPS呼号';
SQL> comment on column TPMS_POLICE_SUPERVISION.TELPHONE is '电话';
SQL> comment on column TPMS_POLICE_SUPERVISION.USERID is '监督人';
SQL> comment on column TPMS_POLICE_SUPERVISION.MONITORTIME is '监督时间';
SQL> comment on column TPMS_PRESETCMD.PRESETID is '指令编号';
SQL> comment on column TPMS_PRESETCMD.CONTENT is '指令内容';
SQL> comment on column TPMS_PROPAGANDA_ELEMENT.ELEMENT_ID is '节目ID';
SQL> comment on column TPMS_PROPAGANDA_ELEMENT.ELEMENT_TITLE is '节目名称';
SQL> comment on column TPMS_PROPAGANDA_ELEMENT.ELEMENT_TEXT is '节目内容';
SQL> comment on column TPMS_PROPAGANDA_ELEMENT.PROGRAM_TYPE is '节目类别';
SQL> comment on column TPMS_PROPAGANDA_ELEMENT.EXTCOL is '扩展字段';
SQL> comment on column TPMS_PROPAGANDA_PLAN.ID is 'ID';
SQL> comment on column TPMS_PROPAGANDA_PLAN.PLAY_TYPE is '播放模式(1:麦克,2:音频,3:文字)';
SQL> comment on column TPMS_PROPAGANDA_PLAN.MACID is '喊话麦克编号';
SQL> comment on column TPMS_PROPAGANDA_PLAN.MACNAME is '喊话麦克名称';
SQL> comment on column TPMS_PROPAGANDA_PLAN.AUDIOELEMENTID is '音频设备编号';
SQL> comment on column TPMS_PROPAGANDA_PLAN.VOICENAME is '音频文件名称';
SQL> comment on column TPMS_PROPAGANDA_PLAN.VOICEPATH is '音频文件路径';
SQL> comment on column TPMS_PROPAGANDA_PLAN.METHOD is '持续方式(1:播放时长,2:播放次数)';
SQL> comment on column TPMS_PROPAGANDA_PLAN.DURATION is '持续时长';
SQL> comment on column TPMS_PROPAGANDA_PLAN.FREQUENCY is '频率';
SQL> comment on column TPMS_PROPAGANDA_PLAN.ELEMENT_ID is '节目编号(select ''节目名称:''||t.element_title from tpms_propaganda_element t where t.element_id=?)';
SQL> comment on column TPMS_PROPAGANDA_PLAN.RELATEID is '设备关联编号(select ''设备名称:''||t.devicename from tpms_relate_device t where t.id=?)';
SQL> comment on column TPMS_RELATE_DEVICE.ID is '设备关联ID';
SQL> comment on column TPMS_RELATE_DEVICE.SCENEID is '场景编号(select ''预案名称:''||p.planname||'';场景名称:''||s.scenename from tpms_scene s,tpms_plan_info p where s.advanceid=p.planid and s.sceneid=?)';
SQL> comment on column TPMS_RELATE_DEVICE.DEVICEID is '设备编号';
SQL> comment on column TPMS_RELATE_DEVICE.DEVICENAME is '设备名称';
SQL> comment on column TPMS_RELATE_DEVICE.DEVICETYPE is '设备配置类型(枚举1704)';
SQL> comment on column TPMS_RELATE_DEVICE.THIRDSYSCODE is '第三方编号';
SQL> comment on column TPMS_RELATE_DEVICE.ORDERNUM is '视频序号';
SQL> comment on column TPMS_RELATE_DEVICE.VMS_TYPE is '诱导屏类型（枚举186）';
SQL> comment on column TPMS_RELATE_DEVICE.VMS_SIZE is '诱导屏尺寸';
SQL> comment on column TPMS_RELATE_DEVICE.VMS_DIRECTION is '诱导屏方向（枚举149）';
SQL> comment on column TPMS_RELATE_DEVICE.PROVIDER is '诱导屏厂商（枚举902）';
SQL> comment on column TPMS_RELATE_DEVICE.STATUS is '执行状态（-1:未执行, 0:执行失败, 1: 执行成功, 2:撤销失败, 3:撤销成功）';
SQL> comment on column TPMS_RELATE_DEVICE.DEVICESTATE is '设备状态（枚举100）';
SQL> comment on column TPMS_RELATE_DEVICE.USERID is '制作人';
SQL> comment on column TPMS_RELATE_DEVICE.CREATETIME is '制作时间';
SQL> comment on column TPMS_RELATE_DEVICE.DEPARTMENTID is '所属部门';
SQL> comment on column TPMS_RELATE_DEVICE.POINTID is '安装点';
SQL> comment on column TPMS_RELATE_DEVICE.UPVMSROAD is '雾区防撞上行诱导路段';
SQL> comment on column TPMS_RELATE_DEVICE.DOWNVMSROAD is '雾区防撞下行诱导路段';
SQL> comment on column TPMS_RELATE_DEVICE.CONFIGSTATE is '节目配置状态( 0:未配置, 1:已配置)';
SQL> comment on column TPMS_RELATE_DEVICE.VIDEOTYPE is '视频类型';
SQL> comment on column TPMS_RELATE_DEVICE.COORDINATE is '设备安装点坐标';
SQL> comment on column TPMS_RELATE_DEVICE.DEPARTMENTNAME is '所属部门名称';
SQL> comment on column TPMS_RELATE_DEVICE.POINTNAME is '安装点名称';
SQL> comment on column TPMS_SCENE.SCENESTATUS is '场景执行状态（0:未执行，1:执行中）';
SQL> comment on column TPMS_SCENE.SCENEID is '场景编号';
SQL> comment on column TPMS_SCENE.ADVANCEID is '预案编号';
SQL> comment on column TPMS_SCENE.SCENENAME is '场景名称';
SQL> comment on column TPMS_SCENE.VMSCONFIG is '诱导配置状态(0:未配置,1:已配置)';
SQL> comment on column TPMS_SCENE.VIDEOCONFIG is '视频配置状态(0:未配置,1:已配置)';
SQL> comment on column TPMS_SCENE.UTCCONFIG is '信号配置状态(0:未配置,1:已配置)';
SQL> comment on column TPMS_SCENE.PROPAGANDACONFIG is '喊话系统配置状态(0:未配置,1:已配置)';
SQL> comment on column TPMS_SCENE.FOGSETCONFIG is '雾区防撞配置状态(0:未配置,1:已配置)';
SQL> comment on column TPMS_SCENE.EXPWAYVMSCONFIG is '限速诱导配置状态(0:未配置,1:已配置)';
SQL> comment on column TPMS_SCENE.DUTYCONFIG is '岗位配置状态(0:未配置,1:已配置)';
SQL> comment on column TPMS_SCENE.VIDEOSTATUS is '视频执行状态(0:未执行,1:已执行)';
SQL> comment on column TPMS_SCENE.UTCSTATUS is '信号执行状态(0:未执行,1:已执行)';
SQL> comment on column TPMS_SCENE.VMSSTATUS is '诱导执行状态(0:未执行,1:已执行)';
SQL> comment on column TPMS_SCENE.EXPWAYVMSSTATUS is '限速诱导执行状态(0:未执行,1:已执行)';
SQL> comment on column TPMS_SCENE.FOGSTATUS is '雾区防撞执行状态(0:未执行,1:已执行)';
SQL> comment on column TPMS_SCENE.PROPAGANDASTATUS is '喊话执行状态(0:未执行,1:已执行)';
SQL> comment on column TPMS_SCENE.ORDERNUM is '场景序号排序';
SQL> comment on column TPMS_SCENE.STARTTIME is '启动时间';
SQL> comment on column TPMS_SCENE.ENDTIME is '结束时间';
SQL> comment on column TPMS_SCENE.STARTCONFLAG is '启动条件标志(弃用)';
SQL> comment on column TPMS_SCENE.TIGTYPE is '触发条件(1:手动, 2:按时间, 3:按事件)';
SQL> comment on column TPMS_SCENE.COORDINATE is '事件触发区域坐标';
SQL> comment on column TPMS_SCENE.STARTFLAG is '启动提示';
SQL> comment on column TPMS_SCENE.ACCIDENT is '事件种类(弃用)';
SQL> comment on column TPMS_SCENE.EVENTTYPE is '事件类型(枚举1110)';
SQL> comment on column TPMS_SCENE.EVENTLEVEL is '事件级别（弃用）';
SQL> comment on column TPMS_TEMPLATE.CONFIGTYPE is '可配置设备项   1视频2信号3诱导4连续诱导5雾区6喊话7岗位   使用1,2,3代表可配置视频、信号、诱导';
SQL> comment on column TPMS_TEMPLATE.TPLID is '模板编号';
SQL> comment on column TPMS_TEMPLATE.TPLTYPE is '预案模板类型';
SQL> comment on column TPMS_TEMPLATE.TPLSUBTYPE is '预案模板子类型';
SQL> comment on column TPMS_TEMPLATE.TPLNAME is '模板名称';
SQL> comment on column TPMS_TEMPLATE.TPLLEVEL is '预案级别';
SQL> comment on column TPMS_TEMPLATE.ADVANCEDETAIL is '预案描述';
SQL> comment on column TPMS_TEMPLATE.EXRANGE is '影响范围';
SQL> comment on column TPMS_TEMPLATE.CREATETIME is '创建时间';
SQL> comment on column TPMS_TEMPLATE.CREATEUSER is '创建人';
SQL> comment on column TPMS_TEMPLATE.FIELDID is '场地编号';
SQL> comment on column TPMS_UTC_PLAN.ID is 'ID';
SQL> comment on column TPMS_UTC_PLAN.UTC_PLANNO is '信号方案编号';
SQL> comment on column TPMS_UTC_PLAN.UTC_PLANNAME is '信号方案名称';
SQL> comment on column TPMS_UTC_PLAN.RELATEID is '设备关联ID(select ''设备名称:''||t.devicename from tpms_relate_device t where t.id=?)';
SQL> comment on column TPMS_VIDEO_PLAN.ID is 'ID';
SQL> comment on column TPMS_VIDEO_PLAN.PRESET is '预置位编号';
SQL> comment on column TPMS_VIDEO_PLAN.RELATEID is '设备关联ID(select ''设备名称:''||t.devicename from tpms_relate_device t where t.id=?)';
SQL> comment on column TPMS_VMS_PLAN.VMSPLANID is '诱导发布计划编号';
SQL> comment on column TPMS_VMS_PLAN.RELATEID is '设备关联编号(select ''设备名称:''||t.devicename from tpms_relate_device t where t.id=?)';
SQL> comment on column TPMS_VMS_PLAN.ELEMENTIDS is '节目编号';
SQL> comment on column TPMS_VMS_PLAN.ID is 'ID';
SQL> comment on column TPMS_VMS_PLAN_BACKUP.ID is 'ID';
SQL> comment on column TPMS_VMS_PLAN_BACKUP.VMSID is '诱导设备id';
SQL> comment on column TPMS_VMS_PLAN_BACKUP.VMSTYPE is '诱导屏类型';
SQL> comment on column TPMS_VMS_PLAN_BACKUP.VMSPLANID is '诱导发布计划id';
SQL> comment on column TPMS_VMS_PLAN_BACKUP.CREATEDATE is '备份时间';
SQL> create table TGS_VMS_GROUP_LIST
  2  (
  3    id            VARCHAR2(32),
  4    group_title   VARCHAR2(512),
  5    deviceid_list VARCHAR2(2000)
  6  )
  7  tablespace HIATMPTS
  8    pctfree 10
  9    initrans 1
 10    maxtrans 255
 11    storage
 12    (
 13      initial 16K
 14      next 8K
 15      minextents 1
 16      maxextents unlimited
 17    );
SQL> comment on column TGS_VMS_GROUP_LIST.group_title
  2    is '分组列表主题';
SQL> comment on column TGS_VMS_GROUP_LIST.deviceid_list
  2    is '列表包含的诱导屏设备id列表，多个id间用逗号隔开';
SQL> insert into TGS_VMS_GROUP_LIST (id, group_title, deviceid_list)
  2  values ('20181128174806743omeyyk2rc52cf7f', '诱导', '370213000000101207');
SQL> insert into TGS_VMS_GROUP_LIST (id, group_title, deviceid_list)
  2  values ('20181128165943572m1i9egnu39or0mi', '诱导', '370213000000101207');
SQL> commit;
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑HiATMP-DB-TPM5.8.0.13522.A9.sql End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓HiATMP-DB-HRV-DDL.5.8.0.13722.A5.sql Start-----------------------
SQL> --linan3
SQL> CREATE OR REPLACE VIEW HRV_GPS_VIEW AS
  2  SELECT I.DEVICEID AS ID,
  3         CAST(P.POLICEID AS VARCHAR(6)) AS POLICEID,
  4         I.DEVICENAME,
  5         G.CVEHID,
  6         TO_CHAR(G.DECARLONG) AS LONGITUDE,
  7         TO_CHAR(G.DECARLAT) AS LATITUDE,
  8         TO_CHAR(G.NDIRECTION) AS NDIRECTION,
  9         TO_CHAR(G.DTRECORDTIME, 'yyyy-mm-dd hh24:mi:ss') AS DTRECORDTIME,
 10         I.GPSTYPE,
 11         E1.ENUMNAME AS GPSTYPENAME,
 12         T.DEPTSHORTNAME,
 13         I.GPSRADIONO,
 14         I.GPSCARNO,
 15         I.THIRDSYSCODE,
 16         T.CDEPARTMENTID,
 17         CASE OKR.REPORTSTATE
 18           WHEN '1' THEN
 19            '2'
 20           ELSE
 21            NVL2(G.CVEHID, '1', '0')
 22         END STATUS,
 23         P.POLICENAME,
 24         P.POLICENAME AS TITLE,
 25         P.PHONE,
 26         P.DEVICEID,
 27         P.DEVICEID2,
 28         P.DEVICEID3,
 29         P.DEVICEID4,
 30         CASE
 31           WHEN P.DEVICEID = I.DEVICEID THEN
 32            '1'
 33           ELSE /*主设备*/
 34            '2' /*附属设备*/
 35         END EQUIPSOURCE,
 36         CASE
 37           WHEN P.DEVICEID = I.DEVICEID THEN
 38            '1'
 39            WHEN P.Deviceid2 = I.DEVICEID THEN /*主设备*/
 40            '2' /*附属设备*/
 41              WHEN P.Deviceid3 = I.DEVICEID THEN /*主设备*/
 42            '3' /*附属设备*/
 43              ELSE  /*主设备*/
 44            '4' /*附属设备*/
 45         END devicenum
 46    FROM EQUIPMENT_INFO I
 47    LEFT JOIN (SELECT E1.ENUMNAME, E1.ENUMVALUE
 48                 FROM ENUM_TYPE E1
 49                WHERE E1.ENUMTYPEID = '734') E1
 50      ON E1.ENUMVALUE = I.GPSTYPE
 51    JOIN GPS_DATA G
 52      ON G.CVEHID = I.THIRDSYSCODE
 53    LEFT JOIN DEPARTMENT T
 54      ON T.CDEPARTMENTID = I.DEPARTMENTID
 55    LEFT JOIN POLICE P
 56      ON (P.DEVICEID = I.DEVICEID OR P.DEVICEID3 = I.DEVICEID OR
 57         P.DEVICEID4 = I.DEVICEID OR P.DEVICEID2 = I.DEVICEID)
 58    LEFT JOIN (SELECT CARCODE, REPORTSTATE, MAX(REPORTTIME) AS REPORTTIME
 59                 FROM ONEKEYREADY T
 60                WHERE T.REPORTTIME > TRUNC(SYSDATE)
 61                  AND NOT EXISTS/*去重，保留最新的*/
 62                (SELECT 1
 63                         FROM ONEKEYREADY R
 64                        WHERE R.CARCODE = T.CARCODE
 65                          AND R.REPORTTIME > TRUNC(SYSDATE)
 66                          AND R.REPORTTIME > T.REPORTTIME)
 67                GROUP BY CARCODE, REPORTSTATE) OKR
 68      ON OKR.CARCODE = SUBSTR(I.THIRDSYSCODE, 6)
 69   WHERE G.DTRECORDTIME >= /*GPS_ONLINE_TIME_INTERVAL 分钟内的*/
 70         SYSDATE -
 71         (SELECT NVL2(PARAM.PARAMVALUE, PARAM.PARAMVALUE, '5')
 72            FROM (SELECT T.PARAMVALUE
 73                    FROM SYSPARAMS T
 74                   WHERE T.PARAMCODE = 'GPS_ONLINE_TIME_INTERVAL') PARAM) / 1440
 75     AND NOT EXISTS /*去重，保留最新的*/
 76   (SELECT 1
 77            FROM GPS_DATA D
 78           WHERE D.DTRECORDTIME >
 79                 SYSDATE -
 80                 (SELECT NVL2(PARAM.PARAMVALUE, PARAM.PARAMVALUE, '5')
 81                    FROM (SELECT T.PARAMVALUE
 82                            FROM SYSPARAMS T
 83                           WHERE T.PARAMCODE = 'GPS_ONLINE_TIME_INTERVAL') PARAM) / 1440
 84             AND D.CVEHID = G.CVEHID
 85             AND D.DTRECORDTIME > G.DTRECORDTIME)
 86     AND P.ISCLOSED = 1;
SQL>    --孟范超
SQL> alter table  section_device  add (video_preset  varchar2(3) null);
SQL> CREATE OR REPLACE VIEW HRV_SECTION_STATUS_VIEW AS
  2  SELECT "RN","SECTIONID","DELAYTIME","AVSPEED","DELAYTIMERITO","COMPUTEDATE","INSERTDATE","STATUS","TRAFFICFLOW" FROM (
  3         SELECT ROW_NUMBER() OVER(PARTITION BY SECTIONID,COMPUTEDATE ORDER BY INSERTDATE DESC) RN, T.* FROM (
  4                  select hss.SECTIONID,hss.DELAYTIME,hss.AVSPEED,hss.DELAYTIMERITO,hss.COMPUTEDATE,hss.INSERTDATE,ssc.status,sfds.trafficflow from hrv_section_status hss
  5                  left join section_status_compute ssc on hss.sectionid = ssc.section_id and trunc(ssc.receivetime,'mi') = trunc(hss.computedate,'mi')
  6                  left join section_flow_data_sum5 sfds on sfds.sectionid = hss.sectionid and trunc(sfds.computedate,'mi') = trunc(hss.computedate,'mi')
  7                ) T
  8                )
  9  WHERE RN = 1;
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑HiATMP-DB-HRV-DDL.5.8.0.13722.A5.sql End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓HiATMP-DB-TPM-DDL.5.8.0.13841.A10.sql Start---------------------------
SQL> comment on column TPMS_DUTY.TPMSLEVEL is '岗位级别(枚举1028)';
SQL> drop table TPMS_FOG_MODELS_BACKUP;
SQL> -- Create table
SQL> create table TPMS_FOG_MODELS_BACKUP
  2  (
  3    modelid      VARCHAR2(32) not null,
  4    modeltype    VARCHAR2(16),
  5    modelname    VARCHAR2(128),
  6    thirdsyscode VARCHAR2(32),
  7    zlcdms       VARCHAR2(32),
  8    yjdpl        VARCHAR2(32),
  9    yddpl        VARCHAR2(32),
 10    yjdld        VARCHAR2(32),
 11    yddld        VARCHAR2(32),
 12    wjcd         VARCHAR2(32),
 13    kqdd         VARCHAR2(32),
 14    wjsj         VARCHAR2(32),
 15    cjq          VARCHAR2(32),
 16    updatetime   DATE,
 17    updateuser   VARCHAR2(32),
 18    fogplanid    VARCHAR2(32) not null
 19  );
SQL> -- Add comments to the columns
SQL> comment on column TPMS_FOG_MODELS_BACKUP.modelid
  2    is '模式ID';
SQL> comment on column TPMS_FOG_MODELS_BACKUP.modeltype
  2    is '模式类型';
SQL> comment on column TPMS_FOG_MODELS_BACKUP.modelname
  2    is '模式名称';
SQL> comment on column TPMS_FOG_MODELS_BACKUP.thirdsyscode
  2    is '第三方编号';
SQL> comment on column TPMS_FOG_MODELS_BACKUP.zlcdms
  2    is '指令传递模式';
SQL> comment on column TPMS_FOG_MODELS_BACKUP.yjdpl
  2    is '预警灯频率';
SQL> comment on column TPMS_FOG_MODELS_BACKUP.yddpl
  2    is '诱导灯频率';
SQL> comment on column TPMS_FOG_MODELS_BACKUP.yjdld
  2    is '预警灯亮度';
SQL> comment on column TPMS_FOG_MODELS_BACKUP.yddld
  2    is '诱导灯亮度';
SQL> comment on column TPMS_FOG_MODELS_BACKUP.wjcd
  2    is '尾迹长度';
SQL> comment on column TPMS_FOG_MODELS_BACKUP.kqdd
  2    is '开启道钉';
SQL> comment on column TPMS_FOG_MODELS_BACKUP.wjsj
  2    is '尾迹时间';
SQL> comment on column TPMS_FOG_MODELS_BACKUP.cjq
  2    is '车检器';
SQL> comment on column TPMS_FOG_MODELS_BACKUP.updatetime
  2    is '更新时间';
SQL> comment on column TPMS_FOG_MODELS_BACKUP.updateuser
  2    is '创建用户';
SQL> comment on column TPMS_FOG_MODELS_BACKUP.fogplanid
  2    is 'tpms_fog_plan表主键';
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table TPMS_FOG_MODELS_BACKUP
  2    add constraint PRI_TPMSFOGMODELSBACKUPID primary key (FOGPLANID);
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑HiATMP-DB-TPM-DDL.5.8.0.13841.A10.sql End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓HiATMP-DB-TGS5.8.0-DDL.5362.A1.sql Start---------------------------
SQL> create table TGS_VMS_ELEMENT
  2  (
  3    id            VARCHAR2(32) not null,
  4    element_title VARCHAR2(512),
  5    font_color    NUMBER(1),
  6    font_size     NUMBER(3),
  7    font_family   VARCHAR2(32),
  8    element_url   VARCHAR2(256),
  9    element_type  CHAR(2),
 10    element_text  VARCHAR2(2048),
 11    duration      NUMBER(10),
 12    is_temp       CHAR(1),
 13    extcol        VARCHAR2(512),
 14    showstyle     VARCHAR2(2),
 15    program_type  VARCHAR2(32),
 16    vms_type      VARCHAR2(2),
 17    element_value VARCHAR2(2048),
 18    content_type  CHAR(1),
 19    vms_size      VARCHAR2(32)
 20  )
 21  ;
SQL> comment on table TGS_VMS_ELEMENT
  2    is '节目表';
SQL> comment on column TGS_VMS_ELEMENT.element_title
  2    is '节目主题';
SQL> comment on column TGS_VMS_ELEMENT.font_color
  2    is '字体颜色： 1-红色2-黄色3-绿色';
SQL> comment on column TGS_VMS_ELEMENT.font_size
  2    is '字体大小';
SQL> comment on column TGS_VMS_ELEMENT.font_family
  2    is '字体类型';
SQL> comment on column TGS_VMS_ELEMENT.element_url
  2    is 'URL地址';
SQL> comment on column TGS_VMS_ELEMENT.element_type
  2    is '节目类型 1文字2图片3路况4视频';
SQL> comment on column TGS_VMS_ELEMENT.element_text
  2    is '信息报文
  3  ';
SQL> comment on column TGS_VMS_ELEMENT.duration
  2    is '单次发布持续时长
  3  ';
SQL> comment on column TGS_VMS_ELEMENT.is_temp
  2    is '暂时节目：用于定时删除';
SQL> comment on column TGS_VMS_ELEMENT.extcol
  2    is '条形屏文本
  3  ';
SQL> comment on column TGS_VMS_ELEMENT.showstyle
  2    is '条形屏显示方式 枚举2011';
SQL> comment on column TGS_VMS_ELEMENT.program_type
  2    is '节目类别  关联VMS_ELEMENT_TYPE表';
SQL> comment on column TGS_VMS_ELEMENT.vms_type
  2    is '节目适用的诱导屏类型：2-双基色 7-条形屏 3-全彩';
SQL> comment on column TGS_VMS_ELEMENT.element_value
  2    is '文本编辑器中生成的内容';
SQL> comment on column TGS_VMS_ELEMENT.content_type
  2    is '更加详细的格式，1-文字 2-图片 3-路况 4-文字路况 5-视频 6-竖屏文字  ELEMENT_TYPE字段的细类';
SQL> comment on column TGS_VMS_ELEMENT.vms_size
  2    is '节目尺寸，根据诱导屏尺寸选择节目尺寸';
SQL> alter table TGS_VMS_ELEMENT
  2    add primary key (ID);
SQL> prompt Creating TGS_VMS_ELEMENT_LIST...
Creating TGS_VMS_ELEMENT_LIST...
SQL> create table TGS_VMS_ELEMENT_LIST
  2  (
  3    id          VARCHAR2(32) not null,
  4    list_name   VARCHAR2(100),
  5    vms_type    VARCHAR2(1),
  6    element_id  VARCHAR2(1024),
  7    vms_xml     VARCHAR2(4000),
  8    createtime  DATE,
  9    lastusetime DATE,
 10    pubtype     VARCHAR2(1),
 11    vms_size    VARCHAR2(100)
 12  )
 13  ;
SQL> comment on table TGS_VMS_ELEMENT_LIST
  2    is '节目单表';
SQL> comment on column TGS_VMS_ELEMENT_LIST.list_name
  2    is '节目单名称';
SQL> comment on column TGS_VMS_ELEMENT_LIST.vms_type
  2    is '诱导屏类型';
SQL> comment on column TGS_VMS_ELEMENT_LIST.element_id
  2    is '发布节目ID';
SQL> comment on column TGS_VMS_ELEMENT_LIST.vms_xml
  2    is '发布xml串';
SQL> comment on column TGS_VMS_ELEMENT_LIST.createtime
  2    is '创建时间';
SQL> comment on column TGS_VMS_ELEMENT_LIST.lastusetime
  2    is '最近使用时间';
SQL> comment on column TGS_VMS_ELEMENT_LIST.pubtype
  2    is '发布类型 1-交通预案   2-信息服务(旅行时间)3-违法告知4-警卫任务5-高速系统6-停车场7-警情处置';
SQL> comment on column TGS_VMS_ELEMENT_LIST.vms_size
  2    is '测试，临时添加';
SQL> alter table TGS_VMS_ELEMENT_LIST
  2    add primary key (ID);
SQL> prompt Creating TGS_VMS_ELEMENT_RE...
Creating TGS_VMS_ELEMENT_RE...
SQL> create table TGS_VMS_ELEMENT_RE
  2  (
  3    id          VARCHAR2(32) not null,
  4    vms_id      VARCHAR2(32) not null,
  5    element_id  VARCHAR2(32) not null,
  6    create_time DATE
  7  )
  8  ;
SQL> comment on table TGS_VMS_ELEMENT_RE
  2    is '诱导屏与节目关联关系';
SQL> comment on column TGS_VMS_ELEMENT_RE.vms_id
  2    is '屏幕id';
SQL> comment on column TGS_VMS_ELEMENT_RE.element_id
  2    is '屏幕关联的节目，用,隔开';
SQL> comment on column TGS_VMS_ELEMENT_RE.create_time
  2    is '创建时间';
SQL> alter table TGS_VMS_ELEMENT_RE
  2    add constraint PK_ELEMENTVMS_RE primary key (ID);
SQL> prompt Creating TGS_VMS_LISTELEMENT_RE...
Creating TGS_VMS_LISTELEMENT_RE...
SQL> create table TGS_VMS_LISTELEMENT_RE
  2  (
  3    list_id    VARCHAR2(32) not null,
  4    element_id VARCHAR2(32) not null,
  5    order_id   NUMBER not null
  6  )
  7  ;
SQL> comment on table TGS_VMS_LISTELEMENT_RE
  2    is '节目单与节目关联表';
SQL> alter table TGS_VMS_LISTELEMENT_RE
  2    add constraint PK_BBBB primary key (LIST_ID);
SQL> prompt Creating TGS_VMS_SCHEDULE...
Creating TGS_VMS_SCHEDULE...
SQL> create table TGS_VMS_SCHEDULE
  2  (
  3    vms_id             VARCHAR2(32) not null,
  4    day_solution_ids   VARCHAR2(330),
  5    week_solution_ids  VARCHAR2(330),
  6    month_solution_ids VARCHAR2(330),
  7    pubtype            VARCHAR2(1)
  8  )
  9  ;
SQL> comment on table TGS_VMS_SCHEDULE
  2    is '调度表';
SQL> comment on column TGS_VMS_SCHEDULE.vms_id
  2    is '屏幕ID';
SQL> comment on column TGS_VMS_SCHEDULE.day_solution_ids
  2    is '日发布方案ID';
SQL> comment on column TGS_VMS_SCHEDULE.week_solution_ids
  2    is '周发布方案ID ';
SQL> comment on column TGS_VMS_SCHEDULE.month_solution_ids
  2    is '月发布方案ID ';
SQL> comment on column TGS_VMS_SCHEDULE.pubtype
  2    is '发布方式：0:定时
  3  1：立即
  4  ';
SQL> alter table TGS_VMS_SCHEDULE
  2    add primary key (VMS_ID);
SQL> prompt Creating TGS_VMS_SCHEDULE_HIS...
Creating TGS_VMS_SCHEDULE_HIS...
SQL> create table TGS_VMS_SCHEDULE_HIS
  2  (
  3    id                 VARCHAR2(32) not null,
  4    vms_id             VARCHAR2(32) not null,
  5    day_solution_ids   VARCHAR2(320),
  6    week_solution_ids  VARCHAR2(320),
  7    month_solution_ids VARCHAR2(320),
  8    pubtype            VARCHAR2(1),
  9    create_time        DATE
 10  )
 11  ;
SQL> comment on table TGS_VMS_SCHEDULE_HIS
  2    is '调度历史表';
SQL> comment on column TGS_VMS_SCHEDULE_HIS.vms_id
  2    is '屏幕ID';
SQL> comment on column TGS_VMS_SCHEDULE_HIS.day_solution_ids
  2    is '日发布节目单ID';
SQL> comment on column TGS_VMS_SCHEDULE_HIS.week_solution_ids
  2    is '周发布方案ID ';
SQL> comment on column TGS_VMS_SCHEDULE_HIS.month_solution_ids
  2    is '月发布方案ID ';
SQL> comment on column TGS_VMS_SCHEDULE_HIS.pubtype
  2    is '发布方式：0:定时
  3  1：立即';
SQL> alter table TGS_VMS_SCHEDULE_HIS
  2    add primary key (ID);
SQL> prompt Creating TGS_VMS_SCHEDULE_PLAN...
Creating TGS_VMS_SCHEDULE_PLAN...
SQL> create table TGS_VMS_SCHEDULE_PLAN
  2  (
  3    id           VARCHAR2(32) not null,
  4    vms_id       VARCHAR2(32),
  5    vms_type     VARCHAR2(1),
  6    solution_id  VARCHAR2(1024),
  7    list_ids     VARCHAR2(1024),
  8    vms_xml      VARCHAR2(4000),
  9    pubtype      VARCHAR2(1024),
 10    pubstatus    VARCHAR2(1),
 11    begintime    DATE,
 12    endtime      DATE,
 13    source       CHAR(2),
 14    modifiedtime DATE,
 15    createtime   DATE,
 16    elementids   VARCHAR2(2000),
 17    pubflag      VARCHAR2(1) default 0
 18  )
 19  ;
SQL> comment on table TGS_VMS_SCHEDULE_PLAN
  2    is '调度计划表';
SQL> comment on column TGS_VMS_SCHEDULE_PLAN.vms_id
  2    is ' 诱导屏ID ';
SQL> comment on column TGS_VMS_SCHEDULE_PLAN.vms_type
  2    is ' 诱导屏类型 ';
SQL> comment on column TGS_VMS_SCHEDULE_PLAN.solution_id
  2    is ' 方案ID      为空代表插播任务或自动发布';
SQL> comment on column TGS_VMS_SCHEDULE_PLAN.list_ids
  2    is ' 节目单id串    用,隔开；';
SQL> comment on column TGS_VMS_SCHEDULE_PLAN.vms_xml
  2    is ' 报文';
SQL> comment on column TGS_VMS_SCHEDULE_PLAN.pubtype
  2    is ' 发布类型  1插播 空为默认，手动';
SQL> comment on column TGS_VMS_SCHEDULE_PLAN.pubstatus
  2    is ' 发布状态  0未发布 1:已发布  2:发布失败 3:独占 4:独占等待  5插播混合';
SQL> comment on column TGS_VMS_SCHEDULE_PLAN.begintime
  2    is ' 开始时间 ';
SQL> comment on column TGS_VMS_SCHEDULE_PLAN.endtime
  2    is ' 结束时间  ';
SQL> comment on column TGS_VMS_SCHEDULE_PLAN.source
  2    is '节目来源 1-平台方案;2-平台插播;3-警卫任务;4-交通预案;5-旅行时间;6-违停;7-停车场;8-平均速度;9-高速与城区一体化诱导发布使用;';
SQL> comment on column TGS_VMS_SCHEDULE_PLAN.modifiedtime
  2    is '修改时间，默认按照修改时间排序';
SQL> comment on column TGS_VMS_SCHEDULE_PLAN.createtime
  2    is '创建时间';
SQL> comment on column TGS_VMS_SCHEDULE_PLAN.elementids
  2    is '节目id列表，多个用,隔开';
SQL> comment on column TGS_VMS_SCHEDULE_PLAN.pubflag
  2    is '0失败1成功';
SQL> alter table TGS_VMS_SCHEDULE_PLAN
  2    add primary key (ID);
SQL> prompt Creating TGS_VMS_SCHEDULE_PLAN_HIS...
Creating TGS_VMS_SCHEDULE_PLAN_HIS...
SQL> create table TGS_VMS_SCHEDULE_PLAN_HIS
  2  (
  3    id            VARCHAR2(32) not null,
  4    vms_id        VARCHAR2(32),
  5    vms_type      VARCHAR2(1),
  6    solution_id   VARCHAR2(1024),
  7    list_ids      VARCHAR2(1024),
  8    vms_xml       VARCHAR2(4000),
  9    pubtype       VARCHAR2(1024),
 10    pubstatus     VARCHAR2(1),
 11    begintime     DATE,
 12    endtime       DATE,
 13    source        CHAR(2),
 14    createtime    DATE,
 15    modifiedtime  DATE,
 16    elementids    VARCHAR2(2000),
 17    pubflag       VARCHAR2(1),
 18    hiscreatetime DATE default SYSDATE
 19  )
 20  ;
SQL> comment on table TGS_VMS_SCHEDULE_PLAN_HIS
  2    is '调度计划历史表';
SQL> comment on column TGS_VMS_SCHEDULE_PLAN_HIS.vms_id
  2    is ' 诱导屏ID ';
SQL> comment on column TGS_VMS_SCHEDULE_PLAN_HIS.vms_type
  2    is ' 诱导屏类型 ';
SQL> comment on column TGS_VMS_SCHEDULE_PLAN_HIS.solution_id
  2    is ' 方案ID      为空代表插播任务或自动发布';
SQL> comment on column TGS_VMS_SCHEDULE_PLAN_HIS.list_ids
  2    is ' 节目单id串    用,隔开；为空时则为插播任务或自动发布';
SQL> comment on column TGS_VMS_SCHEDULE_PLAN_HIS.vms_xml
  2    is ' 报文';
SQL> comment on column TGS_VMS_SCHEDULE_PLAN_HIS.pubtype
  2    is ' 发布类型  1插播 空为默认，手动';
SQL> comment on column TGS_VMS_SCHEDULE_PLAN_HIS.pubstatus
  2    is ' 发布状态  0未发布 1:已发布  2:发布失败 3:独占 4:独占等待  5插播混合';
SQL> comment on column TGS_VMS_SCHEDULE_PLAN_HIS.begintime
  2    is ' 开始时间 ';
SQL> comment on column TGS_VMS_SCHEDULE_PLAN_HIS.endtime
  2    is ' 结束时间  ';
SQL> comment on column TGS_VMS_SCHEDULE_PLAN_HIS.source
  2    is '节目来源 1-文字;2-图片;3-视频;4-路况;5-旅行时间;6-违停;7-停车场;8-平均速度;9-高速与城区一体化诱导发布使用;';
SQL> comment on column TGS_VMS_SCHEDULE_PLAN_HIS.createtime
  2    is '计划插入时间 ';
SQL> comment on column TGS_VMS_SCHEDULE_PLAN_HIS.modifiedtime
  2    is '修改时间，默认按照修改时间排序';
SQL> comment on column TGS_VMS_SCHEDULE_PLAN_HIS.elementids
  2    is '节目id列表，多个用,隔开';
SQL> comment on column TGS_VMS_SCHEDULE_PLAN_HIS.pubflag
  2    is '0失败1成功';
SQL> comment on column TGS_VMS_SCHEDULE_PLAN_HIS.hiscreatetime
  2    is '历史数据插入时间';
SQL> alter table TGS_VMS_SCHEDULE_PLAN_HIS
  2    add primary key (ID);
SQL> prompt Creating TGS_VMS_SHOWLIST...
Creating TGS_VMS_SHOWLIST...
SQL> create table TGS_VMS_SHOWLIST
  2  (
  3    vms_id       VARCHAR2(32) not null,
  4    element_ids  VARCHAR2(1024),
  5    extcol       VARCHAR2(512),
  6    vms_last_xml VARCHAR2(4000),
  7    createtime   DATE,
  8    modifiedtime DATE,
  9    resume_xml   VARCHAR2(512)
 10  )
 11  ;
SQL> comment on column TGS_VMS_SHOWLIST.element_ids
  2    is '节目id';
SQL> comment on column TGS_VMS_SHOWLIST.extcol
  2    is '诱导屏类型';
SQL> comment on column TGS_VMS_SHOWLIST.vms_last_xml
  2    is '当前发布xml';
SQL> alter table TGS_VMS_SHOWLIST
  2    add primary key (VMS_ID);
SQL> prompt Creating TGS_VMS_SOLULIST_RE...
Creating TGS_VMS_SOLULIST_RE...
SQL> create table TGS_VMS_SOLULIST_RE
  2  (
  3    solution_id VARCHAR2(32) not null,
  4    list_id     VARCHAR2(32) not null,
  5    begintime   VARCHAR2(4) not null,
  6    endtime     VARCHAR2(5) not null
  7  )
  8  ;
SQL> comment on table TGS_VMS_SOLULIST_RE
  2    is '方案与节目单关联表';
SQL> comment on column TGS_VMS_SOLULIST_RE.solution_id
  2    is '方案ID';
SQL> comment on column TGS_VMS_SOLULIST_RE.list_id
  2    is '节目单ID';
SQL> comment on column TGS_VMS_SOLULIST_RE.begintime
  2    is '开始时间,HHMM';
SQL> comment on column TGS_VMS_SOLULIST_RE.endtime
  2    is '结束时间,HHMM';
SQL> prompt Creating TGS_VMS_SOLUTION...
Creating TGS_VMS_SOLUTION...
SQL> create table TGS_VMS_SOLUTION
  2  (
  3    id             VARCHAR2(32) not null,
  4    solution_name  VARCHAR2(100),
  5    list_id        VARCHAR2(1024),
  6    vms_type       VARCHAR2(1),
  7    solution_type  CHAR(2),
  8    pub_week_cycle VARCHAR2(16),
  9    pub_day_cycle  VARCHAR2(8),
 10    pub_day        VARCHAR2(200),
 11    begin_time     DATE,
 12    end_time       DATE,
 13    expir_time     DATE,
 14    vms_size       VARCHAR2(100)
 15  )
 16  ;
SQL> comment on table TGS_VMS_SOLUTION
  2    is '方案表';
SQL> comment on column TGS_VMS_SOLUTION.solution_name
  2    is '方案名称';
SQL> comment on column TGS_VMS_SOLUTION.list_id
  2    is '节目单id';
SQL> comment on column TGS_VMS_SOLUTION.vms_type
  2    is '屏幕类型';
SQL> comment on column TGS_VMS_SOLUTION.solution_type
  2    is '方案类型 0:日 1:月 2:周';
SQL> comment on column TGS_VMS_SOLUTION.pub_week_cycle
  2    is '周周期   1,2,3,4,5,6,7';
SQL> comment on column TGS_VMS_SOLUTION.pub_day_cycle
  2    is '日周期 20160203';
SQL> comment on column TGS_VMS_SOLUTION.pub_day
  2    is '月周期, 01,02,03,...10,11,12,...20,21,22 全选是0';
SQL> comment on column TGS_VMS_SOLUTION.begin_time
  2    is '生效时间';
SQL> comment on column TGS_VMS_SOLUTION.end_time
  2    is '失效时间';
SQL> comment on column TGS_VMS_SOLUTION.vms_size
  2    is '测试，临时添加';
SQL> alter table TGS_VMS_SOLUTION
  2    add primary key (ID);
SQL> -- Create table
SQL> create table ADVANCE_VMS_PLAN
  2  (
  3    id         VARCHAR2(32) not null,
  4    planname   NVARCHAR2(30),
  5    advanceid  VARCHAR2(32),
  6    deviceid   VARCHAR2(18),
  7    vmstype    VARCHAR2(2),
  8    vmsplanid  VARCHAR2(32),
  9    userid     VARCHAR2(6),
 10    username   NVARCHAR2(10),
 11    createtime DATE
 12  )
 13  tablespace HIATMPTS
 14    pctfree 10
 15    initrans 1
 16    maxtrans 255
 17    storage
 18    (
 19      initial 64K
 20      next 1M
 21      minextents 1
 22      maxextents unlimited
 23    );
SQL> -- Add comments to the columns
SQL> comment on column ADVANCE_VMS_PLAN.id
  2    is '主键ID';
SQL> comment on column ADVANCE_VMS_PLAN.planname
  2    is '方案名称';
SQL> comment on column ADVANCE_VMS_PLAN.advanceid
  2    is '场景ID与advance_scene_info关联';
SQL> comment on column ADVANCE_VMS_PLAN.deviceid
  2    is '诱导设备ID';
SQL> comment on column ADVANCE_VMS_PLAN.vmstype
  2    is '诱导设备类型';
SQL> comment on column ADVANCE_VMS_PLAN.vmsplanid
  2    is '诱导发布计划ID，对应表VMS_PLAN中的主键ID';
SQL> comment on column ADVANCE_VMS_PLAN.userid
  2    is '制作人ID';
SQL> comment on column ADVANCE_VMS_PLAN.username
  2    is '制作人姓名(冗余)';
SQL> comment on column ADVANCE_VMS_PLAN.createtime
  2    is '创建时间';
SQL> -- Create/Recreate indexes
SQL> create index ADVANCE_VMS_PLAN_ADVANCEID on ADVANCE_VMS_PLAN (ADVANCEID)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table ADVANCE_VMS_PLAN
  2    add constraint ADVANCE_VMS_PLAN_KEY primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
SQL> -- Create table
SQL> create table MANCONSTRA
  2  (
  3    id          VARCHAR2(32) not null,
  4    sectionid   NVARCHAR2(8),
  5    modconstate VARCHAR2(1),
  6    manendtime  DATE,
  7    delflag     VARCHAR2(1) not null,
  8    createid    VARCHAR2(20) not null,
  9    createtime  DATE not null,
 10    updateid    VARCHAR2(20) not null,
 11    updatetime  DATE not null
 12  )
 13  tablespace HIATMPTS
 14    pctfree 10
 15    initrans 1
 16    maxtrans 255
 17    storage
 18    (
 19      initial 64K
 20      next 1M
 21      minextents 1
 22      maxextents unlimited
 23    );
SQL> -- Add comments to the table
SQL> comment on table MANCONSTRA
  2    is '手动控制策略表';
SQL> -- Add comments to the columns
SQL> comment on column MANCONSTRA.id
  2    is '主键';
SQL> comment on column MANCONSTRA.sectionid
  2    is '路段编号';
SQL> comment on column MANCONSTRA.modconstate
  2    is '修改后的拥堵状态';
SQL> comment on column MANCONSTRA.manendtime
  2    is '手控结束时间';
SQL> comment on column MANCONSTRA.delflag
  2    is '删除标志(0:未删除，1::删除)';
SQL> comment on column MANCONSTRA.createid
  2    is '创建id';
SQL> comment on column MANCONSTRA.createtime
  2    is '创建时间';
SQL> comment on column MANCONSTRA.updateid
  2    is '更新id';
SQL> comment on column MANCONSTRA.updatetime
  2    is '更新时间';
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table MANCONSTRA
  2    add constraint MANCONSTRAID primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
SQL> -- Create table
SQL> create table POLICE_CASE_VMS
  2  (
  3    id         VARCHAR2(32),
  4    caseid     VARCHAR2(32),
  5    planid     VARCHAR2(1024),
  6    pubuser    NVARCHAR2(32),
  7    pubtime    DATE,
  8    createtime DATE,
  9    pubendtime DATE
 10  )
 11  tablespace HIATMPTS
 12    pctfree 10
 13    initrans 1
 14    maxtrans 255
 15    storage
 16    (
 17      initial 64K
 18      next 1M
 19      minextents 1
 20      maxextents unlimited
 21    );
SQL> -- Add comments to the columns
SQL> comment on column POLICE_CASE_VMS.caseid
  2    is '警情ID';
SQL> comment on column POLICE_CASE_VMS.planid
  2    is '计划ID';
SQL> comment on column POLICE_CASE_VMS.pubuser
  2    is '操作用户';
SQL> comment on column POLICE_CASE_VMS.pubtime
  2    is '发布时间';
SQL> comment on column POLICE_CASE_VMS.createtime
  2    is '打开时间';
SQL> comment on column POLICE_CASE_VMS.pubendtime
  2    is '发布结束时间';
SQL> -- Create table
SQL> create table WECHAT_PUB_FEEDBACK
  2  (
  3    id           VARCHAR2(32) not null,
  4    wechatid     VARCHAR2(32) not null,
  5    feedbackinfo NVARCHAR2(200),
  6    feedbacktime DATE,
  7    feedbackid   VARCHAR2(6)
  8  )
  9  tablespace HIATMPTS
 10    pctfree 10
 11    initrans 1
 12    maxtrans 255
 13    storage
 14    (
 15      initial 16K
 16      next 8K
 17      minextents 1
 18      maxextents unlimited
 19    );
SQL> -- Add comments to the columns
SQL> comment on column WECHAT_PUB_FEEDBACK.id
  2    is '主键(uuid无意义)';
SQL> comment on column WECHAT_PUB_FEEDBACK.wechatid
  2    is '对应微信发布表主键';
SQL> comment on column WECHAT_PUB_FEEDBACK.feedbackinfo
  2    is '微信发布内容工作进展';
SQL> comment on column WECHAT_PUB_FEEDBACK.feedbacktime
  2    is '反馈时间对应wechat_pub表中的内容更新时间';
SQL> comment on column WECHAT_PUB_FEEDBACK.feedbackid
  2    is '反馈人编号';
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table WECHAT_PUB_FEEDBACK
  2    add constraint PK_WECHAT_FEEDBACK primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
SQL> ----------------------------------vms------------------------
SQL> prompt Creating VMS_COMMON_GROUP...
Creating VMS_COMMON_GROUP...
SQL> create table VMS_COMMON_GROUP
  2  (
  3    id         VARCHAR2(32) not null,
  4    group_name VARCHAR2(128),
  5    group_desc VARCHAR2(512),
  6    creat_time DATE,
  7    creat_user VARCHAR2(32)
  8  )
  9  ;
SQL> comment on column VMS_COMMON_GROUP.group_name
  2    is '诱导组名称';
SQL> comment on column VMS_COMMON_GROUP.group_desc
  2    is '诱导组描述';
SQL> comment on column VMS_COMMON_GROUP.creat_time
  2    is '创建时间';
SQL> comment on column VMS_COMMON_GROUP.creat_user
  2    is '创建用户';
SQL> alter table VMS_COMMON_GROUP
  2    add constraint PK_VMS_COMMON_GROUP primary key (ID);
SQL> prompt Creating VMS_CURRENT_PUBCAN_STATUS...
Creating VMS_CURRENT_PUBCAN_STATUS...
SQL> create table VMS_CURRENT_PUBCAN_STATUS
  2  (
  3    vms_id      VARCHAR2(32) not null,
  4    vms_type    VARCHAR2(1) not null,
  5    pub_time    DATE,
  6    pub_result  VARCHAR2(1),
  7    pub_vms_xml VARCHAR2(4000),
  8    pub_desc    VARCHAR2(1024),
  9    can_time    DATE,
 10    can_result  VARCHAR2(1),
 11    can_vms_xml VARCHAR2(4000),
 12    can_desc    VARCHAR2(1024)
 13  )
 14  ;
SQL> comment on column VMS_CURRENT_PUBCAN_STATUS.vms_id
  2    is '设备ID';
SQL> comment on column VMS_CURRENT_PUBCAN_STATUS.vms_type
  2    is '设备类型';
SQL> comment on column VMS_CURRENT_PUBCAN_STATUS.pub_time
  2    is '发布时间';
SQL> comment on column VMS_CURRENT_PUBCAN_STATUS.pub_result
  2    is '发布结果0失败1成功';
SQL> comment on column VMS_CURRENT_PUBCAN_STATUS.pub_vms_xml
  2    is '发布报文';
SQL> comment on column VMS_CURRENT_PUBCAN_STATUS.pub_desc
  2    is '发布备注';
SQL> comment on column VMS_CURRENT_PUBCAN_STATUS.can_time
  2    is '撤销时间';
SQL> comment on column VMS_CURRENT_PUBCAN_STATUS.can_result
  2    is '撤销结果0失败1成功';
SQL> comment on column VMS_CURRENT_PUBCAN_STATUS.can_vms_xml
  2    is '撤销报文';
SQL> comment on column VMS_CURRENT_PUBCAN_STATUS.can_desc
  2    is '撤销备注';
SQL> alter table VMS_CURRENT_PUBCAN_STATUS
  2    add constraint PK_VMS_CURRENT_PUBCAN_STATUS primary key (VMS_ID);
SQL> prompt Creating VMS_DEFAULT_PROGRAM...
Creating VMS_DEFAULT_PROGRAM...
SQL> create table VMS_DEFAULT_PROGRAM
  2  (
  3    vms_id      VARCHAR2(32),
  4    vms_type    VARCHAR2(1),
  5    element_ids VARCHAR2(1024),
  6    vms_xml     VARCHAR2(2048)
  7  )
  8  ;
SQL> comment on column VMS_DEFAULT_PROGRAM.vms_id
  2    is '设备ID';
SQL> comment on column VMS_DEFAULT_PROGRAM.vms_type
  2    is '诱导屏类型';
SQL> comment on column VMS_DEFAULT_PROGRAM.element_ids
  2    is '节目ID';
SQL> comment on column VMS_DEFAULT_PROGRAM.vms_xml
  2    is '节目报文';
SQL> prompt Creating VMS_EXPRESSWAY_DEFAULT_ELEMENT...
Creating VMS_EXPRESSWAY_DEFAULT_ELEMENT...
SQL> create table VMS_EXPRESSWAY_DEFAULT_ELEMENT
  2  (
  3    id          VARCHAR2(32) not null,
  4    updatetime  DATE not null,
  5    userid      VARCHAR2(32) not null,
  6    vms_id      VARCHAR2(32) not null,
  7    vms_type    VARCHAR2(32) not null,
  8    element_ids VARCHAR2(2000) not null,
  9    vms_xml     VARCHAR2(2000) not null
 10  )
 11  ;
SQL> comment on table VMS_EXPRESSWAY_DEFAULT_ELEMENT
  2    is '高速内置节目信息表';
SQL> comment on column VMS_EXPRESSWAY_DEFAULT_ELEMENT.id
  2    is '主键';
SQL> comment on column VMS_EXPRESSWAY_DEFAULT_ELEMENT.updatetime
  2    is '更新时间';
SQL> comment on column VMS_EXPRESSWAY_DEFAULT_ELEMENT.userid
  2    is '配置用户';
SQL> comment on column VMS_EXPRESSWAY_DEFAULT_ELEMENT.vms_id
  2    is '诱导ID';
SQL> comment on column VMS_EXPRESSWAY_DEFAULT_ELEMENT.vms_type
  2    is '诱导屏类型';
SQL> comment on column VMS_EXPRESSWAY_DEFAULT_ELEMENT.element_ids
  2    is '节目ID串';
SQL> comment on column VMS_EXPRESSWAY_DEFAULT_ELEMENT.vms_xml
  2    is '节目报文';
SQL> alter table VMS_EXPRESSWAY_DEFAULT_ELEMENT
  2    add constraint PRI_IDS primary key (ID);
SQL> prompt Creating VMS_EXPRESSWAY_ELEMENT_GROUP...
Creating VMS_EXPRESSWAY_ELEMENT_GROUP...
SQL> create table VMS_EXPRESSWAY_ELEMENT_GROUP
  2  (
  3    id         VARCHAR2(32) not null,
  4    group_name VARCHAR2(64) not null,
  5    group_type VARCHAR2(8),
  6    lane_num   NUMBER,
  7    updatetime DATE,
  8    userid     VARCHAR2(32)
  9  )
 10  ;
SQL> comment on table VMS_EXPRESSWAY_ELEMENT_GROUP
  2    is '高速节目组表';
SQL> comment on column VMS_EXPRESSWAY_ELEMENT_GROUP.id
  2    is '主键';
SQL> comment on column VMS_EXPRESSWAY_ELEMENT_GROUP.group_name
  2    is '节目组名称';
SQL> comment on column VMS_EXPRESSWAY_ELEMENT_GROUP.group_type
  2    is '节目组类型1301高速路诱导屏类型';
SQL> comment on column VMS_EXPRESSWAY_ELEMENT_GROUP.lane_num
  2    is '车道数';
SQL> comment on column VMS_EXPRESSWAY_ELEMENT_GROUP.updatetime
  2    is '更新时间';
SQL> comment on column VMS_EXPRESSWAY_ELEMENT_GROUP.userid
  2    is '配置用户';
SQL> alter table VMS_EXPRESSWAY_ELEMENT_GROUP
  2    add constraint PK primary key (ID);
SQL> prompt Creating VMS_EXPRESSWAY_ELEMENT_LANE...
Creating VMS_EXPRESSWAY_ELEMENT_LANE...
SQL> create table VMS_EXPRESSWAY_ELEMENT_LANE
  2  (
  3    id        VARCHAR2(32) not null,
  4    laneno    VARCHAR2(2),
  5    elementid VARCHAR2(32),
  6    groupid   VARCHAR2(32)
  7  )
  8  ;
SQL> comment on table VMS_EXPRESSWAY_ELEMENT_LANE
  2    is '节目组 车道与节目ID对应关系表';
SQL> comment on column VMS_EXPRESSWAY_ELEMENT_LANE.id
  2    is '主键';
SQL> comment on column VMS_EXPRESSWAY_ELEMENT_LANE.laneno
  2    is '车道号';
SQL> comment on column VMS_EXPRESSWAY_ELEMENT_LANE.elementid
  2    is '车道节目ID  ';
SQL> comment on column VMS_EXPRESSWAY_ELEMENT_LANE.groupid
  2    is '对应vms_expressway_element_group表主键';
SQL> alter table VMS_EXPRESSWAY_ELEMENT_LANE
  2    add constraint PKEY primary key (ID);
SQL> prompt Creating VMS_EXPRESSWAY_GROUP...
Creating VMS_EXPRESSWAY_GROUP...
SQL> create table VMS_EXPRESSWAY_GROUP
  2  (
  3    id           VARCHAR2(32) not null,
  4    group_name   VARCHAR2(256),
  5    group_type   VARCHAR2(4),
  6    expressway   VARCHAR2(128),
  7    pileno_start VARCHAR2(32),
  8    pileno_end   VARCHAR2(32),
  9    direction    VARCHAR2(4),
 10    lane_num     NUMBER,
 11    updatetime   DATE,
 12    userid       VARCHAR2(32),
 13    travel       VARCHAR2(4)
 14  )
 15  ;
SQL> comment on table VMS_EXPRESSWAY_GROUP
  2    is '高速诱导组合表';
SQL> comment on column VMS_EXPRESSWAY_GROUP.id
  2    is '主键';
SQL> comment on column VMS_EXPRESSWAY_GROUP.group_name
  2    is '组名';
SQL> comment on column VMS_EXPRESSWAY_GROUP.group_type
  2    is '1301高速路诱导屏类型';
SQL> comment on column VMS_EXPRESSWAY_GROUP.expressway
  2    is '高速路编号';
SQL> comment on column VMS_EXPRESSWAY_GROUP.pileno_start
  2    is '开始桩号';
SQL> comment on column VMS_EXPRESSWAY_GROUP.pileno_end
  2    is '结束桩号';
SQL> comment on column VMS_EXPRESSWAY_GROUP.direction
  2    is '149高速路诱导方向';
SQL> comment on column VMS_EXPRESSWAY_GROUP.lane_num
  2    is '车道数';
SQL> comment on column VMS_EXPRESSWAY_GROUP.updatetime
  2    is '更新时间';
SQL> comment on column VMS_EXPRESSWAY_GROUP.userid
  2    is '配置用户';
SQL> comment on column VMS_EXPRESSWAY_GROUP.travel
  2    is '1302高速诱导上下行';
SQL> alter table VMS_EXPRESSWAY_GROUP
  2    add constraint PK_IDS primary key (ID);
SQL> prompt Creating VMS_EXPRESSWAY_GROUP_DEVICE...
Creating VMS_EXPRESSWAY_GROUP_DEVICE...
SQL> create table VMS_EXPRESSWAY_GROUP_DEVICE
  2  (
  3    id          VARCHAR2(32) not null,
  4    group_id    VARCHAR2(32),
  5    device_type VARCHAR2(4),
  6    device_id   VARCHAR2(32),
  7    lane        NUMBER,
  8    updatetime  DATE,
  9    userid      VARCHAR2(32)
 10  )
 11  ;
SQL> comment on table VMS_EXPRESSWAY_GROUP_DEVICE
  2    is '高速诱导组设备关联表';
SQL> comment on column VMS_EXPRESSWAY_GROUP_DEVICE.id
  2    is '主键';
SQL> comment on column VMS_EXPRESSWAY_GROUP_DEVICE.group_id
  2    is '所属诱导组';
SQL> comment on column VMS_EXPRESSWAY_GROUP_DEVICE.device_type
  2    is '设备类型 1诱导屏 2超速设备';
SQL> comment on column VMS_EXPRESSWAY_GROUP_DEVICE.device_id
  2    is '设备ID';
SQL> comment on column VMS_EXPRESSWAY_GROUP_DEVICE.lane
  2    is '所属车道';
SQL> comment on column VMS_EXPRESSWAY_GROUP_DEVICE.updatetime
  2    is '更新时间';
SQL> comment on column VMS_EXPRESSWAY_GROUP_DEVICE.userid
  2    is '配置用户';
SQL> alter table VMS_EXPRESSWAY_GROUP_DEVICE
  2    add constraint PRI_ID primary key (ID);
SQL> prompt Creating VMS_GROUP_DEVICE...
Creating VMS_GROUP_DEVICE...
SQL> create table VMS_GROUP_DEVICE
  2  (
  3    id       VARCHAR2(32) not null,
  4    group_id VARCHAR2(32),
  5    vms_id   VARCHAR2(32),
  6    vms_type VARCHAR2(4)
  7  )
  8  ;
SQL> comment on column VMS_GROUP_DEVICE.group_id
  2    is '诱导组ID';
SQL> comment on column VMS_GROUP_DEVICE.vms_id
  2    is '诱导屏ID';
SQL> comment on column VMS_GROUP_DEVICE.vms_type
  2    is '诱导屏类型';
SQL> alter table VMS_GROUP_DEVICE
  2    add constraint PK_VMS_GROUP_DEVICE primary key (ID);
SQL> prompt Creating VMS_IMAGE_RELATION...
Creating VMS_IMAGE_RELATION...
SQL> create table VMS_IMAGE_RELATION
  2  (
  3    id               VARCHAR2(32) not null,
  4    vms_id           VARCHAR2(20),
  5    image_element_id VARCHAR2(32)
  6  )
  7  ;
SQL> comment on table VMS_IMAGE_RELATION
  2    is '屏与路网底图对应关系表';
SQL> comment on column VMS_IMAGE_RELATION.id
  2    is 'ID主键';
SQL> comment on column VMS_IMAGE_RELATION.vms_id
  2    is '诱导设备ID';
SQL> comment on column VMS_IMAGE_RELATION.image_element_id
  2    is '路网底图的节目ID，对应vms_preset_element表的主键';
SQL> create index INDEX_VMS_IMAGE_RELATION on VMS_IMAGE_RELATION (VMS_ID);
SQL> alter table VMS_IMAGE_RELATION
  2    add constraint PRI_VMS_IMAGE_RELATION primary key (ID);
SQL> prompt Creating VMS_LOG...
Creating VMS_LOG...
SQL> create table VMS_LOG
  2  (
  3    id             VARCHAR2(32) not null,
  4    vms_id         VARCHAR2(20),
  5    vms_type       VARCHAR2(1),
  6    logtime        DATE,
  7    operationtype  VARCHAR2(1),
  8    vms_xml        VARCHAR2(4000),
  9    userid         NVARCHAR2(6),
 10    username       NVARCHAR2(20),
 11    userip         NVARCHAR2(20),
 12    departmentid   NVARCHAR2(12),
 13    result         NVARCHAR2(1),
 14    logdescription VARCHAR2(1024)
 15  )
 16  ;
SQL> comment on table VMS_LOG
  2    is '发布日志表';
SQL> comment on column VMS_LOG.id
  2    is '主键';
SQL> comment on column VMS_LOG.vms_id
  2    is '诱导设备ID';
SQL> comment on column VMS_LOG.vms_type
  2    is '诱导类型';
SQL> comment on column VMS_LOG.logtime
  2    is '操作时间';
SQL> comment on column VMS_LOG.operationtype
  2    is '操作类型   发布或撤销  1 发布 2 撤销  3开屏  4关屏  5亮度调节';
SQL> comment on column VMS_LOG.vms_xml
  2    is '发布xml串';
SQL> comment on column VMS_LOG.userid
  2    is '用户ID';
SQL> comment on column VMS_LOG.username
  2    is '用户名称';
SQL> comment on column VMS_LOG.userip
  2    is '用户IP';
SQL> comment on column VMS_LOG.departmentid
  2    is '部门ID';
SQL> comment on column VMS_LOG.result
  2    is '结果  0 失败 1成功';
SQL> comment on column VMS_LOG.logdescription
  2    is '描述';
SQL> create index INDEX_VMSLOG_VMSID on VMS_LOG (VMS_ID, VMS_TYPE, LOGTIME, OPERATIONTYPE, RESULT);
SQL> alter table VMS_LOG
  2    add constraint PK_LOG primary key (ID);
SQL> prompt Creating VMS_LOG_ELEMENT...
Creating VMS_LOG_ELEMENT...
SQL> create table VMS_LOG_ELEMENT
  2  (
  3    id         VARCHAR2(32) not null,
  4    log_id     VARCHAR2(32),
  5    element_id VARCHAR2(1024)
  6  )
  7  ;
SQL> comment on table VMS_LOG_ELEMENT
  2    is '诱导日志节目单表';
SQL> comment on column VMS_LOG_ELEMENT.id
  2    is 'ID';
SQL> comment on column VMS_LOG_ELEMENT.log_id
  2    is 'vms_log表ID';
SQL> comment on column VMS_LOG_ELEMENT.element_id
  2    is '节目单ID';
SQL> alter table VMS_LOG_ELEMENT
  2    add constraint PRI_VMS_LOG_ELEMENT primary key (ID);
SQL> prompt Creating VMS_OPEN_CYCLE...
Creating VMS_OPEN_CYCLE...
SQL> create table VMS_OPEN_CYCLE
  2  (
  3    id         VARCHAR2(32) not null,
  4    vmsid      VARCHAR2(32),
  5    vmstype    VARCHAR2(2),
  6    week       VARCHAR2(16),
  7    startdate  DATE,
  8    enddate    DATE,
  9    opentime   VARCHAR2(8),
 10    closetime  VARCHAR2(8),
 11    updatetime DATE,
 12    userid     VARCHAR2(32)
 13  )
 14  ;
SQL> comment on column VMS_OPEN_CYCLE.id
  2    is '主键';
SQL> comment on column VMS_OPEN_CYCLE.vmsid
  2    is '设备ID';
SQL> comment on column VMS_OPEN_CYCLE.vmstype
  2    is '设备类型';
SQL> comment on column VMS_OPEN_CYCLE.week
  2    is '开关日 1到7';
SQL> comment on column VMS_OPEN_CYCLE.startdate
  2    is '开始日期';
SQL> comment on column VMS_OPEN_CYCLE.enddate
  2    is '结束日期';
SQL> comment on column VMS_OPEN_CYCLE.opentime
  2    is '开屏时间';
SQL> comment on column VMS_OPEN_CYCLE.closetime
  2    is '关屏时间';
SQL> comment on column VMS_OPEN_CYCLE.updatetime
  2    is '更新时间';
SQL> comment on column VMS_OPEN_CYCLE.userid
  2    is '更新用户';
SQL> alter table VMS_OPEN_CYCLE
  2    add constraint PK_VMS_OPNE_CYCLE primary key (ID);
SQL> prompt Creating VMS_OPEN_MESSAGE...
Creating VMS_OPEN_MESSAGE...
SQL> create table VMS_OPEN_MESSAGE
  2  (
  3    username  VARCHAR2(16),
  4    userphone VARCHAR2(12)
  5  )
  6  ;
SQL> comment on column VMS_OPEN_MESSAGE.username
  2    is '通知人姓名';
SQL> comment on column VMS_OPEN_MESSAGE.userphone
  2    is '通知人电话';
SQL> prompt Creating VMS_OPEN_PLAN...
Creating VMS_OPEN_PLAN...
SQL> create table VMS_OPEN_PLAN
  2  (
  3    id          VARCHAR2(32) not null,
  4    vmsid       VARCHAR2(32),
  5    vmstype     VARCHAR2(2),
  6    opentime    DATE,
  7    closetime   DATE,
  8    openstatus  VARCHAR2(2),
  9    closestatus VARCHAR2(2),
 10    createtime  DATE,
 11    updatetime  DATE,
 12    cycleid     VARCHAR2(32)
 13  )
 14  ;
SQL> comment on column VMS_OPEN_PLAN.id
  2    is '主键';
SQL> comment on column VMS_OPEN_PLAN.vmsid
  2    is '诱导屏ID';
SQL> comment on column VMS_OPEN_PLAN.vmstype
  2    is '诱导屏类型';
SQL> comment on column VMS_OPEN_PLAN.opentime
  2    is '开屏时间';
SQL> comment on column VMS_OPEN_PLAN.closetime
  2    is '关屏时间';
SQL> comment on column VMS_OPEN_PLAN.openstatus
  2    is '开屏状态  0未执行1已执行';
SQL> comment on column VMS_OPEN_PLAN.closestatus
  2    is '关屏状态  0未执行1已执行';
SQL> comment on column VMS_OPEN_PLAN.createtime
  2    is '创建时间';
SQL> comment on column VMS_OPEN_PLAN.updatetime
  2    is '更新时间';
SQL> comment on column VMS_OPEN_PLAN.cycleid
  2    is '定时开关计划id';
SQL> alter table VMS_OPEN_PLAN
  2    add constraint PK_VMS_OPNE_PLAN primary key (ID);
SQL> prompt Creating VMS_PLAN...
Creating VMS_PLAN...
SQL> create table VMS_PLAN
  2  (
  3    id           VARCHAR2(32) not null,
  4    vms_id       VARCHAR2(20),
  5    vms_type     VARCHAR2(1),
  6    element_ids  VARCHAR2(1024),
  7    vms_xml      VARCHAR2(4000),
  8    pubstarttime DATE,
  9    pubendtime   DATE,
 10    pubstatus    VARCHAR2(1),
 11    createtime   DATE,
 12    modifiedtime DATE,
 13    pubtype      VARCHAR2(1),
 14    cycleid      VARCHAR2(32)
 15  )
 16  ;
SQL> comment on table VMS_PLAN
  2    is '发布计划表（立即、定时、周次都要存入该表）';
SQL> comment on column VMS_PLAN.id
  2    is '主键';
SQL> comment on column VMS_PLAN.vms_id
  2    is '诱导设备ID';
SQL> comment on column VMS_PLAN.vms_type
  2    is '诱导类型';
SQL> comment on column VMS_PLAN.element_ids
  2    is '发布节目ID串，逗号分隔';
SQL> comment on column VMS_PLAN.vms_xml
  2    is '发布xml串';
SQL> comment on column VMS_PLAN.pubstarttime
  2    is '发布开始时间';
SQL> comment on column VMS_PLAN.pubendtime
  2    is '发布结束时间';
SQL> comment on column VMS_PLAN.pubstatus
  2    is '发布状态  0 未发布（默认） 1发布中  2已过期';
SQL> comment on column VMS_PLAN.createtime
  2    is '创建时间';
SQL> comment on column VMS_PLAN.modifiedtime
  2    is '更新时间';
SQL> comment on column VMS_PLAN.pubtype
  2    is '发布类型   1 立即  2 定时 3周次  4高速预案 5旅行时间 6违停 ';
SQL> comment on column VMS_PLAN.cycleid
  2    is '周次发布id';
SQL> alter table VMS_PLAN
  2    add constraint PK_ primary key (ID);
SQL> prompt Creating VMS_PLAN_HIS...
Creating VMS_PLAN_HIS...
SQL> create table VMS_PLAN_HIS
  2  (
  3    id           VARCHAR2(32) not null,
  4    vms_id       VARCHAR2(20),
  5    vms_type     VARCHAR2(1),
  6    element_ids  VARCHAR2(1024),
  7    vms_xml      VARCHAR2(2048),
  8    pubstarttime DATE,
  9    pubendtime   DATE,
 10    pubstatus    VARCHAR2(1),
 11    createtime   DATE,
 12    modifiedtime DATE,
 13    pubtype      VARCHAR2(1)
 14  );
SQL> prompt Creating VMS_PRESET_ELEMENT...
Creating VMS_PRESET_ELEMENT...
SQL> -- Create table
SQL> create table VMS_PRESET_ELEMENT
  2  (
  3    element_id    VARCHAR2(32) not null,
  4    element_title VARCHAR2(512),
  5    vms_type      VARCHAR2(2),
  6    font_color    NUMBER(1),
  7    font_size     NUMBER(3),
  8    font_family   VARCHAR2(32),
  9    element_url   VARCHAR2(256),
 10    element_type  VARCHAR2(2),
 11    element_text  VARCHAR2(2048),
 12    element_value VARCHAR2(2048),
 13    duration      NUMBER(10),
 14    is_temp       CHAR(1),
 15    extcol        VARCHAR2(512),
 16    showstyle     VARCHAR2(2),
 17    program_type  VARCHAR2(10),
 18    playspeed     VARCHAR2(10),
 19    image_width   VARCHAR2(10),
 20    image_height  VARCHAR2(10),
 21    isaudit       VARCHAR2(1) default 0,
 22    auditor       VARCHAR2(20),
 23    auditdate     VARCHAR2(20),
 24    deltor        VARCHAR2(20),
 25    deldate       VARCHAR2(20),
 26    delflag       VARCHAR2(1) default 0,
 27    auditorname   VARCHAR2(100),
 28    vmsid         VARCHAR2(20)
 29  )
 30  tablespace HIATMPTS
 31    pctfree 10
 32    initrans 1
 33    maxtrans 255
 34    storage
 35    (
 36      initial 64
 37      next 1
 38      minextents 1
 39      maxextents unlimited
 40    );
SQL> -- Add comments to the columns
SQL> comment on column VMS_PRESET_ELEMENT.vms_type
  2    is '诱导屏类型 枚举186';
SQL> comment on column VMS_PRESET_ELEMENT.element_type
  2    is '节目类型 枚举800047';
SQL> comment on column VMS_PRESET_ELEMENT.showstyle
  2    is '显示方式，枚举2021';
SQL> comment on column VMS_PRESET_ELEMENT.program_type
  2    is '节目类别，枚举1233';
SQL> comment on column VMS_PRESET_ELEMENT.playspeed
  2    is '动画速度  枚举800046';
SQL> comment on column VMS_PRESET_ELEMENT.image_width
  2    is '图片宽度';
SQL> comment on column VMS_PRESET_ELEMENT.image_height
  2    is '图片高度';
SQL> comment on column VMS_PRESET_ELEMENT.isaudit
  2    is '是否审核通过 0审核未通过1审核通过';
SQL> comment on column VMS_PRESET_ELEMENT.auditor
  2    is '审核人';
SQL> comment on column VMS_PRESET_ELEMENT.auditdate
  2    is '审核时间';
SQL> comment on column VMS_PRESET_ELEMENT.deltor
  2    is '删除人';
SQL> comment on column VMS_PRESET_ELEMENT.deldate
  2    is '删除时间';
SQL> comment on column VMS_PRESET_ELEMENT.delflag
  2    is '删除标志(0未删除1删除)不是真正删除';
SQL> comment on column VMS_PRESET_ELEMENT.auditorname
  2    is '审核人姓名';
SQL> comment on column VMS_PRESET_ELEMENT.vmsid
  2    is '设备id';
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table VMS_PRESET_ELEMENT
  2    add primary key (ELEMENT_ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
SQL> prompt Creating VMS_PRESET_ELEMENT_ILL...
Creating VMS_PRESET_ELEMENT_ILL...
SQL> create table VMS_PRESET_ELEMENT_ILL
  2  (
  3    element_id    VARCHAR2(32) not null,
  4    element_title VARCHAR2(512),
  5    vms_type      CHAR(2),
  6    font_color    NUMBER(1),
  7    font_size     NUMBER(2),
  8    font_family   VARCHAR2(32),
  9    element_url   VARCHAR2(256),
 10    element_type  CHAR(2),
 11    element_text  VARCHAR2(2048),
 12    element_value VARCHAR2(2048),
 13    duration      NUMBER(10),
 14    is_temp       CHAR(1),
 15    extcol        VARCHAR2(512),
 16    showstyle     VARCHAR2(2)
 17  )
 18  ;
SQL> prompt Creating VMS_PUB_CYCLE...
Creating VMS_PUB_CYCLE...
SQL> create table VMS_PUB_CYCLE
  2  (
  3    id           VARCHAR2(32) not null,
  4    vms_id       VARCHAR2(32) not null,
  5    vms_type     VARCHAR2(4) not null,
  6    week         VARCHAR2(16) not null,
  7    element_id   VARCHAR2(32) not null,
  8    vms_xml      VARCHAR2(1024) not null,
  9    pubstartdate DATE not null,
 10    pubenddate   DATE not null,
 11    pubstarttime VARCHAR2(16) not null,
 12    pubendtime   VARCHAR2(16) not null,
 13    updatetime   DATE,
 14    userid       VARCHAR2(12)
 15  )
 16  ;
SQL> comment on table VMS_PUB_CYCLE
  2    is '周期发布表';
SQL> comment on column VMS_PUB_CYCLE.id
  2    is '主键';
SQL> comment on column VMS_PUB_CYCLE.vms_id
  2    is '诱导屏ID';
SQL> comment on column VMS_PUB_CYCLE.vms_type
  2    is '诱导类型';
SQL> comment on column VMS_PUB_CYCLE.week
  2    is '发布日 1到7';
SQL> comment on column VMS_PUB_CYCLE.element_id
  2    is '节目ID';
SQL> comment on column VMS_PUB_CYCLE.vms_xml
  2    is '发布报文';
SQL> comment on column VMS_PUB_CYCLE.pubstartdate
  2    is '开始日期';
SQL> comment on column VMS_PUB_CYCLE.pubenddate
  2    is '结束日期';
SQL> comment on column VMS_PUB_CYCLE.pubstarttime
  2    is '开始发布时间';
SQL> comment on column VMS_PUB_CYCLE.pubendtime
  2    is '发布结束时间';
SQL> comment on column VMS_PUB_CYCLE.updatetime
  2    is '更新时间';
SQL> comment on column VMS_PUB_CYCLE.userid
  2    is '配置用户';
SQL> alter table VMS_PUB_CYCLE
  2    add constraint PKI_ID primary key (ID);
SQL> prompt Creating VMS_PUB_DEFAULT...
Creating VMS_PUB_DEFAULT...
SQL> create table VMS_PUB_DEFAULT
  2  (
  3    eid      VARCHAR2(64) not null,
  4    etype    CHAR(1) not null,
  5    created  DATE not null,
  6    modified DATE not null,
  7    dstatus  CHAR(1) default 0,
  8    ed1      VARCHAR2(1024),
  9    ed2      VARCHAR2(1024),
 10    ed3      VARCHAR2(1024),
 11    ed4      VARCHAR2(1024),
 12    ed5      VARCHAR2(1024),
 13    ed6      VARCHAR2(1024),
 14    ed7      VARCHAR2(1024),
 15    xd1      VARCHAR2(1024),
 16    xd2      VARCHAR2(1024),
 17    xd3      VARCHAR2(1024),
 18    xd4      VARCHAR2(1024),
 19    xd5      VARCHAR2(1024),
 20    xd6      VARCHAR2(1024),
 21    xd7      VARCHAR2(1024)
 22  )
 23  ;
SQL> comment on table VMS_PUB_DEFAULT
  2    is '周次发布表';
SQL> comment on column VMS_PUB_DEFAULT.eid
  2    is '????ID??????';
SQL> comment on column VMS_PUB_DEFAULT.etype
  2    is '设备类型 1复合 2双基 3全彩';
SQL> comment on column VMS_PUB_DEFAULT.dstatus
  2    is '预留，暂不用';
SQL> comment on column VMS_PUB_DEFAULT.ed1
  2    is '节目ID串,周一';
SQL> comment on column VMS_PUB_DEFAULT.xd1
  2    is '报文，周一';
SQL> alter table VMS_PUB_DEFAULT
  2    add constraint VMS_PUB_DEFAULT_PK primary key (EID);
SQL> prompt Creating VMS_ROAD_STATUS_MONOPOLY...
Creating VMS_ROAD_STATUS_MONOPOLY...
SQL> create table VMS_ROAD_STATUS_MONOPOLY
  2  (
  3    id         VARCHAR2(32) not null,
  4    vmsid      VARCHAR2(32),
  5    begin_time DATE,
  6    end_time   DATE,
  7    flag       VARCHAR2(2)
  8  )
  9  ;
SQL> comment on table VMS_ROAD_STATUS_MONOPOLY
  2    is '诱导屏路网状态设置限定表';
SQL> comment on column VMS_ROAD_STATUS_MONOPOLY.id
  2    is 'ID';
SQL> comment on column VMS_ROAD_STATUS_MONOPOLY.vmsid
  2    is '诱导屏设备ID';
SQL> comment on column VMS_ROAD_STATUS_MONOPOLY.begin_time
  2    is '有效期开始时间';
SQL> comment on column VMS_ROAD_STATUS_MONOPOLY.end_time
  2    is '有效期结束时间';
SQL> comment on column VMS_ROAD_STATUS_MONOPOLY.flag
  2    is '标记该限定的有效性 0：无效 1：有效 ';
SQL> alter table VMS_ROAD_STATUS_MONOPOLY
  2    add constraint PRI_VMS_ROAD_STATUS_MONOPOLY primary key (ID);
SQL> prompt Creating VMS_ROAD_STATUS_MONOPOLY_INFO...
Creating VMS_ROAD_STATUS_MONOPOLY_INFO...
SQL> create table VMS_ROAD_STATUS_MONOPOLY_INFO
  2  (
  3    id         VARCHAR2(32) not null,
  4    vmsid      VARCHAR2(32),
  5    roadid     VARCHAR2(32),
  6    roadstatus VARCHAR2(2)
  7  )
  8  ;
SQL> comment on table VMS_ROAD_STATUS_MONOPOLY_INFO
  2    is '诱导屏路网限定路段状态表';
SQL> comment on column VMS_ROAD_STATUS_MONOPOLY_INFO.id
  2    is 'ID';
SQL> comment on column VMS_ROAD_STATUS_MONOPOLY_INFO.vmsid
  2    is '诱导屏设备ID';
SQL> comment on column VMS_ROAD_STATUS_MONOPOLY_INFO.roadid
  2    is '路段ID';
SQL> comment on column VMS_ROAD_STATUS_MONOPOLY_INFO.roadstatus
  2    is '路段状态 1：绿 2：黄 3：红';
SQL> alter table VMS_ROAD_STATUS_MONOPOLY_INFO
  2    add constraint PRI_VMS_ROAD_MONOPOLY_INFO primary key (ID);
SQL> prompt Creating VMS_ROAD_VIDEO_RELATION...
Creating VMS_ROAD_VIDEO_RELATION...
SQL> create table VMS_ROAD_VIDEO_RELATION
  2  (
  3    roadid       VARCHAR2(32) not null,
  4    videoid      VARCHAR2(32) not null,
  5    video_preset VARCHAR2(2)
  6  )
  7  ;
SQL> comment on table VMS_ROAD_VIDEO_RELATION
  2    is '诱导屏路网视频关系表';
SQL> comment on column VMS_ROAD_VIDEO_RELATION.roadid
  2    is '路段编号';
SQL> comment on column VMS_ROAD_VIDEO_RELATION.videoid
  2    is '视频编号';
SQL> comment on column VMS_ROAD_VIDEO_RELATION.video_preset
  2    is '视频预置位';
SQL> alter table VMS_ROAD_VIDEO_RELATION
  2    add constraint PRI_VMS_ROAD_VIDEO_RELATION primary key (ROADID, VIDEOID);
SQL> prompt Creating VMS_SECTIONS...
Creating VMS_SECTIONS...
SQL> -- Create table
SQL> create table VMS_SECTIONS
  2  (
  3    id                NUMBER(8) not null,
  4    equipmentid       NVARCHAR2(18) not null,
  5    sectioncode       NVARCHAR2(20),
  6    sectionname       NVARCHAR2(100),
  7    colorcode         CHAR(1),
  8    startx            NUMBER(4),
  9    starty            NUMBER(4),
 10    endx              NUMBER(4),
 11    endy              NUMBER(4),
 12    direction         NVARCHAR2(1000),
 13    colorvalue        NVARCHAR2(10),
 14    sectionstatustemp VARCHAR2(2)
 15  )
 16  tablespace HIATMPTS
 17    pctfree 10
 18    initrans 1
 19    maxtrans 255
 20    storage
 21    (
 22      initial 64
 23      next 8
 24      minextents 1
 25      maxextents unlimited
 26    );
SQL> -- Add comments to the table
SQL> comment on table VMS_SECTIONS
  2    is '诱导路段表';
SQL> -- Add comments to the columns
SQL> comment on column VMS_SECTIONS.id
  2    is '自增长主键';
SQL> comment on column VMS_SECTIONS.equipmentid
  2    is '诱导屏设备ID';
SQL> comment on column VMS_SECTIONS.sectioncode
  2    is '路段编号';
SQL> comment on column VMS_SECTIONS.sectionname
  2    is '路段名称';
SQL> comment on column VMS_SECTIONS.colorcode
  2    is '颜色编号：1-绿色；2-黄色；3-红色；4-未知';
SQL> comment on column VMS_SECTIONS.startx
  2    is '路段起点X坐标';
SQL> comment on column VMS_SECTIONS.starty
  2    is '路段起点Y坐标';
SQL> comment on column VMS_SECTIONS.endx
  2    is '路段终点X坐标';
SQL> comment on column VMS_SECTIONS.endy
  2    is '路段终点Y坐标';
SQL> comment on column VMS_SECTIONS.direction
  2    is '诱导屏指示方向：东；西；南；北';
SQL> comment on column VMS_SECTIONS.colorvalue
  2    is '颜色值16进制';
SQL> comment on column VMS_SECTIONS.sectionstatustemp
  2    is '临时路段路况信息（1：绿 2：黄 3：红）';
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table VMS_SECTIONS
  2    add constraint VMS_SECTIONS_ID primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
SQL> prompt Creating VMS_SECTION_EVENT_SET...
Creating VMS_SECTION_EVENT_SET...
SQL> create table VMS_SECTION_EVENT_SET
  2  (
  3    id                  VARCHAR2(32) not null,
  4    vmsid               VARCHAR2(32) not null,
  5    vmstype             VARCHAR2(1) not null,
  6    sectionids          VARCHAR2(1024) not null,
  7    eventtype           VARCHAR2(32),
  8    congestionlevel     VARCHAR2(2),
  9    congestioncaselevel VARCHAR2(2),
 10    accidentcaselevel   VARCHAR2(2),
 11    starttime           VARCHAR2(8),
 12    endtime             VARCHAR2(8),
 13    duration            NUMBER(10),
 14    roadinfo            VARCHAR2(1024),
 15    digroadinfo         VARCHAR2(1024),
 16    constructinfo       VARCHAR2(1024),
 17    congestioncaseinfo  VARCHAR2(1024),
 18    accidentcaseinfo    VARCHAR2(1024)
 19  )
 20  ;
SQL> comment on table VMS_SECTION_EVENT_SET
  2    is '诱导监听路段事件配置表';
SQL> comment on column VMS_SECTION_EVENT_SET.id
  2    is '主键';
SQL> comment on column VMS_SECTION_EVENT_SET.vmsid
  2    is '诱导设备ID';
SQL> comment on column VMS_SECTION_EVENT_SET.vmstype
  2    is '诱导屏类型';
SQL> comment on column VMS_SECTION_EVENT_SET.sectionids
  2    is '配置路段ID列表，逗号分隔';
SQL> comment on column VMS_SECTION_EVENT_SET.eventtype
  2    is '配置事件类型，逗号分隔';
SQL> comment on column VMS_SECTION_EVENT_SET.congestionlevel
  2    is '路况拥堵等级，选择路况时有效';
SQL> comment on column VMS_SECTION_EVENT_SET.congestioncaselevel
  2    is '拥堵警情等级';
SQL> comment on column VMS_SECTION_EVENT_SET.accidentcaselevel
  2    is '事故警情等级';
SQL> comment on column VMS_SECTION_EVENT_SET.starttime
  2    is '监听开始时间';
SQL> comment on column VMS_SECTION_EVENT_SET.endtime
  2    is '监听结束时间';
SQL> comment on column VMS_SECTION_EVENT_SET.duration
  2    is '持续时长（分），选择施工、管制、警情时有效';
SQL> comment on column VMS_SECTION_EVENT_SET.roadinfo
  2    is '固定信息（路况）';
SQL> comment on column VMS_SECTION_EVENT_SET.digroadinfo
  2    is '固定信息（施工）';
SQL> comment on column VMS_SECTION_EVENT_SET.constructinfo
  2    is '固定信息（管制）';
SQL> comment on column VMS_SECTION_EVENT_SET.congestioncaseinfo
  2    is '固定信息（拥堵警情）';
SQL> comment on column VMS_SECTION_EVENT_SET.accidentcaseinfo
  2    is '固定信息（事故警情）';
SQL> alter table VMS_SECTION_EVENT_SET
  2    add constraint PK_SET primary key (ID);
SQL> prompt Creating VMS_SECTION_TEXT...
Creating VMS_SECTION_TEXT...
SQL> create table VMS_SECTION_TEXT
  2  (
  3    id        VARCHAR2(32) not null,
  4    sectionid VARCHAR2(20),
  5    vmsid     VARCHAR2(20),
  6    pubtext   NVARCHAR2(20)
  7  )
  8  ;
SQL> comment on table VMS_SECTION_TEXT
  2    is '路况拥堵发布内容配置---条形屏';
SQL> comment on column VMS_SECTION_TEXT.id
  2    is '主键';
SQL> comment on column VMS_SECTION_TEXT.sectionid
  2    is '路段id';
SQL> comment on column VMS_SECTION_TEXT.vmsid
  2    is '设备id，指定路段拥堵时关联发布的诱导屏';
SQL> comment on column VMS_SECTION_TEXT.pubtext
  2    is '发布内容';
SQL> alter table VMS_SECTION_TEXT
  2    add constraint PRIMARYKEY_ID primary key (ID);
SQL> prompt Creating VMS_SHOWCONTENT...
Creating VMS_SHOWCONTENT...
SQL> create table VMS_SHOWCONTENT
  2  (
  3    devid       NVARCHAR2(16) not null,
  4    content     VARCHAR2(999),
  5    successdate DATE,
  6    uuid        VARCHAR2(32) not null
  7  )
  8  ;
SQL> alter table VMS_SHOWCONTENT
  2    add constraint SHOWID primary key (UUID);
SQL> prompt Creating VMS_SHOWLIST...
Creating VMS_SHOWLIST...
SQL> -- Create table
SQL> create table VMS_SHOWLIST
  2  (
  3    vms_id             VARCHAR2(20) not null,
  4    element_ids        VARCHAR2(1024),
  5    extcol             VARCHAR2(512),
  6    vms_last_xml       VARCHAR2(4000),
  7    resume_time        DATE,
  8    resume_xml         VARCHAR2(2048),
  9    resume_status      CHAR(1),
 10    expired            DATE,
 11    modified           DATE,
 12    resume_element_ids VARCHAR2(1024),
 13    compoundurl        VARCHAR2(512)
 14  )
 15  tablespace HIATMPTS
 16    pctfree 10
 17    initrans 1
 18    maxtrans 255
 19    storage
 20    (
 21      initial 64
 22      next 1
 23      minextents 1
 24      maxextents unlimited
 25    );
SQL> -- Add comments to the columns
SQL> comment on column VMS_SHOWLIST.element_ids
  2    is '节目id';
SQL> comment on column VMS_SHOWLIST.extcol
  2    is '诱导屏类型';
SQL> comment on column VMS_SHOWLIST.vms_last_xml
  2    is '当前发布xml';
SQL> comment on column VMS_SHOWLIST.compoundurl
  2    is '专门用用来存储复合屏底图url';
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table VMS_SHOWLIST
  2    add primary key (VMS_ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
SQL> prompt Creating VMS_STATUS_CHECK...
Creating VMS_STATUS_CHECK...
SQL> create table VMS_STATUS_CHECK
  2  (
  3    deviceid VARCHAR2(32) not null
  4  )
  5  ;
SQL> alter table VMS_STATUS_CHECK
  2    add constraint PK_VMS_STATUS_CHECK primary key (DEVICEID);
SQL> prompt Creating VMS_VIDEO_RELATION...
Creating VMS_VIDEO_RELATION...
SQL> create table VMS_VIDEO_RELATION
  2  (
  3    vmsid     NVARCHAR2(18) not null,
  4    vmstype   VARCHAR2(2) not null,
  5    vmsname   NVARCHAR2(100),
  6    videoid   NVARCHAR2(18) not null,
  7    videotype VARCHAR2(2),
  8    videoname NVARCHAR2(100),
  9    preset    VARCHAR2(30)
 10  )
 11  ;
SQL> alter table VMS_VIDEO_RELATION
  2    add constraint PL_VMS_VIDEO_RELATION primary key (VMSID);
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑HiATMP-DB-TGS5.8.0-DDL.5362.A1 End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓HiATMP-DB-TGS5.8.0-TPM5.8.0.13949.A11 Start---------------------------
SQL> alter table TPMS_FOG_MODELS_BACKUP add CDJGIDS VARCHAR2(32);
SQL> -- Add comments to the columns
SQL> comment on column TPMS_FOG_MODELS_BACKUP.CDJGIDS
  2    is '传递间隔ID数';
SQL> alter table TPMS_FOG_MODELS add CDJGIDS VARCHAR2(32);
SQL> comment on column TPMS_FOG_MODELS.CDJGIDS
  2    is '传递间隔ID数';
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑HiATMP-DB-TPM5.8.0.13949.A11 End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓HiATMP-DB-HRV-DDL.5.8.0.14059.A6 Start---------------------------
SQL> --于明浩
SQL> drop table TD_TRAVELSPEED_RESULT_NEW;
SQL> drop table TS_SPEED_HIERARCHY_DEVICE;
SQL> create table TD_TRAVELSPEED_RESULT_NEW
  2  (
  3    id         VARCHAR2(32),
  4    route_id   VARCHAR2(30),
  5    cal_time   DATE,
  6    velocity   NUMBER(11,2),
  7    samplesize NUMBER
  8  )
  9  tablespace HIATMPTS
 10    pctfree 10
 11    initrans 1
 12    maxtrans 255
 13    storage
 14    (
 15      initial 64K
 16      next 1M
 17      minextents 1
 18      maxextents unlimited
 19    );
SQL> comment on table TD_TRAVELSPEED_RESULT_NEW
  2    is '行程车速结果表';
SQL> comment on column TD_TRAVELSPEED_RESULT_NEW.route_id
  2    is '路段id';
SQL> comment on column TD_TRAVELSPEED_RESULT_NEW.cal_time
  2    is '计算时间';
SQL> comment on column TD_TRAVELSPEED_RESULT_NEW.velocity
  2    is '平均速度';
SQL> comment on column TD_TRAVELSPEED_RESULT_NEW.samplesize
  2    is '样本量';
SQL> create table TS_SPEED_HIERARCHY_DEVICE
  2  (
  3    node_id   VARCHAR2(50) not null,
  4    device_id VARCHAR2(100) not null,
  5    length    NUMBER(8,2) not null,
  6    position  VARCHAR2(1),
  7    node_name NVARCHAR2(100),
  8    lon       NUMBER(10,6),
  9    lat       NUMBER(10,6)
 10  )
 11  tablespace HIATMPTS
 12    pctfree 10
 13    initrans 1
 14    maxtrans 255
 15    storage
 16    (
 17      initial 64K
 18      next 1M
 19      minextents 1
 20      maxextents unlimited
 21    );
SQL> comment on column TS_SPEED_HIERARCHY_DEVICE.node_id
  2    is '路段id';
SQL> comment on column TS_SPEED_HIERARCHY_DEVICE.device_id
  2    is '设备id';
SQL> comment on column TS_SPEED_HIERARCHY_DEVICE.length
  2    is '路段长度';
SQL> comment on column TS_SPEED_HIERARCHY_DEVICE.position
  2    is '0:开始，1:结束';
SQL> comment on column TS_SPEED_HIERARCHY_DEVICE.node_name
  2    is '路段名称';
SQL> comment on column TS_SPEED_HIERARCHY_DEVICE.lon
  2    is '经度';
SQL> comment on column TS_SPEED_HIERARCHY_DEVICE.lat
  2    is '纬度';
SQL> --王黎雁
SQL> create or replace procedure PROC_HRV_CARNUM_ONWAY_SUM(
  2            n_saveDay          in number,
  3            n_intervalMin      in number) IS
  4  
  5    v_table_name  varchar2(20) := 'detect_speed_data';--汇总原表
  6    v_table_sum varchar2(30) := 'hrv_monitor_car_onway';--在途车汇总结果表
  7    v_table_sum_belong varchar2(30) := 'hrv_monitor_car_belonging';--在途车归属地汇总结果表
  8  
  9    v_ins_sql  varchar2(1000);--插入sql
 10    v_ins_sql_belong  varchar2(1000);--在途车归属地插入sql
 11   -- v_sum_sql_allcar  varchar2(1000);--计算在途机动车总数sql
 12    v_sum_sql_othernums varchar2(1000);--计算外省车、本市车、大型车、小型车
 13    v_sum_sql_belong varchar2(1000);--计算本省车、外省车、本市车及其归属地
 14  
 15    v_sum_sql_from varchar2(1000);
 16    v_sum_sql_where  varchar2(1000);
 17    v_del_sql VARCHAR2(100);--删除sql
 18    v_del_sql_belong VARCHAR2(100);--删除sql
 19    v_sum_sql_shibie varchar2(1000);--计算识别车辆总数sql
 20    v_sum_sql_alldsdnum varchar2(1000);--计算过车总数sql
 21    v_sum_sql_where_all varchar2(1000);
 22  
 23    n_allcarnum number;--在途机动车总数
 24    n_otherprovincenum number;--外省车总数
 25    n_foreignnum number;--本省外地车总数
 26    n_localnum number;--本市车总数
 27    n_bigcarnum number;--大型车总数
 28    n_smallcarnum number;--小型车总数
 29  
 30    n_shibiecarnum number;--识别车辆总数
 31    n_alldsdcarnum number;--过车总数
 32  
 33    d_basicDate  Date;
 34    d_beginDate  Date;
 35    d_endDate    Date;
 36    d_saveMaxDate Date;--小于此日期的数据会被删除
 37  
 38    v_errCode VARCHAR2(100);
 39    v_errMsg  VARCHAR2(1000);
 40  
 41  BEGIN
 42  
 43    d_basicDate := to_date(to_char(sysdate, 'yyyy-mm-dd hh24:mi'), 'yyyy-mm-dd hh24:mi');
 44    d_beginDate := d_basicDate - numtodsinterval(n_intervalMin,'minute');
 45    d_endDate := d_basicDate;
 46    d_saveMaxDate := d_basicDate - numtodsinterval(n_saveDay,'day');
 47  
 48    v_sum_sql_where_all := ' where t.dcollectiondate >= :1 and t.dcollectiondate < :2 ';
 49    v_sum_sql_where := v_sum_sql_where_all || ' and t.clicensetype != '||chr(39)||'41'||chr(39)||' and t.clicensetype != '||chr(39)||'99'||chr(39)||'';
 50    v_sum_sql_from := ' select distinct t.ccarnumber,t.clicensetype from '|| v_table_name ||' t ' || v_sum_sql_where;
 51    v_sum_sql_shibie := ' select count(1) from '|| v_table_name ||' t ' || v_sum_sql_where;
 52    v_sum_sql_alldsdnum := ' select count(1) from '|| v_table_name ||' t ' || v_sum_sql_where_all;
 53  
 54    begin
 55  
 56      /*在途车表hrv_monitor_car_onway汇总数据start*/
 57      --v_sum_sql_allcar := 'select count(1) from ( ' || v_sum_sql_from || ')';
 58  
 59      --外省车、本市车、大型车、小型车
 60      v_sum_sql_othernums := ' select count(1),nvl(sum(decode(substr(ccarnumber, 1, 1),'||chr(39)||'鲁'||chr(39)||',0,1)),0), ';
 61      v_sum_sql_othernums := v_sum_sql_othernums || ' nvl(sum(decode(substr(ccarnumber, 1, 2),'||chr(39)||'鲁U'||chr(39)||',1,'||chr(39)||'鲁B'||chr(39)||',1,0)),0), ';
 62      v_sum_sql_othernums := v_sum_sql_othernums || ' nvl(sum(decode(clicensetype,'||chr(39)||'01'||chr(39)||',1,0)),0), ';
 63      v_sum_sql_othernums := v_sum_sql_othernums || ' nvl(sum(decode(clicensetype,'||chr(39)||'02'||chr(39)||',1,0)),0) ';
 64      v_sum_sql_othernums := v_sum_sql_othernums || ' from (' || v_sum_sql_from || ') ';
 65  
 66      --dbms_output.put_line(v_sum_sql_allcar);
 67      dbms_output.put_line(v_sum_sql_othernums);
 68      dbms_output.put_line(v_sum_sql_shibie);
 69      dbms_output.put_line(v_sum_sql_alldsdnum);
 70  
 71     -- execute immediate v_sum_sql_allcar into n_allcarnum using d_beginDate, d_endDate;
 72      execute immediate v_sum_sql_othernums into n_allcarnum, n_otherprovincenum, n_localnum, n_bigcarnum, n_smallcarnum  using d_beginDate, d_endDate;
 73      execute immediate v_sum_sql_shibie into n_shibiecarnum using d_beginDate, d_endDate;
 74      execute immediate v_sum_sql_alldsdnum into n_alldsdcarnum using d_beginDate, d_endDate;
 75      /*在途车表hrv_monitor_car_onway汇总数据end*/
 76  
 77  
 78      /*在途车归属地表hrv_monitor_car_belonging汇总数据start*/
 79  
 80      --计算在途车数、外省车、本省外地车、本市车及其归属地
 81      v_sum_sql_belong := ' select ownprovincenum + otherprovincenum allcarnum, otherprovincenum, ownprovincenum - localnum foreignnum, localnum, pointid,:3,sysdate from (';
 82      v_sum_sql_belong := v_sum_sql_belong || ' select nvl(sum(decode(substr(ccarnumber, 1, 1), '||chr(39)||'鲁'||chr(39)||', 1, 0)), 0) ownprovincenum,';
 83      v_sum_sql_belong := v_sum_sql_belong || ' nvl(sum(decode(substr(ccarnumber, 1, 1), '||chr(39)||'鲁'||chr(39)||', 0, 1)), 0) otherprovincenum,';
 84      v_sum_sql_belong := v_sum_sql_belong || ' nvl(sum(decode(substr(ccarnumber, 1, 2), '||chr(39)||'鲁U'||chr(39)||', 1, '||chr(39)||'鲁B'||chr(39)||', 1, 0)), 0) localnum,';
 85      v_sum_sql_belong := v_sum_sql_belong || ' pointid from (select distinct t.ccarnumber, t.clicensetype, e.pointid from detect_speed_data t';
 86      v_sum_sql_belong := v_sum_sql_belong || ' left join equipment_info e on t.cdevicecode = e.deviceid' || v_sum_sql_where;
 87      v_sum_sql_belong := v_sum_sql_belong || ' and e.pointid is not null ) group by pointid)';
 88  
 89      /*在途车归属地表hrv_monitor_car_belonging汇总数据end*/
 90  
 91      --在途车总数/识别率
 92      if (n_shibiecarnum != 0) then
 93          n_allcarnum := round(n_allcarnum / n_shibiecarnum * n_alldsdcarnum);
 94          n_otherprovincenum := round(n_otherprovincenum / n_shibiecarnum * n_alldsdcarnum);
 95          n_localnum := round(n_localnum / n_shibiecarnum * n_alldsdcarnum);
 96          n_bigcarnum := round(n_bigcarnum / n_shibiecarnum * n_alldsdcarnum);
 97          n_smallcarnum := round(n_smallcarnum / n_shibiecarnum * n_alldsdcarnum);
 98  
 99          --计算在途车数、外省车、本省外地车、本市车及其归属地
100          v_sum_sql_belong := ' select ownprovincenum + otherprovincenum allcarnum, otherprovincenum, ownprovincenum - localnum foreignnum, localnum, pointid,:3,sysdate from (';
101          v_sum_sql_belong := v_sum_sql_belong || ' select round(nvl(sum(decode(substr(ccarnumber, 1, 1), '||chr(39)||'鲁'||chr(39)||', 1, 0)), 0) /'|| n_shibiecarnum||' * '||n_alldsdcarnum||') ownprovincenum,';
102          v_sum_sql_belong := v_sum_sql_belong || ' round(nvl(sum(decode(substr(ccarnumber, 1, 1), '||chr(39)||'鲁'||chr(39)||', 0, 1)), 0) /'|| n_shibiecarnum||' * '||n_alldsdcarnum||') otherprovincenum,';
103          v_sum_sql_belong := v_sum_sql_belong || ' round(nvl(sum(decode(substr(ccarnumber, 1, 2), '||chr(39)||'鲁U'||chr(39)||', 1, '||chr(39)||'鲁B'||chr(39)||', 1, 0)), 0) /'|| n_shibiecarnum||' * '||n_alldsdcarnum||') localnum,';
104          v_sum_sql_belong := v_sum_sql_belong || ' pointid from (select distinct t.ccarnumber, t.clicensetype, e.pointid from detect_speed_data t';
105          v_sum_sql_belong := v_sum_sql_belong || ' left join equipment_info e on t.cdevicecode = e.deviceid' || v_sum_sql_where;
106          v_sum_sql_belong := v_sum_sql_belong || ' and e.pointid is not null ) group by pointid)';
107  
108      end if;
109  
110      --本省外地车=在途车总数-外省车-本市车
111      n_foreignnum := n_allcarnum - n_otherprovincenum - n_localnum;
112  
113      v_ins_sql := 'insert into ' || v_table_sum || '(computedate, allcarnum, otherprovincenum, foreignnum, localnum, bigcar, smallcar,  insertdate)';
114      v_ins_sql := v_ins_sql || ' values(:1, ' || n_allcarnum || ', ' || n_otherprovincenum ||','||n_foreignnum||','|| n_localnum ||','|| n_bigcarnum ||','|| n_smallcarnum ||' ,sysdate)';
115  
116      dbms_output.put_line(v_sum_sql_belong);
117  
118      v_ins_sql_belong := 'insert into ' || v_table_sum_belong || '(allcarnum, otherprovincenum, foreignnum, localnum, pointcode, computedate, insertdate)';
119      v_ins_sql_belong := v_ins_sql_belong || v_sum_sql_belong;
120  
121  
122      --每周一0点删除超期数据
123      if(to_char(d_basicDate,'d')) = 2 then
124        if (to_char(d_basicDate, 'HH24') = '00') then
125             v_del_sql := 'delete from hrv_monitor_car_onway t where t.computedate < :1' ;
126             v_del_sql_belong := 'delete from hrv_monitor_car_belonging where computedate < :1';
127  
128             dbms_output.put_line(v_del_sql);
129             dbms_output.put_line(v_del_sql_belong);
130             execute immediate v_del_sql using d_saveMaxDate;
131             commit;
132             execute immediate v_del_sql_belong using d_saveMaxDate;
133             commit;
134  
135        end if;
136      end if;
137  
138      dbms_output.put_line(v_ins_sql);
139      execute immediate v_ins_sql using d_basicDate;
140      commit;
141  
142      dbms_output.put_line(v_ins_sql_belong);
143      execute immediate v_ins_sql_belong using d_basicDate, d_beginDate, d_endDate;
144      commit;
145  
146      exception
147        when others then
148          v_errCode := TO_CHAR(SQLCODE);
149          v_errMsg := SQLERRM ;
150  
151          dbms_output.put_line(v_errCode||v_errMsg);
152     end;
153  
154  END PROC_HRV_CARNUM_ONWAY_SUM;
155  /
SQL> --李楠
SQL> CREATE OR REPLACE VIEW HRV_GPS_VIEW AS
  2  SELECT I.DEVICEID AS ID,
  3         CAST(P.POLICEID AS VARCHAR(6)) AS POLICEID,
  4         I.DEVICENAME,
  5         G.CVEHID,
  6         TO_CHAR(G.DECARLONG) AS LONGITUDE,
  7         TO_CHAR(G.DECARLAT) AS LATITUDE,
  8         TO_CHAR(G.NDIRECTION) AS NDIRECTION,
  9         TO_CHAR(G.DTRECORDTIME, 'yyyy-mm-dd hh24:mi:ss') AS DTRECORDTIME,
 10         I.GPSTYPE,
 11         E1.ENUMNAME AS GPSTYPENAME,
 12         T.DEPTSHORTNAME,
 13         I.GPSRADIONO,
 14         I.GPSCARNO,
 15         I.THIRDSYSCODE,
 16         T.CDEPARTMENTID,
 17         CASE OKR.REPORTSTATE
 18           WHEN '1' THEN
 19            '2'
 20           ELSE
 21            NVL2(G.CVEHID, '1', '0')
 22         END STATUS,
 23         P.POLICENAME,
 24         P.POLICENAME AS TITLE,
 25         P.PHONE,
 26         P.DEVICEID,
 27         P.DEVICEID2,
 28         P.DEVICEID3,
 29         P.DEVICEID4,
 30         CASE
 31           WHEN P.DEVICEID = I.DEVICEID THEN
 32            '1'
 33           ELSE /*主设备*/
 34            '2' /*附属设备*/
 35         END EQUIPSOURCE,
 36         CASE
 37           WHEN P.DEVICEID = I.DEVICEID THEN
 38            '1'
 39            WHEN P.Deviceid2 = I.DEVICEID THEN /*主设备*/
 40            '2' /*附属设备*/
 41              WHEN P.Deviceid3 = I.DEVICEID THEN /*主设备*/
 42            '3' /*附属设备*/
 43              ELSE  /*主设备*/
 44            '4' /*附属设备*/
 45         END devicenum
 46    FROM EQUIPMENT_INFO I
 47    LEFT JOIN (SELECT E1.ENUMNAME, E1.ENUMVALUE
 48                 FROM ENUM_TYPE E1
 49                WHERE E1.ENUMTYPEID = '734') E1
 50      ON E1.ENUMVALUE = I.GPSTYPE
 51    JOIN GPS_DATA G
 52      ON G.CVEHID = I.THIRDSYSCODE
 53    LEFT JOIN DEPARTMENT T
 54      ON T.CDEPARTMENTID = I.DEPARTMENTID
 55    LEFT JOIN POLICE P
 56      ON (P.DEVICEID = I.DEVICEID OR P.DEVICEID3 = I.DEVICEID OR
 57         P.DEVICEID4 = I.DEVICEID OR P.DEVICEID2 = I.DEVICEID)
 58    LEFT JOIN (SELECT CARCODE, REPORTSTATE, MAX(REPORTTIME) AS REPORTTIME
 59                 FROM ONEKEYREADY T
 60                WHERE T.REPORTTIME > TRUNC(SYSDATE)
 61                  AND NOT EXISTS/*去重，保留最新的*/
 62                (SELECT 1
 63                         FROM ONEKEYREADY R
 64                        WHERE R.CARCODE = T.CARCODE
 65                          AND R.REPORTTIME > TRUNC(SYSDATE)
 66                          AND R.REPORTTIME > T.REPORTTIME)
 67                GROUP BY CARCODE, REPORTSTATE) OKR
 68      ON OKR.CARCODE = SUBSTR(I.THIRDSYSCODE, 6)
 69   WHERE G.DTRECORDTIME >= /*GPS_ONLINE_TIME_INTERVAL 分钟内的*/
 70         SYSDATE -
 71         (SELECT NVL2(PARAM.PARAMVALUE, PARAM.PARAMVALUE, '5')
 72            FROM (SELECT T.PARAMVALUE
 73                    FROM SYSPARAMS T
 74                   WHERE T.PARAMCODE = 'GPS_ONLINE_TIME_INTERVAL') PARAM) / 1440
 75     AND NOT EXISTS /*去重，保留最新的*/
 76   (SELECT 1
 77            FROM GPS_DATA D
 78           WHERE D.DTRECORDTIME >
 79                 SYSDATE -
 80                 (SELECT NVL2(PARAM.PARAMVALUE, PARAM.PARAMVALUE, '5')
 81                    FROM (SELECT T.PARAMVALUE
 82                            FROM SYSPARAMS T
 83                           WHERE T.PARAMCODE = 'GPS_ONLINE_TIME_INTERVAL') PARAM) / 1440
 84             AND D.CVEHID = G.CVEHID
 85             AND D.DTRECORDTIME > G.DTRECORDTIME)
 86     AND P.ISCLOSED = 1  and p.auditstate='1' and p.is_effective='1';
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑HiATMP-DB-HRV-DDL.5.8.0.14059.A6 End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓HiATMP-PSD5.8.0.13791.A5 孟范超20190322  Start-----------------------
SQL> -- Create table
SQL> create table PSD_PROPAGANDA_PLAN
  2  (
  3    id             VARCHAR2(32) not null,
  4    play_type      VARCHAR2(8),
  5    macid          VARCHAR2(32),
  6    macname        VARCHAR2(128),
  7    audioelementid VARCHAR2(32),
  8    voicename      VARCHAR2(2000),
  9    voicepath      VARCHAR2(128),
 10    method         VARCHAR2(16),
 11    duration       NUMBER(10),
 12    frequency      NUMBER(3),
 13    element_id     VARCHAR2(32),
 14    relateid       VARCHAR2(80)
 15  )
 16  tablespace HIATMPTS
 17    pctfree 10
 18    initrans 1
 19    maxtrans 255
 20    storage
 21    (
 22      initial 64K
 23      next 1M
 24      minextents 1
 25      maxextents unlimited
 26    );
SQL> -- Add comments to the columns
SQL> comment on column PSD_PROPAGANDA_PLAN.id
  2    is 'ID';
SQL> comment on column PSD_PROPAGANDA_PLAN.play_type
  2    is '播放模式(1:麦克,2:音频,3:文字)';
SQL> comment on column PSD_PROPAGANDA_PLAN.macid
  2    is '喊话麦克编号';
SQL> comment on column PSD_PROPAGANDA_PLAN.macname
  2    is '喊话麦克名称';
SQL> comment on column PSD_PROPAGANDA_PLAN.audioelementid
  2    is '音频设备编号';
SQL> comment on column PSD_PROPAGANDA_PLAN.voicename
  2    is '音频文件名称';
SQL> comment on column PSD_PROPAGANDA_PLAN.voicepath
  2    is '音频文件路径';
SQL> comment on column PSD_PROPAGANDA_PLAN.method
  2    is '持续方式';
SQL> comment on column PSD_PROPAGANDA_PLAN.duration
  2    is '持续时长';
SQL> comment on column PSD_PROPAGANDA_PLAN.frequency
  2    is '频率';
SQL> comment on column PSD_PROPAGANDA_PLAN.element_id
  2    is '节目编号';
SQL> comment on column PSD_PROPAGANDA_PLAN.relateid
  2    is '设备关联编号';
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table PSD_PROPAGANDA_PLAN
  2    add constraint XPKPSD_PROPAGANDA_PLAN primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
SQL>   -- Create table
SQL> create table PSD_PROPAGANDA_ELEMENT
  2  (
  3    element_id    VARCHAR2(32) not null,
  4    element_title VARCHAR2(128),
  5    element_text  VARCHAR2(2048),
  6    program_type  VARCHAR2(32),
  7    extcol        VARCHAR2(512)
  8  )
  9  tablespace HIATMPTS
 10    pctfree 10
 11    initrans 1
 12    maxtrans 255
 13    storage
 14    (
 15      initial 64K
 16      next 1M
 17      minextents 1
 18      maxextents unlimited
 19    );
SQL> -- Add comments to the columns
SQL> comment on column PSD_PROPAGANDA_ELEMENT.element_id
  2    is '节目ID';
SQL> comment on column PSD_PROPAGANDA_ELEMENT.element_title
  2    is '节目名称';
SQL> comment on column PSD_PROPAGANDA_ELEMENT.element_text
  2    is '节目内容';
SQL> comment on column PSD_PROPAGANDA_ELEMENT.program_type
  2    is '节目类别';
SQL> comment on column PSD_PROPAGANDA_ELEMENT.extcol
  2    is '扩展字段';
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table PSD_PROPAGANDA_ELEMENT
  2    add constraint XPKPSD_PROPAGANDA_ELEMENT primary key (ELEMENT_ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
SQL>  -- Create table
SQL> create table PSD_FOG_PLAN
  2  (
  3    id        VARCHAR2(32) not null,
  4    modeltype VARCHAR2(16),
  5    modelname VARCHAR2(128),
  6    modelid   VARCHAR2(32),
  7    relateid  VARCHAR2(80)
  8  )
  9  tablespace HIATMPTS
 10    pctfree 10
 11    initrans 1
 12    maxtrans 255
 13    storage
 14    (
 15      initial 64K
 16      next 1M
 17      minextents 1
 18      maxextents unlimited
 19    );
SQL> -- Add comments to the columns
SQL> comment on column PSD_FOG_PLAN.id
  2    is 'ID';
SQL> comment on column PSD_FOG_PLAN.modeltype
  2    is '模式类型';
SQL> comment on column PSD_FOG_PLAN.modelname
  2    is '模式名称';
SQL> comment on column PSD_FOG_PLAN.modelid
  2    is '模式ID';
SQL> comment on column PSD_FOG_PLAN.relateid
  2    is '设备关联ID';
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table PSD_FOG_PLAN
  2    add constraint XPKPSD_FOG_PLAN primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
SQL> -- Create table
SQL> create table PSD_FOG_MODELS
  2  (
  3    MODELID      VARCHAR2(32) not null,
  4    MODELTYPE    VARCHAR2(16),
  5    MODELNAME    VARCHAR2(128),
  6    THIRDSYSCODE VARCHAR2(32),
  7    ZLCDMS       VARCHAR2(32),
  8    YJDPL        VARCHAR2(32),
  9    YDDPL        VARCHAR2(32),
 10    YJDLD        VARCHAR2(32),
 11    YDDLD        VARCHAR2(32),
 12    WJCD         VARCHAR2(32),
 13    KQDD         VARCHAR2(32),
 14    WJSJ         VARCHAR2(32),
 15    CJQ          VARCHAR2(32),
 16    UPDATETIME   DATE,
 17    UPDATEUSER   VARCHAR2(32)
 18  )
 19  tablespace HIATMPTS
 20    pctfree 10
 21    initrans 1
 22    maxtrans 255
 23    storage
 24    (
 25      initial 64
 26      next 1
 27      minextents 1
 28      maxextents unlimited
 29    );
SQL> -- Add comments to the columns
SQL> comment on column PSD_FOG_MODELS.MODELID
  2    is '模式ID';
SQL> comment on column PSD_FOG_MODELS.MODELTYPE
  2    is '模式类型';
SQL> comment on column PSD_FOG_MODELS.MODELNAME
  2    is '模式名称';
SQL> comment on column PSD_FOG_MODELS.THIRDSYSCODE
  2    is '第三方编号';
SQL> comment on column PSD_FOG_MODELS.ZLCDMS
  2    is '指令传递模式';
SQL> comment on column PSD_FOG_MODELS.YJDPL
  2    is '预警灯频率';
SQL> comment on column PSD_FOG_MODELS.YDDPL
  2    is '诱导灯频率';
SQL> comment on column PSD_FOG_MODELS.YJDLD
  2    is '预警灯亮度';
SQL> comment on column PSD_FOG_MODELS.YDDLD
  2    is '诱导灯亮度';
SQL> comment on column PSD_FOG_MODELS.WJCD
  2    is '尾迹长度';
SQL> comment on column PSD_FOG_MODELS.KQDD
  2    is '开启道钉';
SQL> comment on column PSD_FOG_MODELS.WJSJ
  2    is '尾迹时间';
SQL> comment on column PSD_FOG_MODELS.CJQ
  2    is '车检器';
SQL> comment on column PSD_FOG_MODELS.UPDATETIME
  2    is '更新时间';
SQL> comment on column PSD_FOG_MODELS.UPDATEUSER
  2    is '创建用户';
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table PSD_FOG_MODELS
  2    add constraint XPKPSD_FOG_MODELS primary key (MODELID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
SQL>  -- Create table
SQL> create table PSD_EXPRESSWAY_VMS_PLAN
  2  (
  3    id             VARCHAR2(32) not null,
  4    vmsplanid      VARCHAR2(32),
  5    grouptype      VARCHAR2(8),
  6    groupnames     VARCHAR2(128),
  7    playcount      NUMBER,
  8    car_direction  VARCHAR2(20),
  9    road_number    NUMBER(2),
 10    relateid       VARCHAR2(80),
 11    elementgroupid VARCHAR2(2000),
 12    deviceid       VARCHAR2(32),
 13    elementids     VARCHAR2(2000)
 14  )
 15  tablespace HIATMPTS
 16    pctfree 10
 17    initrans 1
 18    maxtrans 255
 19    storage
 20    (
 21      initial 64K
 22      next 8K
 23      minextents 1
 24      maxextents unlimited
 25    );
SQL> -- Add comments to the columns
SQL> comment on column PSD_EXPRESSWAY_VMS_PLAN.id
  2    is 'ID';
SQL> comment on column PSD_EXPRESSWAY_VMS_PLAN.vmsplanid
  2    is '节目组计划id';
SQL> comment on column PSD_EXPRESSWAY_VMS_PLAN.grouptype
  2    is '诱导组类型';
SQL> comment on column PSD_EXPRESSWAY_VMS_PLAN.groupnames
  2    is '诱导组名称';
SQL> comment on column PSD_EXPRESSWAY_VMS_PLAN.playcount
  2    is '播放次数';
SQL> comment on column PSD_EXPRESSWAY_VMS_PLAN.car_direction
  2    is '行车方向';
SQL> comment on column PSD_EXPRESSWAY_VMS_PLAN.road_number
  2    is '车道数量';
SQL> comment on column PSD_EXPRESSWAY_VMS_PLAN.relateid
  2    is '设备关联ID';
SQL> comment on column PSD_EXPRESSWAY_VMS_PLAN.elementgroupid
  2    is '节目组编号';
SQL> comment on column PSD_EXPRESSWAY_VMS_PLAN.deviceid
  2    is '设备编号';
SQL> comment on column PSD_EXPRESSWAY_VMS_PLAN.elementids
  2    is '节目编号';
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table PSD_EXPRESSWAY_VMS_PLAN
  2    add constraint XPKPSD_EXPRESSWAY_VMS_PLAN primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
SQL>   -- Create table
SQL> create table PSD_SCENE
  2  (
  3    sceneid          VARCHAR2(32) not null,
  4    advanceid        VARCHAR2(32),
  5    scenename        VARCHAR2(256),
  6    vmsconfig        VARCHAR2(4),
  7    videoconfig      VARCHAR2(4),
  8    utcconfig        VARCHAR2(4),
  9    propagandaconfig VARCHAR2(4),
 10    fogsetconfig     VARCHAR2(4),
 11    expwayvmsconfig  VARCHAR2(4),
 12    dutyconfig       VARCHAR2(4),
 13    videostatus      VARCHAR2(4),
 14    utcstatus        VARCHAR2(4),
 15    vmsstatus        VARCHAR2(4),
 16    expwayvmsstatus  VARCHAR2(4),
 17    fogstatus        VARCHAR2(4),
 18    propagandastatus VARCHAR2(4),
 19    ordernum         NUMBER,
 20    starttime        DATE,
 21    endtime          DATE,
 22    startconflag     VARCHAR2(4),
 23    tigtype          VARCHAR2(16),
 24    coordinate       VARCHAR2(4000),
 25    startflag        VARCHAR2(4),
 26    accident         VARCHAR2(16),
 27    eventtype        VARCHAR2(16),
 28    eventlevel       VARCHAR2(16),
 29    scenestatus      VARCHAR2(2) default 0
 30  )
 31  tablespace HIATMPTS
 32    pctfree 10
 33    initrans 1
 34    maxtrans 255
 35    storage
 36    (
 37      initial 64K
 38      next 8K
 39      minextents 1
 40      maxextents unlimited
 41    );
SQL> -- Add comments to the table
SQL> comment on table PSD_SCENE
  2    is '预案场景表';
SQL> -- Add comments to the columns
SQL> comment on column PSD_SCENE.sceneid
  2    is '场景编号';
SQL> comment on column PSD_SCENE.advanceid
  2    is '预案编号';
SQL> comment on column PSD_SCENE.scenename
  2    is '场景名称';
SQL> comment on column PSD_SCENE.vmsconfig
  2    is '诱导配置状态(0:未配置,1:已配置)';
SQL> comment on column PSD_SCENE.videoconfig
  2    is '视频配置状态(0:未配置,1:已配置)';
SQL> comment on column PSD_SCENE.utcconfig
  2    is '信号配置状态(0:未配置,1:已配置)';
SQL> comment on column PSD_SCENE.propagandaconfig
  2    is '喊话系统配置状态(0:未配置,1:已配置)';
SQL> comment on column PSD_SCENE.fogsetconfig
  2    is '雾区防撞配置状态(0:未配置,1:已配置)';
SQL> comment on column PSD_SCENE.expwayvmsconfig
  2    is '限速诱导配置状态(0:未配置,1:已配置)';
SQL> comment on column PSD_SCENE.dutyconfig
  2    is '岗位配置状态(0:未配置,1:已配置)';
SQL> comment on column PSD_SCENE.videostatus
  2    is '视频执行状态(0:未执行,1:已执行)';
SQL> comment on column PSD_SCENE.utcstatus
  2    is '信号执行状态(0:未执行,1:已执行)';
SQL> comment on column PSD_SCENE.vmsstatus
  2    is '诱导执行状态(0:未执行,1:已执行)';
SQL> comment on column PSD_SCENE.expwayvmsstatus
  2    is '限速诱导执行状态(0:未执行,1:已执行)';
SQL> comment on column PSD_SCENE.fogstatus
  2    is '雾区防撞执行状态(0:未执行,1:已执行)';
SQL> comment on column PSD_SCENE.propagandastatus
  2    is '喊话执行状态(0:未执行,1:已执行)';
SQL> comment on column PSD_SCENE.ordernum
  2    is '场景序号排序';
SQL> comment on column PSD_SCENE.starttime
  2    is '启动时间';
SQL> comment on column PSD_SCENE.endtime
  2    is '结束时间';
SQL> comment on column PSD_SCENE.startconflag
  2    is '启动条件标志(弃用)';
SQL> comment on column PSD_SCENE.tigtype
  2    is '触发条件(1:手动, 2:按时间, 3:按事件)';
SQL> comment on column PSD_SCENE.coordinate
  2    is '事件触发区域坐标';
SQL> comment on column PSD_SCENE.startflag
  2    is '启动提示';
SQL> comment on column PSD_SCENE.accident
  2    is '事件种类(弃用)';
SQL> comment on column PSD_SCENE.eventtype
  2    is '事件类型(枚举1110)';
SQL> comment on column PSD_SCENE.eventlevel
  2    is '事件级别（弃用）';
SQL> comment on column PSD_SCENE.scenestatus
  2    is '场景执行状态（0:未执行，1:执行中）';
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table PSD_SCENE
  2    add constraint XPKPSD_SCENE primary key (SCENEID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
SQL>  -- Add/modify columns
SQL> alter table PSD_PRESET_DETAIL add coordinate VARCHAR2(50);
SQL> alter table PSD_PRESET_DETAIL add address NVARCHAR2(100);
SQL> -- Add comments to the columns
SQL> comment on column PSD_PRESET_DETAIL.coordinate
  2    is '经纬度';
SQL> comment on column PSD_PRESET_DETAIL.address
  2    is '地址';
SQL> -- Add/modify columns
SQL> alter table PSD_ORDER modify telephone VARCHAR2(30);
SQL> -- Add/modify columns
SQL> alter table PSD_PROCESS add isread VARCHAR2(1) default 1;
SQL> -- Add comments to the columns
SQL> comment on column PSD_PROCESS.isread
  2    is '0未读,1已读';
SQL> -- Add/modify columns
SQL> alter table PSD_ORDER add coordinate varchar2(50);
SQL> alter table PSD_ORDER add address varchar2(100);
SQL> -- Add comments to the columns
SQL> comment on column PSD_ORDER.coordinate
  2    is '经纬度';
SQL> comment on column PSD_ORDER.address
  2    is '地址';
SQL> -- Alter table
SQL> alter table PSD_FOG_PLAN
  2    storage
  3    (
  4      next 1
  5    )
  6  ;
SQL> -- Add/modify columns
SQL> alter table PSD_FOG_PLAN add CASEID VARCHAR2(32);
SQL> -- Add comments to the columns
SQL> comment on column PSD_FOG_PLAN.CASEID
  2    is '警情id';
SQL>   -- Alter table
SQL> alter table PSD_PROPAGANDA_PLAN
  2    storage
  3    (
  4      next 1
  5    )
  6  ;
SQL> -- Add/modify columns
SQL> alter table PSD_PROPAGANDA_PLAN add CASEID VARCHAR2(32);
SQL> -- Add comments to the columns
SQL> comment on column PSD_PROPAGANDA_PLAN.CASEID
  2    is '警情id';
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑HiATMP-PSD5.8.0.13791.A5 孟范超20190322  End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓HiATMP-DB-PSD-DDL.5.8.0.0.A6.sql  Start-----------------------
SQL> -- Alter table
SQL> alter table PEH_POLICE_VMS_INFO
  2    storage
  3    (
  4      next 8
  5    )
  6  ;
SQL> -- Add/modify columns
SQL> alter table PEH_POLICE_VMS_INFO modify USERID VARCHAR2(32);
SQL> -- Add/modify columns
SQL> alter table PSD_ORDER modify contacter NVARCHAR2(40);
SQL> -- Add/modify columns
SQL> alter table PSD_ORDER modify order_content NVARCHAR2(500);
SQL> -- Add/modify columns
SQL> alter table PSD_PRESET_DETAIL modify order_content NVARCHAR2(500);
SQL> -- Add/modify columns
SQL> alter table PSD_PRESET_DETAIL modify coordinate VARCHAR2(60);
SQL> -- Add/modify columns
SQL> alter table PSD_ORDER modify address NVARCHAR2(200);
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑HiATMP-DB-PSD-DDL.5.8.0.0.A6.sql End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓HiATMP-DB-PSD-DDL.5.8.0.0.A7.sql  Start-----------------------
SQL>   -- Alter table
SQL> alter table PEH_POLICE_EMERGENCY
  2    storage
  3    (
  4      next 8
  5    )
  6  ;
SQL>   -- Alter table
SQL> alter table PSD_FOG_MODELS
  2    storage
  3    (
  4      next 8
  5    )
  6  ;
SQL> -- Add/modify columns
SQL> alter table PSD_FOG_MODELS add CDJGIDS VARCHAR2(32);
SQL> -- Add comments to the columns
SQL> comment on column PSD_FOG_MODELS.CDJGIDS
  2    is '传递间隔ID数';
SQL> -- Create table
SQL> create table PSD_FOG_MODELS_BACKUP
  2  (
  3    MODELID      VARCHAR2(32) not null,
  4    MODELTYPE    VARCHAR2(16),
  5    MODELNAME    VARCHAR2(128),
  6    THIRDSYSCODE VARCHAR2(32),
  7    ZLCDMS       VARCHAR2(32),
  8    YJDPL        VARCHAR2(32),
  9    YDDPL        VARCHAR2(32),
 10    YJDLD        VARCHAR2(32),
 11    YDDLD        VARCHAR2(32),
 12    WJCD         VARCHAR2(32),
 13    KQDD         VARCHAR2(32),
 14    WJSJ         VARCHAR2(32),
 15    CJQ          VARCHAR2(32),
 16    UPDATETIME   DATE,
 17    UPDATEUSER   VARCHAR2(32),
 18    FOGPLANID    VARCHAR2(32) not null,
 19    CDJGIDS      VARCHAR2(32)
 20  )
 21  tablespace HIATMPTS
 22    pctfree 10
 23    initrans 1
 24    maxtrans 255
 25    storage
 26    (
 27      initial 64
 28      next 8
 29      minextents 1
 30      maxextents unlimited
 31    );
SQL> -- Add comments to the columns
SQL> comment on column PSD_FOG_MODELS_BACKUP.MODELID
  2    is '模式ID';
SQL> comment on column PSD_FOG_MODELS_BACKUP.MODELTYPE
  2    is '模式类型';
SQL> comment on column PSD_FOG_MODELS_BACKUP.MODELNAME
  2    is '模式名称';
SQL> comment on column PSD_FOG_MODELS_BACKUP.THIRDSYSCODE
  2    is '第三方编号';
SQL> comment on column PSD_FOG_MODELS_BACKUP.ZLCDMS
  2    is '指令传递模式';
SQL> comment on column PSD_FOG_MODELS_BACKUP.YJDPL
  2    is '预警灯频率';
SQL> comment on column PSD_FOG_MODELS_BACKUP.YDDPL
  2    is '诱导灯频率';
SQL> comment on column PSD_FOG_MODELS_BACKUP.YJDLD
  2    is '预警灯亮度';
SQL> comment on column PSD_FOG_MODELS_BACKUP.YDDLD
  2    is '诱导灯亮度';
SQL> comment on column PSD_FOG_MODELS_BACKUP.WJCD
  2    is '尾迹长度';
SQL> comment on column PSD_FOG_MODELS_BACKUP.KQDD
  2    is '开启道钉';
SQL> comment on column PSD_FOG_MODELS_BACKUP.WJSJ
  2    is '尾迹时间';
SQL> comment on column PSD_FOG_MODELS_BACKUP.CJQ
  2    is '车检器';
SQL> comment on column PSD_FOG_MODELS_BACKUP.UPDATETIME
  2    is '更新时间';
SQL> comment on column PSD_FOG_MODELS_BACKUP.UPDATEUSER
  2    is '创建用户';
SQL> comment on column PSD_FOG_MODELS_BACKUP.FOGPLANID
  2    is 'tpms_fog_plan表主键';
SQL> comment on column PSD_FOG_MODELS_BACKUP.CDJGIDS
  2    is '传递间隔ID数';
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table PSD_FOG_MODELS_BACKUP
  2    add constraint PRI_PSDFOGMODELSBACKUPID primary key (FOGPLANID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
SQL> -- Alter table
SQL> alter table PEH_POLICE_VMS_INFO
  2    storage
  3    (
  4      next 8
  5    )
  6  ;
SQL> delete from PEH_POLICE_VMS_INFO t where t.userid is null;
SQL> commit;
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table PEH_POLICE_VMS_INFO
  2    add constraint Id_USERID primary key (ID, USERID);
SQL>   -- Alter table
SQL> alter table PEH_POLICE_VMS_CONFIG
  2    storage
  3    (
  4      next 8
  5    )
  6  ;
SQL> delete from PEH_POLICE_VMS_CONFIG a
  2  where
  3      (a.id) in(select id from PEH_POLICE_VMS_CONFIG group by id having count(*) > 1)
  4      and rowid not in (select min(rowid) from PEH_POLICE_VMS_CONFIG group by id having count(*)>1);
SQL>     commit;
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table PEH_POLICE_VMS_CONFIG
  2    add constraint IDKIEY primary key (ID);
SQL> -- Alter table
SQL> alter table PEH_POLICE_VMS_CONFIG
  2    storage
  3    (
  4      next 8
  5    )
  6  ;
SQL> -- Add comments to the columns
SQL> comment on column PEH_POLICE_VMS_CONFIG.STATUS
  2    is '执行状态（0未执行 1下发成功 2下发失败 3撤销成功 4撤销失败）';
SQL>   -- Alter table
SQL> alter table PSD_FOG_MODELS_BACKUP
  2    storage
  3    (
  4      next 8
  5    )
  6  ;
SQL> -- Add/modify columns
SQL> alter table PSD_FOG_MODELS_BACKUP modify FOGPLANID null;
SQL> -- Add/modify columns
SQL> alter table PSD_PRESET_DETAIL modify contacter NVARCHAR2(40);
SQL> -- Add/modify columns
SQL> alter table POLICE add state nvarchar2(1) default 0;
SQL> -- Add comments to the columns
SQL> comment on column POLICE.state
  2    is '警员的忙闲状态 默认状态为0为闲，1为忙';
SQL>   -- Add comments to the columns
SQL> comment on column PEH_POLICE_EMERGENCY.report_type
  2    is '报警人类型  0 执法民警 1 普通民警 2 群众';
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑HiATMP-DB-PSD-DDL.5.8.0.0.A7.sql   End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓HiATMP-DB-DDM-DDL.5.8.0.0.A7.sql Start-----------------------
SQL> alter table DM_GRADE_DUTY_RATIO modify DUTY_RATIO VARCHAR2(8);
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑HiATMP-DB-DDM-DDL.5.8.0.0.A7.sql End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓HiATMP-DB-DDM-DDL.5.8.0.0.A8.sql Start-----------------------
SQL> ----------------------------------------------
SQL> -------------------------------
SQL> --------------------------------
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑HiATMP-DB-DDM-DDL.5.8.0.0.A8.sql End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓HiATMP-DB-DDM-DDL.5.8.0.0.A9.sql Start-----------------------
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑HiATMP-DB-DDM-DDL.5.8.0.0.A9.sql End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓HiATMP-DB-BSP-DDL.5.8.0.0.B2.2.sql Start-----------------------
SQL> CREATE OR REPLACE VIEW POLICE_GPS_RELATION_VIEW AS
  2  SELECT I.DEVICEID,
  3         I.GPSCARNO,
  4         I.GPSRADIONO,
  5         I.DEPARTMENTID,
  6         GPS.ENUMVALUE,
  7         GPS.ENUMNAME,
  8         P.POLICENAME,
  9         nvl(p.isclosed,0) isclosed
 10    FROM EQUIPMENT_INFO I
 11    LEFT JOIN (SELECT E.ENUMVALUE, E.ENUMNAME
 12                 FROM ENUM_TYPE E
 13                WHERE E.ENUMTYPEID = '734') GPS
 14      ON GPS.ENUMVALUE = I.GPSTYPE
 15    LEFT JOIN (SELECT P.DEVICEID AS GPS,P.*
 16                   FROM POLICE P
 17                  WHERE P.IS_EFFECTIVE = '1'
 18                    AND P.AUDITSTATE = '1'
 19                    AND P.ISCLOSED = '1'
 20                    AND P.DEVICEID IS NOT NULL
 21                 UNION ALL
 22                SELECT P.DEVICEID2 AS GPS,P.*
 23                   FROM POLICE P
 24                  WHERE P.IS_EFFECTIVE = '1'
 25                    AND P.AUDITSTATE = '1'
 26                    AND P.ISCLOSED = '1'
 27                    AND P.DEVICEID2 IS NOT NULL
 28                 UNION ALL
 29                 SELECT P.DEVICEID3 AS GPS,P.*
 30                   FROM POLICE P
 31                  WHERE P.IS_EFFECTIVE = '1'
 32                    AND P.AUDITSTATE = '1'
 33                    AND P.ISCLOSED = '1'
 34                    AND P.DEVICEID3 IS NOT NULL
 35                 UNION ALL
 36                 SELECT P.DEVICEID4 AS GPS,P.*
 37                   FROM POLICE P
 38                  WHERE P.IS_EFFECTIVE = '1'
 39                    AND P.AUDITSTATE = '1'
 40                    AND P.ISCLOSED = '1'
 41                    AND P.DEVICEID4 IS NOT NULL) P
 42              ON i.DEVICEID = P.GPS
 43   WHERE I.DEVICETYPE = '12';
SQL> CREATE OR REPLACE VIEW HRV_GPS_VIEW AS
  2  SELECT "ORDERNUM","ID","POLICEID","DEVICENAME","CVEHID","LONGITUDE","LATITUDE","NDIRECTION","DTRECORDTIME","GPSTYPE","GPSTYPENAME","DEPTSHORTNAME","GPSRADIONO","GPSCARNO","THIRDSYSCODE","CDEPARTMENTID","STATUS","POLICENAME","TITLE","PHONE","DEVICEID","DEVICEID2","DEVICEID3","DEVICEID4","EQUIPSOURCE","DEVICENUM"
  3    FROM (SELECT ROW_NUMBER() OVER(PARTITION BY G.CVEHID ORDER BY G.DTRECORDTIME DESC) ORDERNUM,
  4                 I.DEVICEID AS ID,
  5                 CAST(P.POLICEID AS VARCHAR(6)) AS POLICEID,
  6                 I.DEVICENAME,
  7                 G.CVEHID,
  8                 TO_CHAR(G.DECARLONG) AS LONGITUDE,
  9                 TO_CHAR(G.DECARLAT) AS LATITUDE,
 10                 TO_CHAR(G.NDIRECTION) AS NDIRECTION,
 11                 TO_CHAR(G.DTRECORDTIME, 'yyyy-mm-dd hh24:mi:ss') AS DTRECORDTIME,
 12                 I.GPSTYPE,
 13                 E1.ENUMNAME AS GPSTYPENAME,
 14                 T.DEPTSHORTNAME,
 15                 I.GPSRADIONO,
 16                 I.GPSCARNO,
 17                 I.THIRDSYSCODE,
 18                 T.CDEPARTMENTID,
 19                 CASE OKR.REPORTSTATE
 20                   WHEN '1' THEN
 21                    '2'
 22                   ELSE
 23                    NVL2(G.CVEHID, '1', '0')
 24                 END STATUS,
 25                 P.POLICENAME,
 26                 P.POLICENAME AS TITLE,
 27                 P.PHONE,
 28                 P.DEVICEID,
 29                 P.DEVICEID2,
 30                 P.DEVICEID3,
 31                 P.DEVICEID4,
 32                 CASE
 33                   WHEN P.DEVICEID = I.DEVICEID THEN
 34                    '1'
 35                   ELSE /*主设备*/
 36                    '2' /*附属设备*/
 37                 END EQUIPSOURCE,
 38                 CASE
 39                   WHEN P.DEVICEID = I.DEVICEID THEN
 40                    '1'
 41                   WHEN P.DEVICEID2 = I.DEVICEID THEN
 42                    '2'
 43                   WHEN P.DEVICEID3 = I.DEVICEID THEN
 44                    '3'
 45                   ELSE
 46                    '4'
 47                 END DEVICENUM
 48            FROM EQUIPMENT_INFO I
 49            LEFT JOIN (SELECT E1.ENUMNAME, E1.ENUMVALUE
 50                        FROM ENUM_TYPE E1
 51                       WHERE E1.ENUMTYPEID = '734') E1
 52              ON E1.ENUMVALUE = I.GPSTYPE
 53            JOIN GPS_DATA G
 54              ON G.CVEHID = I.THIRDSYSCODE
 55            LEFT JOIN DEPARTMENT T
 56              ON T.CDEPARTMENTID = I.DEPARTMENTID
 57            JOIN (SELECT P.DEVICEID AS GPS, P.*
 58                   FROM POLICE P
 59                  WHERE P.IS_EFFECTIVE = '1'
 60                    AND P.AUDITSTATE = '1'
 61                    AND P.ISCLOSED = '1'
 62                    AND P.DEVICEID IS NOT NULL
 63                 UNION ALL
 64                 SELECT P.DEVICEID2 AS GPS, P.*
 65                   FROM POLICE P
 66                  WHERE P.IS_EFFECTIVE = '1'
 67                    AND P.AUDITSTATE = '1'
 68                    AND P.ISCLOSED = '1'
 69                    AND P.DEVICEID2 IS NOT NULL
 70                 UNION ALL
 71                 SELECT P.DEVICEID3 AS GPS, P.*
 72                   FROM POLICE P
 73                  WHERE P.IS_EFFECTIVE = '1'
 74                    AND P.AUDITSTATE = '1'
 75                    AND P.ISCLOSED = '1'
 76                    AND P.DEVICEID3 IS NOT NULL
 77                 UNION ALL
 78                 SELECT P.DEVICEID4 AS GPS, P.*
 79                   FROM POLICE P
 80                  WHERE P.IS_EFFECTIVE = '1'
 81                    AND P.AUDITSTATE = '1'
 82                    AND P.ISCLOSED = '1'
 83                    AND P.DEVICEID4 IS NOT NULL) P
 84              ON I.DEVICEID = P.GPS
 85            LEFT JOIN (SELECT CARCODE,
 86                             REPORTSTATE,
 87                             MAX(REPORTTIME) AS REPORTTIME
 88                        FROM ONEKEYREADY T
 89                       WHERE T.REPORTTIME > TRUNC(SYSDATE)
 90                         AND NOT EXISTS /*去重，保留最新的*/
 91                       (SELECT 1
 92                                FROM ONEKEYREADY R
 93                               WHERE R.CARCODE = T.CARCODE
 94                                 AND R.REPORTTIME > TRUNC(SYSDATE)
 95                                 AND R.REPORTTIME > T.REPORTTIME)
 96                       GROUP BY CARCODE, REPORTSTATE) OKR
 97              ON OKR.CARCODE = SUBSTR(I.THIRDSYSCODE, 6)
 98           WHERE G.DTRECORDTIME >= /*GPS_ONLINE_TIME_INTERVAL 分钟内的*/
 99                 SYSDATE -
100                 (SELECT NVL2(PARAM.PARAMVALUE, PARAM.PARAMVALUE, '5')
101                    FROM (SELECT T.PARAMVALUE
102                            FROM SYSPARAMS T
103                           WHERE T.PARAMCODE = 'GPS_ONLINE_TIME_INTERVAL') PARAM) / 1440)
104   WHERE ORDERNUM = 1;
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑HiATMP-DB-BSP-DDL.5.8.0.0.B2.2.sql End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓HiATMP-DB-PSD-DDL.5.8.0.0.A8.sql Start-----------------------
SQL> -- Add/modify columns
SQL> alter table EMERGENCY_RESOURCES_MANAGE modify linkman NVARCHAR2(40);
SQL> -- Add/modify columns
SQL> alter table PSD_PRESET_DETAIL modify address NVARCHAR2(200);
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑HiATMP-DB-PSD-DDL.5.8.0.0.A8.sql End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓HiATMP-DB-DDM-DDL.5.8.0.0.A10.sql Start-----------------------
SQL> -------------------------------------
SQL> --  Changed table dm_check_appeal  --
SQL> -------------------------------------
SQL> -- Add comments to the columns
SQL> comment on column DM_CHECK_APPEAL.STATUS
  2    is '申诉状态 0未审核； 1大队待审核；2支队待审核；3审核驳回；4审核通过';
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑HiATMP-DB-DDM-DDL.5.8.0.0.A10.sql End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓HiATMP-DB-PSD-DDL.5.8.0.0.A10.sql Start-----------------------
SQL> -- Alter table
SQL> alter table PEH_POLICE_VMS_CONFIG
  2    storage
  3    (
  4      next 8
  5    )
  6  ;
SQL> -- Add/modify columns
SQL> alter table PEH_POLICE_VMS_CONFIG add ordernum number;
SQL> -- Add comments to the columns
SQL> comment on column PEH_POLICE_VMS_CONFIG.ordernum
  2    is '设备排序';
SQL> -- Alter table
SQL> alter table PEH_POLICE_VMS_CONFIG
  2    storage
  3    (
  4      next 8
  5    )
  6  ;
SQL> -- Add/modify columns
SQL> alter table PEH_POLICE_VMS_CONFIG add currentModel VARCHAR2(2);
SQL> -- Add comments to the columns
SQL> comment on column PEH_POLICE_VMS_CONFIG.currentModel
  2    is '0:未获取到执行模式；1:获取到执行模式';
SQL> -- Alter table
SQL> alter table PSD_ORDER
  2    storage
  3    (
  4      next 8
  5    )
  6  ;
SQL> -- Add/modify columns
SQL> alter table PSD_ORDER add dealtime date;
SQL> -- Add comments to the columns
SQL> comment on column PSD_ORDER.dealtime
  2    is '诱导开始处置时间';
SQL> commit;
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑HiATMP-DB-PSD-DDL.5.8.0.0.A10.sql End-------------------------
SQL> --↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓HiATMP-DB-PSD-DDL.5.8.0.0.A11.sql Start-----------------------
SQL> -- Add/modify columns
SQL> -- Drop columns
SQL> alter table PSD_ORDER drop column dealtime;
SQL> alter table PSD_ORDER add dealtime date;
SQL> -- Add comments to the columns
SQL> comment on column PSD_ORDER.dealtime
  2  is '诱导开始处置时间';
SQL> -- Add/modify columns
SQL> alter table PEH_POLICE_EMERGENCY modify ROAD_ID VARCHAR2(12);
SQL> -- Add/modify columns
SQL> alter table PEH_POLICE_EMERGENCY modify HANDLER NVARCHAR2(10);
SQL> -- Add comments to the columns
SQL> comment on column PEH_POLICE_EMERGENCY.POINT_NAME
  2  is '地点名称（设备安装点名称）';
SQL>   commit;
SQL> --↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑HiATMP-DB-PSD-DDL.5.8.0.0.A11.sql End-------------------------
SQL> -- Create table
SQL> create table ILLEGAL_DATA_GEOMETRY
  2  (
  3    caddresscode VARCHAR2(32),
  4    geometry     MDSYS.SDO_GEOMETRY,
  5    ncounts      NUMBER(6),
  6    illegaldate  DATE
  7  )
  8  tablespace HIATMPTS
  9    pctfree 10
 10    initrans 1
 11    maxtrans 255
 12    storage
 13    (
 14      initial 64
 15      next 1
 16      minextents 1
 17      maxextents unlimited
 18    );
SQL> -- Add comments to the table
SQL> comment on table ILLEGAL_DATA_GEOMETRY
  2    is '违法地理信息表';
SQL> -- Add comments to the columns
SQL> comment on column ILLEGAL_DATA_GEOMETRY.caddresscode
  2    is '违法编号';
SQL> comment on column ILLEGAL_DATA_GEOMETRY.geometry
  2    is '违法地理信息';
SQL> -- Create/Recreate indexes
SQL> create index IDX_ILLEGAL_GEOMETRY_DATE on ILLEGAL_DATA_GEOMETRY (ILLEGALDATE)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
SQL> -- Create table
SQL> create table DTPMS_POLICE_CASE
  2  (
  3    id                VARCHAR2(32) not null,
  4    case_time         DATE,
  5    source            VARCHAR2(8),
  6    child_source      VARCHAR2(8),
  7    report_user       VARCHAR2(32),
  8    report_dept       VARCHAR2(32),
  9    report_phone      VARCHAR2(32),
 10    case_name         VARCHAR2(2100),
 11    case_type         VARCHAR2(8),
 12    case_child_type   VARCHAR2(8),
 13    nlevel            VARCHAR2(8),
 14    department        VARCHAR2(32),
 15    case_place        VARCHAR2(200),
 16    case_point        VARCHAR2(32),
 17    case_desc         VARCHAR2(4000),
 18    traffic_desc      VARCHAR2(2000),
 19    case_status       VARCHAR2(4),
 20    flow_status       VARCHAR2(4),
 21    remark            VARCHAR2(2000),
 22    injured_people    NUMBER,
 23    die_people        NUMBER,
 24    leader_type       VARCHAR2(8),
 25    schedule          VARCHAR2(4),
 26    schedule_user     VARCHAR2(32),
 27    create_user       VARCHAR2(32),
 28    create_time       DATE,
 29    update_user       VARCHAR2(32),
 30    update_time       DATE,
 31    police_status     VARCHAR2(4),
 32    police_direct     VARCHAR2(1),
 33    congestion_cause  VARCHAR2(1000),
 34    case_identityid   VARCHAR2(100) default '',
 35    geometry          MDSYS.SDO_GEOMETRY,
 36    sectionid         NVARCHAR2(8),
 37    case_child_status VARCHAR2(4),
 38    picurls           NVARCHAR2(2000)
 39  )
 40  tablespace HIATMPTS
 41    pctfree 10
 42    initrans 1
 43    maxtrans 255
 44    storage
 45    (
 46      initial 64
 47      next 1
 48      minextents 1
 49      maxextents unlimited
 50    );
SQL> -- Add comments to the table
SQL> comment on table DTPMS_POLICE_CASE
  2    is '警情信息表-5.0';
SQL> -- Add comments to the columns
SQL> comment on column DTPMS_POLICE_CASE.id
  2    is 'UUID';
SQL> comment on column DTPMS_POLICE_CASE.case_time
  2    is '报警时间';
SQL> comment on column DTPMS_POLICE_CASE.source
  2    is '警情一级来源 枚举1400';
SQL> comment on column DTPMS_POLICE_CASE.child_source
  2    is '警情二级来源 枚举';
SQL> comment on column DTPMS_POLICE_CASE.report_user
  2    is '报警人 内部使用userid';
SQL> comment on column DTPMS_POLICE_CASE.report_dept
  2    is '报警人所属部门 内部部门id，非内部为空';
SQL> comment on column DTPMS_POLICE_CASE.report_phone
  2    is '联系电话';
SQL> comment on column DTPMS_POLICE_CASE.case_name
  2    is '警情名称';
SQL> comment on column DTPMS_POLICE_CASE.case_type
  2    is '警情一级类别 枚举1420';
SQL> comment on column DTPMS_POLICE_CASE.case_child_type
  2    is '警情二级类别 枚举';
SQL> comment on column DTPMS_POLICE_CASE.nlevel
  2    is '警情级别 枚举1440';
SQL> comment on column DTPMS_POLICE_CASE.department
  2    is '所属单位 部门ID';
SQL> comment on column DTPMS_POLICE_CASE.case_place
  2    is '警情发生地点';
SQL> comment on column DTPMS_POLICE_CASE.case_point
  2    is '坐标定位';
SQL> comment on column DTPMS_POLICE_CASE.case_desc
  2    is '警情描述';
SQL> comment on column DTPMS_POLICE_CASE.traffic_desc
  2    is '影响交通描述';
SQL> comment on column DTPMS_POLICE_CASE.case_status
  2    is '处理状态 0未处理、1处理中、2处理完毕';
SQL> comment on column DTPMS_POLICE_CASE.flow_status
  2    is '下发状态 0待下发、1待签收、2退回、3已签收';
SQL> comment on column DTPMS_POLICE_CASE.remark
  2    is '备注';
SQL> comment on column DTPMS_POLICE_CASE.injured_people
  2    is '受伤人数';
SQL> comment on column DTPMS_POLICE_CASE.die_people
  2    is '死亡人数';
SQL> comment on column DTPMS_POLICE_CASE.leader_type
  2    is '领导交办指示类型';
SQL> comment on column DTPMS_POLICE_CASE.schedule
  2    is '调度状态  0为调度1调度中';
SQL> comment on column DTPMS_POLICE_CASE.schedule_user
  2    is '调度人';
SQL> comment on column DTPMS_POLICE_CASE.create_user
  2    is '创建用户';
SQL> comment on column DTPMS_POLICE_CASE.create_time
  2    is '创建时间';
SQL> comment on column DTPMS_POLICE_CASE.update_user
  2    is '最后更新用户';
SQL> comment on column DTPMS_POLICE_CASE.update_time
  2    is '最后更新时间';
SQL> comment on column DTPMS_POLICE_CASE.police_status
  2    is '派警状态  0未派警1已派警';
SQL> comment on column DTPMS_POLICE_CASE.sectionid
  2    is '警情所在路段编号，对应路段表sectionid';
SQL> comment on column DTPMS_POLICE_CASE.picurls
  2    is '警情图片路径，多个逗号分隔';
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table DTPMS_POLICE_CASE
  2    add constraint PK_DPC primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
SQL> -- Create table
SQL> create table GAODE_POI_POINT
  2  (
  3    pid       VARCHAR2(35),
  4    poi_id    VARCHAR2(35),
  5    name      VARCHAR2(1500),
  6    address   VARCHAR2(1500),
  7    phone     VARCHAR2(500),
  8    display_x VARCHAR2(20),
  9    display_y VARCHAR2(20),
 10    area      VARCHAR2(50),
 11    type      VARCHAR2(1500),
 12    geometry  MDSYS.SDO_GEOMETRY,
 13    dept      VARCHAR2(20)
 14  )
 15  tablespace USERS
 16    pctfree 10
 17    initrans 1
 18    maxtrans 255
 19    storage
 20    (
 21      initial 160
 22      next 1
 23      minextents 1
 24      maxextents unlimited
 25    );
SQL> -- Add comments to the columns
SQL> comment on column GAODE_POI_POINT.pid
  2    is 'id';
SQL> comment on column GAODE_POI_POINT.name
  2    is 'poi名称';
SQL> comment on column GAODE_POI_POINT.address
  2    is 'poi地址';
SQL> comment on column GAODE_POI_POINT.phone
  2    is '电话';
SQL> comment on column GAODE_POI_POINT.display_x
  2    is '经度';
SQL> comment on column GAODE_POI_POINT.display_y
  2    is '纬度';
SQL> comment on column GAODE_POI_POINT.area
  2    is '所属区域（如山东省+青岛市+黄岛区）';
SQL> comment on column GAODE_POI_POINT.type
  2    is '类型';
SQL> comment on column GAODE_POI_POINT.dept
  2    is '所属辖区';
SQL> -- 200420新增
SQL> prompt PL/SQL Developer import file
PL/SQL Developer import file
SQL> prompt Created on 2020年4月20日 by duyulin
Created on 2020年4月20日 by duyulin
SQL> set feedback off
SQL> set define off
SQL> prompt Creating EQUIPMENT_INFO_STATE_HISTORY...
Creating EQUIPMENT_INFO_STATE_HISTORY...
SQL> create table EQUIPMENT_INFO_STATE_HISTORY
  2  (
  3    deviceid       NVARCHAR2(18),
  4    devicestate    VARCHAR2(2),
  5    updatetime     DATE,
  6    cdescription   NVARCHAR2(1000),
  7    id             VARCHAR2(32) not null,
  8    devicetype     VARCHAR2(2),
  9    deviceorserver NVARCHAR2(2),
 10    maintainid     NVARCHAR2(32)
 11  )
 12  tablespace HIATMPTS
 13    pctfree 10
 14    initrans 1
 15    maxtrans 255;
SQL> comment on column EQUIPMENT_INFO_STATE_HISTORY.deviceid
  2    is '设备ID';
SQL> comment on column EQUIPMENT_INFO_STATE_HISTORY.devicestate
  2    is '设备状态';
SQL> comment on column EQUIPMENT_INFO_STATE_HISTORY.updatetime
  2    is '状态改变时间';
SQL> comment on column EQUIPMENT_INFO_STATE_HISTORY.cdescription
  2    is '状态描述';
SQL> comment on column EQUIPMENT_INFO_STATE_HISTORY.id
  2    is '记录ID，自增，无实际意义';
SQL> comment on column EQUIPMENT_INFO_STATE_HISTORY.devicetype
  2    is '设备类型';
SQL> comment on column EQUIPMENT_INFO_STATE_HISTORY.deviceorserver
  2    is '服务还是设备';
SQL> comment on column EQUIPMENT_INFO_STATE_HISTORY.maintainid
  2    is '关联的维修单ID';
SQL> alter table EQUIPMENT_INFO_STATE_HISTORY
  2    add constraint EQUIP_STATE_ID primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
SQL> prompt Creating EQUIPMENT_STATE...
Creating EQUIPMENT_STATE...
SQL> create table EQUIPMENT_STATE
  2  (
  3    deviceid               NVARCHAR2(30) not null,
  4    devicetype             NVARCHAR2(4),
  5    lanenum                VARCHAR2(2),
  6    lastuploadtime         DATE,
  7    delay_time             NUMBER(8),
  8    devicestate            INTEGER not null,
  9    cdescription           NVARCHAR2(256),
 10    illegallastuploadtime  DATE,
 11    check_time             DATE default sysdate,
 12    pointid                NVARCHAR2(30),
 13    direction              VARCHAR2(2),
 14    passthreshold          NUMBER(8) default 0,
 15    illegalthreshold       NUMBER(8) default 0,
 16    nid                    VARCHAR2(32) not null,
 17    excepthreshold         INTEGER default 0,
 18    passthresholddetail    VARCHAR2(250),
 19    illegalthresholddetail VARCHAR2(250),
 20    exceptthresholddetail  VARCHAR2(250)
 21  )
 22  tablespace HIATMPTS
 23    pctfree 10
 24    initrans 1
 25    maxtrans 255;
SQL> comment on table EQUIPMENT_STATE
  2    is '设备状态表';
SQL> comment on column EQUIPMENT_STATE.deviceid
  2    is '设备ID';
SQL> comment on column EQUIPMENT_STATE.devicetype
  2    is '子系统类型';
SQL> comment on column EQUIPMENT_STATE.lanenum
  2    is '车道号';
SQL> comment on column EQUIPMENT_STATE.lastuploadtime
  2    is '状态上传时间';
SQL> comment on column EQUIPMENT_STATE.delay_time
  2    is '延时时间(秒数)';
SQL> comment on column EQUIPMENT_STATE.devicestate
  2    is '设备状态';
SQL> comment on column EQUIPMENT_STATE.cdescription
  2    is '描述';
SQL> comment on column EQUIPMENT_STATE.illegallastuploadtime
  2    is '设备违法最后上传时间';
SQL> comment on column EQUIPMENT_STATE.check_time
  2    is '检测时间';
SQL> comment on column EQUIPMENT_STATE.pointid
  2    is '安装地点';
SQL> comment on column EQUIPMENT_STATE.direction
  2    is '方向';
SQL> comment on column EQUIPMENT_STATE.nid
  2    is 'id';
SQL> comment on column EQUIPMENT_STATE.excepthreshold
  2    is '异常数据阈值';
SQL> comment on column EQUIPMENT_STATE.passthresholddetail
  2    is '具体时间段过车阀值';
SQL> comment on column EQUIPMENT_STATE.illegalthresholddetail
  2    is '具体时间段违法阀值';
SQL> comment on column EQUIPMENT_STATE.exceptthresholddetail
  2    is '具体时间段异常阀值';
SQL> alter table EQUIPMENT_STATE
  2    add constraint EQUIPMENT_STATE_PK primary key (NID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
SQL> prompt Creating EQUIP_CALIBRATION_WARN_PERSON...
Creating EQUIP_CALIBRATION_WARN_PERSON...
SQL> create table EQUIP_CALIBRATION_WARN_PERSON
  2  (
  3    id                VARCHAR2(32) not null,
  4    eci_id            VARCHAR2(32) not null,
  5    warn_person_id    VARCHAR2(32) not null,
  6    warn_person_name  VARCHAR2(61),
  7    warn_person_phone VARCHAR2(32)
  8  )
  9  tablespace HIATMPTS
 10    pctfree 10
 11    initrans 1
 12    maxtrans 255;
SQL> comment on column EQUIP_CALIBRATION_WARN_PERSON.id
  2    is '主键';
SQL> comment on column EQUIP_CALIBRATION_WARN_PERSON.eci_id
  2    is '标定ID';
SQL> comment on column EQUIP_CALIBRATION_WARN_PERSON.warn_person_id
  2    is '提醒人ID';
SQL> comment on column EQUIP_CALIBRATION_WARN_PERSON.warn_person_name
  2    is '提醒人姓名';
SQL> comment on column EQUIP_CALIBRATION_WARN_PERSON.warn_person_phone
  2    is '提醒人手机号码';
SQL> alter table EQUIP_CALIBRATION_WARN_PERSON
  2    add constraint EQUIP_CALIBRATION_WARN_P_PK primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
SQL> prompt Creating EQUIP_FAULT_INFO...
Creating EQUIP_FAULT_INFO...
SQL> create table EQUIP_FAULT_INFO
  2  (
  3    msgid          VARCHAR2(50) not null,
  4    policeid       VARCHAR2(6),
  5    deviceid       VARCHAR2(50),
  6    faultmessageid VARCHAR2(50),
  7    reporttime     DATE,
  8    feedbacktime   DATE,
  9    feedbackcode   VARCHAR2(2),
 10    feedbackdsc    VARCHAR2(50)
 11  )
 12  tablespace HIATMPTS
 13    pctfree 10
 14    initrans 1
 15    maxtrans 255
 16    storage
 17    (
 18      initial 64K
 19      next 1M
 20      minextents 1
 21      maxextents unlimited
 22    );
SQL> comment on column EQUIP_FAULT_INFO.msgid
  2    is '上报消息ID';
SQL> comment on column EQUIP_FAULT_INFO.policeid
  2    is '警员id';
SQL> comment on column EQUIP_FAULT_INFO.deviceid
  2    is '设备id';
SQL> comment on column EQUIP_FAULT_INFO.faultmessageid
  2    is '上报故障描述id';
SQL> comment on column EQUIP_FAULT_INFO.reporttime
  2    is '上报时间';
SQL> comment on column EQUIP_FAULT_INFO.feedbacktime
  2    is '反馈时间';
SQL> comment on column EQUIP_FAULT_INFO.feedbackcode
  2    is '反馈代码';
SQL> comment on column EQUIP_FAULT_INFO.feedbackdsc
  2    is '具体描述';
SQL> -- Create/Recreate indexes
SQL> create index IDX_FEEDBACK_TIME on EQUIP_FAULT_INFO (FEEDBACKTIME)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
SQL> prompt Creating EQUIP_FAULT_PHENOMENON...
Creating EQUIP_FAULT_PHENOMENON...
SQL> create table EQUIP_FAULT_PHENOMENON
  2  (
  3    id                 VARCHAR2(32) not null,
  4    code               VARCHAR2(16),
  5    equip_service_flag VARCHAR2(2),
  6    device_type        VARCHAR2(2),
  7    fault_first_code   VARCHAR2(4),
  8    fault_first_name   VARCHAR2(100),
  9    fault_second_code  VARCHAR2(4),
 10    fault_second_name  VARCHAR2(100),
 11    fault_third_code   VARCHAR2(4),
 12    fault_third_name   VARCHAR2(100),
 13    editable           VARCHAR2(4) default 1,
 14    phenomenon_desc    NVARCHAR2(100),
 15    creator            NVARCHAR2(20),
 16    create_time        DATE default sysdate,
 17    updater            NVARCHAR2(20),
 18    update_time        DATE default sysdate
 19  )
 20  tablespace HIATMPTS
 21    pctfree 10
 22    initrans 1
 23    maxtrans 255;
SQL> comment on column EQUIP_FAULT_PHENOMENON.id
  2    is 'ID';
SQL> comment on column EQUIP_FAULT_PHENOMENON.code
  2    is '9位现象代码';
SQL> comment on column EQUIP_FAULT_PHENOMENON.equip_service_flag
  2    is '设备服务标记  1设备  2服务';
SQL> comment on column EQUIP_FAULT_PHENOMENON.device_type
  2    is '设备类型';
SQL> comment on column EQUIP_FAULT_PHENOMENON.fault_first_code
  2    is '一级故障ID（故障编号)';
SQL> comment on column EQUIP_FAULT_PHENOMENON.fault_first_name
  2    is '一级故障名称';
SQL> comment on column EQUIP_FAULT_PHENOMENON.fault_second_code
  2    is '二级故障ID';
SQL> comment on column EQUIP_FAULT_PHENOMENON.fault_second_name
  2    is '二级故障名称';
SQL> comment on column EQUIP_FAULT_PHENOMENON.fault_third_code
  2    is '三级故障ID';
SQL> comment on column EQUIP_FAULT_PHENOMENON.fault_third_name
  2    is '三级故障名称';
SQL> comment on column EQUIP_FAULT_PHENOMENON.editable
  2    is '系统参数(1可更改,0或空不可更改)';
SQL> comment on column EQUIP_FAULT_PHENOMENON.phenomenon_desc
  2    is '故障现象详细描述';
SQL> comment on column EQUIP_FAULT_PHENOMENON.creator
  2    is '创建者';
SQL> comment on column EQUIP_FAULT_PHENOMENON.create_time
  2    is '创建时间';
SQL> comment on column EQUIP_FAULT_PHENOMENON.updater
  2    is '更新者';
SQL> comment on column EQUIP_FAULT_PHENOMENON.update_time
  2    is '更新时间';
SQL> alter table EQUIP_FAULT_PHENOMENON
  2    add constraint EQUIP_FAULT_PHENOMENON_PK primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
SQL> prompt Creating EQUIP_FAULT_REASON...
Creating EQUIP_FAULT_REASON...
SQL> create table EQUIP_FAULT_REASON
  2  (
  3    id                 VARCHAR2(32) not null,
  4    code               VARCHAR2(16),
  5    equip_service_flag VARCHAR2(2),
  6    device_type        VARCHAR2(2),
  7    fault_first_code   VARCHAR2(4),
  8    fault_first_name   VARCHAR2(100),
  9    fault_second_code  VARCHAR2(4),
 10    fault_second_name  VARCHAR2(100),
 11    fault_third_code   VARCHAR2(4),
 12    fault_third_name   VARCHAR2(100),
 13    editable           VARCHAR2(4) default 1,
 14    reason_desc        NVARCHAR2(100),
 15    fault_type         VARCHAR2(8),
 16    reason_type        VARCHAR2(8),
 17    creator            NVARCHAR2(20),
 18    create_time        DATE default sysdate,
 19    updater            NVARCHAR2(20),
 20    update_time        DATE default sysdate
 21  )
 22  tablespace HIATMPTS
 23    pctfree 10
 24    initrans 1
 25    maxtrans 255;
SQL> comment on column EQUIP_FAULT_REASON.id
  2    is 'ID';
SQL> comment on column EQUIP_FAULT_REASON.code
  2    is '9位故障原因编码';
SQL> comment on column EQUIP_FAULT_REASON.equip_service_flag
  2    is '设备服务标记  1设备  2服务';
SQL> comment on column EQUIP_FAULT_REASON.device_type
  2    is '设备类型';
SQL> comment on column EQUIP_FAULT_REASON.fault_first_code
  2    is '一级故障ID（故障编号)';
SQL> comment on column EQUIP_FAULT_REASON.fault_first_name
  2    is '一级故障名称';
SQL> comment on column EQUIP_FAULT_REASON.fault_second_code
  2    is '二级故障ID';
SQL> comment on column EQUIP_FAULT_REASON.fault_second_name
  2    is '二级故障名称';
SQL> comment on column EQUIP_FAULT_REASON.fault_third_code
  2    is '三级故障ID';
SQL> comment on column EQUIP_FAULT_REASON.fault_third_name
  2    is '三级故障名称';
SQL> comment on column EQUIP_FAULT_REASON.editable
  2    is '系统参数(1可更改,0或空不可更改)';
SQL> comment on column EQUIP_FAULT_REASON.reason_desc
  2    is '故障现象详细描述';
SQL> comment on column EQUIP_FAULT_REASON.fault_type
  2    is '关联-故障类型(暂13种)(质推部定义)（枚举：211';
SQL> comment on column EQUIP_FAULT_REASON.reason_type
  2    is '关联-故障因素分类(暂6种)(质推部定义)(枚举:216';
SQL> comment on column EQUIP_FAULT_REASON.creator
  2    is '创建者';
SQL> comment on column EQUIP_FAULT_REASON.create_time
  2    is '创建时间';
SQL> comment on column EQUIP_FAULT_REASON.updater
  2    is '更新者';
SQL> comment on column EQUIP_FAULT_REASON.update_time
  2    is '更新时间';
SQL> alter table EQUIP_FAULT_REASON
  2    add constraint EQUIP_FAULT_REASON_PK primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
SQL> prompt Creating EQUIP_INSPECTION_DATA...
Creating EQUIP_INSPECTION_DATA...
SQL> create table EQUIP_INSPECTION_DATA
  2  (
  3    id                   NUMBER(18) not null,
  4    taskid               VARCHAR2(32),
  5    inspection_record_id NUMBER(18),
  6    devicetype           NVARCHAR2(2),
  7    devicetype_name      VARCHAR2(30),
  8    deviceid             VARCHAR2(30),
  9    devicename           VARCHAR2(200),
 10    data_type            VARCHAR2(32),
 11    business_data_id     VARCHAR2(32),
 12    inspection_result    VARCHAR2(20),
 13    inspection_people    VARCHAR2(20),
 14    inspection_time      DATE,
 15    error_type           VARCHAR2(2),
 16    description          VARCHAR2(400)
 17  )
 18  tablespace HIATMPTS
 19    pctfree 10
 20    initrans 1
 21    maxtrans 255;
SQL> comment on table EQUIP_INSPECTION_DATA
  2    is '设备巡检数据表';
SQL> comment on column EQUIP_INSPECTION_DATA.id
  2    is '主键ID
  3  ';
SQL> comment on column EQUIP_INSPECTION_DATA.taskid
  2    is '巡检任务编号
  3  ';
SQL> comment on column EQUIP_INSPECTION_DATA.inspection_record_id
  2    is '巡检记录表ID
  3  ';
SQL> comment on column EQUIP_INSPECTION_DATA.devicetype
  2    is '设备类型编号
  3  ';
SQL> comment on column EQUIP_INSPECTION_DATA.devicetype_name
  2    is '设备类型名称
  3  ';
SQL> comment on column EQUIP_INSPECTION_DATA.deviceid
  2    is '设备编码
  3  ';
SQL> comment on column EQUIP_INSPECTION_DATA.devicename
  2    is '设备名称
  3  ';
SQL> comment on column EQUIP_INSPECTION_DATA.data_type
  2    is '数据类型（1:过车，2:违法，3:流量）
  3  ';
SQL> comment on column EQUIP_INSPECTION_DATA.business_data_id
  2    is '业务数据ID（过车违法流量 数据Id）
  3  ';
SQL> comment on column EQUIP_INSPECTION_DATA.inspection_result
  2    is '巡检结果
  3  ';
SQL> comment on column EQUIP_INSPECTION_DATA.inspection_people
  2    is '巡检人
  3  ';
SQL> comment on column EQUIP_INSPECTION_DATA.inspection_time
  2    is '巡检时间
  3  ';
SQL> comment on column EQUIP_INSPECTION_DATA.error_type
  2    is '错误类型(枚举值88)
  3  ';
SQL> comment on column EQUIP_INSPECTION_DATA.description
  2    is '描述
  3  ';
SQL> alter table EQUIP_INSPECTION_DATA
  2    add primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255;
SQL> prompt Creating EQUIP_INSPECTION_RECORD...
Creating EQUIP_INSPECTION_RECORD...
SQL> create table EQUIP_INSPECTION_RECORD
  2  (
  3    id                       NUMBER(18) not null,
  4    taskid                   VARCHAR2(32),
  5    devicetype               NVARCHAR2(2),
  6    devicetype_name          VARCHAR2(64),
  7    deviceid                 VARCHAR2(30) not null,
  8    devicename               VARCHAR2(200),
  9    inspection_type          VARCHAR2(20) not null,
 10    inspection_state         VARCHAR2(32),
 11    inspection_result        VARCHAR2(20),
 12    inspection_record_count  NUMBER(30) default 0,
 13    inspection_time          DATE,
 14    inspection_man           VARCHAR2(20),
 15    inspection_success_count NUMBER(30) default 0,
 16    description              VARCHAR2(1500),
 17    inspection_pass_count    NUMBER(30),
 18    inspection_check_count   NUMBER(30)
 19  )
 20  tablespace HIATMPTS
 21    pctfree 10
 22    initrans 1
 23    maxtrans 255;
SQL> comment on table EQUIP_INSPECTION_RECORD
  2    is '设备巡检记录表';
SQL> comment on column EQUIP_INSPECTION_RECORD.id
  2    is '主键ID';
SQL> comment on column EQUIP_INSPECTION_RECORD.taskid
  2    is '巡检任务编号';
SQL> comment on column EQUIP_INSPECTION_RECORD.devicetype
  2    is '设备类型编号';
SQL> comment on column EQUIP_INSPECTION_RECORD.devicetype_name
  2    is '设备类型名称';
SQL> comment on column EQUIP_INSPECTION_RECORD.deviceid
  2    is '设备编码';
SQL> comment on column EQUIP_INSPECTION_RECORD.devicename
  2    is '设备名称';
SQL> comment on column EQUIP_INSPECTION_RECORD.inspection_type
  2    is '巡检类型(1:过车，2:违法，3.视频)';
SQL> comment on column EQUIP_INSPECTION_RECORD.inspection_state
  2    is '巡检状态(0未巡检1巡检中2巡检结束)';
SQL> comment on column EQUIP_INSPECTION_RECORD.inspection_result
  2    is '巡检结果';
SQL> comment on column EQUIP_INSPECTION_RECORD.inspection_record_count
  2    is '巡检记录条数/外场设备巡检数';
SQL> comment on column EQUIP_INSPECTION_RECORD.inspection_time
  2    is '巡检时间';
SQL> comment on column EQUIP_INSPECTION_RECORD.inspection_man
  2    is '巡检人';
SQL> comment on column EQUIP_INSPECTION_RECORD.inspection_success_count
  2    is '成功的条数/外场设备巡检正常设备数';
SQL> comment on column EQUIP_INSPECTION_RECORD.description
  2    is '描述';
SQL> comment on column EQUIP_INSPECTION_RECORD.inspection_pass_count
  2    is '实际过车数';
SQL> comment on column EQUIP_INSPECTION_RECORD.inspection_check_count
  2    is '过车检测数';
SQL> alter table EQUIP_INSPECTION_RECORD
  2    add primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
SQL> prompt Creating EQUIP_INSPECTION_TASK...
Creating EQUIP_INSPECTION_TASK...
SQL> create table EQUIP_INSPECTION_TASK
  2  (
  3    id                    NUMBER(18) not null,
  4    taskid                VARCHAR2(32) not null,
  5    configid              VARCHAR2(32),
  6    taskname              VARCHAR2(100),
  7    projectid             VARCHAR2(20),
  8    devicetype            VARCHAR2(2),
  9    data_count_min        NUMBER(10),
 10    start_date            DATE,
 11    end_date              DATE,
 12    cycle                 NUMBER(3),
 13    device_count          NUMBER(10),
 14    tasktype              VARCHAR2(2),
 15    inspection_count      NUMBER(10),
 16    day_count             NUMBER(10),
 17    fault_count           NUMBER(10),
 18    accuracy_rate         NUMBER(5,2) default 0.0,
 19    unfault_accuracy_rate NUMBER(5,2) default 0.0,
 20    task_status           VARCHAR2(2) default 0,
 21    task_endtime          DATE,
 22    task_desc             VARCHAR2(500),
 23    device_source         VARCHAR2(2)
 24  )
 25  tablespace HIATMPTS
 26    pctfree 10
 27    initrans 1
 28    maxtrans 255;
SQL> comment on column EQUIP_INSPECTION_TASK.id
  2    is 'ID主键';
SQL> comment on column EQUIP_INSPECTION_TASK.taskid
  2    is '巡检任务编号';
SQL> comment on column EQUIP_INSPECTION_TASK.configid
  2    is '规则编号';
SQL> comment on column EQUIP_INSPECTION_TASK.taskname
  2    is '巡检任务名称';
SQL> comment on column EQUIP_INSPECTION_TASK.projectid
  2    is '所属项目编号';
SQL> comment on column EQUIP_INSPECTION_TASK.devicetype
  2    is '设备类型编号';
SQL> comment on column EQUIP_INSPECTION_TASK.data_count_min
  2    is '最小巡检数据量';
SQL> comment on column EQUIP_INSPECTION_TASK.start_date
  2    is '开始日期';
SQL> comment on column EQUIP_INSPECTION_TASK.end_date
  2    is '结束日期';
SQL> comment on column EQUIP_INSPECTION_TASK.cycle
  2    is '巡检周期（天）';
SQL> comment on column EQUIP_INSPECTION_TASK.device_count
  2    is '设备总数';
SQL> comment on column EQUIP_INSPECTION_TASK.tasktype
  2    is '任务类型（0: 自动生成 1：手动生成）';
SQL> comment on column EQUIP_INSPECTION_TASK.inspection_count
  2    is '已巡检设备数';
SQL> comment on column EQUIP_INSPECTION_TASK.day_count
  2    is '当日巡检数';
SQL> comment on column EQUIP_INSPECTION_TASK.fault_count
  2    is '故障设备数';
SQL> comment on column EQUIP_INSPECTION_TASK.accuracy_rate
  2    is '完成率';
SQL> comment on column EQUIP_INSPECTION_TASK.unfault_accuracy_rate
  2    is '除故障设备完成率';
SQL> comment on column EQUIP_INSPECTION_TASK.task_status
  2    is '任务状态(1.完成 0.未完成)';
SQL> comment on column EQUIP_INSPECTION_TASK.task_endtime
  2    is '任务完成时间';
SQL> comment on column EQUIP_INSPECTION_TASK.task_desc
  2    is '任务描述';
SQL> comment on column EQUIP_INSPECTION_TASK.device_source
  2    is '设备来源（平台内设备1，平台外设备2）';
SQL> alter table EQUIP_INSPECTION_TASK
  2    add primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
SQL> prompt Creating EQUIP_LINK...
Creating EQUIP_LINK...
SQL> create table EQUIP_LINK
  2  (
  3    nid                VARCHAR2(32) not null,
  4    deviceid           VARCHAR2(18),
  5    parent_link_id     VARCHAR2(18),
  6    link_flag          VARCHAR2(1),
  7    exception_flag     VARCHAR2(1) default 0,
  8    parent_level       VARCHAR2(3),
  9    equip_service_flag VARCHAR2(2) default 1
 10  )
 11  tablespace HIATMPTS
 12    pctfree 10
 13    initrans 1
 14    maxtrans 255;
SQL> comment on column EQUIP_LINK.nid
  2    is 'UUID唯一标识';
SQL> comment on column EQUIP_LINK.deviceid
  2    is '设备id(包括中心服务)';
SQL> comment on column EQUIP_LINK.parent_link_id
  2    is '父节点id';
SQL> comment on column EQUIP_LINK.link_flag
  2    is '链路标识，0网路链路，1数据链路';
SQL> comment on column EQUIP_LINK.exception_flag
  2    is '节点异常标识，0正常1异常';
SQL> comment on column EQUIP_LINK.parent_level
  2    is '父节点级别';
SQL> comment on column EQUIP_LINK.equip_service_flag
  2    is '设备服务标记，1：前端设备 2：系统服务（枚举表：85）';
SQL> alter table EQUIP_LINK
  2    add constraint EQUIP_LINK_PK primary key (NID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
SQL> prompt Creating EQUIP_MAINTAIN...
Creating EQUIP_MAINTAIN...
SQL> create table EQUIP_MAINTAIN
  2  (
  3    cid                 VARCHAR2(32) not null,
  4    cequipid            VARCHAR2(32),
  5    cequiptype          VARCHAR2(4),
  6    cpointid            VARCHAR2(18),
  7    cprojectid          VARCHAR2(20),
  8    cbugdetail          NVARCHAR2(1000),
  9    dplanrepairtime     DATE,
 10    drealrepairtime     DATE,
 11    nrealrepaircost     NUMBER(10,2),
 12    nworkhour           NUMBER(8,2),
 13    creportman          NVARCHAR2(32),
 14    creportmantelephone VARCHAR2(16),
 15    cremark             NVARCHAR2(50),
 16    deleteflag          VARCHAR2(2),
 17    fault_cause         VARCHAR2(500),
 18    fault_solution      VARCHAR2(500),
 19    dispatchtime        DATE,
 20    crepairid           VARCHAR2(32),
 21    maintainid          VARCHAR2(32),
 22    fault_from          VARCHAR2(2) default 0,
 23    result_status       VARCHAR2(2),
 24    dispatchid          VARCHAR2(32),
 25    merge_cid           VARCHAR2(32),
 26    maintain_status     VARCHAR2(2),
 27    feedback_status     VARCHAR2(2) default 0,
 28    creator             NVARCHAR2(32),
 29    service_level       VARCHAR2(4),
 30    fault_type          VARCHAR2(32),
 31    faulttime           DATE default sysdate,
 32    crepairman_phone    VARCHAR2(16),
 33    equip_service_flag  VARCHAR2(2) default 1,
 34    third_party_flag    VARCHAR2(2) default 0,
 35    cprojectname        VARCHAR2(200),
 36    beforeimagepath     VARCHAR2(100),
 37    afterimagepath      VARCHAR2(100),
 38    overdue_type        VARCHAR2(2),
 39    overdue_cause       VARCHAR2(500),
 40    devicename          VARCHAR2(256),
 41    feedback_info       VARCHAR2(500),
 42    update_time         DATE default sysdate,
 43    fault_reason        VARCHAR2(32),
 44    solution_type       VARCHAR2(32),
 45    part_id             VARCHAR2(32),
 46    maintain_type       VARCHAR2(32),
 47    overdue_reason      VARCHAR2(32),
 48    arrival_time        DATE,
 49    reason_type         VARCHAR2(32),
 50    fault_phenomenon    VARCHAR2(1000)
 51  )
 52  tablespace HIATMPTS
 53    pctfree 10
 54    initrans 1
 55    maxtrans 255
 56    storage
 57    (
 58      initial 64K
 59      next 8K
 60      minextents 1
 61      maxextents unlimited
 62    );
SQL> comment on table EQUIP_MAINTAIN
  2    is '设备故障维修单管理表';
SQL> comment on column EQUIP_MAINTAIN.cid
  2    is 'uuid';
SQL> comment on column EQUIP_MAINTAIN.cequipid
  2    is '设备ID';
SQL> comment on column EQUIP_MAINTAIN.cequiptype
  2    is '设备类型（枚举代码111）';
SQL> comment on column EQUIP_MAINTAIN.cpointid
  2    is '设备安装点信息';
SQL> comment on column EQUIP_MAINTAIN.cprojectid
  2    is '所属项目（枚举代码890）';
SQL> comment on column EQUIP_MAINTAIN.cbugdetail
  2    is '故障现象描述(故障描述)';
SQL> comment on column EQUIP_MAINTAIN.dplanrepairtime
  2    is '维修计划完成时间';
SQL> comment on column EQUIP_MAINTAIN.drealrepairtime
  2    is '维修实际完成时间';
SQL> comment on column EQUIP_MAINTAIN.nrealrepaircost
  2    is '维修实际费用';
SQL> comment on column EQUIP_MAINTAIN.nworkhour
  2    is '维修工时';
SQL> comment on column EQUIP_MAINTAIN.creportman
  2    is '故障报告人,或者是检测适配器名称';
SQL> comment on column EQUIP_MAINTAIN.creportmantelephone
  2    is '故障报告人联系方式';
SQL> comment on column EQUIP_MAINTAIN.cremark
  2    is '备注';
SQL> comment on column EQUIP_MAINTAIN.deleteflag
  2    is '删除标记 0:未删除 1:已删除';
SQL> comment on column EQUIP_MAINTAIN.fault_cause
  2    is '故障原因详述';
SQL> comment on column EQUIP_MAINTAIN.fault_solution
  2    is '解决方案描述';
SQL> comment on column EQUIP_MAINTAIN.dispatchtime
  2    is '派工时间';
SQL> comment on column EQUIP_MAINTAIN.crepairid
  2    is '维修人';
SQL> comment on column EQUIP_MAINTAIN.maintainid
  2    is '维修单编号（要能够区分，如格式“AU20131217150421001801”“故障来源+时间+设备号+设备类型”（AU:自动，HA:手动））
  3  ';
SQL> comment on column EQUIP_MAINTAIN.fault_from
  2    is '故障来源 01:自动检测 02:手动上报
  3   (枚举表：74)';
SQL> comment on column EQUIP_MAINTAIN.result_status
  2    is '处理结果 1已解决2误报3停用4拆除5已合并6自动修复7已删除 (枚举表：76)';
SQL> comment on column EQUIP_MAINTAIN.dispatchid
  2    is '派工单号';
SQL> comment on column EQUIP_MAINTAIN.merge_cid
  2    is '合并维修单遍号
  3  ';
SQL> comment on column EQUIP_MAINTAIN.maintain_status
  2    is '维修状态 0:未处理、1:维修中、2:完成(枚举表：75)';
SQL> comment on column EQUIP_MAINTAIN.feedback_status
  2    is '反馈表示字段 0:无需反馈，1:待反馈，2:已反馈
  3  （枚举表：78）';
SQL> comment on column EQUIP_MAINTAIN.creator
  2    is '创建者ID，或者是报障适配器';
SQL> comment on column EQUIP_MAINTAIN.service_level
  2    is '服务级别，P0、P1、P2、P3、P4
  3  （表：EQUIP_SERVICE_LEVEL
  4  ）';
SQL> comment on column EQUIP_MAINTAIN.fault_type
  2    is '故障类型(暂13种)(质推部定义)（枚举：211';
SQL> comment on column EQUIP_MAINTAIN.faulttime
  2    is '故障时间
  3  ';
SQL> comment on column EQUIP_MAINTAIN.crepairman_phone
  2    is '维修人联系方式';
SQL> comment on column EQUIP_MAINTAIN.equip_service_flag
  2    is '设备服务标记，1：前端设备 2：系统服务（枚举表：85）';
SQL> comment on column EQUIP_MAINTAIN.third_party_flag
  2    is '是否第三方 0:非第三方 1：第三方
  3  ';
SQL> comment on column EQUIP_MAINTAIN.cprojectname
  2    is '所属项目名称';
SQL> comment on column EQUIP_MAINTAIN.beforeimagepath
  2    is '维修前图片';
SQL> comment on column EQUIP_MAINTAIN.afterimagepath
  2    is '维修后图片';
SQL> comment on column EQUIP_MAINTAIN.overdue_type
  2    is '逾期因素 （枚举：89） 1：海信因素，2：分包商因素
  3  ';
SQL> comment on column EQUIP_MAINTAIN.overdue_cause
  2    is '逾期原因
  3  ';
SQL> comment on column EQUIP_MAINTAIN.devicename
  2    is '设备名称，合并维修单显示合并后的故障名称';
SQL> comment on column EQUIP_MAINTAIN.feedback_info
  2    is '反馈信息';
SQL> comment on column EQUIP_MAINTAIN.update_time
  2    is '维修单更新时间';
SQL> comment on column EQUIP_MAINTAIN.fault_reason
  2    is '故障原因(维修完成原因分析) 表EQUIP_FAULT_REASON';
SQL> comment on column EQUIP_MAINTAIN.solution_type
  2    is '解决方案（枚举：212';
SQL> comment on column EQUIP_MAINTAIN.part_id
  2    is '部件（枚举：213';
SQL> comment on column EQUIP_MAINTAIN.maintain_type
  2    is '维修方式（枚举：214';
SQL> comment on column EQUIP_MAINTAIN.overdue_reason
  2    is '逾期原因分类（枚举：215';
SQL> comment on column EQUIP_MAINTAIN.arrival_time
  2    is '到场时间';
SQL> comment on column EQUIP_MAINTAIN.reason_type
  2    is '故障因素分类 (暂6种)(质推部定义)(枚举:216';
SQL> comment on column EQUIP_MAINTAIN.fault_phenomenon
  2    is '故障现象(故障上报协议)(并列多个用半角逗号,分割) 表EQUIP_FAULT_PHENOMENON';
SQL> create index EQUIP_MAINTAIN_IDX1 on EQUIP_MAINTAIN (FAULTTIME, CEQUIPTYPE)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
SQL> create index EQUIP_MAINTAIN_IDX2 on EQUIP_MAINTAIN (DPLANREPAIRTIME)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
SQL> create index IDX_EQUIP_DEVICETYPE on EQUIP_MAINTAIN (CEQUIPTYPE)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
SQL> create bitmap index IDX_MAINTAIN_RESULTSTATUS on EQUIP_MAINTAIN (RESULT_STATUS, 0, MAINTAIN_STATUS, THIRD_PARTY_FLAG, CEQUIPID)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
SQL> alter table EQUIP_MAINTAIN
  2    add constraint EQUIP_MAINTAIN_PK primary key (CID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
SQL> prompt Creating EQUIP_MAINTAIN_PARTS...
Creating EQUIP_MAINTAIN_PARTS...
SQL> create table EQUIP_MAINTAIN_PARTS
  2  (
  3    id             VARCHAR2(32) not null,
  4    maintain_id    VARCHAR2(32),
  5    device_id      VARCHAR2(32),
  6    device_part_id VARCHAR2(32),
  7    part_num       VARCHAR2(32),
  8    maintain_type  VARCHAR2(32),
  9    remark         NVARCHAR2(200),
 10    update_time    DATE default sysdate
 11  )
 12  tablespace HIATMPTS
 13    pctfree 10
 14    initrans 1
 15    maxtrans 255;
SQL> comment on table EQUIP_MAINTAIN_PARTS
  2    is '维修详细部件及维修方式等信息';
SQL> comment on column EQUIP_MAINTAIN_PARTS.id
  2    is '唯一ID';
SQL> comment on column EQUIP_MAINTAIN_PARTS.maintain_id
  2    is '维修单ID';
SQL> comment on column EQUIP_MAINTAIN_PARTS.device_id
  2    is '实际维修设备ID';
SQL> comment on column EQUIP_MAINTAIN_PARTS.device_part_id
  2    is '维修设备部件ID';
SQL> comment on column EQUIP_MAINTAIN_PARTS.part_num
  2    is '维修部件数量';
SQL> comment on column EQUIP_MAINTAIN_PARTS.maintain_type
  2    is '维修方式编号';
SQL> comment on column EQUIP_MAINTAIN_PARTS.remark
  2    is '备注信息';
SQL> comment on column EQUIP_MAINTAIN_PARTS.update_time
  2    is '更新时间';
SQL> alter table EQUIP_MAINTAIN_PARTS
  2    add constraint EQUIP_MAINTAIN_PARTS_PK primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255;
SQL> prompt Creating EQUIP_MAINTAIN_TRACKING_INFO...
Creating EQUIP_MAINTAIN_TRACKING_INFO...
SQL> create table EQUIP_MAINTAIN_TRACKING_INFO
  2  (
  3    track_id           VARCHAR2(8) not null,
  4    maintain_id        VARCHAR2(32) not null,
  5    track_info         VARCHAR2(1500),
  6    track_time         DATE,
  7    track_man          VARCHAR2(60),
  8    track_mantelephone VARCHAR2(16)
  9  )
 10  tablespace HIATMPTS
 11    pctfree 10
 12    initrans 1
 13    maxtrans 255;
SQL> comment on column EQUIP_MAINTAIN_TRACKING_INFO.track_id
  2    is 'PK';
SQL> comment on column EQUIP_MAINTAIN_TRACKING_INFO.maintain_id
  2    is '维修编号';
SQL> comment on column EQUIP_MAINTAIN_TRACKING_INFO.track_info
  2    is '跟进信息';
SQL> comment on column EQUIP_MAINTAIN_TRACKING_INFO.track_time
  2    is '跟进时间';
SQL> comment on column EQUIP_MAINTAIN_TRACKING_INFO.track_man
  2    is '跟进人';
SQL> comment on column EQUIP_MAINTAIN_TRACKING_INFO.track_mantelephone
  2    is '跟进人联系方式';
SQL> alter table EQUIP_MAINTAIN_TRACKING_INFO
  2    add constraint EQUIP_MAINTAIN_INFO_PK primary key (TRACK_ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
SQL> prompt Creating EQUIP_OPERATE_LOG...
Creating EQUIP_OPERATE_LOG...
SQL> create table EQUIP_OPERATE_LOG
  2  (
  3    id                     VARCHAR2(32) not null,
  4    deviceid               NVARCHAR2(18) not null,
  5    operatereason          NVARCHAR2(100),
  6    operatedate            DATE,
  7    storeposition          NVARCHAR2(100),
  8    stroemanuserid         CHAR(9),
  9    stroemanusername       NVARCHAR2(32),
 10    stroemanphone          VARCHAR2(15),
 11    manualrevelation       CHAR(1),
 12    revelationprecondition NVARCHAR2(100),
 13    reparieduration        INTEGER default 0,
 14    repariecost            INTEGER default 0,
 15    remark                 NVARCHAR2(500),
 16    operatelog             NVARCHAR2(2000),
 17    equipstate             CHAR(1),
 18    serverorequip          VARCHAR2(2) default 1
 19  )
 20  tablespace HIATMPTS
 21    pctfree 10
 22    initrans 1
 23    maxtrans 255;
SQL> comment on column EQUIP_OPERATE_LOG.id
  2    is '数据ID';
SQL> comment on column EQUIP_OPERATE_LOG.deviceid
  2    is '设备ID';
SQL> comment on column EQUIP_OPERATE_LOG.operatereason
  2    is '操作原因（可以使报废原因、停用原因等等）';
SQL> comment on column EQUIP_OPERATE_LOG.operatedate
  2    is '操作时间（报废时间，停用时间等等）';
SQL> comment on column EQUIP_OPERATE_LOG.storeposition
  2    is '报废或停用设备的保管位置';
SQL> comment on column EQUIP_OPERATE_LOG.stroemanuserid
  2    is '负责人userid（对应operator表nuserid）';
SQL> comment on column EQUIP_OPERATE_LOG.stroemanusername
  2    is '负责人name';
SQL> comment on column EQUIP_OPERATE_LOG.stroemanphone
  2    is '负责人电话';
SQL> comment on column EQUIP_OPERATE_LOG.manualrevelation
  2    is '是否可以随时启用（1 - 是，0 - 否）';
SQL> comment on column EQUIP_OPERATE_LOG.revelationprecondition
  2    is '启用/恢复前提条件';
SQL> comment on column EQUIP_OPERATE_LOG.reparieduration
  2    is '计划维修时长';
SQL> comment on column EQUIP_OPERATE_LOG.repariecost
  2    is '计划维修成本（元）';
SQL> comment on column EQUIP_OPERATE_LOG.remark
  2    is '备注';
SQL> comment on column EQUIP_OPERATE_LOG.operatelog
  2    is '每次操作状态改变的记录';
SQL> comment on column EQUIP_OPERATE_LOG.equipstate
  2    is '设备状态，对应枚举值1211（0-启用；1-停用；2-正常；3-故障；8-带病；9-拆除；5嫌疑）';
SQL> comment on column EQUIP_OPERATE_LOG.serverorequip
  2    is '设备服务标记 对应枚举85 1：前端设备 2：系统服务';
SQL> prompt Creating MAINTAIN_DISPATCH_INFO...
Creating MAINTAIN_DISPATCH_INFO...
SQL> create table MAINTAIN_DISPATCH_INFO
  2  (
  3    id             VARCHAR2(8) not null,
  4    maintainman    NVARCHAR2(50),
  5    maintain_phone VARCHAR2(16),
  6    operator_date  DATE default sysdate,
  7    operator       NVARCHAR2(20),
  8    operator_id    NVARCHAR2(10)
  9  )
 10  tablespace HIATMPTS
 11    pctfree 10
 12    initrans 1
 13    maxtrans 255;
SQL> comment on column MAINTAIN_DISPATCH_INFO.id
  2    is 'PK';
SQL> comment on column MAINTAIN_DISPATCH_INFO.maintainman
  2    is '维修责任人';
SQL> comment on column MAINTAIN_DISPATCH_INFO.maintain_phone
  2    is '维修责任人联系方式';
SQL> comment on column MAINTAIN_DISPATCH_INFO.operator_date
  2    is '派工时间';
SQL> comment on column MAINTAIN_DISPATCH_INFO.operator
  2    is '派工人名称';
SQL> comment on column MAINTAIN_DISPATCH_INFO.operator_id
  2    is '派工人ID';
SQL> alter table MAINTAIN_DISPATCH_INFO
  2    add constraint MAINTAIN_DISPATCH_INFO_PK primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
SQL> prompt Loading EQUIPMENT_INFO_STATE_HISTORY...
Loading EQUIPMENT_INFO_STATE_HISTORY...
SQL> prompt Table is empty
Table is empty
SQL> prompt Loading EQUIPMENT_STATE...
Loading EQUIPMENT_STATE...
SQL> prompt Table is empty
Table is empty
SQL> prompt Loading EQUIP_CALIBRATION_WARN_PERSON...
Loading EQUIP_CALIBRATION_WARN_PERSON...
SQL> prompt Table is empty
Table is empty
SQL> prompt Loading EQUIP_FAULT_INFO...
Loading EQUIP_FAULT_INFO...
SQL> prompt Table is empty
Table is empty
SQL> prompt Loading EQUIP_FAULT_PHENOMENON...
Loading EQUIP_FAULT_PHENOMENON...
SQL> prompt Table is empty
Table is empty
SQL> prompt Loading EQUIP_FAULT_REASON...
Loading EQUIP_FAULT_REASON...
SQL> prompt Table is empty
Table is empty
SQL> prompt Loading EQUIP_INSPECTION_DATA...
Loading EQUIP_INSPECTION_DATA...
SQL> prompt Table is empty
Table is empty
SQL> prompt Loading EQUIP_INSPECTION_RECORD...
Loading EQUIP_INSPECTION_RECORD...
SQL> prompt Table is empty
Table is empty
SQL> prompt Loading EQUIP_INSPECTION_TASK...
Loading EQUIP_INSPECTION_TASK...
SQL> prompt Table is empty
Table is empty
SQL> prompt Loading EQUIP_LINK...
Loading EQUIP_LINK...
SQL> prompt Table is empty
Table is empty
SQL> prompt Loading EQUIP_MAINTAIN...
Loading EQUIP_MAINTAIN...
SQL> prompt Table is empty
Table is empty
SQL> prompt Loading EQUIP_MAINTAIN_PARTS...
Loading EQUIP_MAINTAIN_PARTS...
SQL> prompt Table is empty
Table is empty
SQL> prompt Loading EQUIP_MAINTAIN_TRACKING_INFO...
Loading EQUIP_MAINTAIN_TRACKING_INFO...
SQL> prompt Table is empty
Table is empty
SQL> prompt Loading EQUIP_OPERATE_LOG...
Loading EQUIP_OPERATE_LOG...
SQL> prompt Table is empty
Table is empty
SQL> prompt Loading MAINTAIN_DISPATCH_INFO...
Loading MAINTAIN_DISPATCH_INFO...
SQL> prompt Table is empty
Table is empty
SQL> set feedback on
SQL> set define on
SQL> prompt Done.
Done.
SQL> -- Create table
SQL> create table ILLEGAL_INTERVEL_VELOCITY
  2  (
  3    nid                VARCHAR2(32) not null,
  4    intervelpoint      VARCHAR2(12) not null,
  5    velocitysectioname VARCHAR2(500) not null,
  6    speedlimit         VARCHAR2(3) not null,
  7    startpoint         VARCHAR2(12) not null,
  8    endpoint           VARCHAR2(12) not null,
  9    startdirection     VARCHAR2(2) not null,
 10    endirection        VARCHAR2(2) not null,
 11    interveldistance   VARCHAR2(10) not null,
 12    bigspeedlimit      VARCHAR2(3),
 13    ifforillegal       VARCHAR2(1),
 14    deviceid           NVARCHAR2(18)
 15  )
 16  tablespace HIATMPTS
 17    pctfree 10
 18    initrans 1
 19    maxtrans 255
 20    storage
 21    (
 22      initial 64
 23      next 1
 24      minextents 1
 25      maxextents unlimited
 26    );
Table created
SQL> -- Add comments to the columns
SQL> comment on column ILLEGAL_INTERVEL_VELOCITY.nid
  2    is '主键';
Comment added
SQL> comment on column ILLEGAL_INTERVEL_VELOCITY.intervelpoint
  2    is '区间编号';
Comment added
SQL> comment on column ILLEGAL_INTERVEL_VELOCITY.velocitysectioname
  2    is '区间名称';
Comment added
SQL> comment on column ILLEGAL_INTERVEL_VELOCITY.speedlimit
  2    is '小车限速';
Comment added
SQL> comment on column ILLEGAL_INTERVEL_VELOCITY.startpoint
  2    is '起点编号';
Comment added
SQL> comment on column ILLEGAL_INTERVEL_VELOCITY.endpoint
  2    is '止点编号';
Comment added
SQL> comment on column ILLEGAL_INTERVEL_VELOCITY.startdirection
  2    is '起点方向';
Comment added
SQL> comment on column ILLEGAL_INTERVEL_VELOCITY.endirection
  2    is '止点方向';
Comment added
SQL> comment on column ILLEGAL_INTERVEL_VELOCITY.interveldistance
  2    is '区间距离';
Comment added
SQL> comment on column ILLEGAL_INTERVEL_VELOCITY.bigspeedlimit
  2    is '大车限速';
Comment added
SQL> comment on column ILLEGAL_INTERVEL_VELOCITY.ifforillegal
  2    is '是否用于违法（1：用于违法；0：不用于违法）';
Comment added
SQL> comment on column ILLEGAL_INTERVEL_VELOCITY.deviceid
  2    is '设备编号';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table ILLEGAL_INTERVEL_VELOCITY
  2    add constraint NID3 primary key (NID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> alter table MONITOR_POINT add isinuse VARCHAR2(1);
Table altered
SQL> comment on column MONITOR_POINT.isinuse
  2  is '是否启用，1：启用，0：未启用';
Comment added
SQL> -- Create table
SQL> create table STAT_ILLEGAL_BEHAVIOR_OPER
  2  (
  3    nid           VARCHAR2(32) not null,
  4    illegaldate   DATE,
  5    dselecttime   DATE,
  6    deptid        VARCHAR2(12),
  7    shryid        VARCHAR2(20),
  8    fsryid        VARCHAR2(20),
  9    cselectstatus CHAR(1),
 10    illegaltotal  NUMBER(11)
 11  );
Table created
SQL> -- Add comments to the table
SQL> comment on table STAT_ILLEGAL_BEHAVIOR_OPER
  2    is '按照天、部门、人员、分拣状态统计出违法数据数量分布';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column STAT_ILLEGAL_BEHAVIOR_OPER.illegaldate
  2    is '违法时间';
Comment added
SQL> comment on column STAT_ILLEGAL_BEHAVIOR_OPER.dselecttime
  2    is '分拣时间';
Comment added
SQL> comment on column STAT_ILLEGAL_BEHAVIOR_OPER.deptid
  2    is '采集机关';
Comment added
SQL> comment on column STAT_ILLEGAL_BEHAVIOR_OPER.shryid
  2    is '审核人员id';
Comment added
SQL> comment on column STAT_ILLEGAL_BEHAVIOR_OPER.fsryid
  2    is '复审人员id';
Comment added
SQL> comment on column STAT_ILLEGAL_BEHAVIOR_OPER.cselectstatus
  2    is '分拣状态 枚举值146';
Comment added
SQL> comment on column STAT_ILLEGAL_BEHAVIOR_OPER.illegaltotal
  2    is '总数';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table STAT_ILLEGAL_BEHAVIOR_OPER
  2    add constraint PRISTAT_ILLEGAL_BEHAVIOR_OPER primary key (NID);
Table altered
SQL> -- Create table
SQL> create table ILLEGAL_PERSONTIME
  2  (
  3    id           VARCHAR2(32) not null,
  4    name         NVARCHAR2(20),
  5    idcard       VARCHAR2(20),
  6    dillegaldate DATE
  7  );
Table created
SQL> -- Add comments to the table
SQL> comment on table ILLEGAL_PERSONTIME
  2    is '已处理违法人次信息';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column ILLEGAL_PERSONTIME.id
  2    is 'uuid';
Comment added
SQL> comment on column ILLEGAL_PERSONTIME.name
  2    is '姓名';
Comment added
SQL> comment on column ILLEGAL_PERSONTIME.idcard
  2    is '身份证';
Comment added
SQL> comment on column ILLEGAL_PERSONTIME.dillegaldate
  2    is '违法时间';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table ILLEGAL_PERSONTIME
  2    add constraint PRI_ILLEGAL_PERSONTIME primary key (ID);
Table altered
SQL> -- Create table
SQL> create table ILLEGAL_COERCIVEMEASURES
  2  (
  3    id           VARCHAR2(32) not null,
  4    dept         VARCHAR2(12),
  5    dillegaldate DATE
  6  );
Table created
SQL> -- Add comments to the table
SQL> comment on table ILLEGAL_COERCIVEMEASURES
  2    is '部门强制措施违法';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column ILLEGAL_COERCIVEMEASURES.id
  2    is 'uuid';
Comment added
SQL> comment on column ILLEGAL_COERCIVEMEASURES.dept
  2    is '部门编号';
Comment added
SQL> comment on column ILLEGAL_COERCIVEMEASURES.dillegaldate
  2    is '违法时间';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table ILLEGAL_COERCIVEMEASURES
  2    add constraint PRIILLEGAL_COERCIVEMEASURES primary key (ID);
Table altered
SQL> -- Create table
SQL> create table STAT_ILLEGAL_BEHAVIOR_DEPT1
  2  (
  3    nid           VARCHAR2(32) not null,
  4    illegaldate   DATE,
  5    deptid        VARCHAR2(12),
  6    illegaltotal  NUMBER(11),
  7    nlevel        VARCHAR2(2),
  8    cselectstatus CHAR(1),
  9    selecttime    DATE,
 10    type          VARCHAR2(1)
 11  )
 12  tablespace HIATMPTS
 13    pctfree 10
 14    initrans 1
 15    maxtrans 255
 16    storage
 17    (
 18      initial 64
 19      next 1
 20      minextents 1
 21      maxextents unlimited
 22    );
Table created
SQL> -- Create table
SQL> create table ILLEGAL_MANUALFORENSICS
  2  (
  3    id           VARCHAR2(32) not null,
  4    dept         VARCHAR2(12),
  5    dillegaldate DATE
  6  );
Table created
SQL> -- Add comments to the table
SQL> comment on table ILLEGAL_MANUALFORENSICS
  2    is '人工违法取证信息';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column ILLEGAL_MANUALFORENSICS.id
  2    is 'uuid';
Comment added
SQL> comment on column ILLEGAL_MANUALFORENSICS.dept
  2    is '采集机关';
Comment added
SQL> comment on column ILLEGAL_MANUALFORENSICS.dillegaldate
  2    is '违法时间';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table ILLEGAL_MANUALFORENSICS
  2    add constraint PRIILLEGAL_MANUALFORENSICS primary key (ID);
Table altered
SQL> -- Create table
SQL> create table STAT_ILLEGAL_BEHAVIOR_DEPT
  2  (
  3    nid           VARCHAR2(32) not null,
  4    illegaldate   DATE,
  5    deptid        VARCHAR2(12),
  6    illegaltotal  NUMBER(11),
  7    nlevel        VARCHAR2(2),
  8    cselectstatus CHAR(1),
  9    selecttime    DATE,
 10    type          VARCHAR2(1)
 11  )
 12  tablespace HIATMPTS
 13    pctfree 10
 14    initrans 1
 15    maxtrans 255;
Table created
SQL> -- Add comments to the table
SQL> comment on table STAT_ILLEGAL_BEHAVIOR_DEPT
  2    is '按照违法数据的分拣状态统计出每个部门的违法数据情况';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column STAT_ILLEGAL_BEHAVIOR_DEPT.illegaldate
  2    is '违法时间';
Comment added
SQL> comment on column STAT_ILLEGAL_BEHAVIOR_DEPT.deptid
  2    is '部门id';
Comment added
SQL> comment on column STAT_ILLEGAL_BEHAVIOR_DEPT.illegaltotal
  2    is '总数';
Comment added
SQL> comment on column STAT_ILLEGAL_BEHAVIOR_DEPT.nlevel
  2    is '部门级别';
Comment added
SQL> comment on column STAT_ILLEGAL_BEHAVIOR_DEPT.cselectstatus
  2    is '分拣状态 枚举值146:0未审核;1已审核;2已删除;3上传失败;4上传成功;5上传中;7通过复审';
Comment added
SQL> comment on column STAT_ILLEGAL_BEHAVIOR_DEPT.selecttime
  2    is '分拣时间';
Comment added
SQL> comment on column STAT_ILLEGAL_BEHAVIOR_DEPT.type
  2    is '1：写入违法时间，2：写入审核时间';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table STAT_ILLEGAL_BEHAVIOR_DEPT
  2    add constraint SIEDID primary key (NID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> -- Create table
SQL> create table ILLEGAL_TJEXEMPTION
  2  (
  3    nid       VARCHAR2(32) not null,
  4    devid     VARCHAR2(18),
  5    devname   NVARCHAR2(200),
  6    coffense  VARCHAR2(6),
  7    isuse     VARCHAR2(1),
  8    STARTDATE DATE,
  9    ENDDATE   DATE
 10  );
Table created
SQL> -- Add comments to the table
SQL> comment on table ILLEGAL_TJEXEMPTION
  2    is '违法免责表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column ILLEGAL_TJEXEMPTION.nid
  2    is 'uuid';
Comment added
SQL> comment on column ILLEGAL_TJEXEMPTION.devid
  2    is '设备编号';
Comment added
SQL> comment on column ILLEGAL_TJEXEMPTION.devname
  2    is '设备名称';
Comment added
SQL> comment on column ILLEGAL_TJEXEMPTION.coffense
  2    is '违法行为';
Comment added
SQL> comment on column ILLEGAL_TJEXEMPTION.isuse
  2    is '是否启用（1：启用，2：停用）';
Comment added
SQL> comment on column ILLEGAL_TJEXEMPTION.STARTDATE
  2    is '开始时间';
Comment added
SQL> comment on column ILLEGAL_TJEXEMPTION.ENDDATE
  2    is '结束时间';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table ILLEGAL_TJEXEMPTION
  2    add constraint PRIILLEGAL_TJEXEMPTION primary key (NID);
Table altered
SQL> create or replace procedure WORKLOAD_STAT_BY_DEPT is
  2  begin
  3  
  4    declare
  5      cursor ILLEGAL_SQU_CURSOR is
  6        SELECT i.ccollectionagencies AS DEPTID,
  7               COUNT(I.CCARNUMBER) AS ILLEGALTOTAL,
  8               D.NLEVEL AS NLEVEL,
  9               I.CSELECTSTATUS AS CSELECTSTATUS,
 10               TRUNC(I.DSELECTTIME) AS SELECTTIME
 11          FROM ILLEGAL_DATA I,  DEPARTMENT D
 12         WHERE i.ccollectionagencies = D.CDEPARTMENTID
 13           AND (D.NLEVEL = '3' OR D.NLEVEL = '4')
 14           AND I.cdevicecode IN
 15               (SELECT E.deviceid
 16                  FROM EQUIPMENT_INFO E
 17                 WHERE E.BUILD_STATUS = '3')
 18           AND I.SHRYID IS NOT NULL
 19           AND I.DSELECTTIME >= TRUNC(SYSDATE - 42)
 20           AND I.DSELECTTIME < TRUNC(SYSDATE)
 21         GROUP BY TRUNC(I.DSELECTTIME),
 22                   i.ccollectionagencies,
 23                  I.CSELECTSTATUS,
 24                  D.NLEVEL;
 25    begin
 26      DELETE FROM STAT_ILLEGAL_BEHAVIOR_DEPT1 S
 27       WHERE S.SELECTTIME >= TRUNC(SYSDATE - 42)
 28         AND S.SELECTTIME IS NOT NULL;
 29      for SQU in ILLEGAL_SQU_CURSOR loop
 30        INSERT INTO STAT_ILLEGAL_BEHAVIOR_DEPT1
 31        VALUES
 32          (SYS_GUID(),
 33           null,
 34           SQU.DEPTID,
 35           SQU.ILLEGALTOTAL,
 36           SQU.NLEVEL,
 37           SQU.CSELECTSTATUS,
 38           SQU.SELECTTIME,
 39           '2');
 40      end loop;
 41      COMMIT;
 42    end;
 43  
 44    declare
 45      cursor ILLEGAL_DRI_CURSOR is
 46        SELECT TRUNC(I.DILLEGALDATE) AS ILLEGALDATE,
 47               I.CCOLLECTIONAGENCIES AS DEPTID,
 48               COUNT(I.CCARNUMBER) AS ILLEGALTOTAL,
 49               D.NLEVEL AS NLEVEL
 50          FROM ILLEGAL_DATA I, DEPARTMENT D
 51         WHERE I.CCOLLECTIONAGENCIES = D.CDEPARTMENTID
 52           AND I.CSELECTSTATUS = '0'
 53           AND I.cdevicecode IN
 54               (SELECT E.deviceid
 55                  FROM EQUIPMENT_INFO E
 56                 WHERE E.BUILD_STATUS = '3')
 57           AND I.DILLEGALDATE >= TRUNC(SYSDATE - 42)
 58           AND I.DILLEGALDATE < TRUNC(SYSDATE)
 59         GROUP BY TRUNC(I.DILLEGALDATE), I.CCOLLECTIONAGENCIES, D.NLEVEL;
 60  
 61    begin
 62      DELETE FROM STAT_ILLEGAL_BEHAVIOR_DEPT1 S
 63       WHERE S.ILLEGALDATE >= TRUNC(SYSDATE - 42)
 64         AND S.ILLEGALDATE IS NOT NULL;
 65      for DRI in ILLEGAL_DRI_CURSOR loop
 66        INSERT INTO STAT_ILLEGAL_BEHAVIOR_DEPT1
 67        VALUES
 68          (SYS_GUID(),
 69           DRI.ILLEGALDATE,
 70           DRI.DEPTID,
 71           DRI.ILLEGALTOTAL,
 72           DRI.NLEVEL,
 73           '0',
 74           null,
 75           '1');
 76      end loop;
 77      COMMIT;
 78    end;
 79  
 80  end WORKLOAD_STAT_BY_DEPT;
 81  /
Procedure created
SQL> create or replace procedure stat_illegal_dept_pro_new is
  2  begin
  3    ---违法时间 TYPE  VARCHAR2(1)  Y      1：写入违法时间，2：写入审核时间  /*+index(d, IDX_ILL_ADDR_ORDER)*/
  4    delete from stat_illegal_behavior_dept
  5     where to_char(ILLEGALDATE, 'yyyy-mm-dd') between
  6           to_char(sysdate - 42, 'yyyy-mm-dd') and
  7           to_char(sysdate- 1, 'yyyy-mm-dd')
  8       and ILLEGALDATE is not null;
  9    declare
 10      CURSOR illegal_data_cursor is
 11  
 12        SELECT  TO_DATE(TO_CHAR(d.DILLEGALDATE, 'yyyy-mm-dd'), 'yyyy-mm-dd') AS ILLEGALDATE,
 13               d.ccollectionagencies as departmentid,
 14               COUNT(1) AS total,
 15               d.cselectstatus
 16          from illegal_data d
 17         where d.DILLEGALDATE >=
 18               TO_DATE(TO_CHAR(sysdate - 42, 'yyyy-mm-dd') || '00:00:00',
 19                       'yyyy-mm-dd  hh24:mi:ss')
 20           and d.DILLEGALDATE <=
 21               TO_DATE(TO_CHAR(sysdate- 1, 'yyyy-mm-dd') || '23:59:59',
 22                       'yyyy-mm-dd hh24:mi:ss')
 23            and d.cdevicecode in
 24               (select e.deviceid
 25                  from equipment_info e
 26                 where e.build_status = '3'
 27                 --and (e.devicetype='01' or e.devicetype='03')
 28                 )
 29         GROUP BY TO_DATE(TO_CHAR(d.DILLEGALDATE, 'yyyy-mm-dd'), 'yyyy-mm-dd'),
 30  
 31                  d.ccollectionagencies,
 32                  d.cselectstatus;
 33  
 34    begin
 35      FOR illegal IN illegal_data_cursor loop
 36        insert into stat_illegal_behavior_dept
 37        values
 38          (sys_guid(),
 39           illegal.ILLEGALDATE,
 40           illegal.departmentid,
 41           illegal.total,
 42           '3',
 43           illegal.cselectstatus,
 44  
 45           null,
 46           '1');
 47      end loop;
 48      commit;
 49    end;
 50    ---审核时间
 51    delete from stat_illegal_behavior_dept
 52     where to_char(selecttime, 'yyyy-mm-dd') between
 53           to_char(sysdate - 42, 'yyyy-mm-dd') and
 54           to_char(sysdate - 1, 'yyyy-mm-dd')
 55       and selecttime is not null;
 56    declare
 57      CURSOR illegal_data_cursor is
 58  
 59        SELECT d.ccollectionagencies as departmentid,
 60               COUNT(1) AS total,
 61               d.cselectstatus,
 62               TO_DATE(TO_CHAR(d.dselecttime, 'yyyy-mm-dd'), 'yyyy-mm-dd') as selecttime
 63          from illegal_data d
 64         where d.dselecttime >=
 65               TO_DATE(TO_CHAR(sysdate - 42, 'yyyy-mm-dd') || '00:00:00',
 66                       'yyyy-mm-dd  hh24:mi:ss')
 67           and d.dselecttime <=
 68               TO_DATE(TO_CHAR(sysdate - 1, 'yyyy-mm-dd') || '23:59:59',
 69                       'yyyy-mm-dd hh24:mi:ss')
 70             AND D.SHRYID IS NOT NULL
 71            and d.cdevicecode in
 72               (select e.deviceid
 73                  from equipment_info e
 74                 where e.build_status = '3')
 75         GROUP BY TO_DATE(TO_CHAR(d.dselecttime, 'yyyy-mm-dd'), 'yyyy-mm-dd'),
 76                  d.ccollectionagencies,
 77                  d.cselectstatus;
 78  
 79    begin
 80      FOR illegal IN illegal_data_cursor loop
 81        insert into stat_illegal_behavior_dept
 82        values
 83          (sys_guid(),
 84  
 85           null,
 86           illegal.departmentid,
 87           illegal.total,
 88           '3',
 89           illegal.cselectstatus,
 90           illegal.selecttime,
 91           '2');
 92      end loop;
 93      commit;
 94    end;
 95  end;
 96  /
Procedure created
SQL> create or replace procedure stat_illegal_oper_pro is
  2  begin
  3    delete from STAT_ILLEGAL_BEHAVIOR_OPER
  4     where to_char(dselecttime, 'yyyy-mm-dd') between
  5           to_char(sysdate - 42, 'yyyy-mm-dd') and
  6           to_char(sysdate - 1, 'yyyy-mm-dd');
  7    declare
  8      CURSOR illegal_data_cursor is
  9        SELECT TO_DATE(TO_CHAR(d.DILLEGALDATE, 'yyyy-mm-dd'), 'yyyy-mm-dd') AS ILLEGALDATE,
 10               TO_DATE(TO_CHAR(d.dselecttime, 'yyyy-mm-dd'), 'yyyy-mm-dd') AS dselecttime,
 11               d.ccollectionagencies departmentid,
 12               d.shryid,
 13               d.fsryid,
 14               d.cselectstatus,
 15               COUNT(1) AS total
 16          from illegal_data d
 17         where d.cselectstatus >= '1'
 18           and d.dselecttime >=
 19               TO_DATE(TO_CHAR(sysdate - 42, 'yyyy-mm-dd') || '00:00:00',
 20                       'yyyy-mm-dd hh24:mi:ss')
 21           AND D.SHRYID IS NOT NULL
 22           and d.cdevicecode in
 23               (select e.deviceid
 24                  from equipment_info e
 25                 where e.build_status = '3'
 26                   --and e.devicetype in ('01', '03')
 27                   )
 28         GROUP BY TO_DATE(TO_CHAR(d.DILLEGALDATE, 'yyyy-mm-dd'), 'yyyy-mm-dd'),
 29                  TO_DATE(TO_CHAR(d.dselecttime, 'yyyy-mm-dd'), 'yyyy-mm-dd'),
 30                  d.ccollectionagencies,
 31                  d.shryid,
 32                  d.fsryid,
 33                  d.cselectstatus
 34         ORDER BY TO_DATE(TO_CHAR(d.DILLEGALDATE, 'yyyy-mm-dd'), 'yyyy-mm-dd'),
 35                  d.ccollectionagencies,
 36                  d.cselectstatus;
 37  
 38    begin
 39      FOR illegal IN illegal_data_cursor loop
 40        insert into STAT_ILLEGAL_BEHAVIOR_OPER
 41        values
 42          (sys_guid(), --他默认的是一个序列，我先用UUID来测一下
 43           illegal.ILLEGALDATE,
 44           illegal.dselecttime,
 45           illegal.departmentid,
 46           illegal.shryid,
 47           illegal.fsryid,
 48           illegal.cselectstatus,
 49           illegal.total);
 50      end loop;
 51      commit;
 52    end;
 53  end;
 54  /
Procedure created
SQL> -- 六合一  机动车信息表
SQL> create table VEHICLE
  2  (
  3    xh         CHAR(14) not null,
  4    hpzl       CHAR(2) not null,
  5    hphm       VARCHAR2(15) not null,
  6    clpp1      VARCHAR2(32) not null,
  7    clxh       VARCHAR2(32) not null,
  8    clpp2      VARCHAR2(32),
  9    gcjk       CHAR(1) not null,
 10    zzg        CHAR(3) not null,
 11    zzcmc      VARCHAR2(64),
 12    clsbdh     VARCHAR2(25) not null,
 13    fdjh       VARCHAR2(30) not null,
 14    cllx       CHAR(3) not null,
 15    csys       VARCHAR2(5) not null,
 16    syxz       CHAR(1) not null,
 17    sfzmhm     VARCHAR2(18),
 18    sfzmmc     CHAR(1),
 19    syr        VARCHAR2(128) not null,
 20    syq        CHAR(1) not null,
 21    ccdjrq     DATE not null,
 22    djrq       DATE,
 23    yxqz       DATE,
 24    qzbfqz     DATE,
 25    fzjg       VARCHAR2(10) not null,
 26    glbm       VARCHAR2(12) not null,
 27    fprq       DATE,
 28    fzrq       DATE,
 29    fdjrq      DATE,
 30    fhgzrq     DATE,
 31    bxzzrq     DATE,
 32    bpcs       NUMBER(2),
 33    bzcs       NUMBER(2),
 34    bdjcs      NUMBER(2),
 35    djzsbh     VARCHAR2(15),
 36    zdjzshs    NUMBER(2),
 37    dabh       VARCHAR2(12),
 38    xzqh       VARCHAR2(10),
 39    zt         VARCHAR2(6) not null,
 40    dybj       CHAR(1),
 41    jbr        VARCHAR2(30),
 42    clly       CHAR(1),
 43    lsh        VARCHAR2(13),
 44    fdjxh      VARCHAR2(64),
 45    rlzl       VARCHAR2(3),
 46    pl         NUMBER(6),
 47    gl         NUMBER(5,1),
 48    zxxs       CHAR(1),
 49    cwkc       NUMBER(5),
 50    cwkk       NUMBER(4),
 51    cwkg       NUMBER(4),
 52    hxnbcd     NUMBER(5),
 53    hxnbkd     NUMBER(4),
 54    hxnbgd     NUMBER(4),
 55    gbthps     NUMBER(3),
 56    zs         NUMBER(1) not null,
 57    zj         NUMBER(5) not null,
 58    qlj        NUMBER(4),
 59    hlj        NUMBER(4),
 60    ltgg       VARCHAR2(64),
 61    lts        NUMBER(2),
 62    zzl        NUMBER(8),
 63    zbzl       NUMBER(8),
 64    hdzzl      NUMBER(8),
 65    hdzk       NUMBER(3),
 66    zqyzl      NUMBER(8),
 67    qpzk       NUMBER(1),
 68    hpzk       NUMBER(2),
 69    hbdbqk     VARCHAR2(128),
 70    ccrq       DATE,
 71    hdfs       CHAR(1),
 72    llpz1      CHAR(1),
 73    pzbh1      VARCHAR2(20),
 74    llpz2      CHAR(1),
 75    pzbh2      VARCHAR2(20),
 76    xsdw       VARCHAR2(64),
 77    xsjg       NUMBER(8),
 78    xsrq       DATE,
 79    jkpz       CHAR(1),
 80    jkpzhm     VARCHAR2(20),
 81    hgzbh      VARCHAR2(20),
 82    nszm       CHAR(1),
 83    nszmbh     VARCHAR2(40),
 84    gxrq       DATE,
 85    xgzl       VARCHAR2(256),
 86    qmbh       VARCHAR2(15),
 87    hmbh       VARCHAR2(15),
 88    bz         VARCHAR2(128),
 89    jyw        VARCHAR2(256),
 90    zsxzqh     VARCHAR2(10),
 91    zsxxdz     VARCHAR2(128),
 92    yzbm1      VARCHAR2(6),
 93    lxdh       VARCHAR2(20),
 94    zzz        VARCHAR2(18),
 95    zzxzqh     VARCHAR2(10),
 96    zzxxdz     VARCHAR2(128),
 97    yzbm2      VARCHAR2(6),
 98    zdyzt      VARCHAR2(10),
 99    yxh        VARCHAR2(14),
100    cyry       VARCHAR2(30),
101    dphgzbh    VARCHAR2(20),
102    sqdm       CHAR(12),
103    clyt       CHAR(2),
104    ytsx       CHAR(1),
105    dzyx       VARCHAR2(32),
106    xszbh      VARCHAR2(20),
107    sjhm       VARCHAR2(20),
108    jyhgbzbh   VARCHAR2(20),
109    dwbh       VARCHAR2(14),
110    syqsrq     DATE,
111    yqjyqzbfqz DATE,
112    yqjyqz2    DATE,
113    fdjgs      NUMBER(2),
114    sfyzhgn    CHAR(1),
115    zzjglx     VARCHAR2(2),
116    wxmbc      CHAR(1),
117    ncdqsy     CHAR(1),
118    hpqysj     DATE,
119    dzbsxlh    VARCHAR2(20),
120    sfxny      CHAR(1),
121    xnyzl      CHAR(1),
122    qddjxh     VARCHAR2(128),
123    qddjh      VARCHAR2(128),
124    qddjgl     NUMBER(6,2),
125    cnzzzl     VARCHAR2(32),
126    cnzzxs     NUMBER(3),
127    cnzzzdl    NUMBER(10,2),
128    cnzzzdy    NUMBER(10,2),
129    cnzzdtdy   NUMBER(10,2),
130    hdwjcd     CHAR(1),
131    cdqdxslcgk NUMBER(10,2),
132    cdqdxslcds NUMBER(10,2),
133    ywjyw      VARCHAR2(1024)
134  )
135  tablespace HIATMPTS
136    pctfree 10
137    initrans 1
138    maxtrans 255
139    storage
140    (
141      initial 64K
142      next 1M
143      minextents 1
144      maxextents unlimited
145    );
Table created
SQL> -- Add comments to the table
SQL> comment on table VEHICLE
  2    is '机动车基本信息';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column VEHICLE.xh
  2    is '机动车序号';
Comment added
SQL> comment on column VEHICLE.hpzl
  2    is '号牌种类';
Comment added
SQL> comment on column VEHICLE.hphm
  2    is '号牌号码';
Comment added
SQL> comment on column VEHICLE.clpp1
  2    is '中文品牌';
Comment added
SQL> comment on column VEHICLE.clxh
  2    is '车辆型号';
Comment added
SQL> comment on column VEHICLE.clpp2
  2    is '英文品牌';
Comment added
SQL> comment on column VEHICLE.gcjk
  2    is '国产/进口';
Comment added
SQL> comment on column VEHICLE.zzg
  2    is '制造国';
Comment added
SQL> comment on column VEHICLE.zzcmc
  2    is '制造厂名称';
Comment added
SQL> comment on column VEHICLE.clsbdh
  2    is '车辆识别代号';
Comment added
SQL> comment on column VEHICLE.fdjh
  2    is '发动机号';
Comment added
SQL> comment on column VEHICLE.cllx
  2    is '车辆类型';
Comment added
SQL> comment on column VEHICLE.csys
  2    is '车身颜色';
Comment added
SQL> comment on column VEHICLE.syxz
  2    is '使用性质';
Comment added
SQL> comment on column VEHICLE.sfzmhm
  2    is '身份证明号码';
Comment added
SQL> comment on column VEHICLE.sfzmmc
  2    is '身份证明名称';
Comment added
SQL> comment on column VEHICLE.syr
  2    is '机动车所有人';
Comment added
SQL> comment on column VEHICLE.syq
  2    is '所有权';
Comment added
SQL> comment on column VEHICLE.ccdjrq
  2    is '初次登记日期';
Comment added
SQL> comment on column VEHICLE.djrq
  2    is '最近定检日期';
Comment added
SQL> comment on column VEHICLE.yxqz
  2    is '检验有效期止';
Comment added
SQL> comment on column VEHICLE.qzbfqz
  2    is '强制报废期止';
Comment added
SQL> comment on column VEHICLE.fzjg
  2    is '发证机关';
Comment added
SQL> comment on column VEHICLE.glbm
  2    is '管理部门';
Comment added
SQL> comment on column VEHICLE.fprq
  2    is '发牌日期';
Comment added
SQL> comment on column VEHICLE.fzrq
  2    is '发行驶证日期';
Comment added
SQL> comment on column VEHICLE.fdjrq
  2    is '发登记证书日期';
Comment added
SQL> comment on column VEHICLE.fhgzrq
  2    is '发合格证日期';
Comment added
SQL> comment on column VEHICLE.bxzzrq
  2    is '保险终止日期';
Comment added
SQL> comment on column VEHICLE.bpcs
  2    is '补领号牌次数';
Comment added
SQL> comment on column VEHICLE.bzcs
  2    is '补领行驶证次数';
Comment added
SQL> comment on column VEHICLE.bdjcs
  2    is '补/换领证书次数';
Comment added
SQL> comment on column VEHICLE.djzsbh
  2    is '登记证书编号';
Comment added
SQL> comment on column VEHICLE.zdjzshs
  2    is '制登记证书行数';
Comment added
SQL> comment on column VEHICLE.dabh
  2    is '档案编号';
Comment added
SQL> comment on column VEHICLE.xzqh
  2    is '管理辖区';
Comment added
SQL> comment on column VEHICLE.zt
  2    is '机动车状态';
Comment added
SQL> comment on column VEHICLE.dybj
  2    is '0-未抵押，1-已抵押';
Comment added
SQL> comment on column VEHICLE.jbr
  2    is '经办人';
Comment added
SQL> comment on column VEHICLE.clly
  2    is '1注册2转入3过户';
Comment added
SQL> comment on column VEHICLE.lsh
  2    is '注册流水号';
Comment added
SQL> comment on column VEHICLE.fdjxh
  2    is '发动机型号';
Comment added
SQL> comment on column VEHICLE.rlzl
  2    is '燃料种类';
Comment added
SQL> comment on column VEHICLE.pl
  2    is '排量';
Comment added
SQL> comment on column VEHICLE.gl
  2    is '功率';
Comment added
SQL> comment on column VEHICLE.zxxs
  2    is '转向形式';
Comment added
SQL> comment on column VEHICLE.cwkc
  2    is '车外廓长';
Comment added
SQL> comment on column VEHICLE.cwkk
  2    is '车外廓宽';
Comment added
SQL> comment on column VEHICLE.cwkg
  2    is '车外廓高';
Comment added
SQL> comment on column VEHICLE.hxnbcd
  2    is '货箱内部长度';
Comment added
SQL> comment on column VEHICLE.hxnbkd
  2    is '货箱内部宽度';
Comment added
SQL> comment on column VEHICLE.hxnbgd
  2    is '货箱内部高度';
Comment added
SQL> comment on column VEHICLE.gbthps
  2    is '钢板弹簧片数';
Comment added
SQL> comment on column VEHICLE.zs
  2    is '轴数';
Comment added
SQL> comment on column VEHICLE.zj
  2    is '轴距';
Comment added
SQL> comment on column VEHICLE.qlj
  2    is '前轮距';
Comment added
SQL> comment on column VEHICLE.hlj
  2    is '后轮距';
Comment added
SQL> comment on column VEHICLE.ltgg
  2    is '轮胎规格';
Comment added
SQL> comment on column VEHICLE.lts
  2    is '轮胎数';
Comment added
SQL> comment on column VEHICLE.zzl
  2    is '总质量';
Comment added
SQL> comment on column VEHICLE.zbzl
  2    is '整备质量';
Comment added
SQL> comment on column VEHICLE.hdzzl
  2    is '核定载质量';
Comment added
SQL> comment on column VEHICLE.hdzk
  2    is '核定载客';
Comment added
SQL> comment on column VEHICLE.zqyzl
  2    is '准牵引总质量';
Comment added
SQL> comment on column VEHICLE.qpzk
  2    is '驾驶室前排载客人数';
Comment added
SQL> comment on column VEHICLE.hpzk
  2    is '驾驶室后排载客人数';
Comment added
SQL> comment on column VEHICLE.hbdbqk
  2    is '环保达标情况';
Comment added
SQL> comment on column VEHICLE.ccrq
  2    is '出厂日期';
Comment added
SQL> comment on column VEHICLE.hdfs
  2    is '获得方式';
Comment added
SQL> comment on column VEHICLE.llpz1
  2    is '来历凭证1';
Comment added
SQL> comment on column VEHICLE.pzbh1
  2    is '凭证编号1';
Comment added
SQL> comment on column VEHICLE.llpz2
  2    is '来历凭证2';
Comment added
SQL> comment on column VEHICLE.pzbh2
  2    is '凭证编号2';
Comment added
SQL> comment on column VEHICLE.xsdw
  2    is '销售单位';
Comment added
SQL> comment on column VEHICLE.xsjg
  2    is '销售价格';
Comment added
SQL> comment on column VEHICLE.xsrq
  2    is '销售日期';
Comment added
SQL> comment on column VEHICLE.jkpz
  2    is '进口凭证';
Comment added
SQL> comment on column VEHICLE.jkpzhm
  2    is '进口凭证编号';
Comment added
SQL> comment on column VEHICLE.hgzbh
  2    is '合格证编号';
Comment added
SQL> comment on column VEHICLE.nszm
  2    is '纳税证明';
Comment added
SQL> comment on column VEHICLE.nszmbh
  2    is '纳税证明编号';
Comment added
SQL> comment on column VEHICLE.gxrq
  2    is '更新日期';
Comment added
SQL> comment on column VEHICLE.xgzl
  2    is '相关资料';
Comment added
SQL> comment on column VEHICLE.qmbh
  2    is '前膜编号';
Comment added
SQL> comment on column VEHICLE.hmbh
  2    is '后膜编号';
Comment added
SQL> comment on column VEHICLE.bz
  2    is '备注';
Comment added
SQL> comment on column VEHICLE.jyw
  2    is '校验位';
Comment added
SQL> comment on column VEHICLE.zsxzqh
  2    is '住所行政区划';
Comment added
SQL> comment on column VEHICLE.zsxxdz
  2    is '住所详细地址';
Comment added
SQL> comment on column VEHICLE.yzbm1
  2    is '住所邮政编码';
Comment added
SQL> comment on column VEHICLE.lxdh
  2    is '联系电话';
Comment added
SQL> comment on column VEHICLE.zzz
  2    is '暂住居住证明';
Comment added
SQL> comment on column VEHICLE.zzxzqh
  2    is '暂住行政区划';
Comment added
SQL> comment on column VEHICLE.zzxxdz
  2    is '暂住详细地址';
Comment added
SQL> comment on column VEHICLE.yzbm2
  2    is '暂住邮政编码';
Comment added
SQL> comment on column VEHICLE.zdyzt
  2    is '自定义状态';
Comment added
SQL> comment on column VEHICLE.yxh
  2    is '原机动车序号';
Comment added
SQL> comment on column VEHICLE.cyry
  2    is '查验人员';
Comment added
SQL> comment on column VEHICLE.dphgzbh
  2    is '底盘合格证编号';
Comment added
SQL> comment on column VEHICLE.sqdm
  2    is '社区代码';
Comment added
SQL> comment on column VEHICLE.clyt
  2    is '车辆用途';
Comment added
SQL> comment on column VEHICLE.ytsx
  2    is '用途属性';
Comment added
SQL> comment on column VEHICLE.dzyx
  2    is '电子邮箱';
Comment added
SQL> comment on column VEHICLE.xszbh
  2    is '行驶证证芯编号';
Comment added
SQL> comment on column VEHICLE.sjhm
  2    is '手机号码';
Comment added
SQL> comment on column VEHICLE.jyhgbzbh
  2    is '检验合格标志';
Comment added
SQL> comment on column VEHICLE.dwbh
  2    is '单位编号';
Comment added
SQL> comment on column VEHICLE.syqsrq
  2    is '使用起始日期';
Comment added
SQL> comment on column VEHICLE.yqjyqzbfqz
  2    is '逾期检验强制报废期止';
Comment added
SQL> comment on column VEHICLE.yqjyqz2
  2    is '逾期2个检验周期期止';
Comment added
SQL> comment on column VEHICLE.fdjgs
  2    is '发动机缸数';
Comment added
SQL> comment on column VEHICLE.sfyzhgn
  2    is '专项作业车是否有载货功能 1-是；2-否';
Comment added
SQL> comment on column VEHICLE.zzjglx
  2    is '组织机构类型  code=0021';
Comment added
SQL> comment on column VEHICLE.wxmbc
  2    is '是否为微型面包车 1-是；2-否';
Comment added
SQL> comment on column VEHICLE.ncdqsy
  2    is '是否为农村地区使用 1-是；2-否';
Comment added
SQL> comment on column VEHICLE.hpqysj
  2    is '违法业务处理号牌启用时间';
Comment added
SQL> comment on column VEHICLE.dzbsxlh
  2    is '电子标识序列号';
Comment added
SQL> comment on column VEHICLE.sfxny
  2    is '是否新能源汽车 1-是；2-否';
Comment added
SQL> comment on column VEHICLE.xnyzl
  2    is '新能源汽车种类 xtlb=01 dmlb=0022';
Comment added
SQL> comment on column VEHICLE.qddjxh
  2    is '驱动电机型号';
Comment added
SQL> comment on column VEHICLE.qddjh
  2    is '驱动电机号';
Comment added
SQL> comment on column VEHICLE.qddjgl
  2    is '驱动电机峰值功率';
Comment added
SQL> comment on column VEHICLE.cnzzzl
  2    is '电动汽车储能装置种类';
Comment added
SQL> comment on column VEHICLE.cnzzxs
  2    is '储能装置箱数';
Comment added
SQL> comment on column VEHICLE.cnzzzdl
  2    is '储能装置总储电量';
Comment added
SQL> comment on column VEHICLE.cnzzzdy
  2    is '储能装置总电压';
Comment added
SQL> comment on column VEHICLE.cnzzdtdy
  2    is '储能装置单体电压';
Comment added
SQL> comment on column VEHICLE.hdwjcd
  2    is '混合动力是否允许外接充电 1-是；2-否';
Comment added
SQL> comment on column VEHICLE.cdqdxslcgk
  2    is '纯电驱动续驶里程（工况法）';
Comment added
SQL> comment on column VEHICLE.cdqdxslcds
  2    is '纯电驱动续驶里程（等速法）';
Comment added
SQL> comment on column VEHICLE.ywjyw
  2    is '业务校验位';
Comment added
SQL> -- Create/Recreate indexes
SQL> create index IDX_VEHICLE_GXRQ on VEHICLE (GXRQ)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> -- 出行报告脚本 都是自建表
SQL>   create table HIGHSPEED_DATA
  2  (
  3    id            VARCHAR2(32),
  4    traffic_index VARCHAR2(32) not null,
  5    time          DATE not null
  6  )
  7  tablespace HIATMPTS
  8    pctfree 10
  9    initrans 1
 10    maxtrans 255
 11    storage
 12    (
 13      initial 64K
 14      next 1M
 15      minextents 1
 16      maxextents unlimited
 17    );
Table created
SQL> comment on table HIGHSPEED_DATA
  2    is '高速公路高峰时段流量';
Comment added
SQL>   create table IMPORTANT_SCENERY
  2  (
  3    id                VARCHAR2(32),
  4    scenery_name      VARCHAR2(32) not null,
  5    road_name         VARCHAR2(32) not null,
  6    congestion_period VARCHAR2(32) not null,
  7    congestion_flow   VARCHAR2(32) not null
  8  )
  9  tablespace HIATMPTS
 10    pctfree 10
 11    initrans 1
 12    maxtrans 255
 13    storage
 14    (
 15      initial 64K
 16      next 1M
 17      minextents 1
 18      maxextents unlimited
 19    );
Table created
SQL> comment on table IMPORTANT_SCENERY
  2    is '重点景区周边道路流量';
Comment added
SQL> comment on column IMPORTANT_SCENERY.scenery_name
  2    is '景区名称';
Comment added
SQL> comment on column IMPORTANT_SCENERY.road_name
  2    is '道路名称';
Comment added
SQL> comment on column IMPORTANT_SCENERY.congestion_period
  2    is '拥堵时段';
Comment added
SQL> comment on column IMPORTANT_SCENERY.congestion_flow
  2    is '拥堵时段平均流量';
Comment added
SQL>   create table MAIN_ROAD
  2  (
  3    mainroadid      VARCHAR2(32) not null,
  4    roadname        VARCHAR2(32),
  5    trafficeindex   VARCHAR2(32),
  6    averyspeed      VARCHAR2(32),
  7    speedratio      VARCHAR2(32),
  8    congestionlevel VARCHAR2(32),
  9    traffictype     VARCHAR2(32)
 10  )
 11  tablespace HIATMPTS
 12    pctfree 10
 13    initrans 1
 14    maxtrans 255
 15    storage
 16    (
 17      initial 64K
 18      next 1M
 19      minextents 1
 20      maxextents unlimited
 21    );
Table created
SQL> comment on table MAIN_ROAD
  2    is '主要干道运行概况';
Comment added
SQL> comment on column MAIN_ROAD.mainroadid
  2    is 'ID';
Comment added
SQL> comment on column MAIN_ROAD.roadname
  2    is '道路名称';
Comment added
SQL> comment on column MAIN_ROAD.trafficeindex
  2    is '交通指数';
Comment added
SQL> comment on column MAIN_ROAD.averyspeed
  2    is '平均速度';
Comment added
SQL> comment on column MAIN_ROAD.speedratio
  2    is '车速环比';
Comment added
SQL> comment on column MAIN_ROAD.congestionlevel
  2    is '拥堵等级';
Comment added
SQL> comment on column MAIN_ROAD.traffictype
  2    is '0代表早高峰，1代表晚高峰';
Comment added
SQL> create table ROAD_ACCIDENT
  2  (
  3    id             VARCHAR2(32),
  4    road_name      VARCHAR2(32) not null,
  5    accident_time  VARCHAR2(32) not null,
  6    accident_count VARCHAR2(32) not null
  7  )
  8  tablespace HIATMPTS
  9    pctfree 10
 10    initrans 1
 11    maxtrans 255
 12    storage
 13    (
 14      initial 64K
 15      next 1M
 16      minextents 1
 17      maxextents unlimited
 18    );
Table created
SQL> comment on table ROAD_ACCIDENT
  2    is '事故多发表';
Comment added
SQL> comment on column ROAD_ACCIDENT.road_name
  2    is '道路名称';
Comment added
SQL> comment on column ROAD_ACCIDENT.accident_time
  2    is '事故高发时段';
Comment added
SQL> comment on column ROAD_ACCIDENT.accident_count
  2    is '累计事故次数';
Comment added
SQL>   create table ROAD_JAM
  2  (
  3    id           VARCHAR2(32),
  4    road_name    VARCHAR2(32) not null,
  5    traffic_time VARCHAR2(32) not null,
  6    time_length  VARCHAR2(32) not null
  7  )
  8  tablespace HIATMPTS
  9    pctfree 10
 10    initrans 1
 11    maxtrans 255
 12    storage
 13    (
 14      initial 64K
 15      next 1M
 16      minextents 1
 17      maxextents unlimited
 18    );
Table created
SQL> comment on table ROAD_JAM
  2    is '拥堵多发路段';
Comment added
SQL> comment on column ROAD_JAM.road_name
  2    is '道路名字';
Comment added
SQL> comment on column ROAD_JAM.traffic_time
  2    is '拥堵时段';
Comment added
SQL> comment on column ROAD_JAM.time_length
  2    is '累计拥堵时长';
Comment added
SQL>   create table ROAD_ROUND
  2  (
  3    id              VARCHAR2(32),
  4    scene_name      VARCHAR2(32) not null,
  5    influence_road  VARCHAR2(32) not null,
  6    suggestion_road VARCHAR2(32) not null
  7  )
  8  tablespace HIATMPTS
  9    pctfree 10
 10    initrans 1
 11    maxtrans 255
 12    storage
 13    (
 14      initial 64K
 15      next 1M
 16      minextents 1
 17      maxextents unlimited
 18    );
Table created
SQL> comment on table ROAD_ROUND
  2    is '热点商圈、热点旅游';
Comment added
SQL> comment on column ROAD_ROUND.scene_name
  2    is '景区名字';
Comment added
SQL> comment on column ROAD_ROUND.influence_road
  2    is '受影响路段名称';
Comment added
SQL> comment on column ROAD_ROUND.suggestion_road
  2    is '绕行方案';
Comment added
SQL> create table ROAD_TRAFFIC
  2  (
  3    weektype      VARCHAR2(32),
  4    id            VARCHAR2(32) not null,
  5    index_data    VARCHAR2(32),
  6    ratio         VARCHAR2(32),
  7    average_speed VARCHAR2(32)
  8  )
  9  tablespace HIATMPTS
 10    pctfree 10
 11    initrans 1
 12    maxtrans 255
 13    storage
 14    (
 15      initial 64K
 16      next 8K
 17      minextents 1
 18      maxextents unlimited
 19    );
Table created
SQL> comment on table ROAD_TRAFFIC
  2    is '道路交通表';
Comment added
SQL> comment on column ROAD_TRAFFIC.weektype
  2    is '周类型，0是本周，1是上周';
Comment added
SQL> comment on column ROAD_TRAFFIC.index_data
  2    is '指标';
Comment added
SQL> comment on column ROAD_TRAFFIC.ratio
  2    is '环比';
Comment added
SQL> comment on column ROAD_TRAFFIC.average_speed
  2    is '速度';
Comment added
SQL> -- 出行报告脚本 --结束
SQL> -- 交通事故表
SQL> create table ANLYS_SG_DATA
  2  (
  3    sgid                   VARCHAR2(64) not null,
  4    deathnum               NUMBER,
  5    injurenum              NUMBER,
  6    moneyloss              NUMBER,
  7    sgdate                 DATE,
  8    cartype                VARCHAR2(64),
  9    weather                VARCHAR2(64),
 10    sgtype                 VARCHAR2(64),
 11    xzqh                   VARCHAR2(64),
 12    xzqhone                VARCHAR2(64),
 13    missnum                NUMBER,
 14    roadid                 VARCHAR2(64),
 15    roadname               VARCHAR2(64),
 16    kilometres             VARCHAR2(64),
 17    metres                 VARCHAR2(64),
 18    sgcause                VARCHAR2(128),
 19    sgcausetype            VARCHAR2(64),
 20    illegalactivityone     VARCHAR2(128),
 21    illegalactivitytwo     VARCHAR2(128),
 22    illegalactivitythree   VARCHAR2(128),
 23    carnumber              VARCHAR2(64),
 24    vehicleowner           VARCHAR2(64),
 25    vehicletype            VARCHAR2(64),
 26    firstinsertdate        DATE,
 27    chargeperson           VARCHAR2(64),
 28    inverstigatorsfirst    VARCHAR2(64),
 29    inverstigatorstwo      VARCHAR2(64),
 30    managedepartment       VARCHAR2(64),
 31    casehandlingdepartment VARCHAR2(128)
 32  )
 33  tablespace HIATMPTS
 34    pctfree 10
 35    initrans 1
 36    maxtrans 255
 37    storage
 38    (
 39      initial 16K
 40      next 8K
 41      minextents 1
 42      maxextents unlimited
 43    );
Table created
SQL> -- Add comments to the table
SQL> comment on table ANLYS_SG_DATA
  2    is '交通事故态势研判数据对接表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column ANLYS_SG_DATA.sgid
  2    is '事故编号';
Comment added
SQL> comment on column ANLYS_SG_DATA.deathnum
  2    is '死亡人数';
Comment added
SQL> comment on column ANLYS_SG_DATA.injurenum
  2    is '受伤人数';
Comment added
SQL> comment on column ANLYS_SG_DATA.moneyloss
  2    is '直接财产损失';
Comment added
SQL> comment on column ANLYS_SG_DATA.sgdate
  2    is '事故发生时间';
Comment added
SQL> comment on column ANLYS_SG_DATA.cartype
  2    is '号牌种类';
Comment added
SQL> comment on column ANLYS_SG_DATA.weather
  2    is '天气';
Comment added
SQL> comment on column ANLYS_SG_DATA.sgtype
  2    is '事故类型';
Comment added
SQL> comment on column ANLYS_SG_DATA.xzqh
  2    is '行政区划';
Comment added
SQL> comment on column ANLYS_SG_DATA.xzqhone
  2    is '行政区划1';
Comment added
SQL> comment on column ANLYS_SG_DATA.missnum
  2    is '失踪人数';
Comment added
SQL> comment on column ANLYS_SG_DATA.roadid
  2    is '路号';
Comment added
SQL> comment on column ANLYS_SG_DATA.roadname
  2    is '路名';
Comment added
SQL> comment on column ANLYS_SG_DATA.kilometres
  2    is '公里数';
Comment added
SQL> comment on column ANLYS_SG_DATA.metres
  2    is '米数';
Comment added
SQL> comment on column ANLYS_SG_DATA.sgcause
  2    is '事故认定原因';
Comment added
SQL> comment on column ANLYS_SG_DATA.sgcausetype
  2    is '事故原因分类';
Comment added
SQL> comment on column ANLYS_SG_DATA.illegalactivityone
  2    is '违法行为一';
Comment added
SQL> comment on column ANLYS_SG_DATA.illegalactivitytwo
  2    is '违法行为二';
Comment added
SQL> comment on column ANLYS_SG_DATA.illegalactivitythree
  2    is '违法行为三';
Comment added
SQL> comment on column ANLYS_SG_DATA.carnumber
  2    is '号牌号码';
Comment added
SQL> comment on column ANLYS_SG_DATA.vehicleowner
  2    is '机动车所有人';
Comment added
SQL> comment on column ANLYS_SG_DATA.vehicletype
  2    is '车辆类型分类';
Comment added
SQL> comment on column ANLYS_SG_DATA.firstinsertdate
  2    is '初次录入时间';
Comment added
SQL> comment on column ANLYS_SG_DATA.chargeperson
  2    is '经办人';
Comment added
SQL> comment on column ANLYS_SG_DATA.inverstigatorsfirst
  2    is '办案人1';
Comment added
SQL> comment on column ANLYS_SG_DATA.inverstigatorstwo
  2    is '办案人2';
Comment added
SQL> comment on column ANLYS_SG_DATA.managedepartment
  2    is '管理部门';
Comment added
SQL> comment on column ANLYS_SG_DATA.casehandlingdepartment
  2    is '办案单位';
Comment added
SQL> create table ANLYS_SG_PLAN
  2  (
  3    id              VARCHAR2(32) not null,
  4    planname        NVARCHAR2(32),
  5    begindate       DATE,
  6    enddate         DATE,
  7    weather         VARCHAR2(4000),
  8    wfxw            VARCHAR2(4000),
  9    areatype        VARCHAR2(2),
 10    areacoordinates VARCHAR2(4000),
 11    distance        VARCHAR2(6),
 12    createtime      DATE
 13  )
 14  tablespace HIATMPTS
 15    pctfree 10
 16    initrans 1
 17    maxtrans 255
 18    storage
 19    (
 20      initial 64K
 21      next 8K
 22      minextents 1
 23      maxextents unlimited
 24    );
Table created
SQL> -- Add comments to the table
SQL> comment on table ANLYS_SG_PLAN
  2    is '交通事故态势研判数据对接表--（方案表）';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column ANLYS_SG_PLAN.planname
  2    is '方案名称';
Comment added
SQL> comment on column ANLYS_SG_PLAN.begindate
  2    is '开始日期';
Comment added
SQL> comment on column ANLYS_SG_PLAN.enddate
  2    is '结束日期';
Comment added
SQL> comment on column ANLYS_SG_PLAN.weather
  2    is '天气';
Comment added
SQL> comment on column ANLYS_SG_PLAN.wfxw
  2    is '违法行为代码';
Comment added
SQL> comment on column ANLYS_SG_PLAN.areatype
  2    is '区域类型 1点 2线 3面';
Comment added
SQL> comment on column ANLYS_SG_PLAN.areacoordinates
  2    is '区域坐标';
Comment added
SQL> comment on column ANLYS_SG_PLAN.distance
  2    is '线周边搜索时使用，缓冲半径，单位：米';
Comment added
SQL> comment on column ANLYS_SG_PLAN.createtime
  2    is '创建时间';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table ANLYS_SG_PLAN
  2    add constraint KK_ID primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> -- Create table
SQL> create table TJ_6IN1IMP_ILLEGAL_DATA
  2  (
  3    id                  VARCHAR2(32) default SYS_GUID() not null,
  4    ordernum            VARCHAR2(100),
  5    decisionnum         VARCHAR2(100),
  6    clicensetype        VARCHAR2(100),
  7    ccarnumber          VARCHAR2(100),
  8    transportationmode  VARCHAR2(10),
  9    syxz                CHAR(1),
 10    clpp                VARCHAR2(100),
 11    syr                 VARCHAR2(128),
 12    fzjg                VARCHAR2(500),
 13    dsr                 VARCHAR2(128),
 14    dillegaldate        DATE,
 15    coffense            VARCHAR2(6),
 16    fkje                VARCHAR2(100),
 17    cillegaladdress     VARCHAR2(200),
 18    uploaddate          DATE,
 19    ccollectionagencies VARCHAR2(100),
 20    cjfs                VARCHAR2(100),
 21    disposaldate        DATE,
 22    disposalagencies    VARCHAR2(100),
 23    disposalstatus      VARCHAR2(100),
 24    noticenum           VARCHAR2(100),
 25    paymentdate         DATE,
 26    chargeperson        VARCHAR2(100),
 27    ondutypolicenum     VARCHAR2(100),
 28    paymentmark         VARCHAR2(10)
 29  )
 30  tablespace HIATMPTS
 31    pctfree 10
 32    initrans 1
 33    maxtrans 255
 34    storage
 35    (
 36      initial 64K
 37      next 1M
 38      minextents 1
 39      maxextents unlimited
 40    );
Table created
SQL> -- Add comments to the columns
SQL> comment on column TJ_6IN1IMP_ILLEGAL_DATA.id
  2    is 'UUID';
Comment added
SQL> comment on column TJ_6IN1IMP_ILLEGAL_DATA.ordernum
  2    is '序号';
Comment added
SQL> comment on column TJ_6IN1IMP_ILLEGAL_DATA.decisionnum
  2    is '决定书编号';
Comment added
SQL> comment on column TJ_6IN1IMP_ILLEGAL_DATA.clicensetype
  2    is '号牌种类';
Comment added
SQL> comment on column TJ_6IN1IMP_ILLEGAL_DATA.ccarnumber
  2    is '号牌号码';
Comment added
SQL> comment on column TJ_6IN1IMP_ILLEGAL_DATA.transportationmode
  2    is '交通方式';
Comment added
SQL> comment on column TJ_6IN1IMP_ILLEGAL_DATA.syxz
  2    is '使用性质';
Comment added
SQL> comment on column TJ_6IN1IMP_ILLEGAL_DATA.clpp
  2    is '车辆品牌';
Comment added
SQL> comment on column TJ_6IN1IMP_ILLEGAL_DATA.syr
  2    is '机动车所有人';
Comment added
SQL> comment on column TJ_6IN1IMP_ILLEGAL_DATA.fzjg
  2    is '发证机关';
Comment added
SQL> comment on column TJ_6IN1IMP_ILLEGAL_DATA.dsr
  2    is '当事人';
Comment added
SQL> comment on column TJ_6IN1IMP_ILLEGAL_DATA.dillegaldate
  2    is '违法时间';
Comment added
SQL> comment on column TJ_6IN1IMP_ILLEGAL_DATA.coffense
  2    is '违法行为';
Comment added
SQL> comment on column TJ_6IN1IMP_ILLEGAL_DATA.fkje
  2    is '罚款金额';
Comment added
SQL> comment on column TJ_6IN1IMP_ILLEGAL_DATA.cillegaladdress
  2    is '违法地址';
Comment added
SQL> comment on column TJ_6IN1IMP_ILLEGAL_DATA.uploaddate
  2    is '上传时间';
Comment added
SQL> comment on column TJ_6IN1IMP_ILLEGAL_DATA.ccollectionagencies
  2    is '采集机关';
Comment added
SQL> comment on column TJ_6IN1IMP_ILLEGAL_DATA.cjfs
  2    is '采集方式';
Comment added
SQL> comment on column TJ_6IN1IMP_ILLEGAL_DATA.disposaldate
  2    is '处理时间';
Comment added
SQL> comment on column TJ_6IN1IMP_ILLEGAL_DATA.disposalagencies
  2    is '处理机关';
Comment added
SQL> comment on column TJ_6IN1IMP_ILLEGAL_DATA.disposalstatus
  2    is '处理标记';
Comment added
SQL> comment on column TJ_6IN1IMP_ILLEGAL_DATA.noticenum
  2    is '通知书编号';
Comment added
SQL> comment on column TJ_6IN1IMP_ILLEGAL_DATA.paymentdate
  2    is '交款日期';
Comment added
SQL> comment on column TJ_6IN1IMP_ILLEGAL_DATA.chargeperson
  2    is '经办人';
Comment added
SQL> comment on column TJ_6IN1IMP_ILLEGAL_DATA.ondutypolicenum
  2    is '执勤民警';
Comment added
SQL> comment on column TJ_6IN1IMP_ILLEGAL_DATA.paymentmark
  2    is '交款标记';
Comment added
SQL> -- Create table
SQL> create table T_TJSJTBPTGX_EVN_JJD
  2  (
  3    jjdbh                  VARCHAR2(24) not null,
  4    category               VARCHAR2(2),
  5    category2              VARCHAR2(8),
  6    create_date            VARCHAR2(20) not null,
  7    status                 NUMBER(10),
  8    evn_from_info          VARCHAR2(20),
  9    evn_content            VARCHAR2(4000),
 10    pos_x_sec              VARCHAR2(20),
 11    pos_y_sec              VARCHAR2(20),
 12    sdate                  VARCHAR2(20) not null,
 13    tel                    VARCHAR2(50),
 14    bj_name                VARCHAR2(100),
 15    evn_addr               VARCHAR2(500),
 16    update_date            VARCHAR2(20) not null,
 17    xzqh                   VARCHAR2(6) not null,
 18    jjdbh_rel              VARCHAR2(24),
 19    jtype                  NUMBER(5) not null,
 20    org_code               VARCHAR2(12),
 21    ghid                   VARCHAR2(20),
 22    op_name                VARCHAR2(80),
 23    sdate_callin           VARCHAR2(20) not null,
 24    edate                  VARCHAR2(20),
 25    uname                  VARCHAR2(350),
 26    address                VARCHAR2(500),
 27    callid                 VARCHAR2(21),
 28    bj_sex                 NUMBER(5),
 29    bj_tel                 VARCHAR2(30),
 30    bj_addr                VARCHAR2(100),
 31    bj_id_card             VARCHAR2(20),
 32    evn_info               VARCHAR2(200),
 33    evn_level              NUMBER(5),
 34    evn_org_code           VARCHAR2(12),
 35    category3              VARCHAR2(8),
 36    category4              VARCHAR2(8),
 37    has_danger_goods       NUMBER(5),
 38    has_leak               NUMBER(5),
 39    is_sw                  NUMBER(5),
 40    vehicle_type           NUMBER(5),
 41    vehicle_no             VARCHAR2(50),
 42    is_escape              NUMBER(5),
 43    is_danger_vehicle      NUMBER(5),
 44    in_dangers             NUMBER(5),
 45    hurts                  NUMBER(5),
 46    deaths                 NUMBER(5),
 47    fire_level             NUMBER(5),
 48    fire_build_frame       NUMBER(5),
 49    fire_build_type        NUMBER(5),
 50    fire_reason            NUMBER(5),
 51    fire_object            NUMBER(5),
 52    fire_place             NUMBER(5),
 53    fire_area              VARCHAR2(10),
 54    fire_water_info        VARCHAR2(200),
 55    pos_x                  VARCHAR2(20),
 56    pos_y                  VARCHAR2(20),
 57    evn_content_ex         VARCHAR2(2000),
 58    upload_bz              NUMBER(5),
 59    rflg_ssyj              VARCHAR2(20),
 60    rflg_zj                VARCHAR2(20),
 61    rflag                  VARCHAR2(20),
 62    police_id              VARCHAR2(200),
 63    police_org_code1       VARCHAR2(50),
 64    police_org_code2       VARCHAR2(12),
 65    police_org_code_joint1 VARCHAR2(4000),
 66    police_org_code_joint2 VARCHAR2(4000),
 67    police_org_code_joint3 VARCHAR2(12),
 68    police_org_code_joint4 VARCHAR2(12),
 69    police_org_code_joint5 VARCHAR2(12),
 70    police_org_code_name1  VARCHAR2(4000),
 71    police_org_code_name2  VARCHAR2(4000),
 72    police_org_code_name3  VARCHAR2(40),
 73    police_org_code_name4  VARCHAR2(40),
 74    police_org_code_name5  VARCHAR2(40),
 75    if_anonymous           NUMBER(5),
 76    analy_result           VARCHAR2(100),
 77    is_top                 NUMBER(5),
 78    memo                   VARCHAR2(300),
 79    jjd_rel_type           NUMBER(5),
 80    pos_x_cj               VARCHAR2(20),
 81    pos_y_cj               VARCHAR2(20),
 82    pos_x_fk               VARCHAR2(20),
 83    pos_y_fk               VARCHAR2(20),
 84    caseid                 VARCHAR2(20),
 85    userid                 VARCHAR2(20),
 86    evn_type               VARCHAR2(40) not null,
 87    evn_handle_type        VARCHAR2(5),
 88    callid_all             VARCHAR2(50),
 89    evn_tag                VARCHAR2(20),
 90    sdate_submit           VARCHAR2(20),
 91    jjd_real_status        VARCHAR2(5),
 92    jjd_real_reason        VARCHAR2(500),
 93    evn_level_reason       VARCHAR2(200),
 94    jjd_real_sub           VARCHAR2(200),
 95    police_org_code        VARCHAR2(50),
 96    evn_from               VARCHAR2(10),
 97    currentghid            VARCHAR2(10),
 98    len_ring               NUMBER(5),
 99    len_talk               NUMBER(5),
100    fd_len                 NUMBER(5),
101    wrong_reason           VARCHAR2(100),
102    wrong_timeout_len      VARCHAR2(10),
103    casetype               NUMBER(5),
104    casename               VARCHAR2(100),
105    rksj_zyk               DATE
106  )
107  tablespace HIATMPTS
108    pctfree 10
109    initrans 1
110    maxtrans 255
111    storage
112    (
113      initial 16K
114      next 8K
115      minextents 1
116      maxextents unlimited
117    );
Table created
SQL> -- Add comments to the columns
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.jjdbh
  2    is '接警单编号--主键--组成方式:天津市号（3）+区号（3）+年月日（8）+hsm(6)+随机号（4）';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.category
  2    is '报警类别  DICT_CATEGORY 字典表';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.category2
  2    is '报警类型  DICT_CATEGORY2 字典表';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.create_date
  2    is '入库时间';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.status
  2    is '警情状态';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.evn_from_info
  2    is '警情来源  DICT_CALL_FROM_INFO';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.evn_content
  2    is '报警内容';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.pos_x_sec
  2    is '事发地点X坐标';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.pos_y_sec
  2    is '事发地点Y坐标';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.sdate
  2    is '报警时间';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.tel
  2    is '报警电话--三字段信息';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.bj_name
  2    is '报警人姓名';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.evn_addr
  2    is '案发地点-PGIS';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.update_date
  2    is '更新时间';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.xzqh
  2    is '行政区划--代码见DICT_POLICE_ORG字典表';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.jjdbh_rel
  2    is '接警单编号--10处旧编号';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.jtype
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.org_code
  2    is '接警单位代码--代码见DICT_POLICE_ORG字典表';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.ghid
  2    is '接警员ID,同接警员工号';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.op_name
  2    is '接警员姓名';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.sdate_callin
  2    is '电话呼入时间';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.edate
  2    is '话终时间';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.uname
  2    is '用户名称--三字段信息';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.address
  2    is '用户地址--三字段信息';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.callid
  2    is '接警录音号';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.bj_sex
  2    is '报警人性别   1-男  2-女   3-未知 ';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.bj_tel
  2    is '处警联系电话';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.bj_addr
  2    is '报警人地点 -报警人来电最近的基站地址';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.bj_id_card
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.evn_info
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.evn_level
  2    is '警情级别 DICT_EVENT_LEVEL字典表';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.evn_org_code
  2    is '管辖单位代码';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.category3
  2    is '报警细类  DICT_CATEGOR3 字典表';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.category4
  2    is '报警小类  DICT_CATEGORY4 字典表';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.has_danger_goods
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.has_leak
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.is_sw
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.vehicle_type
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.vehicle_no
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.is_escape
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.is_danger_vehicle
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.in_dangers
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.hurts
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.deaths
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.fire_level
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.fire_build_frame
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.fire_build_type
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.fire_reason
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.fire_object
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.fire_place
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.fire_area
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.fire_water_info
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.pos_x
  2    is '报警人地点X坐标';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.pos_y
  2    is '报警人地点Y坐标';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.evn_content_ex
  2    is '遗留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.upload_bz
  2    is '遗留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.rflg_ssyj
  2    is '遗留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.rflg_zj
  2    is '遗留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.rflag
  2    is '遗留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.police_id
  2    is '处警员编号';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.police_org_code1
  2    is '二级处警单位';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.police_org_code2
  2    is '三级处警单位';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.police_org_code_joint1
  2    is '二级联动单位';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.police_org_code_joint2
  2    is '三级联动单位';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.police_org_code_joint3
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.police_org_code_joint4
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.police_org_code_joint5
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.police_org_code_name1
  2    is '四级联动单位';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.police_org_code_name2
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.police_org_code_name3
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.police_org_code_name4
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.police_org_code_name5
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.if_anonymous
  2    is '处警员是否查看报警人信息   否 0    是 1 ';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.analy_result
  2    is 'APP分析结果';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.is_top
  2    is '预留字段-是否置顶';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.memo
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.jjd_rel_type
  2    is '重复报警类型';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.pos_x_cj
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.pos_y_cj
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.pos_x_fk
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.pos_y_fk
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.caseid
  2    is '接警录音号';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.userid
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.evn_type
  2    is '接警类型';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.evn_handle_type
  2    is '处理类型  DICT_HANDLE_TYPE';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.callid_all
  2    is '接警回拨录音号';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.evn_tag
  2    is '警情标示';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.sdate_submit
  2    is '接警单派发时间';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.jjd_real_status
  2    is '重复报警状态  0-非重复报警   1-标记为复打警情   2-撤销复打警情';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.jjd_real_reason
  2    is '复打警情撤销原因';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.evn_level_reason
  2    is '调整警情级别原因';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.jjd_real_sub
  2    is '关联接警单号';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.police_org_code
  2    is '处警单位（接警单派二级单位时，为二级单位代码；派三级单位时，为三级单位代码）';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.evn_from
  2    is '报警方式  FLD_TYPE与警情来源字典表中的FLD_ID关联   DICT_CALL_FROM';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.currentghid
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.len_ring
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.len_talk
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.fd_len
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.wrong_reason
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.wrong_timeout_len
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.casetype
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_JJD.casename
  2    is '预留字段';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table T_TJSJTBPTGX_EVN_JJD
  2    add constraint PRIJJDBHEVNNEW primary key (JJDBH)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> -- Create table
SQL> create table T_TJSJTBPTGX_EVN_CJD
  2  (
  3    jjdbh                  VARCHAR2(24) not null,
  4    category               VARCHAR2(24),
  5    category2              VARCHAR2(24),
  6    create_date            VARCHAR2(20) not null,
  7    status                 NUMBER(5),
  8    evn_content            VARCHAR2(2000),
  9    xzqh                   VARCHAR2(6),
 10    cjdbh                  VARCHAR2(24) not null,
 11    org_code               VARCHAR2(12) not null,
 12    ghid                   VARCHAR2(20),
 13    op_name                VARCHAR2(60),
 14    sdate                  VARCHAR2(20),
 15    callid                 VARCHAR2(30),
 16    suggest                VARCHAR2(4000),
 17    police_org_code        VARCHAR2(12),
 18    police_id              VARCHAR2(200),
 19    police_name            VARCHAR2(40),
 20    police_org_code1       VARCHAR2(12),
 21    police_org_code2       VARCHAR2(12),
 22    police_org_code3       VARCHAR2(12),
 23    feedbk_bz              NUMBER(5),
 24    feedbk_limit           NUMBER(10),
 25    edate                  VARCHAR2(20),
 26    sdate_send             VARCHAR2(20),
 27    sdate_recv             VARCHAR2(20),
 28    upload_bz              NUMBER(5),
 29    update_date            VARCHAR2(20) not null,
 30    police_org_code_joint1 VARCHAR2(4000),
 31    police_org_code_joint2 VARCHAR2(4000),
 32    police_org_code_joint3 VARCHAR2(12),
 33    police_org_code_joint4 VARCHAR2(12),
 34    police_org_code_joint5 VARCHAR2(12),
 35    if_transfer            NUMBER(5),
 36    if_master              NUMBER(5),
 37    suggest1               VARCHAR2(4000),
 38    rflg                   VARCHAR2(52),
 39    if_listen_rec          NUMBER(5),
 40    if_login_org1          NUMBER(5),
 41    if_login_org2          NUMBER(5),
 42    if_feedbk_final        NUMBER(5),
 43    timeout_ltime          VARCHAR2(20),
 44    cjtbh                  VARCHAR2(4),
 45    cjtip                  VARCHAR2(23),
 46    cjdwlbdm               NUMBER(5),
 47    dhcjfs                 NUMBER(5),
 48    djjcjfs                NUMBER(5),
 49    wlcjfs                 NUMBER(5),
 50    dxxcjfs                NUMBER(5),
 51    police_org_code_name1  VARCHAR2(4000),
 52    status_td              VARCHAR2(5),
 53    return_option_memo     VARCHAR2(4000),
 54    return_option          VARCHAR2(200),
 55    gb_memo                VARCHAR2(4000),
 56    status_gb              NUMBER(5),
 57    jjdbh_rel              VARCHAR2(24),
 58    tel                    VARCHAR2(50),
 59    category3              VARCHAR2(24),
 60    category4              VARCHAR2(24),
 61    evn_addr               VARCHAR2(200),
 62    evn_type               VARCHAR2(50),
 63    pj_org_code            VARCHAR2(12),
 64    cjd_level              NUMBER(2),
 65    delete_flag            VARCHAR2(30),
 66    rksj_zyk               DATE
 67  )
 68  tablespace HIATMPTS
 69    pctfree 10
 70    initrans 1
 71    maxtrans 255
 72    storage
 73    (
 74      initial 16K
 75      next 8K
 76      minextents 1
 77      maxextents unlimited
 78    );
Table created
SQL> -- Add comments to the columns
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.jjdbh
  2    is '接警单代码';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.category
  2    is '报警类别  字典表DICT_CATEGORY';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.category2
  2    is '报警类型  字典表DICT_CATEGORY2';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.create_date
  2    is '入库时间';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.status
  2    is '警情状态  见字典表 CRM_CASE_STATUS';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.evn_content
  2    is '报警内容';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.xzqh
  2    is '行政区划';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.cjdbh
  2    is '处警单代码';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.org_code
  2    is '接警单位代码';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.ghid
  2    is '处警员工号';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.op_name
  2    is '处警员姓名';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.sdate
  2    is '处警时间';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.callid
  2    is '处警录音号';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.suggest
  2    is '处警意见';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.police_org_code
  2    is '处警单所属单位';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.police_id
  2    is '出警员编号';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.police_name
  2    is '受警员姓名';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.police_org_code1
  2    is '二级处警单位';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.police_org_code2
  2    is '三级处警单位';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.police_org_code3
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.feedbk_bz
  2    is '是否反馈  0-未反馈  1-反馈';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.feedbk_limit
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.edate
  2    is '处警结束时间';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.sdate_send
  2    is '派单到达时间';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.sdate_recv
  2    is '派单接收时间';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.upload_bz
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.update_date
  2    is '更新时间';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.police_org_code_joint1
  2    is '二级联动单位';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.police_org_code_joint2
  2    is '三级联动单位';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.police_org_code_joint3
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.police_org_code_joint4
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.police_org_code_joint5
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.if_transfer
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.if_master
  2    is '单位类别   0-处警,1-联动';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.suggest1
  2    is '处警措施';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.rflg
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.if_listen_rec
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.if_login_org1
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.if_login_org2
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.if_feedbk_final
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.timeout_ltime
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.cjtbh
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.cjtip
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.cjdwlbdm
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.dhcjfs
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.djjcjfs
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.wlcjfs
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.dxxcjfs
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.police_org_code_name1
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.status_td
  2    is '退单状态 1-二级退单待审核  2-二级退单驳回  3-三级退单待审核  4-三级退单驳回';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.return_option_memo
  2    is '退单情况';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.return_option
  2    is '退单理由';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.gb_memo
  2    is '重复警情归并情况';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.status_gb
  2    is '归并状态 1-三级申请归并待审核  2-三级申请归并未通过  3-二级申请归并待审核  4-二级申请归并未通过  5-二级申请归并通过';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.jjdbh_rel
  2    is '关联接警单号';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.tel
  2    is '报警电话';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.category3
  2    is '报警细类  字典表DICT_CATEGORY3';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.category4
  2    is '报警小类  字典表DICT_CATEGORY4';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.evn_addr
  2    is '事发地点';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.evn_type
  2    is '接警类型';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.pj_org_code
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.cjd_level
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_CJD.delete_flag
  2    is '主库删除标识';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table T_TJSJTBPTGX_EVN_CJD
  2    add constraint PRICJDBH primary key (CJDBH)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> -- Create table
SQL> create table T_TJSJTBPTGX_EVN_FKD
  2  (
  3    jjdbh                  VARCHAR2(24) not null,
  4    category               VARCHAR2(2),
  5    category2              VARCHAR2(8),
  6    create_date            VARCHAR2(20) not null,
  7    status                 NUMBER(5),
  8    evn_content            VARCHAR2(4000),
  9    xzqh                   VARCHAR2(6) not null,
 10    fkdbh                  VARCHAR2(20) not null,
 11    cjdbh                  VARCHAR2(20) not null,
 12    sdate                  VARCHAR2(20) not null,
 13    callid                 VARCHAR2(20),
 14    org_code_create        VARCHAR2(12),
 15    ghid                   VARCHAR2(20),
 16    op_name                VARCHAR2(40),
 17    org_code               VARCHAR2(12),
 18    police_name            VARCHAR2(50),
 19    category3              VARCHAR2(8),
 20    category4              VARCHAR2(8),
 21    evn_sdate              VARCHAR2(20),
 22    evn_edate              VARCHAR2(20),
 23    evn_level              NUMBER(5),
 24    evn_addr               VARCHAR2(200),
 25    police_date_go         VARCHAR2(20),
 26    police_date_reach      VARCHAR2(20),
 27    police_date_over       VARCHAR2(20),
 28    task_note              CLOB,
 29    result_code            NUMBER(5),
 30    result_note            VARCHAR2(4000),
 31    use_vehicles           NUMBER(5),
 32    use_persons            VARCHAR2(200),
 33    person_arrest          NUMBER(5),
 34    person_involve         VARCHAR2(200),
 35    person_saving          NUMBER(5),
 36    person_saving_memo     VARCHAR2(2000),
 37    person_escape          NUMBER(5),
 38    person_hurts           VARCHAR2(20),
 39    person_shurts          NUMBER(5),
 40    person_deaths          VARCHAR2(20),
 41    person_keeps           NUMBER(5),
 42    person_notfind         NUMBER(5),
 43    police_hurts           VARCHAR2(200),
 44    police_deaths          VARCHAR2(200),
 45    evn_loss               NUMBER(19,4),
 46    evn_loss_saving        NUMBER(19,4),
 47    is_solve               NUMBER(5),
 48    is_solve2              NUMBER(5),
 49    is_solve3              NUMBER(5),
 50    fire_level             NUMBER(5),
 51    fire_build_frame       NUMBER(5),
 52    fire_build_type        NUMBER(5),
 53    fire_reason            NUMBER(5),
 54    fire_accident_type     NUMBER(5),
 55    fire_object            NUMBER(5),
 56    fire_place             VARCHAR2(6),
 57    fire_date_putout       VARCHAR2(20),
 58    fire_date_leave        VARCHAR2(20),
 59    fire_scene_leader      VARCHAR2(100),
 60    fire_use_squirt        NUMBER(5),
 61    fire_is_imp_unit       NUMBER(5),
 62    fire_imp_unit_name     VARCHAR2(100),
 63    fire_area              VARCHAR2(100),
 64    e122_triffic_state     VARCHAR2(5),
 65    e122_triffic_reason    VARCHAR2(5),
 66    is_danger_vehicle      NUMBER(5),
 67    e122_road_type         VARCHAR2(5),
 68    e122_damage_motor      NUMBER(5),
 69    e122_damage_non_motor  NUMBER(5),
 70    crime_tool             VARCHAR2(800),
 71    upload_bz              NUMBER(5),
 72    update_date            VARCHAR2(20) not null,
 73    is_sw                  NUMBER(5),
 74    is_sj                  NUMBER(5),
 75    police_org_code        VARCHAR2(12),
 76    case_code              VARCHAR2(20),
 77    if_main_unit           NUMBER(5),
 78    escape_mode_memo       VARCHAR2(2000),
 79    if_person_casualty     NUMBER(5),
 80    commit_mode_memo       VARCHAR2(2000),
 81    commit_method_memo     VARCHAR2(100),
 82    person_abducted        VARCHAR2(200),
 83    crime_tool_memo        VARCHAR2(2000),
 84    loss_possessions_memo  VARCHAR2(2000),
 85    bank                   VARCHAR2(20),
 86    person_injured         VARCHAR2(200),
 87    drugs_involved         VARCHAR2(100),
 88    status_fk              NUMBER(5),
 89    commit_reason          NUMBER(5),
 90    commit_reason_memo     VARCHAR2(2000),
 91    lost_property          VARCHAR2(100),
 92    crime_tool_txt         VARCHAR2(200),
 93    steal_veh_brand        VARCHAR2(200),
 94    steal_veh_color        VARCHAR2(200),
 95    steal_veh_model        VARCHAR2(200),
 96    steal_veh_no           VARCHAR2(50),
 97    remiting_type_memo     VARCHAR2(2000),
 98    remiting_bank_memo     VARCHAR2(2000),
 99    remiting_platform_memo VARCHAR2(2000),
100    acc_veh_cnt            VARCHAR2(50),
101    acc_veh_type           VARCHAR2(50),
102    acc_veh_hp             VARCHAR2(200),
103    acc_veh_hp_no          VARCHAR2(50),
104    acc_level              NUMBER(5),
105    acc_deal_type          NUMBER(5),
106    yd_level               NUMBER(5),
107    yd_reason_type         NUMBER(5),
108    deal_result_type       NUMBER(5),
109    fire_object_matter     VARCHAR2(200),
110    evn_reason             VARCHAR2(200),
111    alarm_happen_date      VARCHAR2(50),
112    category_alarm         VARCHAR2(2),
113    category2_alarm        VARCHAR2(8),
114    category3_alarm        VARCHAR2(8),
115    category4_alarm        VARCHAR2(8),
116    if_treat_cases         NUMBER(5),
117    cases_situation        VARCHAR2(30),
118    alarm_detailed_pos     VARCHAR2(200),
119    end_feedback_reason    VARCHAR2(4000),
120    edate_zj               VARCHAR2(20),
121    police_org_code1       VARCHAR2(12),
122    police_org_code2       VARCHAR2(12),
123    police_id              VARCHAR2(200),
124    police_org_code_joint1 CLOB,
125    police_org_code_joint2 CLOB,
126    police_org_code_name1  CLOB,
127    pos_kind               VARCHAR2(10),
128    pos_detailed_kind      VARCHAR2(10),
129    community_name         VARCHAR2(100),
130    newest_fkd             NUMBER(5),
131    basic_parsonnel        NUMBER(5),
132    status_jqfk            NUMBER(5),
133    sdate_fk               VARCHAR2(25),
134    status_fk_ex           NUMBER(5),
135    unqualify_reson        VARCHAR2(4000),
136    fkd_type               NUMBER(5),
137    edate_fk               VARCHAR2(20),
138    is_it_over             NUMBER(5),
139    if_master              NUMBER(5),
140    tel                    VARCHAR2(50),
141    evn_type               VARCHAR2(50),
142    pos_x_fk               VARCHAR2(20),
143    pos_y_fk               VARCHAR2(20),
144    if_anonymous           NUMBER(5),
145    infring_object         NUMBER(5),
146    evn_handle_type        NUMBER(5),
147    currentghid            VARCHAR2(20),
148    if_sw                  NUMBER(5),
149    if_sq                  NUMBER(5),
150    if_ma                  NUMBER(5),
151    if_mzx                 NUMBER(5),
152    if_md                  NUMBER(5),
153    if_sj                  NUMBER(5),
154    if_suspect             NUMBER(5),
155    steal_veh_brand_tt     VARCHAR2(200),
156    if_person_hurt         NUMBER(5),
157    acc_deal_result        VARCHAR2(50),
158    acc_car_info           VARCHAR2(50),
159    if_sx                  NUMBER(5),
160    related_per_infomation NUMBER(5),
161    acc_reason             VARCHAR2(200),
162    commit_mode            NUMBER(38),
163    commit_method          VARCHAR2(1000),
164    escape_mode            NUMBER(38),
165    loss_possessions       NUMBER(38),
166    evn_loss_type          NUMBER(38),
167    remiting_type          NUMBER(38),
168    remiting_bank          NUMBER(38),
169    remiting_platform      NUMBER(38),
170    casetype               NUMBER(5),
171    bj_tel                 VARCHAR2(30),
172    delete_flag            VARCHAR2(5),
173    rksj_zyk               DATE,
174    steal_veh_model_memo   VARCHAR2(1000),
175    app_media              VARCHAR2(4000)
176  )
177  tablespace HIATMPTS
178    pctfree 10
179    initrans 1
180    maxtrans 255
181    storage
182    (
183      initial 16K
184      next 8K
185      minextents 1
186      maxextents unlimited
187    );
Table created
SQL> -- Add comments to the columns
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.jjdbh
  2    is '接警单编号';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.category
  2    is '警情类别';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.category2
  2    is '警情类型';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.create_date
  2    is '入库时间';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.status
  2    is '警情状态';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.evn_content
  2    is '报警内容';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.xzqh
  2    is '行政区划';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.fkdbh
  2    is '反馈单编号';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.cjdbh
  2    is '处警单编号';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.sdate
  2    is '反馈时间';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.callid
  2    is '反馈录音号';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.org_code_create
  2    is '填写反馈单位代码';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.ghid
  2    is '反馈人编号';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.op_name
  2    is '反馈人姓名';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.org_code
  2    is '反馈单位代码';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.police_name
  2    is '出警人姓名';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.category3
  2    is '警情细类';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.category4
  2    is '警情小类';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.evn_sdate
  2    is '警情发生时间';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.evn_edate
  2    is '警情结束时间';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.evn_level
  2    is '警情级别    字典表JQDJDMB';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.evn_addr
  2    is '警情详细地点';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.police_date_go
  2    is '实际出警时间';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.police_date_reach
  2    is '到达现场时间';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.police_date_over
  2    is '处理完毕时间';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.task_note
  2    is '出警情况';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.result_code
  2    is '处理结果代码,字典表';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.result_note
  2    is '处理结果';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.use_vehicles
  2    is '出动车辆';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.use_persons
  2    is '出动人数';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.person_arrest
  2    is '抓获人数';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.person_involve
  2    is '作案人数';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.person_saving
  2    is '救助人数';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.person_saving_memo
  2    is '救助人数说明';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.person_escape
  2    is '逃跑人数';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.person_hurts
  2    is '轻伤人数';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.person_shurts
  2    is '重伤人数';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.person_deaths
  2    is '死亡人数';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.person_keeps
  2    is '留置审查人员';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.person_notfind
  2    is '下落不明人员';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.police_hurts
  2    is '出警人员受伤人数';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.police_deaths
  2    is '出警察人员死亡人数';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.evn_loss
  2    is '经济损失';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.evn_loss_saving
  2    is '挽回经济损失';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.is_solve
  2    is '是否破获刑事案件';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.is_solve2
  2    is '是否查处治安事件';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.is_solve3
  2    is '是否解决纠纷';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.fire_level
  2    is '火灾等级';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.fire_build_frame
  2    is '燃烧建筑结构代码';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.fire_build_type
  2    is '建筑类别代码';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.fire_reason
  2    is '火灾原因';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.fire_accident_type
  2    is '火灾事故类型';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.fire_object
  2    is '起火物';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.fire_place
  2    is '火灾场所';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.fire_date_putout
  2    is '预留字段-火场扑灭时间';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.fire_date_leave
  2    is '预留字段-撤离时间';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.fire_scene_leader
  2    is '预留字段-现场总指挥';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.fire_use_squirt
  2    is '预留字段-出动水枪数';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.fire_is_imp_unit
  2    is '预留字段-是否重点单位';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.fire_imp_unit_name
  2    is '预留字段-重点单位名称';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.fire_area
  2    is '过火面积';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.e122_triffic_state
  2    is '交通事故形态代码';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.e122_triffic_reason
  2    is '交通事故原因代码';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.is_danger_vehicle
  2    is '是否是危化车辆';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.e122_road_type
  2    is '道路类型代码';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.e122_damage_motor
  2    is '损坏机动车数';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.e122_damage_non_motor
  2    is '损坏非机动车数';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.crime_tool
  2    is '涉案(损失)物品';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.upload_bz
  2    is '预留字段-上传游标';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.update_date
  2    is '数据更新时间';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.is_sw
  2    is '预留字段-是否涉外';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.is_sj
  2    is '预留字段-是否涉警';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.police_org_code
  2    is '责任单位';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.case_code
  2    is '案件编号字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.if_main_unit
  2    is '是否主责单位';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.escape_mode_memo
  2    is '逃跑方式备注';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.if_person_casualty
  2    is '人员伤亡';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.commit_mode_memo
  2    is '作案方式备注';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.commit_method_memo
  2    is '作案手段备注';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.person_abducted
  2    is '被劫持人员数量';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.crime_tool_memo
  2    is '作案工具';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.loss_possessions_memo
  2    is '损失财物(文本+勾选)';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.bank
  2    is '所属银行   ';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.person_injured
  2    is '受害人数(文本+勾选)';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.drugs_involved
  2    is '涉案毒品(文本框)';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.status_fk
  2    is '反馈状态  0-未反馈,1-三级反馈待审核,2-三级反馈被驳回,3-三级反馈通过,4-二级反馈待审核,5-二级反馈被驳回,6-市局审核反馈通过,7-三级解锁申请,8-三级解锁未反馈,9-三级解锁反馈待审核,10-三级解锁反馈被驳回,11-三级解锁反馈通过,12-三级解锁反馈市局待审核,13-三级解锁反馈市局驳回,14-市局审核解锁反馈通过,';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.commit_reason
  2    is '作案原因-单选';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.commit_reason_memo
  2    is '作案原因-文本';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.lost_property
  2    is '"损失财务(文本+勾选)"';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.crime_tool_txt
  2    is '作案工具 --文本';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.steal_veh_brand
  2    is '车辆品牌';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.steal_veh_color
  2    is '车辆颜色';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.steal_veh_model
  2    is '车辆车型';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.steal_veh_no
  2    is '车辆牌照';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.remiting_type_memo
  2    is '汇款方式备注';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.remiting_bank_memo
  2    is '汇款银行备注';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.remiting_platform_memo
  2    is '汇款平台备注';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.acc_veh_cnt
  2    is '事故车辆数量 ';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.acc_veh_type
  2    is '事故车辆类别';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.acc_veh_hp
  2    is '事故号牌种类';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.acc_veh_hp_no
  2    is '事故号牌号码';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.acc_level
  2    is '事故级别';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.acc_deal_type
  2    is '事故处置方式';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.yd_level
  2    is '拥堵程度';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.yd_reason_type
  2    is '拥堵原因分类';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.deal_result_type
  2    is '处置结果';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.fire_object_matter
  2    is '起火物';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.evn_reason
  2    is '事件原因';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.alarm_happen_date
  2    is '警情发生时间';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.category_alarm
  2    is '警情类别';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.category2_alarm
  2    is '警情类型';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.category3_alarm
  2    is '警情细类';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.category4_alarm
  2    is '警情小类';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.if_treat_cases
  2    is '是否出警处置';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.cases_situation
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.alarm_detailed_pos
  2    is '警情详细地点';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.end_feedback_reason
  2    is '警情反馈终结解锁原因';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.edate_zj
  2    is '反馈终结时间';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.police_org_code1
  2    is '出警单位所属分局代码';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.police_org_code2
  2    is '出警单位所属派出所代码';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.police_id
  2    is '出警员编号';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.police_org_code_joint1
  2    is '二级联动单位';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.police_org_code_joint2
  2    is '三级联动单位';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.police_org_code_name1
  2    is '四级联动单位(警员)';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.pos_kind
  2    is '警情部位分类';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.pos_detailed_kind
  2    is '警情部位细类';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.community_name
  2    is '社区（警务区）名称';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.newest_fkd
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.basic_parsonnel
  2    is '人员基本信息  -表T_TJSJTBPTGX_BHXQ_EVN_FKD_ATTCH_INFO中查';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.status_jqfk
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.sdate_fk
  2    is '反馈结束时间';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.status_fk_ex
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.unqualify_reson
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.fkd_type
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.edate_fk
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.is_it_over
  2    is '是否警情反馈终结';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.if_master
  2    is '是否主单';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.tel
  2    is '报警电话';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.evn_type
  2    is '接警类型';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.pos_x_fk
  2    is '反馈打点X坐标';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.pos_y_fk
  2    is '反馈打点Y坐标';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.if_anonymous
  2    is '处警员是否查看报警人信息   0-否  1-是';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.infring_object
  2    is '侵害对象';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.evn_handle_type
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.currentghid
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.if_sw
  2    is '是否涉外   0-否 1-是';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.if_sq
  2    is '是否涉枪    0-否 1-是';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.if_ma
  2    is '是否命案   0-否 1-是';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.if_mzx
  2    is '是否民转刑   0-否 1-是';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.if_md
  2    is '是否矛盾纠纷引发  0-否 1-是';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.if_sj
  2    is '是否涉警 0-否 1-是';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.if_suspect
  2    is '是否现场抓获犯罪嫌疑人 0-否 1-是';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.steal_veh_brand_tt
  2    is '摩托车、电动车、自行车车辆品牌  -表T_TJSJTBPTGX_BHXQ_EVN_FKD_ATTCH_INFO中查';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.if_person_hurt
  2    is '人员受伤';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.acc_deal_result
  2    is '事故处置结果';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.acc_car_info
  2    is '事故车辆信息';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.if_sx
  2    is '是否涉学';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.related_per_infomation
  2    is '相关人员信息';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.acc_reason
  2    is '事故原因';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.commit_mode
  2    is '作案方式';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.commit_method
  2    is '作案手段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.escape_mode
  2    is '逃跑方式';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.loss_possessions
  2    is '损失财物(多选)';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.evn_loss_type
  2    is '涉案价值';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.remiting_type
  2    is '汇款方式';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.remiting_bank
  2    is '汇款银行';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.remiting_platform
  2    is '汇款平台';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.casetype
  2    is '预留字段';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.delete_flag
  2    is '主库删除标识';
Comment added
SQL> comment on column T_TJSJTBPTGX_EVN_FKD.app_media
  2    is '敬请综合反馈-多媒体';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table T_TJSJTBPTGX_EVN_FKD
  2    add constraint PRIFKDBH primary key (FKDBH)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> -- 交通事故 结束
SQL> -- 交通流表
SQL> -- Create table
SQL> create table HRV_ROAD_NET_HUB
  2  (
  3    point_id         VARCHAR2(32),
  4    point_name       VARCHAR2(100),
  5    point_coordiante CLOB,
  6    related_roadid   VARCHAR2(10)
  7  )
  8  tablespace HIATMPTS
  9    pctfree 10
 10    initrans 1
 11    maxtrans 255
 12    storage
 13    (
 14      initial 16K
 15      next 8K
 16      minextents 1
 17      maxextents unlimited
 18    );
Table created
SQL> -- Add comments to the table
SQL> comment on table HRV_ROAD_NET_HUB
  2    is '路网枢纽点位信息';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column HRV_ROAD_NET_HUB.point_id
  2    is '枢纽点位唯一标识';
Comment added
SQL> comment on column HRV_ROAD_NET_HUB.point_name
  2    is '枢纽名称';
Comment added
SQL> comment on column HRV_ROAD_NET_HUB.point_coordiante
  2    is '坐标';
Comment added
SQL> comment on column HRV_ROAD_NET_HUB.related_roadid
  2    is '最近相关联的路段ID';
Comment added
SQL>  -- Create table
SQL> create table HRV_INOUTCITY_FLOW
  2  (
  3    deviceid    NVARCHAR2(20) not null,
  4    inoutflag   CHAR(1) not null,
  5    allcarnum   NUMBER(10) not null,
  6    computedate DATE not null,
  7    insertdate  DATE default sysdate not null
  8  )
  9  tablespace HIATMPTS
 10    pctfree 10
 11    initrans 1
 12    maxtrans 255
 13    storage
 14    (
 15      initial 64K
 16      next 1M
 17      minextents 1
 18      maxextents unlimited
 19    );
Table created
SQL> -- Add comments to the table
SQL> comment on table HRV_INOUTCITY_FLOW
  2    is '进出城车流量表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column HRV_INOUTCITY_FLOW.deviceid
  2    is '卡口编号';
Comment added
SQL> comment on column HRV_INOUTCITY_FLOW.inoutflag
  2    is '进出城标志，0-进城，1-出城';
Comment added
SQL> comment on column HRV_INOUTCITY_FLOW.allcarnum
  2    is '车辆总数';
Comment added
SQL> comment on column HRV_INOUTCITY_FLOW.computedate
  2    is '计算时间';
Comment added
SQL> comment on column HRV_INOUTCITY_FLOW.insertdate
  2    is '入库时间';
Comment added
SQL> -- Create table
SQL> create table FXYP_SECTION_DEVICE_INFO
  2  (
  3    sectionid   NVARCHAR2(8) not null,
  4    dldm        NVARCHAR2(5) not null,
  5    resectionid NVARCHAR2(8) not null,
  6    redldm      NVARCHAR2(5) not null,
  7    lanes       INTEGER not null,
  8    redevice    VARCHAR2(18) not null
  9  )
 10  tablespace HIATMPTS
 11    pctfree 10
 12    initrans 1
 13    maxtrans 255
 14    storage
 15    (
 16      initial 64K
 17      next 1M
 18      minextents 1
 19      maxextents unlimited
 20    );
Table created
SQL> -- Add comments to the table
SQL> comment on table FXYP_SECTION_DEVICE_INFO
  2    is '路段与设备关联表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column FXYP_SECTION_DEVICE_INFO.sectionid
  2    is '路段代码';
Comment added
SQL> comment on column FXYP_SECTION_DEVICE_INFO.dldm
  2    is '道路代码';
Comment added
SQL> comment on column FXYP_SECTION_DEVICE_INFO.resectionid
  2    is '关联路段代码';
Comment added
SQL> comment on column FXYP_SECTION_DEVICE_INFO.redldm
  2    is '关联路段所在道路，防止两个路段不在同一条道路';
Comment added
SQL> comment on column FXYP_SECTION_DEVICE_INFO.redevice
  2    is '与路段关联的设备，不可为空';
Comment added
SQL> -- Create table
SQL> create table FXYP_PROGRAM_MANAGE_INFO
  2  (
  3    lkdm      VARCHAR2(32) not null,
  4    dldm      NVARCHAR2(5) not null,
  5    pmdate    DATE not null,
  6    owner     NVARCHAR2(20) not null,
  7    pmcontent NVARCHAR2(200)
  8  )
  9  tablespace HIATMPTS
 10    pctfree 10
 11    initrans 1
 12    maxtrans 255
 13    storage
 14    (
 15      initial 64K
 16      next 1M
 17      minextents 1
 18      maxextents unlimited
 19    );
Table created
SQL> -- Add comments to the table
SQL> comment on table FXYP_PROGRAM_MANAGE_INFO
  2    is '组织管理信息表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column FXYP_PROGRAM_MANAGE_INFO.lkdm
  2    is '路口代码';
Comment added
SQL> comment on column FXYP_PROGRAM_MANAGE_INFO.dldm
  2    is '道路代码';
Comment added
SQL> comment on column FXYP_PROGRAM_MANAGE_INFO.pmdate
  2    is '实施开始日期';
Comment added
SQL> comment on column FXYP_PROGRAM_MANAGE_INFO.owner
  2    is '实施人';
Comment added
SQL> comment on column FXYP_PROGRAM_MANAGE_INFO.pmcontent
  2    is '实施内容';
Comment added
SQL>  -- Create table
SQL> create table FXYP_HRV_CONCERN_ROAD_RELATION
  2  (
  3    concernid VARCHAR2(32) not null,
  4    roadid    NVARCHAR2(8) not null,
  5    strcoords CLOB
  6  )
  7  tablespace HIATMPTS
  8    pctfree 10
  9    initrans 1
 10    maxtrans 255
 11    storage
 12    (
 13      initial 64K
 14      next 1M
 15      minextents 1
 16      maxextents unlimited
 17    );
Table created
SQL> -- Add comments to the table
SQL> comment on table FXYP_HRV_CONCERN_ROAD_RELATION
  2    is '关注点与道路关联表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column FXYP_HRV_CONCERN_ROAD_RELATION.concernid
  2    is '关注点ID';
Comment added
SQL> comment on column FXYP_HRV_CONCERN_ROAD_RELATION.roadid
  2    is '路口ID';
Comment added
SQL> comment on column FXYP_HRV_CONCERN_ROAD_RELATION.strcoords
  2    is '路段坐标集合';
Comment added
SQL> -- Create table
SQL> create table FXYP_HRV_CONCERN
  2  (
  3    concernid   VARCHAR2(32) not null,
  4    concernname VARCHAR2(100) not null,
  5    concerntype CHAR(1) not null,
  6    creator     VARCHAR2(50) not null,
  7    createtime  DATE not null,
  8    updater     VARCHAR2(50),
  9    updatetime  DATE,
 10    strcoords   CLOB,
 11    description VARCHAR2(300),
 12    areaids     VARCHAR2(1000) not null
 13  )
 14  tablespace HIATMPTS
 15    pctfree 10
 16    initrans 1
 17    maxtrans 255
 18    storage
 19    (
 20      initial 64K
 21      next 1M
 22      minextents 1
 23      maxextents unlimited
 24    );
Table created
SQL> -- Add comments to the table
SQL> comment on table FXYP_HRV_CONCERN
  2    is '道路关联表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column FXYP_HRV_CONCERN.concernid
  2    is '关注点（重点道路、重点区域、商圈）ID';
Comment added
SQL> comment on column FXYP_HRV_CONCERN.concernname
  2    is '关注点名称';
Comment added
SQL> comment on column FXYP_HRV_CONCERN.concerntype
  2    is '关注点类型 1道路；2区域；3商圈；4.路口';
Comment added
SQL> comment on column FXYP_HRV_CONCERN.creator
  2    is '创建人';
Comment added
SQL> comment on column FXYP_HRV_CONCERN.createtime
  2    is '创建时间';
Comment added
SQL> comment on column FXYP_HRV_CONCERN.updater
  2    is '更新人';
Comment added
SQL> comment on column FXYP_HRV_CONCERN.updatetime
  2    is '更新时间';
Comment added
SQL> comment on column FXYP_HRV_CONCERN.strcoords
  2    is '关注点图形坐标集';
Comment added
SQL> comment on column FXYP_HRV_CONCERN.description
  2    is '备注';
Comment added
SQL>   -- Create table
SQL> create table FXYP_FLOAT_CAR_STATUS
  2  (
  3    sectionid   NVARCHAR2(20) not null,
  4    avspeed     NUMBER(11,2) not null,
  5    avtime      NUMBER(11,2) not null,
  6    stoptime    NUMBER(11,2) not null,
  7    stoptimes   INTEGER not null,
  8    computedate DATE not null,
  9    insertdate  DATE not null
 10  )
 11  tablespace HIATMPTS
 12    pctfree 10
 13    initrans 1
 14    maxtrans 255
 15    storage
 16    (
 17      initial 64K
 18      next 1M
 19      minextents 1
 20      maxextents unlimited
 21    );
Table created
SQL> -- Add comments to the table
SQL> comment on table FXYP_FLOAT_CAR_STATUS
  2    is '浮动车计算结果表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column FXYP_FLOAT_CAR_STATUS.sectionid
  2    is '路段编号';
Comment added
SQL> comment on column FXYP_FLOAT_CAR_STATUS.avspeed
  2    is '平均速度，单位为km/h';
Comment added
SQL> comment on column FXYP_FLOAT_CAR_STATUS.avtime
  2    is '平均旅行时间，单位为s';
Comment added
SQL> comment on column FXYP_FLOAT_CAR_STATUS.stoptime
  2    is '停车时间，单位为s';
Comment added
SQL> comment on column FXYP_FLOAT_CAR_STATUS.stoptimes
  2    is '停车次数';
Comment added
SQL> comment on column FXYP_FLOAT_CAR_STATUS.computedate
  2    is '计算时段开始时间,间隔1h';
Comment added
SQL> comment on column FXYP_FLOAT_CAR_STATUS.insertdate
  2    is '实际入库时间';
Comment added
SQL>  -- Create table
SQL> create table FXYP_FLOATCAR_ANALYSIS_RESULT
  2  (
  3    nid       VARCHAR2(32) not null,
  4    carnumber VARCHAR2(16) not null,
  5    sectionid NVARCHAR2(8) not null,
  6    dldm      VARCHAR2(5),
  7    starttime DATE not null,
  8    endtime   DATE not null,
  9    velocity  NUMBER(11,2),
 10    stoptime  NUMBER(11,2),
 11    stoptimes INTEGER
 12  )
 13  tablespace HIATMPTS
 14    pctfree 10
 15    initrans 1
 16    maxtrans 255
 17    storage
 18    (
 19      initial 64K
 20      next 1M
 21      minextents 1
 22      maxextents unlimited
 23    );
Table created
SQL> -- Add comments to the table
SQL> comment on table FXYP_FLOATCAR_ANALYSIS_RESULT
  2    is '浮动车分析结果表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column FXYP_FLOATCAR_ANALYSIS_RESULT.nid
  2    is '32位随机码';
Comment added
SQL> comment on column FXYP_FLOATCAR_ANALYSIS_RESULT.carnumber
  2    is '浮动车号牌号码';
Comment added
SQL> comment on column FXYP_FLOATCAR_ANALYSIS_RESULT.sectionid
  2    is '路段代码';
Comment added
SQL> comment on column FXYP_FLOATCAR_ANALYSIS_RESULT.dldm
  2    is '道路代码';
Comment added
SQL> comment on column FXYP_FLOATCAR_ANALYSIS_RESULT.starttime
  2    is '开始时间';
Comment added
SQL> comment on column FXYP_FLOATCAR_ANALYSIS_RESULT.endtime
  2    is '结束时间';
Comment added
SQL> comment on column FXYP_FLOATCAR_ANALYSIS_RESULT.velocity
  2    is '行驶速度，单位为km/h';
Comment added
SQL> comment on column FXYP_FLOATCAR_ANALYSIS_RESULT.stoptime
  2    is '停车时间';
Comment added
SQL> comment on column FXYP_FLOATCAR_ANALYSIS_RESULT.stoptimes
  2    is '停车次数';
Comment added
SQL>   -- Create table
SQL> create table FXYP_CROSS_DEVICE_INFO
  2  (
  3    lkdm     VARCHAR2(32) not null,
  4    dldm     NVARCHAR2(5) not null,
  5    jkd      VARCHAR2(40) not null,
  6    redevice VARCHAR2(18) not null
  7  )
  8  tablespace HIATMPTS
  9    pctfree 10
 10    initrans 1
 11    maxtrans 255
 12    storage
 13    (
 14      initial 64K
 15      next 1M
 16      minextents 1
 17      maxextents unlimited
 18    );
Table created
SQL> -- Add comments to the table
SQL> comment on table FXYP_CROSS_DEVICE_INFO
  2    is '路口与设备关联表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column FXYP_CROSS_DEVICE_INFO.lkdm
  2    is '路口代码';
Comment added
SQL> comment on column FXYP_CROSS_DEVICE_INFO.dldm
  2    is '道路代码';
Comment added
SQL> comment on column FXYP_CROSS_DEVICE_INFO.jkd
  2    is '进口道方向，以“,”分割，枚举值(2003)';
Comment added
SQL> comment on column FXYP_CROSS_DEVICE_INFO.redevice
  2    is '与路段关联的设备，不可为空';
Comment added
SQL> -- 交通流表  结束
SQL> -- 交通组织与管控 开始
SQL> -- Create table
SQL> create table SVMS_DRIVERINFO
  2  (
  3    id                 VARCHAR2(32) not null,
  4    driveridenti       VARCHAR2(18),
  5    drivername         NVARCHAR2(10),
  6    allowdrivercartype VARCHAR2(20),
  7    driverphone        VARCHAR2(11),
  8    ccdjrq             DATE,
  9    yxqz               DATE,
 10    syrq               DATE,
 11    syyxqz             DATE,
 12    ljjf               VARCHAR2(10),
 13    ownertype          VARCHAR2(2),
 14    ownname            NVARCHAR2(200),
 15    ownerid            VARCHAR2(32)
 16  )
 17  tablespace HIATMPTS
 18    pctfree 10
 19    initrans 1
 20    maxtrans 255
 21    storage
 22    (
 23      initial 16
 24      next 8
 25      minextents 1
 26      maxextents unlimited
 27    );
Table created
SQL> -- Add comments to the table
SQL> comment on table SVMS_DRIVERINFO
  2    is '重点车辆-驾驶人表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column SVMS_DRIVERINFO.id
  2    is '主键uuid';
Comment added
SQL> comment on column SVMS_DRIVERINFO.driveridenti
  2    is '身份证号码';
Comment added
SQL> comment on column SVMS_DRIVERINFO.drivername
  2    is '姓名';
Comment added
SQL> comment on column SVMS_DRIVERINFO.allowdrivercartype
  2    is '准驾车型';
Comment added
SQL> comment on column SVMS_DRIVERINFO.driverphone
  2    is '手机号码';
Comment added
SQL> comment on column SVMS_DRIVERINFO.ccdjrq
  2    is '初次领证日期';
Comment added
SQL> comment on column SVMS_DRIVERINFO.yxqz
  2    is '有效期至';
Comment added
SQL> comment on column SVMS_DRIVERINFO.syrq
  2    is '审验日期';
Comment added
SQL> comment on column SVMS_DRIVERINFO.syyxqz
  2    is '审验有效期至';
Comment added
SQL> comment on column SVMS_DRIVERINFO.ljjf
  2    is '累计积分';
Comment added
SQL> comment on column SVMS_DRIVERINFO.ownertype
  2    is '所有人类别';
Comment added
SQL> comment on column SVMS_DRIVERINFO.ownname
  2    is '所有人名称';
Comment added
SQL> comment on column SVMS_DRIVERINFO.ownerid
  2    is '所有人id';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table SVMS_DRIVERINFO
  2    add constraint DRIVER_ID primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> -- Create table
SQL> create table SVMS_VEH_DRIVER
  2  (
  3    id        VARCHAR2(32) not null,
  4    vehinfoid VARCHAR2(32),
  5    driverid  VARCHAR2(32)
  6  )
  7  tablespace HIATMPTS
  8    pctfree 10
  9    initrans 1
 10    maxtrans 255
 11    storage
 12    (
 13      initial 16K
 14      next 8K
 15      minextents 1
 16      maxextents unlimited
 17    );
Table created
SQL> -- Add comments to the table
SQL> comment on table SVMS_VEH_DRIVER
  2    is '重点车辆-车辆驾驶人关联表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column SVMS_VEH_DRIVER.id
  2    is 'uuid';
Comment added
SQL> comment on column SVMS_VEH_DRIVER.vehinfoid
  2    is '重点车辆表ID';
Comment added
SQL> comment on column SVMS_VEH_DRIVER.driverid
  2    is '驾驶人表ID';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table SVMS_VEH_DRIVER
  2    add constraint VEH_DRI_ID primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> -- Create table
SQL> create table SVMS_VEHINFO
  2  (
  3    id             VARCHAR2(32) not null,
  4    hphm           NVARCHAR2(10),
  5    hpzl           VARCHAR2(2),
  6    vehtype        VARCHAR2(20),
  7    clpp1          NVARCHAR2(20),
  8    csys           VARCHAR2(20),
  9    fzjg           NVARCHAR2(20),
 10    glbm           NVARCHAR2(20),
 11    syxz           VARCHAR2(60),
 12    fdjxh          VARCHAR2(200),
 13    bxzzrq         DATE,
 14    clsbdh         NVARCHAR2(50),
 15    fdjh           NVARCHAR2(50),
 16    bxgs           NVARCHAR2(50),
 17    ccdjrq         DATE,
 18    djrq           DATE,
 19    qzbfqz         DATE,
 20    hdzzl          NUMBER(10),
 21    hdzk           NUMBER(3),
 22    zt             NVARCHAR2(20),
 23    ownerid        VARCHAR2(32),
 24    approvalstatus VARCHAR2(2),
 25    inputperson    NVARCHAR2(20),
 26    inputdept      NVARCHAR2(20),
 27    inputtime      DATE,
 28    vehmsg         NVARCHAR2(1000),
 29    updatetime     DATE,
 30    yxqz           DATE,
 31    gxrq           DATE,
 32    safeman        NVARCHAR2(20),
 33    pic1           VARCHAR2(200),
 34    pic2           VARCHAR2(200),
 35    pic3           VARCHAR2(200),
 36    gjzt           VARCHAR2(2)
 37  )
 38  tablespace HIATMPTS
 39    pctfree 10
 40    initrans 1
 41    maxtrans 255
 42    storage
 43    (
 44      initial 64
 45      next 8
 46      minextents 1
 47      maxextents unlimited
 48    );
Table created
SQL> -- Add comments to the table
SQL> comment on table SVMS_VEHINFO
  2    is '重点车辆基本信息表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column SVMS_VEHINFO.id
  2    is '主键uuid';
Comment added
SQL> comment on column SVMS_VEHINFO.hphm
  2    is '号牌号码';
Comment added
SQL> comment on column SVMS_VEHINFO.hpzl
  2    is '号牌种类';
Comment added
SQL> comment on column SVMS_VEHINFO.vehtype
  2    is '车辆类型';
Comment added
SQL> comment on column SVMS_VEHINFO.clpp1
  2    is '车辆品牌';
Comment added
SQL> comment on column SVMS_VEHINFO.csys
  2    is '车身颜色（枚举）';
Comment added
SQL> comment on column SVMS_VEHINFO.fzjg
  2    is '发证机关';
Comment added
SQL> comment on column SVMS_VEHINFO.glbm
  2    is '管理部门';
Comment added
SQL> comment on column SVMS_VEHINFO.syxz
  2    is '使用性质';
Comment added
SQL> comment on column SVMS_VEHINFO.fdjxh
  2    is '发动机型号';
Comment added
SQL> comment on column SVMS_VEHINFO.bxzzrq
  2    is '保险终止日期';
Comment added
SQL> comment on column SVMS_VEHINFO.clsbdh
  2    is '车辆识别代号';
Comment added
SQL> comment on column SVMS_VEHINFO.fdjh
  2    is '发动机编号';
Comment added
SQL> comment on column SVMS_VEHINFO.bxgs
  2    is '保险公司';
Comment added
SQL> comment on column SVMS_VEHINFO.ccdjrq
  2    is '初次登记日期';
Comment added
SQL> comment on column SVMS_VEHINFO.djrq
  2    is '最近定检日期';
Comment added
SQL> comment on column SVMS_VEHINFO.qzbfqz
  2    is '强制报废期止';
Comment added
SQL> comment on column SVMS_VEHINFO.hdzzl
  2    is '核定载重量（kg）';
Comment added
SQL> comment on column SVMS_VEHINFO.hdzk
  2    is '核定载客（人）';
Comment added
SQL> comment on column SVMS_VEHINFO.zt
  2    is '车辆状态(六合一状态)';
Comment added
SQL> comment on column SVMS_VEHINFO.ownerid
  2    is '所有人ID';
Comment added
SQL> comment on column SVMS_VEHINFO.approvalstatus
  2    is '审批状态 0未提交 1未审批 2通过 3驳回';
Comment added
SQL> comment on column SVMS_VEHINFO.inputperson
  2    is '采集人userid';
Comment added
SQL> comment on column SVMS_VEHINFO.inputdept
  2    is '采集单位';
Comment added
SQL> comment on column SVMS_VEHINFO.inputtime
  2    is '采集时间';
Comment added
SQL> comment on column SVMS_VEHINFO.vehmsg
  2    is '六合一报文';
Comment added
SQL> comment on column SVMS_VEHINFO.updatetime
  2    is '更新时间（数据库记录）';
Comment added
SQL> comment on column SVMS_VEHINFO.yxqz
  2    is '检验有效期止';
Comment added
SQL> comment on column SVMS_VEHINFO.gxrq
  2    is '更新日期（车管库）';
Comment added
SQL> comment on column SVMS_VEHINFO.safeman
  2    is '安全责任人';
Comment added
SQL> comment on column SVMS_VEHINFO.pic1
  2    is '图片一';
Comment added
SQL> comment on column SVMS_VEHINFO.pic2
  2    is '图片二';
Comment added
SQL> comment on column SVMS_VEHINFO.pic3
  2    is '图片三';
Comment added
SQL> comment on column SVMS_VEHINFO.gjzt
  2    is '告警状态(枚举16008)';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table SVMS_VEHINFO
  2    add constraint VEH_ID primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL>   -- Create table
SQL> create table SVMS_VEHOWNER
  2  (
  3    id                  VARCHAR2(32) not null,
  4    ownertype           VARCHAR2(20),
  5    ownername           NVARCHAR2(20),
  6    unitproperties      NVARCHAR2(20),
  7    unittype            NVARCHAR2(20),
  8    businesscertificate NVARCHAR2(20),
  9    representativename  NVARCHAR2(20),
 10    representativeid    VARCHAR2(18),
 11    corporationphone    VARCHAR2(32),
 12    address             NVARCHAR2(50),
 13    deptid              NVARCHAR2(20),
 14    bigdeptid           NVARCHAR2(20),
 15    qyzt                VARCHAR2(2),
 16    fzjy                VARCHAR2(32),
 17    gsfzr               VARCHAR2(32),
 18    gsfzrphone          VARCHAR2(32)
 19  )
 20  tablespace HIATMPTS
 21    pctfree 10
 22    initrans 1
 23    maxtrans 255
 24    storage
 25    (
 26      initial 16K
 27      next 8K
 28      minextents 1
 29      maxextents unlimited
 30    );
Table created
SQL> comment on table SVMS_VEHOWNER
  2    is '重点车辆-所有人表';
Comment added
SQL> comment on column SVMS_VEHOWNER.ownertype
  2    is '所有人类别(01个人  02单位 枚举 17003)';
Comment added
SQL> comment on column SVMS_VEHOWNER.ownername
  2    is '所有人名称 (公司填公司名,  个人写个人名)';
Comment added
SQL> comment on column SVMS_VEHOWNER.unitproperties
  2    is '单位性质 (枚举 17004)';
Comment added
SQL> comment on column SVMS_VEHOWNER.unittype
  2    is '单位类型';
Comment added
SQL> comment on column SVMS_VEHOWNER.businesscertificate
  2    is '经营许可证';
Comment added
SQL> comment on column SVMS_VEHOWNER.representativename
  2    is '法人代表姓名';
Comment added
SQL> comment on column SVMS_VEHOWNER.representativeid
  2    is '法人身份证号';
Comment added
SQL> comment on column SVMS_VEHOWNER.corporationphone
  2    is '公司电话';
Comment added
SQL> comment on column SVMS_VEHOWNER.address
  2    is '单位地址';
Comment added
SQL> comment on column SVMS_VEHOWNER.deptid
  2    is '所属分局';
Comment added
SQL> comment on column SVMS_VEHOWNER.bigdeptid
  2    is '所属大队';
Comment added
SQL> comment on column SVMS_VEHOWNER.qyzt
  2    is '所有人状态(枚举 16007)';
Comment added
SQL> comment on column SVMS_VEHOWNER.fzjy
  2    is '职责民警';
Comment added
SQL> comment on column SVMS_VEHOWNER.gsfzr
  2    is '负责人 (公司或个人)';
Comment added
SQL> comment on column SVMS_VEHOWNER.gsfzrphone
  2    is '联系方式 (负责人)';
Comment added
SQL> alter table SVMS_VEHOWNER
  2    add constraint OWNER_ID primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL>   -- Create table
SQL> create table SVMS_VEH_APPROVAL_HIS
  2  (
  3    id             VARCHAR2(32) not null,
  4    vehinfoid      VARCHAR2(32),
  5    approvalstatus VARCHAR2(2),
  6    rejectreason   NVARCHAR2(100),
  7    approvalperson VARCHAR2(18),
  8    approvaltime   DATE
  9  )
 10  tablespace HIATMPTS
 11    pctfree 10
 12    initrans 1
 13    maxtrans 255
 14    storage
 15    (
 16      initial 16K
 17      next 8K
 18      minextents 1
 19      maxextents unlimited
 20    );
Table created
SQL> -- Add comments to the table
SQL> comment on table SVMS_VEH_APPROVAL_HIS
  2    is '重点车辆审批记录表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column SVMS_VEH_APPROVAL_HIS.vehinfoid
  2    is '重点车辆表ID';
Comment added
SQL> comment on column SVMS_VEH_APPROVAL_HIS.approvalstatus
  2    is '审批状态 0未提交 1未审批 2通过 3驳回';
Comment added
SQL> comment on column SVMS_VEH_APPROVAL_HIS.rejectreason
  2    is '驳回原因';
Comment added
SQL> comment on column SVMS_VEH_APPROVAL_HIS.approvalperson
  2    is '审批人（对应重点车辆表采集人）';
Comment added
SQL> comment on column SVMS_VEH_APPROVAL_HIS.approvaltime
  2    is '审批时间';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table SVMS_VEH_APPROVAL_HIS
  2    add constraint APP_ID primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL>   -- Create table
SQL> create table SVMS_VEH_PASSINFO
  2  (
  3    id                        VARCHAR2(32) not null,
  4    transportgoods            NVARCHAR2(30),
  5    licensedept               VARCHAR2(30),
  6    certificatevalidity       DATE,
  7    passtype                  VARCHAR2(2),
  8    passno                    NVARCHAR2(50),
  9    hphm                      NVARCHAR2(30),
 10    hpzl                      VARCHAR2(2),
 11    certificatevaliditystdate DATE,
 12    applydate                 DATE,
 13    backflag                  VARCHAR2(1)
 14  )
 15  tablespace HIATMPTS
 16    pctfree 10
 17    initrans 1
 18    maxtrans 255
 19    storage
 20    (
 21      initial 16K
 22      next 8K
 23      minextents 1
 24      maxextents unlimited
 25    );
Table created
SQL> -- Add comments to the table
SQL> comment on table SVMS_VEH_PASSINFO
  2    is '重点车辆通行证表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column SVMS_VEH_PASSINFO.transportgoods
  2    is '运输物品';
Comment added
SQL> comment on column SVMS_VEH_PASSINFO.licensedept
  2    is '发证机关，冗余字段，不用';
Comment added
SQL> comment on column SVMS_VEH_PASSINFO.certificatevalidity
  2    is '证件有效期';
Comment added
SQL> comment on column SVMS_VEH_PASSINFO.passtype
  2    is '通行类型  扩展字段';
Comment added
SQL> comment on column SVMS_VEH_PASSINFO.passno
  2    is '通行证编号';
Comment added
SQL> comment on column SVMS_VEH_PASSINFO.hphm
  2    is '号牌号码';
Comment added
SQL> comment on column SVMS_VEH_PASSINFO.hpzl
  2    is '号牌种类';
Comment added
SQL> comment on column SVMS_VEH_PASSINFO.certificatevaliditystdate
  2    is '通行证有效期（开始时间）';
Comment added
SQL> comment on column SVMS_VEH_PASSINFO.applydate
  2    is '申请时间';
Comment added
SQL> comment on column SVMS_VEH_PASSINFO.backflag
  2    is '标志位';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table SVMS_VEH_PASSINFO
  2    add constraint PASS_ID primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> -- Create table
SQL> create table SVMS_VEH_PASS_ROUTE
  2  (
  3    id             VARCHAR2(32) not null,
  4    passinfoid     VARCHAR2(32),
  5    startpointname NVARCHAR2(50),
  6    endpointname   NVARCHAR2(50),
  7    passtype       VARCHAR2(2),
  8    passcoordinate CLOB,
  9    begindate      DATE,
 10    enddate        DATE,
 11    begintime      VARCHAR2(40),
 12    endtime        VARCHAR2(40),
 13    datetype       VARCHAR2(12),
 14    routeno        NUMBER
 15  )
 16  tablespace HIATMPTS
 17    pctfree 10
 18    initrans 1
 19    maxtrans 255
 20    storage
 21    (
 22      initial 16K
 23      next 8K
 24      minextents 1
 25      maxextents unlimited
 26    );
Table created
SQL> -- Add comments to the table
SQL> comment on table SVMS_VEH_PASS_ROUTE
  2    is '重点车辆通行证线路表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column SVMS_VEH_PASS_ROUTE.passinfoid
  2    is '通行证表主键ID';
Comment added
SQL> comment on column SVMS_VEH_PASS_ROUTE.startpointname
  2    is '起点名称';
Comment added
SQL> comment on column SVMS_VEH_PASS_ROUTE.endpointname
  2    is '终点名称';
Comment added
SQL> comment on column SVMS_VEH_PASS_ROUTE.passtype
  2    is '通行类型，扩展字段';
Comment added
SQL> comment on column SVMS_VEH_PASS_ROUTE.passcoordinate
  2    is '坐标';
Comment added
SQL> comment on column SVMS_VEH_PASS_ROUTE.begindate
  2    is '开始日期';
Comment added
SQL> comment on column SVMS_VEH_PASS_ROUTE.enddate
  2    is '结束日期';
Comment added
SQL> comment on column SVMS_VEH_PASS_ROUTE.begintime
  2    is '开始时间';
Comment added
SQL> comment on column SVMS_VEH_PASS_ROUTE.endtime
  2    is '结束时间';
Comment added
SQL> comment on column SVMS_VEH_PASS_ROUTE.datetype
  2    is '日期类型（1工作日、2节假日）';
Comment added
SQL> comment on column SVMS_VEH_PASS_ROUTE.routeno
  2    is '路线编号1、2、3..';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table SVMS_VEH_PASS_ROUTE
  2    add constraint R_ID primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> -- Create table
SQL> create table SVMS_VEH_ROUTE_DEVICE
  2  (
  3    id        VARCHAR2(32),
  4    routeid   VARCHAR2(32),
  5    deviceno  NUMBER,
  6    deviceid  NVARCHAR2(20),
  7    direction VARCHAR2(12)
  8  )
  9  tablespace HIATMPTS
 10    pctfree 10
 11    initrans 1
 12    maxtrans 255
 13    storage
 14    (
 15      initial 16K
 16      next 8K
 17      minextents 1
 18      maxextents unlimited
 19    );
Table created
SQL> -- Add comments to the table
SQL> comment on table SVMS_VEH_ROUTE_DEVICE
  2    is '重点车辆-通行证线路关联卡口表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column SVMS_VEH_ROUTE_DEVICE.routeid
  2    is '重点车辆通行证线路表主键ID';
Comment added
SQL> comment on column SVMS_VEH_ROUTE_DEVICE.deviceno
  2    is '卡口序号（1、2、3…）';
Comment added
SQL> comment on column SVMS_VEH_ROUTE_DEVICE.deviceid
  2    is '卡口设备id';
Comment added
SQL> comment on column SVMS_VEH_ROUTE_DEVICE.direction
  2    is '方向';
Comment added
SQL> -- Create table
SQL> create table SVMS_VEH_PASS_INFO_ROUTE
  2  (
  3    passinfoid VARCHAR2(32),
  4    routerid   VARCHAR2(32),
  5    begindate  DATE,
  6    enddate    DATE,
  7    begintime  VARCHAR2(40),
  8    endtime    VARCHAR2(40),
  9    datetype   VARCHAR2(12),
 10    routeno    NUMBER,
 11    id         VARCHAR2(32) not null
 12  )
 13  tablespace HIATMPTS
 14    pctfree 10
 15    initrans 1
 16    maxtrans 255
 17    storage
 18    (
 19      initial 64K
 20      next 1M
 21      minextents 1
 22      maxextents unlimited
 23    );
Table created
SQL> -- Add comments to the table
SQL> comment on table SVMS_VEH_PASS_INFO_ROUTE
  2    is '重点车辆通行证与限行线路关联表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column SVMS_VEH_PASS_INFO_ROUTE.passinfoid
  2    is '通行证表ID';
Comment added
SQL> comment on column SVMS_VEH_PASS_INFO_ROUTE.routerid
  2    is '限行线路ID';
Comment added
SQL> comment on column SVMS_VEH_PASS_INFO_ROUTE.begindate
  2    is '开始日期';
Comment added
SQL> comment on column SVMS_VEH_PASS_INFO_ROUTE.enddate
  2    is '结束日期';
Comment added
SQL> comment on column SVMS_VEH_PASS_INFO_ROUTE.begintime
  2    is '开始时间';
Comment added
SQL> comment on column SVMS_VEH_PASS_INFO_ROUTE.endtime
  2    is '结束时间';
Comment added
SQL> comment on column SVMS_VEH_PASS_INFO_ROUTE.datetype
  2    is '日期类型(1工作日\2节假日)';
Comment added
SQL> comment on column SVMS_VEH_PASS_INFO_ROUTE.routeno
  2    is '路线编号1,2,3..';
Comment added
SQL> comment on column SVMS_VEH_PASS_INFO_ROUTE.id
  2    is '主键';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table SVMS_VEH_PASS_INFO_ROUTE
  2    add constraint SVMS_VEH_PASS_INFO_ROUTE_PK primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> -- Create table
SQL> create table SVMS_ALARMINFO
  2  (
  3    nid          VARCHAR2(32) not null,
  4    carno        NVARCHAR2(10),
  5    vehtype      VARCHAR2(6),
  6    coffense     NVARCHAR2(100),
  7    dillegaldate DATE,
  8    caddresscode VARCHAR2(12),
  9    caddress     NVARCHAR2(200),
 10    cartype      VARCHAR2(2),
 11    type         VARCHAR2(1),
 12    remark       NVARCHAR2(200),
 13    createtime   DATE,
 14    pic1         NVARCHAR2(500),
 15    pic2         NVARCHAR2(500),
 16    pic3         NVARCHAR2(500),
 17    car_color    VARCHAR2(6),
 18    auditstatus  VARCHAR2(1)
 19  )
 20  tablespace HIATMPTS
 21    pctfree 10
 22    initrans 1
 23    maxtrans 255
 24    storage
 25    (
 26      initial 64
 27      next 8
 28      minextents 1
 29      maxextents unlimited
 30    );
Table created
SQL> -- Add comments to the table
SQL> comment on table SVMS_ALARMINFO
  2    is '重点车辆预警信息';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column SVMS_ALARMINFO.nid
  2    is '主键';
Comment added
SQL> comment on column SVMS_ALARMINFO.carno
  2    is '号牌号码';
Comment added
SQL> comment on column SVMS_ALARMINFO.vehtype
  2    is '重点车辆类型';
Comment added
SQL> comment on column SVMS_ALARMINFO.coffense
  2    is '违法行为';
Comment added
SQL> comment on column SVMS_ALARMINFO.dillegaldate
  2    is '违法时间';
Comment added
SQL> comment on column SVMS_ALARMINFO.caddresscode
  2    is '地点编号';
Comment added
SQL> comment on column SVMS_ALARMINFO.caddress
  2    is '地点名称';
Comment added
SQL> comment on column SVMS_ALARMINFO.cartype
  2    is '号牌种类';
Comment added
SQL> comment on column SVMS_ALARMINFO.type
  2    is '生成类型，1：违法，2：过车';
Comment added
SQL> comment on column SVMS_ALARMINFO.remark
  2    is '备注';
Comment added
SQL> comment on column SVMS_ALARMINFO.createtime
  2    is '创建时间';
Comment added
SQL> comment on column SVMS_ALARMINFO.pic1
  2    is '抓拍图片1';
Comment added
SQL> comment on column SVMS_ALARMINFO.pic2
  2    is '抓拍图片2';
Comment added
SQL> comment on column SVMS_ALARMINFO.pic3
  2    is '抓拍图片3';
Comment added
SQL> comment on column SVMS_ALARMINFO.car_color
  2    is '重点车辆车身颜色  枚举745';
Comment added
SQL> comment on column SVMS_ALARMINFO.auditstatus
  2    is '审核状态';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table SVMS_ALARMINFO
  2    add constraint PRI_SVMSALERMINFOID primary key (NID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL>   -- Create table
SQL> create table TOC_LIMIT_TYPE
  2  (
  3    id         VARCHAR2(20) not null,
  4    name       VARCHAR2(100),
  5    type_level VARCHAR2(20),
  6    describe   VARCHAR2(100)
  7  )
  8  tablespace HIATMPTS
  9    pctfree 10
 10    initrans 1
 11    maxtrans 255
 12    storage
 13    (
 14      initial 64K
 15      next 8K
 16      minextents 1
 17      maxextents unlimited
 18    );
Table created
SQL> comment on table TOC_LIMIT_TYPE
  2    is '限行管理限行种类表';
Comment added
SQL> comment on column TOC_LIMIT_TYPE.id
  2    is '限行种类id';
Comment added
SQL> comment on column TOC_LIMIT_TYPE.name
  2    is '限行种类名称';
Comment added
SQL> comment on column TOC_LIMIT_TYPE.type_level
  2    is '规则优先级 (1的优先等级最高, 增长类推，0表示没有启用该规则)';
Comment added
SQL> comment on column TOC_LIMIT_TYPE.describe
  2    is '限行种类的详情描述';
Comment added
SQL> alter table TOC_LIMIT_TYPE
  2    add constraint PRI_TOC_LIMIT_TYPE primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> -- Create table
SQL> create table TOC_LIMIT_RULES
  2  (
  3    id                  VARCHAR2(32) not null,
  4    name                VARCHAR2(100),
  5    limit_type_id       VARCHAR2(10),
  6    limit_begin_time    DATE,
  7    limit_end_time      DATE,
  8    limit_duration_time VARCHAR2(200),
  9    law_begin_time      DATE,
 10    law_end_time        DATE,
 11    status              VARCHAR2(2),
 12    points              VARCHAR2(4000),
 13    map_coordiante      VARCHAR2(4000),
 14    ismodel             VARCHAR2(2),
 15    describe            VARCHAR2(4000),
 16    auditinfo           VARCHAR2(200),
 17    ifnewenergy         VARCHAR2(1)
 18  )
 19  tablespace HIATMPTS
 20    pctfree 10
 21    initrans 1
 22    maxtrans 255
 23    storage
 24    (
 25      initial 64K
 26      next 8K
 27      minextents 1
 28      maxextents unlimited
 29    );
Table created
SQL> -- Add comments to the table
SQL> comment on table TOC_LIMIT_RULES
  2    is '限行管理限行规则表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column TOC_LIMIT_RULES.id
  2    is '数据库唯一标志 (限行规则ID)';
Comment added
SQL> comment on column TOC_LIMIT_RULES.name
  2    is '限行规则名称';
Comment added
SQL> comment on column TOC_LIMIT_RULES.limit_type_id
  2    is '限行种类 (TOC_LIMIT_TYPE)';
Comment added
SQL> comment on column TOC_LIMIT_RULES.limit_begin_time
  2    is '限行开始日期,YYYY-MM-DD';
Comment added
SQL> comment on column TOC_LIMIT_RULES.limit_end_time
  2    is '限行结束日期,YYYY-MM-DD';
Comment added
SQL> comment on column TOC_LIMIT_RULES.limit_duration_time
  2    is '限行时段  (多个用时段用逗号,拼接)';
Comment added
SQL> comment on column TOC_LIMIT_RULES.law_begin_time
  2    is '执法开始日期';
Comment added
SQL> comment on column TOC_LIMIT_RULES.law_end_time
  2    is '执法结束日期';
Comment added
SQL> comment on column TOC_LIMIT_RULES.status
  2    is '状态;0待提交;1待审核 2审核通过 3审核不通过 4执行中  5停用 6已删除';
Comment added
SQL> comment on column TOC_LIMIT_RULES.points
  2    is '限行点位编号 (多个用逗号拼接)';
Comment added
SQL> comment on column TOC_LIMIT_RULES.map_coordiante
  2    is '圈选地图的范围';
Comment added
SQL> comment on column TOC_LIMIT_RULES.ismodel
  2    is '是否模板; 1是,0否';
Comment added
SQL> comment on column TOC_LIMIT_RULES.describe
  2    is '限行规则的描述';
Comment added
SQL> comment on column TOC_LIMIT_RULES.auditinfo
  2    is '审核意见,审核通过可以为空';
Comment added
SQL> comment on column TOC_LIMIT_RULES.ifnewenergy
  2    is '是否新能源车辆';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table TOC_LIMIT_RULES
  2    add constraint PRI_TOC_LIMIT_RULES primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> create table TJ_SVMS_REGULARINSPECT
  2  (
  3    nid         VARCHAR2(32) default SYS_GUID() not null,
  4    warndate    DATE,
  5    warntype    VARCHAR2(32),
  6    warncontent VARCHAR2(200),
  7    rectifydate DATE,
  8    syrid       VARCHAR2(32),
  9    carnumber   VARCHAR2(32),
 10    drivername  VARCHAR2(32),
 11    status      VARCHAR2(32),
 12    issuetype   VARCHAR2(32)
 13  );
Table created
SQL> create table TJ_SVMS_VISITLIST
  2  (
  3    taskid        VARCHAR2(32) default SYS_GUID() not null,
  4    tasktime      DATE,
  5    tasktype      VARCHAR2(32),
  6    ownerid       VARCHAR2(32),
  7    policeid      VARCHAR2(32),
  8    taskdetail    VARCHAR2(200),
  9    taskstatus    VARCHAR2(32),
 10    tasktimelimit DATE,
 11    insertime     DATE
 12  );
Table created
SQL> create table TJ_SVMS_VISITFEEDBACKLIST
  2  (
  3    visitfeedbackid   VARCHAR2(32) default SYS_GUID() not null,
  4    taskid            VARCHAR2(32),
  5    visitfeedbacktime DATE,
  6    feedbackpoliceid  VARCHAR2(32),
  7    feedbackdetail    VARCHAR2(200),
  8    pic1              VARCHAR2(100),
  9    pic2              VARCHAR2(100),
 10    pic3              VARCHAR2(100),
 11    insertime         DATE,
 12    autorevokeflag    VARCHAR2(100)
 13  );
Table created
SQL> create table TJ_SVMS_NOTICEINFO
  2  (
  3    id         VARCHAR2(32) default SYS_GUID() not null,
  4    noticeid   VARCHAR2(64),
  5    createtime  DATE,
  6    begintime DATE,
  7    endtime DATE,
  8    ownerid       VARCHAR2(32),
  9    noticestatus   VARCHAR2(2)
 10  );
Table created
SQL> create table TJ_OWNERSTATUS_HISTORY
  2  (
  3    nid        VARCHAR2(32) default SYS_GUID() not null,
  4    ownerid    VARCHAR2(32),
  5    inserttime DATE,
  6    status     VARCHAR2(32)
  7  );
Table created
SQL> create table TOC_LIMIT_TYPE_RELATION_CAR
  2  (
  3    id         VARCHAR2(20),
  4    name       VARCHAR2(100),
  5    relationid VARCHAR2(500)
  6  )
  7  tablespace HIATMPTS
  8    pctfree 10
  9    initrans 1
 10    maxtrans 255
 11    storage
 12    (
 13      initial 64K
 14      next 8K
 15      minextents 1
 16      maxextents unlimited
 17    );
Table created
SQL> comment on table TOC_LIMIT_TYPE_RELATION_CAR
  2    is '限行管理特殊车辆对应的限行种类表';
Comment added
SQL> comment on column TOC_LIMIT_TYPE_RELATION_CAR.id
  2    is '特殊车辆的限行种类ID  (大类, 枚举17007)';
Comment added
SQL> comment on column TOC_LIMIT_TYPE_RELATION_CAR.name
  2    is '特殊车辆的限行名称  (大类, 枚举17007)';
Comment added
SQL> comment on column TOC_LIMIT_TYPE_RELATION_CAR.relationid
  2    is '关联TOC_LIMIT_TYPE的ID (小类, 逗号隔开)';
Comment added
SQL> -- Create table
SQL> create table SMS_ACCESS_TOKEN
  2  (
  3    id           VARCHAR2(1) not null,
  4    access_token VARCHAR2(4000),
  5    createtime   DATE
  6  );
Table created
SQL> -- Add comments to the table
SQL> comment on table SMS_ACCESS_TOKEN
  2    is '源头管理access_token存储表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column SMS_ACCESS_TOKEN.id
  2    is '主键（1：实际环境，2：测试环境）';
Comment added
SQL> comment on column SMS_ACCESS_TOKEN.access_token
  2    is 'access_token';
Comment added
SQL> comment on column SMS_ACCESS_TOKEN.createtime
  2    is '创建时间';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table SMS_ACCESS_TOKEN
  2    add constraint PRIACCESSTOKENID primary key (ID);
Table altered
SQL> -- Create table
SQL> create table SMG_VEHINFO
  2  (
  3    hpzl       VARCHAR2(2) not null,
  4    hphm       NVARCHAR2(10) not null,
  5    xzqh       NVARCHAR2(20),
  6    syr        NVARCHAR2(200),
  7    zt         VARCHAR2(10),
  8    syxz       NVARCHAR2(20),
  9    syq        NVARCHAR2(10),
 10    cllx       VARCHAR2(10),
 11    ccdjrq     VARCHAR2(10),
 12    yxqz       VARCHAR2(10),
 13    qzbfqz     VARCHAR2(10),
 14    sjhm       VARCHAR2(100),
 15    zsxxdz     NVARCHAR2(200),
 16    zsxzqh     VARCHAR2(10),
 17    wfwcln     VARCHAR2(10),
 18    createtime DATE,
 19    nid        VARCHAR2(32) not null
 20  );
Table created
SQL> -- Add comments to the table
SQL> comment on table SMG_VEHINFO
  2    is '源头管理重点车辆违法数据';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column SMG_VEHINFO.hpzl
  2    is '号牌种类';
Comment added
SQL> comment on column SMG_VEHINFO.hphm
  2    is '号牌号码';
Comment added
SQL> comment on column SMG_VEHINFO.xzqh
  2    is '行政区划';
Comment added
SQL> comment on column SMG_VEHINFO.syr
  2    is '所有人';
Comment added
SQL> comment on column SMG_VEHINFO.zt
  2    is '状态';
Comment added
SQL> comment on column SMG_VEHINFO.syxz
  2    is '使用性质';
Comment added
SQL> comment on column SMG_VEHINFO.syq
  2    is '所有权';
Comment added
SQL> comment on column SMG_VEHINFO.cllx
  2    is '车辆类型';
Comment added
SQL> comment on column SMG_VEHINFO.ccdjrq
  2    is '初次领证日期';
Comment added
SQL> comment on column SMG_VEHINFO.yxqz
  2    is '有效期至';
Comment added
SQL> comment on column SMG_VEHINFO.qzbfqz
  2    is '强制报废期止';
Comment added
SQL> comment on column SMG_VEHINFO.sjhm
  2    is '手机号码';
Comment added
SQL> comment on column SMG_VEHINFO.zsxxdz
  2    is '真实详细地址';
Comment added
SQL> comment on column SMG_VEHINFO.zsxzqh
  2    is '真实行政区划';
Comment added
SQL> comment on column SMG_VEHINFO.wfwcln
  2    is '违法未处理数';
Comment added
SQL> comment on column SMG_VEHINFO.createtime
  2    is '导入时间';
Comment added
SQL> comment on column SMG_VEHINFO.nid
  2    is '主键';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table SMG_VEHINFO
  2    add constraint SMGVEHID primary key (NID);
Table altered
SQL> -- Create table
SQL> create table SMG_DRIVER
  2  (
  3    xm         NVARCHAR2(50) not null,
  4    sfzh       VARCHAR2(18) not null,
  5    zjcx       VARCHAR2(50),
  6    zt         VARCHAR2(10),
  7    ljjf       VARCHAR2(6),
  8    xzqh       NVARCHAR2(200),
  9    lxdh       VARCHAR2(20),
 10    djdz       NVARCHAR2(200),
 11    lxdz       NVARCHAR2(200),
 12    cclzrq     VARCHAR2(10),
 13    yxqz       VARCHAR2(10),
 14    syrq       VARCHAR2(10),
 15    syyxqz     VARCHAR2(10),
 16    createtime DATE not null,
 17    nid        VARCHAR2(32) not null
 18  );
Table created
SQL> -- Add comments to the table
SQL> comment on table SMG_DRIVER
  2    is '重点驾驶人违法表';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column SMG_DRIVER.xm
  2    is '姓名';
Comment added
SQL> comment on column SMG_DRIVER.sfzh
  2    is '身份证号';
Comment added
SQL> comment on column SMG_DRIVER.zjcx
  2    is '准驾车型';
Comment added
SQL> comment on column SMG_DRIVER.zt
  2    is '状态';
Comment added
SQL> comment on column SMG_DRIVER.ljjf
  2    is '累计积分';
Comment added
SQL> comment on column SMG_DRIVER.xzqh
  2    is '行政区划';
Comment added
SQL> comment on column SMG_DRIVER.lxdh
  2    is '联系电话';
Comment added
SQL> comment on column SMG_DRIVER.djdz
  2    is '登记地址';
Comment added
SQL> comment on column SMG_DRIVER.lxdz
  2    is '联系地址';
Comment added
SQL> comment on column SMG_DRIVER.cclzrq
  2    is '初次领证日期';
Comment added
SQL> comment on column SMG_DRIVER.yxqz
  2    is '有效期至';
Comment added
SQL> comment on column SMG_DRIVER.syrq
  2    is '审验日期';
Comment added
SQL> comment on column SMG_DRIVER.syyxqz
  2    is '审验有效期至';
Comment added
SQL> comment on column SMG_DRIVER.createtime
  2    is '导入时间';
Comment added
SQL> comment on column SMG_DRIVER.nid
  2    is '主键';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table SMG_DRIVER
  2    add constraint SMG_DRIVERNID primary key (NID);
Table altered
SQL> -- Create table
SQL> create table SMS_MSG_ACCESS_TOKEN
  2  (
  3    id           VARCHAR2(1) not null,
  4    access_token VARCHAR2(4000),
  5    createtime   DATE
  6  );
Table created
SQL> -- Add comments to the table
SQL> comment on table SMS_MSG_ACCESS_TOKEN
  2    is '源头管理ACCESS_TOKEN(发送信息)';
Comment added
SQL> -- Add comments to the columns
SQL> comment on column SMS_MSG_ACCESS_TOKEN.id
  2    is '主键（1：实际环境，2：测试环境）';
Comment added
SQL> comment on column SMS_MSG_ACCESS_TOKEN.access_token
  2    is 'access_token';
Comment added
SQL> comment on column SMS_MSG_ACCESS_TOKEN.createtime
  2    is '创建时间';
Comment added
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table SMS_MSG_ACCESS_TOKEN
  2    add constraint SMS_MSG_ACCESS_TOKENID primary key (ID);
Table altered
SQL> -- 交通组织与管控 结束
SQL> -- 诱导发布
SQL> create table SVGEDITINFO
  2  (
  3    id     VARCHAR2(50) not null,
  4    name   VARCHAR2(50),
  5    svgxml VARCHAR2(4000)
  6  )
  7  tablespace HIATMPTS
  8    pctfree 10
  9    initrans 1
 10    maxtrans 255
 11    storage
 12    (
 13      initial 16K
 14      next 8K
 15      minextents 1
 16      maxextents unlimited
 17    );
Table created
SQL> -- Create/Recreate primary, unique and foreign key constraints
SQL> alter table SVGEDITINFO
  2    add primary key (ID)
  3    using index
  4    tablespace HIATMPTS
  5    pctfree 10
  6    initrans 2
  7    maxtrans 255
  8    storage
  9    (
 10      initial 64K
 11      next 1M
 12      minextents 1
 13      maxextents unlimited
 14    );
Table altered
SQL> create or replace view section_status_present_view as
  2  select "ID","SECTION_ID","STATUS","TRAVELTIME","VOLUME","SPEED","COMPUTETIME","RECEIVETIME","INDEY" from SECTION_STATUS_PRESENT;
View created
SQL> /
View created
SQL> -- 分析研判路口流量相关脚本
SQL> ------Creating table ANLYS_INTS_STATUS_DATA_15MI
SQL> create table ANLYS_INTS_STATUS_DATA_15MI
  2  (
  3    cintsid            VARCHAR2(8),
  4    napproachdirection VARCHAR2(2),
  5    nlaneno            VARCHAR2(2),
  6    volume             NUMBER(8),
  7    occupancy          NUMBER(5,4),
  8    speed              NUMBER(5,2),
  9    collectiontime     DATE
 10  )
 11  partition by range (COLLECTIONTIME) interval (NUMTODSINTERVAL(7,'DAY'))
 12  (
 13    partition INTS_VOLUME_15MI_P1 values less than (TO_DATE(' 2017-01-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 14      tablespace ANLYS_INSTSD_15MINS
 15  );
Table created
SQL> comment on table ANLYS_INTS_STATUS_DATA_15MI
  2    is '路口流量15分钟汇总表';
Comment added
SQL> comment on column ANLYS_INTS_STATUS_DATA_15MI.cintsid
  2    is '路口编号';
Comment added
SQL> comment on column ANLYS_INTS_STATUS_DATA_15MI.napproachdirection
  2    is '进口道方向';
Comment added
SQL> comment on column ANLYS_INTS_STATUS_DATA_15MI.nlaneno
  2    is '车道号';
Comment added
SQL> comment on column ANLYS_INTS_STATUS_DATA_15MI.volume
  2    is '流量';
Comment added
SQL> comment on column ANLYS_INTS_STATUS_DATA_15MI.occupancy
  2    is '占有率';
Comment added
SQL> comment on column ANLYS_INTS_STATUS_DATA_15MI.speed
  2    is '平均速度';
Comment added
SQL> comment on column ANLYS_INTS_STATUS_DATA_15MI.collectiontime
  2    is '汇总时间';
Comment added
SQL> create index IDX_SSD15MS on ANLYS_INTS_STATUS_DATA_15MI (COLLECTIONTIME)
  2    local;
Index created
SQL> -------Creating table ANLYS_INTS_STATUS_DATA_30MI
SQL> create table ANLYS_INTS_STATUS_DATA_30MI
  2  (
  3    cintsid            VARCHAR2(8),
  4    napproachdirection VARCHAR2(2),
  5    nlaneno            VARCHAR2(2),
  6    volume             NUMBER(8),
  7    occupancy          NUMBER(5,4),
  8    speed              NUMBER(5,2),
  9    collectiontime     DATE
 10  )
 11  partition by range (COLLECTIONTIME) interval (NUMTOYMINTERVAL(1,'MONTH'))
 12  (
 13    partition INTS_VOLUME_30MI_P1 values less than (TO_DATE(' 2017-01-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 14      tablespace ANLYS_INSTSD_30MINS
 15      pctfree 10
 16      initrans 1
 17      maxtrans 255
 18  );
Table created
SQL> comment on table ANLYS_INTS_STATUS_DATA_30MI
  2    is '路口流量30分钟汇总表';
Comment added
SQL> comment on column ANLYS_INTS_STATUS_DATA_30MI.cintsid
  2    is '路口编号';
Comment added
SQL> comment on column ANLYS_INTS_STATUS_DATA_30MI.napproachdirection
  2    is '进口道方向';
Comment added
SQL> comment on column ANLYS_INTS_STATUS_DATA_30MI.nlaneno
  2    is '车道号';
Comment added
SQL> comment on column ANLYS_INTS_STATUS_DATA_30MI.volume
  2    is '流量';
Comment added
SQL> comment on column ANLYS_INTS_STATUS_DATA_30MI.occupancy
  2    is '占有率';
Comment added
SQL> comment on column ANLYS_INTS_STATUS_DATA_30MI.speed
  2    is '平均速度';
Comment added
SQL> comment on column ANLYS_INTS_STATUS_DATA_30MI.collectiontime
  2    is '汇总时间';
Comment added
SQL> create index IDX_SSD30MS on ANLYS_INTS_STATUS_DATA_30MI (COLLECTIONTIME)
  2    local;
Index created
SQL> create index IDX_SSD30MS2 on ANLYS_INTS_STATUS_DATA_30MI (CINTSID, TO_NUMBER(NLANENO), TO_CHAR(COLLECTIONTIME,'HH24:MI'), VOLUME, COLLECTIONTIME)
  2    local;
Index created
SQL> -----Creating table ANLYS_INTS_STATUS_DATA_HOUR
SQL> create table ANLYS_INTS_STATUS_DATA_HOUR
  2  (
  3    cintsid            VARCHAR2(8),
  4    napproachdirection VARCHAR2(2),
  5    nlaneno            VARCHAR2(2),
  6    volume             NUMBER(8),
  7    occupancy          NUMBER(3,2),
  8    speed              NUMBER(6,2),
  9    collectiontime     DATE
 10  )
 11  tablespace HIATMPTS
 12    pctfree 10
 13    initrans 1
 14    maxtrans 255
 15    storage
 16    (
 17      initial 64K
 18      next 1M
 19      minextents 1
 20      maxextents unlimited
 21    );
Table created
SQL> comment on table ANLYS_INTS_STATUS_DATA_HOUR
  2    is '路口流量小时汇总表';
Comment added
SQL> comment on column ANLYS_INTS_STATUS_DATA_HOUR.cintsid
  2    is '路口编号';
Comment added
SQL> comment on column ANLYS_INTS_STATUS_DATA_HOUR.napproachdirection
  2    is '进口道方向';
Comment added
SQL> comment on column ANLYS_INTS_STATUS_DATA_HOUR.nlaneno
  2    is '车道号';
Comment added
SQL> comment on column ANLYS_INTS_STATUS_DATA_HOUR.volume
  2    is '流量';
Comment added
SQL> comment on column ANLYS_INTS_STATUS_DATA_HOUR.occupancy
  2    is '占有率';
Comment added
SQL> comment on column ANLYS_INTS_STATUS_DATA_HOUR.speed
  2    is '平均速度';
Comment added
SQL> comment on column ANLYS_INTS_STATUS_DATA_HOUR.collectiontime
  2    is '汇总时间';
Comment added
SQL> create index IDX_INTS_STATUS_DATA_HOUR on ANLYS_INTS_STATUS_DATA_HOUR (COLLECTIONTIME)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255
  6    storage
  7    (
  8      initial 64K
  9      next 1M
 10      minextents 1
 11      maxextents unlimited
 12    );
Index created
SQL> ---Creating table ANLYS_INTS_STATUS_DATA_DAY
SQL> create table ANLYS_INTS_STATUS_DATA_DAY
  2  (
  3    cintsid            VARCHAR2(8),
  4    napproachdirection VARCHAR2(2),
  5    nlaneno            VARCHAR2(2),
  6    volume             NUMBER(8),
  7    occupancy          NUMBER(5,4),
  8    speed              NUMBER(5,2),
  9    collectiontime     DATE
 10  )
 11  tablespace HIATMPTS
 12    pctfree 10
 13    initrans 1
 14    maxtrans 255;
Table created
SQL> comment on table ANLYS_INTS_STATUS_DATA_DAY
  2    is '路口流量天汇总表';
Comment added
SQL> comment on column ANLYS_INTS_STATUS_DATA_DAY.cintsid
  2    is '路口编号';
Comment added
SQL> comment on column ANLYS_INTS_STATUS_DATA_DAY.napproachdirection
  2    is '进口道方向';
Comment added
SQL> comment on column ANLYS_INTS_STATUS_DATA_DAY.nlaneno
  2    is '车道号';
Comment added
SQL> comment on column ANLYS_INTS_STATUS_DATA_DAY.volume
  2    is '流量';
Comment added
SQL> comment on column ANLYS_INTS_STATUS_DATA_DAY.occupancy
  2    is '占有率';
Comment added
SQL> comment on column ANLYS_INTS_STATUS_DATA_DAY.speed
  2    is '平均速度';
Comment added
SQL> comment on column ANLYS_INTS_STATUS_DATA_DAY.collectiontime
  2    is '汇总时间';
Comment added
SQL> create index IDX_INSTSD_TIME on ANLYS_INTS_STATUS_DATA_DAY (COLLECTIONTIME)
  2    tablespace HIATMPTS
  3    pctfree 10
  4    initrans 2
  5    maxtrans 255;
Index created
SQL> ----Creating table INTERSECTION_STATUS_DATA
SQL> create table INTERSECTION_STATUS_DATA
  2  (
  3    cintsid                 VARCHAR2(8) not null,
  4    napproachdirection      VARCHAR2(2) not null,
  5    nlaneno                 VARCHAR2(2) not null,
  6    ndetectorno             VARCHAR2(18),
  7    dtcollecttime           DATE not null,
  8    ntimepoint              INTEGER,
  9    nvolume                 INTEGER,
 10    deoccupancy             NUMBER(3,2),
 11    despeed                 NUMBER(6,2),
 12    devehlength             NUMBER(6,2),
 13    nlvehvolume             INTEGER,
 14    nmvehvolume             INTEGER,
 15    nsvehvolume             INTEGER,
 16    deheadway               NUMBER(6,2),
 17    volumecharacteristic    NUMBER(2) default 1,
 18    occupancycharacteristic NUMBER(2) default 1
 19  )
 20  partition by range (DTCOLLECTTIME) interval (NUMTODSINTERVAL(1,'DAY'))
 21  (
 22    partition INTER_VOLUME_P1 values less than (TO_DATE(' 2017-01-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
 23      tablespace INTER_VOLUMETS_01
 24      pctfree 10
 25      initrans 1
 26      maxtrans 255
 27  );
Table created
SQL> comment on column INTERSECTION_STATUS_DATA.cintsid
  2    is '路口编号';
Comment added
SQL> comment on column INTERSECTION_STATUS_DATA.napproachdirection
  2    is '进口道方向';
Comment added
SQL> comment on column INTERSECTION_STATUS_DATA.nlaneno
  2    is '车道编号';
Comment added
SQL> comment on column INTERSECTION_STATUS_DATA.ndetectorno
  2    is '检测器编号';
Comment added
SQL> comment on column INTERSECTION_STATUS_DATA.dtcollecttime
  2    is '标准时间';
Comment added
SQL> comment on column INTERSECTION_STATUS_DATA.ntimepoint
  2    is '采集时间间隔';
Comment added
SQL> comment on column INTERSECTION_STATUS_DATA.nvolume
  2    is '采集周期流量（目前采集周期是5分钟）';
Comment added
SQL> comment on column INTERSECTION_STATUS_DATA.deoccupancy
  2    is '时间占有率';
Comment added
SQL> comment on column INTERSECTION_STATUS_DATA.despeed
  2    is '平均速度';
Comment added
SQL> comment on column INTERSECTION_STATUS_DATA.devehlength
  2    is '排队长度';
Comment added
SQL> comment on column INTERSECTION_STATUS_DATA.nlvehvolume
  2    is '大型车流量';
Comment added
SQL> comment on column INTERSECTION_STATUS_DATA.nmvehvolume
  2    is '通行能力（单位：辆/小时）';
Comment added
SQL> comment on column INTERSECTION_STATUS_DATA.nsvehvolume
  2    is '小型车流量';
Comment added
SQL> comment on column INTERSECTION_STATUS_DATA.deheadway
  2    is '车头时距';
Comment added
SQL> comment on column INTERSECTION_STATUS_DATA.volumecharacteristic
  2    is '流量标志位 0-缺数据 1-原始数据 2-融合数据 3-补偿数据';
Comment added
SQL> comment on column INTERSECTION_STATUS_DATA.occupancycharacteristic
  2    is '占有率标志位 0-缺数据 1-原始数据 2-融合数据 3-补偿数据';
Comment added
SQL> create index IDX_INTS_CONDI on INTERSECTION_STATUS_DATA (CINTSID, DTCOLLECTTIME, TO_CHAR(DTCOLLECTTIME,'hh24:mi'), TO_CHAR(DTCOLLECTTIME,'day'))
  2    local;
Index created
SQL> create index IDX_INTS_DATA on INTERSECTION_STATUS_DATA (DTCOLLECTTIME)
  2    local;
Index created
SQL> create index IDX_INTS_ID on INTERSECTION_STATUS_DATA (CINTSID, DTCOLLECTTIME)
  2    local;
Index created
SQL> create unique index PK_INTS_DATA on INTERSECTION_STATUS_DATA (CINTSID, NAPPROACHDIRECTION, NLANENO, DTCOLLECTTIME)
  2    local;
Index created
SQL> spool off
Stopped spooling to C:\Users\linan3\Desktop\1.HiATMP-DB-DDL.6.0.0.0.R1.log

SQL> 